function A0(i,o){for(var n=0;n<o.length;n++){const r=o[n];if(typeof r!="string"&&!Array.isArray(r)){for(const u in r)if(u!=="default"&&!(u in i)){const f=Object.getOwnPropertyDescriptor(r,u);f&&Object.defineProperty(i,u,f.get?f:{enumerable:!0,get:()=>r[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=n(u);fetch(u.href,f)}})();function Ul(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Sh={exports:{}},Cl={},Ch={exports:{}},He={};var _m;function F0(){if(_m)return He;_m=1;var i=Symbol.for("react.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=N&&B[N]||B["@@iterator"],typeof B=="function"?B:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function P(B,se,ve){this.props=B,this.context=se,this.refs=S,this.updater=ve||D}P.prototype.isReactComponent={},P.prototype.setState=function(B,se){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,se,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=P.prototype;function O(B,se,ve){this.props=B,this.context=se,this.refs=S,this.updater=ve||D}var Y=O.prototype=new U;Y.constructor=O,T(Y,P.prototype),Y.isPureReactComponent=!0;var ee=Array.isArray,$=Object.prototype.hasOwnProperty,A={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function ae(B,se,ve){var be,we={},ye=null,Ie=null;if(se!=null)for(be in se.ref!==void 0&&(Ie=se.ref),se.key!==void 0&&(ye=""+se.key),se)$.call(se,be)&&!q.hasOwnProperty(be)&&(we[be]=se[be]);var Ae=arguments.length-2;if(Ae===1)we.children=ve;else if(1<Ae){for(var Ge=Array(Ae),yt=0;yt<Ae;yt++)Ge[yt]=arguments[yt+2];we.children=Ge}if(B&&B.defaultProps)for(be in Ae=B.defaultProps,Ae)we[be]===void 0&&(we[be]=Ae[be]);return{$$typeof:i,type:B,key:ye,ref:Ie,props:we,_owner:A.current}}function fe(B,se){return{$$typeof:i,type:B.type,key:se,ref:B.ref,props:B.props,_owner:B._owner}}function de(B){return typeof B=="object"&&B!==null&&B.$$typeof===i}function xe(B){var se={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ve){return se[ve]})}var M=/\/+/g;function H(B,se){return typeof B=="object"&&B!==null&&B.key!=null?xe(""+B.key):se.toString(36)}function Z(B,se,ve,be,we){var ye=typeof B;(ye==="undefined"||ye==="boolean")&&(B=null);var Ie=!1;if(B===null)Ie=!0;else switch(ye){case"string":case"number":Ie=!0;break;case"object":switch(B.$$typeof){case i:case o:Ie=!0}}if(Ie)return Ie=B,we=we(Ie),B=be===""?"."+H(Ie,0):be,ee(we)?(ve="",B!=null&&(ve=B.replace(M,"$&/")+"/"),Z(we,se,ve,"",function(yt){return yt})):we!=null&&(de(we)&&(we=fe(we,ve+(!we.key||Ie&&Ie.key===we.key?"":(""+we.key).replace(M,"$&/")+"/")+B)),se.push(we)),1;if(Ie=0,be=be===""?".":be+":",ee(B))for(var Ae=0;Ae<B.length;Ae++){ye=B[Ae];var Ge=be+H(ye,Ae);Ie+=Z(ye,se,ve,Ge,we)}else if(Ge=E(B),typeof Ge=="function")for(B=Ge.call(B),Ae=0;!(ye=B.next()).done;)ye=ye.value,Ge=be+H(ye,Ae++),Ie+=Z(ye,se,ve,Ge,we);else if(ye==="object")throw se=String(B),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.");return Ie}function G(B,se,ve){if(B==null)return B;var be=[],we=0;return Z(B,be,"","",function(ye){return se.call(ve,ye,we++)}),be}function ie(B){if(B._status===-1){var se=B._result;se=se(),se.then(function(ve){(B._status===0||B._status===-1)&&(B._status=1,B._result=ve)},function(ve){(B._status===0||B._status===-1)&&(B._status=2,B._result=ve)}),B._status===-1&&(B._status=0,B._result=se)}if(B._status===1)return B._result.default;throw B._result}var le={current:null},z={transition:null},oe={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:z,ReactCurrentOwner:A};function X(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:G,forEach:function(B,se,ve){G(B,function(){se.apply(this,arguments)},ve)},count:function(B){var se=0;return G(B,function(){se++}),se},toArray:function(B){return G(B,function(se){return se})||[]},only:function(B){if(!de(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},He.Component=P,He.Fragment=n,He.Profiler=u,He.PureComponent=O,He.StrictMode=r,He.Suspense=g,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,He.act=X,He.cloneElement=function(B,se,ve){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var be=T({},B.props),we=B.key,ye=B.ref,Ie=B._owner;if(se!=null){if(se.ref!==void 0&&(ye=se.ref,Ie=A.current),se.key!==void 0&&(we=""+se.key),B.type&&B.type.defaultProps)var Ae=B.type.defaultProps;for(Ge in se)$.call(se,Ge)&&!q.hasOwnProperty(Ge)&&(be[Ge]=se[Ge]===void 0&&Ae!==void 0?Ae[Ge]:se[Ge])}var Ge=arguments.length-2;if(Ge===1)be.children=ve;else if(1<Ge){Ae=Array(Ge);for(var yt=0;yt<Ge;yt++)Ae[yt]=arguments[yt+2];be.children=Ae}return{$$typeof:i,type:B.type,key:we,ref:ye,props:be,_owner:Ie}},He.createContext=function(B){return B={$$typeof:p,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:f,_context:B},B.Consumer=B},He.createElement=ae,He.createFactory=function(B){var se=ae.bind(null,B);return se.type=B,se},He.createRef=function(){return{current:null}},He.forwardRef=function(B){return{$$typeof:m,render:B}},He.isValidElement=de,He.lazy=function(B){return{$$typeof:_,_payload:{_status:-1,_result:B},_init:ie}},He.memo=function(B,se){return{$$typeof:w,type:B,compare:se===void 0?null:se}},He.startTransition=function(B){var se=z.transition;z.transition={};try{B()}finally{z.transition=se}},He.unstable_act=X,He.useCallback=function(B,se){return le.current.useCallback(B,se)},He.useContext=function(B){return le.current.useContext(B)},He.useDebugValue=function(){},He.useDeferredValue=function(B){return le.current.useDeferredValue(B)},He.useEffect=function(B,se){return le.current.useEffect(B,se)},He.useId=function(){return le.current.useId()},He.useImperativeHandle=function(B,se,ve){return le.current.useImperativeHandle(B,se,ve)},He.useInsertionEffect=function(B,se){return le.current.useInsertionEffect(B,se)},He.useLayoutEffect=function(B,se){return le.current.useLayoutEffect(B,se)},He.useMemo=function(B,se){return le.current.useMemo(B,se)},He.useReducer=function(B,se,ve){return le.current.useReducer(B,se,ve)},He.useRef=function(B){return le.current.useRef(B)},He.useState=function(B){return le.current.useState(B)},He.useSyncExternalStore=function(B,se,ve){return le.current.useSyncExternalStore(B,se,ve)},He.useTransition=function(){return le.current.useTransition()},He.version="18.3.1",He}var km;function wp(){return km||(km=1,Ch.exports=F0()),Ch.exports}var Nm;function B0(){if(Nm)return Cl;Nm=1;var i=wp(),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function p(m,g,w){var _,N={},E=null,D=null;w!==void 0&&(E=""+w),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(D=g.ref);for(_ in g)r.call(g,_)&&!f.hasOwnProperty(_)&&(N[_]=g[_]);if(m&&m.defaultProps)for(_ in g=m.defaultProps,g)N[_]===void 0&&(N[_]=g[_]);return{$$typeof:o,type:m,key:E,ref:D,props:N,_owner:u.current}}return Cl.Fragment=n,Cl.jsx=p,Cl.jsxs=p,Cl}var jm;function z0(){return jm||(jm=1,Sh.exports=B0()),Sh.exports}var s=z0(),C=wp();const te=Ul(C),W0=A0({__proto__:null,default:te},[C]);var au={},Ph={exports:{}},Fn={},Dh={exports:{}},Th={};var Sm;function Y0(){return Sm||(Sm=1,(function(i){function o(z,oe){var X=z.length;z.push(oe);e:for(;0<X;){var B=X-1>>>1,se=z[B];if(0<u(se,oe))z[B]=oe,z[X]=se,X=B;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var oe=z[0],X=z.pop();if(X!==oe){z[0]=X;e:for(var B=0,se=z.length,ve=se>>>1;B<ve;){var be=2*(B+1)-1,we=z[be],ye=be+1,Ie=z[ye];if(0>u(we,X))ye<se&&0>u(Ie,we)?(z[B]=Ie,z[ye]=X,B=ye):(z[B]=we,z[be]=X,B=be);else if(ye<se&&0>u(Ie,X))z[B]=Ie,z[ye]=X,B=ye;else break e}}return oe}function u(z,oe){var X=z.sortIndex-oe.sortIndex;return X!==0?X:z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,m=p.now();i.unstable_now=function(){return p.now()-m}}var g=[],w=[],_=1,N=null,E=3,D=!1,T=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(z){for(var oe=n(w);oe!==null;){if(oe.callback===null)r(w);else if(oe.startTime<=z)r(w),oe.sortIndex=oe.expirationTime,o(g,oe);else break;oe=n(w)}}function ee(z){if(S=!1,Y(z),!T)if(n(g)!==null)T=!0,ie($);else{var oe=n(w);oe!==null&&le(ee,oe.startTime-z)}}function $(z,oe){T=!1,S&&(S=!1,U(ae),ae=-1),D=!0;var X=E;try{for(Y(oe),N=n(g);N!==null&&(!(N.expirationTime>oe)||z&&!xe());){var B=N.callback;if(typeof B=="function"){N.callback=null,E=N.priorityLevel;var se=B(N.expirationTime<=oe);oe=i.unstable_now(),typeof se=="function"?N.callback=se:N===n(g)&&r(g),Y(oe)}else r(g);N=n(g)}if(N!==null)var ve=!0;else{var be=n(w);be!==null&&le(ee,be.startTime-oe),ve=!1}return ve}finally{N=null,E=X,D=!1}}var A=!1,q=null,ae=-1,fe=5,de=-1;function xe(){return!(i.unstable_now()-de<fe)}function M(){if(q!==null){var z=i.unstable_now();de=z;var oe=!0;try{oe=q(!0,z)}finally{oe?H():(A=!1,q=null)}}else A=!1}var H;if(typeof O=="function")H=function(){O(M)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,G=Z.port2;Z.port1.onmessage=M,H=function(){G.postMessage(null)}}else H=function(){P(M,0)};function ie(z){q=z,A||(A=!0,H())}function le(z,oe){ae=P(function(){z(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_continueExecution=function(){T||D||(T=!0,ie($))},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(z){switch(E){case 1:case 2:case 3:var oe=3;break;default:oe=E}var X=E;E=oe;try{return z()}finally{E=X}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(z,oe){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=E;E=z;try{return oe()}finally{E=X}},i.unstable_scheduleCallback=function(z,oe,X){var B=i.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?B+X:B):X=B,z){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=X+se,z={id:_++,callback:oe,priorityLevel:z,startTime:X,expirationTime:se,sortIndex:-1},X>B?(z.sortIndex=X,o(w,z),n(g)===null&&z===n(w)&&(S?(U(ae),ae=-1):S=!0,le(ee,X-B))):(z.sortIndex=se,o(g,z),T||D||(T=!0,ie($))),z},i.unstable_shouldYield=xe,i.unstable_wrapCallback=function(z){var oe=E;return function(){var X=E;E=oe;try{return z.apply(this,arguments)}finally{E=X}}}})(Th)),Th}var Cm;function H0(){return Cm||(Cm=1,Dh.exports=Y0()),Dh.exports}var Pm;function $0(){if(Pm)return Fn;Pm=1;var i=wp(),o=H0();function n(e){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+e,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,u={};function f(e,a){p(e,a),p(e+"Capture",a)}function p(e,a){for(u[e]=a,e=0;e<a.length;e++)r.add(a[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},N={};function E(e){return g.call(N,e)?!0:g.call(_,e)?!1:w.test(e)?N[e]=!0:(_[e]=!0,!1)}function D(e,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,a,c,h){if(a===null||typeof a>"u"||D(e,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(e,a,c,h,v,y,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=c,this.propertyName=e,this.type=a,this.sanitizeURL=y,this.removeEmptyString=k}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var a=e[0];P[a]=new S(a,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var a=e.replace(U,O);P[a]=new S(a,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var a=e.replace(U,O);P[a]=new S(a,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var a=e.replace(U,O);P[a]=new S(a,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y(e,a,c,h){var v=P.hasOwnProperty(a)?P[a]:null;(v!==null?v.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,v,h)&&(c=null),h||v===null?E(a)&&(c===null?e.removeAttribute(a):e.setAttribute(a,""+c)):v.mustUseProperty?e[v.propertyName]=c===null?v.type===3?!1:"":c:(a=v.attributeName,h=v.attributeNamespace,c===null?e.removeAttribute(a):(v=v.type,c=v===3||v===4&&c===!0?"":""+c,h?e.setAttributeNS(h,a,c):e.setAttribute(a,c))))}var ee=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),A=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),xe=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),z=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,B;function se(e){if(B===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+e}var ve=!1;function be(e,a){if(!e||ve)return"";ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(re){var h=re}Reflect.construct(e,[],a)}else{try{a.call()}catch(re){h=re}e.call(a.prototype)}else{try{throw Error()}catch(re){h=re}e()}}catch(re){if(re&&h&&typeof re.stack=="string"){for(var v=re.stack.split(`
`),y=h.stack.split(`
`),k=v.length-1,I=y.length-1;1<=k&&0<=I&&v[k]!==y[I];)I--;for(;1<=k&&0<=I;k--,I--)if(v[k]!==y[I]){if(k!==1||I!==1)do if(k--,I--,0>I||v[k]!==y[I]){var W=`
`+v[k].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=k&&0<=I);break}}}finally{ve=!1,Error.prepareStackTrace=c}return(e=e?e.displayName||e.name:"")?se(e):""}function we(e){switch(e.tag){case 5:return se(e.type);case 16:return se("Lazy");case 13:return se("Suspense");case 19:return se("SuspenseList");case 0:case 2:case 15:return e=be(e.type,!1),e;case 11:return e=be(e.type.render,!1),e;case 1:return e=be(e.type,!0),e;default:return""}}function ye(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case A:return"Portal";case fe:return"Profiler";case ae:return"StrictMode";case H:return"Suspense";case Z:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xe:return(e.displayName||"Context")+".Consumer";case de:return(e._context.displayName||"Context")+".Provider";case M:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return a=e.displayName||null,a!==null?a:ye(e.type)||"Memo";case ie:a=e._payload,e=e._init;try{return ye(e(a))}catch{}}return null}function Ie(e){var a=e.type;switch(e.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=a.render,e=e.displayName||e.name||"",a.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(a);case 8:return a===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ge(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yt(e){var a=Ge(e)?"checked":"value",c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),h=""+e[a];if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,y=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return v.call(this)},set:function(k){h=""+k,y.call(this,k)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function mn(e){e._valueTracker||(e._valueTracker=yt(e))}function rn(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return e&&(h=Ge(e)?e.checked?"true":"false":e.value),e=h,e!==c?(a.setValue(e),!0):!1}function ce(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ze(e,a){var c=a.checked;return X({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??e._wrapperState.initialChecked})}function Ve(e,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=Ae(a.value!=null?a.value:c),e._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function st(e,a){a=a.checked,a!=null&&Y(e,"checked",a,!1)}function St(e,a){st(e,a);var c=Ae(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&e.value===""||e.value!=c)&&(e.value=""+c):e.value!==""+c&&(e.value=""+c);else if(h==="submit"||h==="reset"){e.removeAttribute("value");return}a.hasOwnProperty("value")?gn(e,a.type,c):a.hasOwnProperty("defaultValue")&&gn(e,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(e.defaultChecked=!!a.defaultChecked)}function It(e,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+e._wrapperState.initialValue,c||a===e.value||(e.value=a),e.defaultValue=a}c=e.name,c!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,c!==""&&(e.name=c)}function gn(e,a,c){(a!=="number"||ce(e.ownerDocument)!==e)&&(c==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+c&&(e.defaultValue=""+c))}var Ke=Array.isArray;function Qt(e,a,c,h){if(e=e.options,a){a={};for(var v=0;v<c.length;v++)a["$"+c[v]]=!0;for(c=0;c<e.length;c++)v=a.hasOwnProperty("$"+e[c].value),e[c].selected!==v&&(e[c].selected=v),v&&h&&(e[c].defaultSelected=!0)}else{for(c=""+Ae(c),a=null,v=0;v<e.length;v++){if(e[v].value===c){e[v].selected=!0,h&&(e[v].defaultSelected=!0);return}a!==null||e[v].disabled||(a=e[v])}a!==null&&(a.selected=!0)}}function Dn(e,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},a,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Wi(e,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Ke(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}e._wrapperState={initialValue:Ae(c)}}function fs(e,a){var c=Ae(a.value),h=Ae(a.defaultValue);c!=null&&(c=""+c,c!==e.value&&(e.value=c),a.defaultValue==null&&e.defaultValue!==c&&(e.defaultValue=c)),h!=null&&(e.defaultValue=""+h)}function Oa(e){var a=e.textContent;a===e._wrapperState.initialValue&&a!==""&&a!==null&&(e.value=a)}function ms(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(e,a){return e==null||e==="http://www.w3.org/1999/xhtml"?ms(a):e==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fr,Ra=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,v){MSApp.execUnsafeLocalFunction(function(){return e(a,c,h,v)})}:e})(function(e,a){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=a;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Fr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;a.firstChild;)e.appendChild(a.firstChild)}});function br(e,a){if(a){var c=e.firstChild;if(c&&c===e.lastChild&&c.nodeType===3){c.nodeValue=a;return}}e.textContent=a}var Xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bo=["Webkit","ms","Moz","O"];Object.keys(Xt).forEach(function(e){Bo.forEach(function(a){a=a+e.charAt(0).toUpperCase()+e.substring(1),Xt[a]=Xt[e]})});function sn(e,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Xt.hasOwnProperty(e)&&Xt[e]?(""+a).trim():a+"px"}function wr(e,a){e=e.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,v=sn(c,a[c],h);c==="float"&&(c="cssFloat"),h?e.setProperty(c,v):e[c]=v}}var Br=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gs(e,a){if(a){if(Br[e]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function nr(e,a){if(e.indexOf("-")===-1)return typeof a.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yi=null;function zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xs=null,_r=null,zn=null;function Hi(e){if(e=Es(e)){if(typeof xs!="function")throw Error(n(280));var a=e.stateNode;a&&(a=co(a),xs(e.stateNode,e.type,a))}}function $i(e){_r?zn?zn.push(e):zn=[e]:_r=e}function Ia(){if(_r){var e=_r,a=zn;if(zn=_r=null,Hi(e),a)for(e=0;e<a.length;e++)Hi(a[e])}}function Aa(e,a){return e(a)}function Ui(){}var vs=!1;function ys(e,a,c){if(vs)return e(a,c);vs=!0;try{return Aa(e,a,c)}finally{vs=!1,(_r!==null||zn!==null)&&(Ui(),Ia())}}function bs(e,a){var c=e.stateNode;if(c===null)return null;var h=co(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break e;default:e=!1}if(e)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Zi=!1;if(m)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{Zi=!1}function Fa(e,a,c,h,v,y,k,I,W){var re=Array.prototype.slice.call(arguments,3);try{a.apply(c,re)}catch(pe){this.onError(pe)}}var bt=!1,Ce=null,Yr=!1,ws=null,Vi={onError:function(e){bt=!0,Ce=e}};function Ba(e,a,c,h,v,y,k,I,W){bt=!1,Ce=null,Fa.apply(Vi,arguments)}function Je(e,a,c,h,v,y,k,I,W){if(Ba.apply(this,arguments),bt){if(bt){var re=Ce;bt=!1,Ce=null}else throw Error(n(198));Yr||(Yr=!0,ws=re)}}function Me(e){var a=e,c=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(c=a.return),e=a.return;while(e)}return a.tag===3?c:null}function Ue(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function pt(e){if(Me(e)!==e)throw Error(n(188))}function wt(e){var a=e.alternate;if(!a){if(a=Me(e),a===null)throw Error(n(188));return a!==e?null:e}for(var c=e,h=a;;){var v=c.return;if(v===null)break;var y=v.alternate;if(y===null){if(h=v.return,h!==null){c=h;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===c)return pt(v),e;if(y===h)return pt(v),a;y=y.sibling}throw Error(n(188))}if(c.return!==h.return)c=v,h=y;else{for(var k=!1,I=v.child;I;){if(I===c){k=!0,c=v,h=y;break}if(I===h){k=!0,h=v,c=y;break}I=I.sibling}if(!k){for(I=y.child;I;){if(I===c){k=!0,c=y,h=v;break}if(I===h){k=!0,h=y,c=v;break}I=I.sibling}if(!k)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?e:a}function xn(e){return e=wt(e),e!==null?vn(e):null}function vn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var a=vn(e);if(a!==null)return a;e=e.sibling}return null}var Tn=o.unstable_scheduleCallback,Wn=o.unstable_cancelCallback,Us=o.unstable_shouldYield,rr=o.unstable_requestPaint,it=o.unstable_now,zo=o.unstable_getCurrentPriorityLevel,Wo=o.unstable_ImmediatePriority,Xl=o.unstable_UserBlockingPriority,za=o.unstable_NormalPriority,Yo=o.unstable_LowPriority,Zs=o.unstable_IdlePriority,qi=null,Yn=null;function Gi(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:Vs,ft=Math.log,Wa=Math.LN2;function Vs(e){return e>>>=0,e===0?32:31-(ft(e)/Wa|0)|0}var kr=64,qs=4194304;function Be(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,a){var c=e.pendingLanes;if(c===0)return 0;var h=0,v=e.suspendedLanes,y=e.pingedLanes,k=c&268435455;if(k!==0){var I=k&~v;I!==0?h=Be(I):(y&=k,y!==0&&(h=Be(y)))}else k=c&~v,k!==0?h=Be(k):y!==0&&(h=Be(y));if(h===0)return 0;if(a!==0&&a!==h&&(a&v)===0&&(v=h&-h,y=a&-a,v>=y||v===16&&(y&4194240)!==0))return a;if((h&4)!==0&&(h|=c&16),a=e.entangledLanes,a!==0)for(e=e.entanglements,a&=h;0<a;)c=31-We(a),v=1<<c,h|=e[c],a&=~v;return h}function Ho(e,a){switch(e){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ya(e,a){for(var c=e.suspendedLanes,h=e.pingedLanes,v=e.expirationTimes,y=e.pendingLanes;0<y;){var k=31-We(y),I=1<<k,W=v[k];W===-1?((I&c)===0||(I&h)!==0)&&(v[k]=Ho(I,a)):W<=a&&(e.expiredLanes|=I),y&=~I}}function an(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jl(){var e=kr;return kr<<=1,(kr&4194240)===0&&(kr=64),e}function Gs(e){for(var a=[],c=0;31>c;c++)a.push(e);return a}function Hn(e,a,c){e.pendingLanes|=a,a!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,a=31-We(a),e[a]=c}function Ct(e,a){var c=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;var h=e.eventTimes;for(e=e.expirationTimes;0<c;){var v=31-We(c),y=1<<v;a[v]=0,h[v]=-1,e[v]=-1,c&=~y}}function Nr(e,a){var c=e.entangledLanes|=a;for(e=e.entanglements;c;){var h=31-We(c),v=1<<h;v&a|e[h]&a&&(e[h]|=a),c&=~v}}var qe=0;function Ks(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ha,_s,$a,Ua,Ki,Qi=!1,Qs=[],$n=null,jr=null,sr=null,Xi=new Map,Re=new Map,Bt=[],ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $o(e,a){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Xi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(a.pointerId)}}function ks(e,a,c,h,v,y){return e===null||e.nativeEvent!==y?(e={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[v]},a!==null&&(a=Es(a),a!==null&&_s(a)),e):(e.eventSystemFlags|=h,a=e.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),e)}function Uo(e,a,c,h,v){switch(a){case"focusin":return $n=ks($n,e,a,c,h,v),!0;case"dragenter":return jr=ks(jr,e,a,c,h,v),!0;case"mouseover":return sr=ks(sr,e,a,c,h,v),!0;case"pointerover":var y=v.pointerId;return Xi.set(y,ks(Xi.get(y)||null,e,a,c,h,v)),!0;case"gotpointercapture":return y=v.pointerId,Re.set(y,ks(Re.get(y)||null,e,a,c,h,v)),!0}return!1}function Za(e){var a=Ms(e.target);if(a!==null){var c=Me(a);if(c!==null){if(a=c.tag,a===13){if(a=Ue(c),a!==null){e.blockedOn=a,Ki(e.priority,function(){$a(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){e.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ir(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var c=Ga(e.domEventName,e.eventSystemFlags,a[0],e.nativeEvent);if(c===null){c=e.nativeEvent;var h=new c.constructor(c.type,c);Yi=h,c.target.dispatchEvent(h),Yi=null}else return a=Es(c),a!==null&&_s(a),e.blockedOn=c,!1;a.shift()}return!0}function Va(e,a,c){ir(e)&&c.delete(a)}function Ji(){Qi=!1,$n!==null&&ir($n)&&($n=null),jr!==null&&ir(jr)&&(jr=null),sr!==null&&ir(sr)&&(sr=null),Xi.forEach(Va),Re.forEach(Va)}function _t(e,a){e.blockedOn===a&&(e.blockedOn=null,Qi||(Qi=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ji)))}function Un(e){function a(v){return _t(v,e)}if(0<Qs.length){_t(Qs[0],e);for(var c=1;c<Qs.length;c++){var h=Qs[c];h.blockedOn===e&&(h.blockedOn=null)}}for($n!==null&&_t($n,e),jr!==null&&_t(jr,e),sr!==null&&_t(sr,e),Xi.forEach(a),Re.forEach(a),c=0;c<Bt.length;c++)h=Bt[c],h.blockedOn===e&&(h.blockedOn=null);for(;0<Bt.length&&(c=Bt[0],c.blockedOn===null);)Za(c),c.blockedOn===null&&Bt.shift()}var Ns=ee.ReactCurrentBatchConfig,ea=!0;function od(e,a,c,h){var v=qe,y=Ns.transition;Ns.transition=null;try{qe=1,ta(e,a,c,h)}finally{qe=v,Ns.transition=y}}function ec(e,a,c,h){var v=qe,y=Ns.transition;Ns.transition=null;try{qe=4,ta(e,a,c,h)}finally{qe=v,Ns.transition=y}}function ta(e,a,c,h){if(ea){var v=Ga(e,a,c,h);if(v===null)t(e,a,h,qa,c),$o(e,h);else if(Uo(v,e,a,c,h))h.stopPropagation();else if($o(e,h),a&4&&-1<ct.indexOf(e)){for(;v!==null;){var y=Es(v);if(y!==null&&Ha(y),y=Ga(e,a,c,h),y===null&&t(e,a,h,qa,c),y===v)break;v=y}v!==null&&h.stopPropagation()}else t(e,a,h,null,c)}}var qa=null;function Ga(e,a,c,h){if(qa=null,e=zr(h),e=Ms(e),e!==null)if(a=Me(e),a===null)e=null;else if(c=a.tag,c===13){if(e=Ue(a),e!==null)return e;e=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null);return qa=e,null}function Ze(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zo()){case Wo:return 1;case Xl:return 4;case za:case Yo:return 16;case Zs:return 536870912;default:return 16}default:return 16}}var Hr=null,yn=null,$r=null;function Zo(){if($r)return $r;var e,a=yn,c=a.length,h,v="value"in Hr?Hr.value:Hr.textContent,y=v.length;for(e=0;e<c&&a[e]===v[e];e++);var k=c-e;for(h=1;h<=k&&a[c-h]===v[y-h];h++);return $r=v.slice(e,1<h?1-h:void 0)}function Ka(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function tc(){return!1}function on(e){function a(c,h,v,y,k){this._reactName=c,this._targetInst=v,this.type=h,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(c=e[I],this[I]=c?c(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xs:tc,this.isPropagationStopped=tc,this}return X(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),a}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=on(Js),js=X({},Js,{view:0,detail:0}),ld=on(js),Mn,qo,ei,Zn=X({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ei&&(ei&&e.type==="mousemove"?(Mn=e.screenX-ei.screenX,qo=e.screenY-ei.screenY):qo=Mn=0,ei=e),Mn)},movementY:function(e){return"movementY"in e?e.movementY:qo}}),Go=on(Zn),nc=X({},Zn,{dataTransfer:0}),Ko=on(nc),cd=X({},js,{relatedTarget:0}),Qa=on(cd),rc=X({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),ud=on(rc),dd=X({},Js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qo=on(dd),hd=X({},Js,{data:0}),Xo=on(hd),sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ss={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pd(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Ss[e])?!!a[e]:!1}function Cs(){return pd}var En=X({},js,{key:function(e){if(e.key){var a=sc[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Ka(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xa[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Ka(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ka(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ic=on(En),ac=X({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=on(ac),Jo=X({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),el=on(Jo),fd=X({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),md=on(fd),lc=X({},Zn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gd=on(lc),Vn=[9,13,27,32],Ur=m&&"CompositionEvent"in window,na=null;m&&"documentMode"in document&&(na=document.documentMode);var Sr=m&&"TextEvent"in window&&!na,cc=m&&(!Ur||na&&8<na&&11>=na),Ps=" ",uc=!1;function ti(e,a){switch(e){case"keyup":return Vn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function xd(e,a){switch(e){case"compositionend":return tl(a);case"keypress":return a.which!==32?null:(uc=!0,Ps);case"textInput":return e=a.data,e===Ps&&uc?null:e;default:return null}}function Zr(e,a){if(Cr)return e==="compositionend"||!Ur&&ti(e,a)?(e=Zo(),$r=yn=Hr=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return cc&&a.locale!=="ko"?null:a.data;default:return null}}var Ja={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dc(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!Ja[e.type]:a==="textarea"}function eo(e,a,c,h){$i(h),a=d(a,"onChange"),0<a.length&&(c=new Vo("onChange","change",null,c,h),e.push({event:c,listeners:a}))}var ra=null,bn=null;function vd(e){ul(e,0)}function Pr(e){var a=Ls(e);if(rn(a))return e}function yd(e,a){if(e==="change")return a}var ar=!1;if(m){var ni;if(m){var to="oninput"in document;if(!to){var no=document.createElement("div");no.setAttribute("oninput","return;"),to=typeof no.oninput=="function"}ni=to}else ni=!1;ar=ni&&(!document.documentMode||9<document.documentMode)}function sa(){ra&&(ra.detachEvent("onpropertychange",ro),bn=ra=null)}function ro(e){if(e.propertyName==="value"&&Pr(bn)){var a=[];eo(a,bn,e,zr(e)),ys(vd,a)}}function so(e,a,c){e==="focusin"?(sa(),ra=a,bn=c,ra.attachEvent("onpropertychange",ro)):e==="focusout"&&sa()}function ri(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pr(bn)}function io(e,a){if(e==="click")return Pr(a)}function nl(e,a){if(e==="input"||e==="change")return Pr(a)}function hc(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var qn=typeof Object.is=="function"?Object.is:hc;function Vr(e,a){if(qn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var c=Object.keys(e),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var v=c[h];if(!g.call(a,v)||!qn(e[v],a[v]))return!1}return!0}function pc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rl(e,a){var c=pc(e);e=0;for(var h;c;){if(c.nodeType===3){if(h=e+c.textContent.length,e<=a&&h>=a)return{node:c,offset:a-e};e=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=pc(c)}}function fc(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?fc(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function sl(){for(var e=window,a=ce();a instanceof e.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)e=a.contentWindow;else break;a=ce(e.document)}return a}function il(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}function or(e){var a=sl(),c=e.focusedElem,h=e.selectionRange;if(a!==c&&c&&c.ownerDocument&&fc(c.ownerDocument.documentElement,c)){if(h!==null&&il(c)){if(a=h.start,e=h.end,e===void 0&&(e=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(e,c.value.length);else if(e=(a=c.ownerDocument||document)&&a.defaultView||window,e.getSelection){e=e.getSelection();var v=c.textContent.length,y=Math.min(h.start,v);h=h.end===void 0?y:Math.min(h.end,v),!e.extend&&y>h&&(v=h,h=y,y=v),v=rl(c,y);var k=rl(c,h);v&&k&&(e.rangeCount!==1||e.anchorNode!==v.node||e.anchorOffset!==v.offset||e.focusNode!==k.node||e.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(v.node,v.offset),e.removeAllRanges(),y>h?(e.addRange(a),e.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),e.addRange(a)))}}for(a=[],e=c;e=e.parentNode;)e.nodeType===1&&a.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)e=a[c],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ao=m&&"documentMode"in document&&11>=document.documentMode,si=null,ii=null,ia=null,oo=!1;function mc(e,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;oo||si==null||si!==ce(h)||(h=si,"selectionStart"in h&&il(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ia&&Vr(ia,h)||(ia=h,h=d(ii,"onSelect"),0<h.length&&(a=new Vo("onSelect","select",null,a,c),e.push({event:a,listeners:h}),a.target=si)))}function qr(e,a){var c={};return c[e.toLowerCase()]=a.toLowerCase(),c["Webkit"+e]="webkit"+a,c["Moz"+e]="moz"+a,c}var ai={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionend:qr("Transition","TransitionEnd")},Gr={},al={};m&&(al=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function aa(e){if(Gr[e])return Gr[e];if(!ai[e])return e;var a=ai[e],c;for(c in a)if(a.hasOwnProperty(c)&&c in al)return Gr[e]=a[c];return e}var gc=aa("animationend"),lr=aa("animationiteration"),ol=aa("animationstart"),ll=aa("transitionend"),oi=new Map,xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(e,a){oi.set(e,a),f(a,[e])}for(var Ds=0;Ds<xc.length;Ds++){var lo=xc[Ds],vc=lo.toLowerCase(),bd=lo[0].toUpperCase()+lo.slice(1);Gn(vc,"on"+bd)}Gn(gc,"onAnimationEnd"),Gn(lr,"onAnimationIteration"),Gn(ol,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(ll,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yc=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function cl(e,a,c){var h=e.type||"unknown-event";e.currentTarget=c,Je(h,a,void 0,e),e.currentTarget=null}function ul(e,a){a=(a&4)!==0;for(var c=0;c<e.length;c++){var h=e[c],v=h.event;h=h.listeners;e:{var y=void 0;if(a)for(var k=h.length-1;0<=k;k--){var I=h[k],W=I.instance,re=I.currentTarget;if(I=I.listener,W!==y&&v.isPropagationStopped())break e;cl(v,I,re),y=W}else for(k=0;k<h.length;k++){if(I=h[k],W=I.instance,re=I.currentTarget,I=I.listener,W!==y&&v.isPropagationStopped())break e;cl(v,I,re),y=W}}}if(Yr)throw e=ws,Yr=!1,ws=null,e}function ut(e,a){var c=a[hi];c===void 0&&(c=a[hi]=new Set);var h=e+"__bubble";c.has(h)||(bc(a,e,2,!1),c.add(h))}function dl(e,a,c){var h=0;a&&(h|=4),bc(c,e,h,a)}var oa="_reactListening"+Math.random().toString(36).slice(2);function ci(e){if(!e[oa]){e[oa]=!0,r.forEach(function(c){c!=="selectionchange"&&(yc.has(c)||dl(c,!1,e),dl(c,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[oa]||(a[oa]=!0,dl("selectionchange",!1,a))}}function bc(e,a,c,h){switch(Ze(a)){case 1:var v=od;break;case 4:v=ec;break;default:v=ta}c=v.bind(null,a,c,e),v=void 0,!Zi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?e.addEventListener(a,c,{capture:!0,passive:v}):e.addEventListener(a,c,!0):v!==void 0?e.addEventListener(a,c,{passive:v}):e.addEventListener(a,c,!1)}function t(e,a,c,h,v){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var I=h.stateNode.containerInfo;if(I===v||I.nodeType===8&&I.parentNode===v)break;if(k===4)for(k=h.return;k!==null;){var W=k.tag;if((W===3||W===4)&&(W=k.stateNode.containerInfo,W===v||W.nodeType===8&&W.parentNode===v))return;k=k.return}for(;I!==null;){if(k=Ms(I),k===null)return;if(W=k.tag,W===5||W===6){h=y=k;continue e}I=I.parentNode}}h=h.return}ys(function(){var re=y,pe=zr(c),me=[];e:{var he=oi.get(e);if(he!==void 0){var ke=Vo,Se=e;switch(e){case"keypress":if(Ka(c)===0)break e;case"keydown":case"keyup":ke=ic;break;case"focusin":Se="focus",ke=Qa;break;case"focusout":Se="blur",ke=Qa;break;case"beforeblur":case"afterblur":ke=Qa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Ko;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=el;break;case gc:case lr:case ol:ke=ud;break;case ll:ke=md;break;case"scroll":ke=ld;break;case"wheel":ke=gd;break;case"copy":case"cut":case"paste":ke=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=oc}var Pe=(a&4)!==0,Et=!Pe&&e==="scroll",Q=Pe?he!==null?he+"Capture":null:he;Pe=[];for(var V=re,J;V!==null;){J=V;var ge=J.stateNode;if(J.tag===5&&ge!==null&&(J=ge,Q!==null&&(ge=bs(V,Q),ge!=null&&Pe.push(l(V,ge,J)))),Et)break;V=V.return}0<Pe.length&&(he=new ke(he,Se,null,c,pe),me.push({event:he,listeners:Pe}))}}if((a&7)===0){e:{if(he=e==="mouseover"||e==="pointerover",ke=e==="mouseout"||e==="pointerout",he&&c!==Yi&&(Se=c.relatedTarget||c.fromElement)&&(Ms(Se)||Se[nt]))break e;if((ke||he)&&(he=pe.window===pe?pe:(he=pe.ownerDocument)?he.defaultView||he.parentWindow:window,ke?(Se=c.relatedTarget||c.toElement,ke=re,Se=Se?Ms(Se):null,Se!==null&&(Et=Me(Se),Se!==Et||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ke=null,Se=re),ke!==Se)){if(Pe=Go,ge="onMouseLeave",Q="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=oc,ge="onPointerLeave",Q="onPointerEnter",V="pointer"),Et=ke==null?he:Ls(ke),J=Se==null?he:Ls(Se),he=new Pe(ge,V+"leave",ke,c,pe),he.target=Et,he.relatedTarget=J,ge=null,Ms(pe)===re&&(Pe=new Pe(Q,V+"enter",Se,c,pe),Pe.target=J,Pe.relatedTarget=Et,ge=Pe),Et=ge,ke&&Se)t:{for(Pe=ke,Q=Se,V=0,J=Pe;J;J=x(J))V++;for(J=0,ge=Q;ge;ge=x(ge))J++;for(;0<V-J;)Pe=x(Pe),V--;for(;0<J-V;)Q=x(Q),J--;for(;V--;){if(Pe===Q||Q!==null&&Pe===Q.alternate)break t;Pe=x(Pe),Q=x(Q)}Pe=null}else Pe=null;ke!==null&&b(me,he,ke,Pe,!1),Se!==null&&Et!==null&&b(me,Et,Se,Pe,!0)}}e:{if(he=re?Ls(re):window,ke=he.nodeName&&he.nodeName.toLowerCase(),ke==="select"||ke==="input"&&he.type==="file")var De=yd;else if(dc(he))if(ar)De=nl;else{De=ri;var Le=so}else(ke=he.nodeName)&&ke.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(De=io);if(De&&(De=De(e,re))){eo(me,De,c,pe);break e}Le&&Le(e,he,re),e==="focusout"&&(Le=he._wrapperState)&&Le.controlled&&he.type==="number"&&gn(he,"number",he.value)}switch(Le=re?Ls(re):window,e){case"focusin":(dc(Le)||Le.contentEditable==="true")&&(si=Le,ii=re,ia=null);break;case"focusout":ia=ii=si=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,mc(me,c,pe);break;case"selectionchange":if(ao)break;case"keydown":case"keyup":mc(me,c,pe)}var Oe;if(Ur)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Cr?ti(e,c)&&(Fe="onCompositionEnd"):e==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(cc&&c.locale!=="ko"&&(Cr||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Cr&&(Oe=Zo()):(Hr=pe,yn="value"in Hr?Hr.value:Hr.textContent,Cr=!0)),Le=d(re,Fe),0<Le.length&&(Fe=new Xo(Fe,e,null,c,pe),me.push({event:Fe,listeners:Le}),Oe?Fe.data=Oe:(Oe=tl(c),Oe!==null&&(Fe.data=Oe)))),(Oe=Sr?xd(e,c):Zr(e,c))&&(re=d(re,"onBeforeInput"),0<re.length&&(pe=new Xo("onBeforeInput","beforeinput",null,c,pe),me.push({event:pe,listeners:re}),pe.data=Oe))}ul(me,a)})}function l(e,a,c){return{instance:e,listener:a,currentTarget:c}}function d(e,a){for(var c=a+"Capture",h=[];e!==null;){var v=e,y=v.stateNode;v.tag===5&&y!==null&&(v=y,y=bs(e,c),y!=null&&h.unshift(l(e,y,v)),y=bs(e,a),y!=null&&h.push(l(e,y,v))),e=e.return}return h}function x(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function b(e,a,c,h,v){for(var y=a._reactName,k=[];c!==null&&c!==h;){var I=c,W=I.alternate,re=I.stateNode;if(W!==null&&W===h)break;I.tag===5&&re!==null&&(I=re,v?(W=bs(c,y),W!=null&&k.unshift(l(c,W,I))):v||(W=bs(c,y),W!=null&&k.push(l(c,W,I)))),c=c.return}k.length!==0&&e.push({event:a,listeners:k})}var j=/\r\n?/g,F=/\u0000|\uFFFD/g;function K(e){return(typeof e=="string"?e:""+e).replace(j,`
`).replace(F,"")}function ne(e,a,c){if(a=K(a),K(e)!==a&&c)throw Error(n(425))}function ue(){}var _e=null,Ee=null;function Ye(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zt=typeof setTimeout=="function"?setTimeout:void 0,At=typeof clearTimeout=="function"?clearTimeout:void 0,wn=typeof Promise=="function"?Promise:void 0,ln=typeof queueMicrotask=="function"?queueMicrotask:typeof wn<"u"?function(e){return wn.resolve(null).then(e).catch(ui)}:zt;function ui(e){setTimeout(function(){throw e})}function hl(e,a){var c=a,h=0;do{var v=c.nextSibling;if(e.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(h===0){e.removeChild(v),Un(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=v}while(c);Un(a)}function Kr(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return e}function wc(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return e;a--}else c==="/$"&&a++}e=e.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),cr="__reactFiber$"+Ts,di="__reactProps$"+Ts,nt="__reactContainer$"+Ts,hi="__reactEvents$"+Ts,wd="__reactListeners$"+Ts,_d="__reactHandles$"+Ts;function Ms(e){var a=e[cr];if(a)return a;for(var c=e.parentNode;c;){if(a=c[nt]||c[cr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(e=wc(e);e!==null;){if(c=e[cr])return c;e=wc(e)}return a}e=c,c=e.parentNode}return null}function Es(e){return e=e[cr]||e[nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function co(e){return e[di]||null}var kd=[],uo=-1;function pi(e){return{current:e}}function mt(e){0>uo||(e.current=kd[uo],kd[uo]=null,uo--)}function ht(e,a){uo++,kd[uo]=e.current,e.current=a}var fi={},cn=pi(fi),Ln=pi(!1),la=fi;function ho(e,a){var c=e.type.contextTypes;if(!c)return fi;var h=e.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var v={},y;for(y in c)v[y]=a[y];return h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=v),v}function On(e){return e=e.childContextTypes,e!=null}function _c(){mt(Ln),mt(cn)}function Hp(e,a,c){if(cn.current!==fi)throw Error(n(168));ht(cn,a),ht(Ln,c)}function $p(e,a,c){var h=e.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var v in h)if(!(v in a))throw Error(n(108,Ie(e)||"Unknown",v));return X({},c,h)}function kc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,la=cn.current,ht(cn,e),ht(Ln,Ln.current),!0}function Up(e,a,c){var h=e.stateNode;if(!h)throw Error(n(169));c?(e=$p(e,a,la),h.__reactInternalMemoizedMergedChildContext=e,mt(Ln),mt(cn),ht(cn,e)):mt(Ln),ht(Ln,c)}var Os=null,Nc=!1,Nd=!1;function Zp(e){Os===null?Os=[e]:Os.push(e)}function n0(e){Nc=!0,Zp(e)}function mi(){if(!Nd&&Os!==null){Nd=!0;var e=0,a=qe;try{var c=Os;for(qe=1;e<c.length;e++){var h=c[e];do h=h(!0);while(h!==null)}Os=null,Nc=!1}catch(v){throw Os!==null&&(Os=Os.slice(e+1)),Tn(Wo,mi),v}finally{qe=a,Nd=!1}}return null}var po=[],fo=0,jc=null,Sc=0,ur=[],dr=0,ca=null,Rs=1,Is="";function ua(e,a){po[fo++]=Sc,po[fo++]=jc,jc=e,Sc=a}function Vp(e,a,c){ur[dr++]=Rs,ur[dr++]=Is,ur[dr++]=ca,ca=e;var h=Rs;e=Is;var v=32-We(h)-1;h&=~(1<<v),c+=1;var y=32-We(a)+v;if(30<y){var k=v-v%5;y=(h&(1<<k)-1).toString(32),h>>=k,v-=k,Rs=1<<32-We(a)+v|c<<v|h,Is=y+e}else Rs=1<<y|c<<v|h,Is=e}function jd(e){e.return!==null&&(ua(e,1),Vp(e,1,0))}function Sd(e){for(;e===jc;)jc=po[--fo],po[fo]=null,Sc=po[--fo],po[fo]=null;for(;e===ca;)ca=ur[--dr],ur[dr]=null,Is=ur[--dr],ur[dr]=null,Rs=ur[--dr],ur[dr]=null}var Kn=null,Qn=null,xt=!1,Dr=null;function qp(e,a){var c=mr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=e,a=e.deletions,a===null?(e.deletions=[c],e.flags|=16):a.push(c)}function Gp(e,a){switch(e.tag){case 5:var c=e.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(e.stateNode=a,Kn=e,Qn=Kr(a.firstChild),!0):!1;case 6:return a=e.pendingProps===""||a.nodeType!==3?null:a,a!==null?(e.stateNode=a,Kn=e,Qn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ca!==null?{id:Rs,overflow:Is}:null,e.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=mr(18,null,null,0),c.stateNode=a,c.return=e,e.child=c,Kn=e,Qn=null,!0):!1;default:return!1}}function Cd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pd(e){if(xt){var a=Qn;if(a){var c=a;if(!Gp(e,a)){if(Cd(e))throw Error(n(418));a=Kr(c.nextSibling);var h=Kn;a&&Gp(e,a)?qp(h,c):(e.flags=e.flags&-4097|2,xt=!1,Kn=e)}}else{if(Cd(e))throw Error(n(418));e.flags=e.flags&-4097|2,xt=!1,Kn=e}}}function Kp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function Cc(e){if(e!==Kn)return!1;if(!xt)return Kp(e),xt=!0,!1;var a;if((a=e.tag!==3)&&!(a=e.tag!==5)&&(a=e.type,a=a!=="head"&&a!=="body"&&!Ye(e.type,e.memoizedProps)),a&&(a=Qn)){if(Cd(e))throw Qp(),Error(n(418));for(;a;)qp(e,a),a=Kr(a.nextSibling)}if(Kp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="/$"){if(a===0){Qn=Kr(e.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}e=e.nextSibling}Qn=null}}else Qn=Kn?Kr(e.stateNode.nextSibling):null;return!0}function Qp(){for(var e=Qn;e;)e=Kr(e.nextSibling)}function mo(){Qn=Kn=null,xt=!1}function Dd(e){Dr===null?Dr=[e]:Dr.push(e)}var r0=ee.ReactCurrentBatchConfig;function pl(e,a,c){if(e=c.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,e));var v=h,y=""+e;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(k){var I=v.refs;k===null?delete I[y]:I[y]=k},a._stringRef=y,a)}if(typeof e!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,e))}return e}function Pc(e,a){throw e=Object.prototype.toString.call(a),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e))}function Xp(e){var a=e._init;return a(e._payload)}function Jp(e){function a(Q,V){if(e){var J=Q.deletions;J===null?(Q.deletions=[V],Q.flags|=16):J.push(V)}}function c(Q,V){if(!e)return null;for(;V!==null;)a(Q,V),V=V.sibling;return null}function h(Q,V){for(Q=new Map;V!==null;)V.key!==null?Q.set(V.key,V):Q.set(V.index,V),V=V.sibling;return Q}function v(Q,V){return Q=ki(Q,V),Q.index=0,Q.sibling=null,Q}function y(Q,V,J){return Q.index=J,e?(J=Q.alternate,J!==null?(J=J.index,J<V?(Q.flags|=2,V):J):(Q.flags|=2,V)):(Q.flags|=1048576,V)}function k(Q){return e&&Q.alternate===null&&(Q.flags|=2),Q}function I(Q,V,J,ge){return V===null||V.tag!==6?(V=bh(J,Q.mode,ge),V.return=Q,V):(V=v(V,J),V.return=Q,V)}function W(Q,V,J,ge){var De=J.type;return De===q?pe(Q,V,J.props.children,ge,J.key):V!==null&&(V.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ie&&Xp(De)===V.type)?(ge=v(V,J.props),ge.ref=pl(Q,V,J),ge.return=Q,ge):(ge=Xc(J.type,J.key,J.props,null,Q.mode,ge),ge.ref=pl(Q,V,J),ge.return=Q,ge)}function re(Q,V,J,ge){return V===null||V.tag!==4||V.stateNode.containerInfo!==J.containerInfo||V.stateNode.implementation!==J.implementation?(V=wh(J,Q.mode,ge),V.return=Q,V):(V=v(V,J.children||[]),V.return=Q,V)}function pe(Q,V,J,ge,De){return V===null||V.tag!==7?(V=va(J,Q.mode,ge,De),V.return=Q,V):(V=v(V,J),V.return=Q,V)}function me(Q,V,J){if(typeof V=="string"&&V!==""||typeof V=="number")return V=bh(""+V,Q.mode,J),V.return=Q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case $:return J=Xc(V.type,V.key,V.props,null,Q.mode,J),J.ref=pl(Q,null,V),J.return=Q,J;case A:return V=wh(V,Q.mode,J),V.return=Q,V;case ie:var ge=V._init;return me(Q,ge(V._payload),J)}if(Ke(V)||oe(V))return V=va(V,Q.mode,J,null),V.return=Q,V;Pc(Q,V)}return null}function he(Q,V,J,ge){var De=V!==null?V.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return De!==null?null:I(Q,V,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case $:return J.key===De?W(Q,V,J,ge):null;case A:return J.key===De?re(Q,V,J,ge):null;case ie:return De=J._init,he(Q,V,De(J._payload),ge)}if(Ke(J)||oe(J))return De!==null?null:pe(Q,V,J,ge,null);Pc(Q,J)}return null}function ke(Q,V,J,ge,De){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Q=Q.get(J)||null,I(V,Q,""+ge,De);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case $:return Q=Q.get(ge.key===null?J:ge.key)||null,W(V,Q,ge,De);case A:return Q=Q.get(ge.key===null?J:ge.key)||null,re(V,Q,ge,De);case ie:var Le=ge._init;return ke(Q,V,J,Le(ge._payload),De)}if(Ke(ge)||oe(ge))return Q=Q.get(J)||null,pe(V,Q,ge,De,null);Pc(V,ge)}return null}function Se(Q,V,J,ge){for(var De=null,Le=null,Oe=V,Fe=V=0,Ut=null;Oe!==null&&Fe<J.length;Fe++){Oe.index>Fe?(Ut=Oe,Oe=null):Ut=Oe.sibling;var Xe=he(Q,Oe,J[Fe],ge);if(Xe===null){Oe===null&&(Oe=Ut);break}e&&Oe&&Xe.alternate===null&&a(Q,Oe),V=y(Xe,V,Fe),Le===null?De=Xe:Le.sibling=Xe,Le=Xe,Oe=Ut}if(Fe===J.length)return c(Q,Oe),xt&&ua(Q,Fe),De;if(Oe===null){for(;Fe<J.length;Fe++)Oe=me(Q,J[Fe],ge),Oe!==null&&(V=y(Oe,V,Fe),Le===null?De=Oe:Le.sibling=Oe,Le=Oe);return xt&&ua(Q,Fe),De}for(Oe=h(Q,Oe);Fe<J.length;Fe++)Ut=ke(Oe,Q,Fe,J[Fe],ge),Ut!==null&&(e&&Ut.alternate!==null&&Oe.delete(Ut.key===null?Fe:Ut.key),V=y(Ut,V,Fe),Le===null?De=Ut:Le.sibling=Ut,Le=Ut);return e&&Oe.forEach(function(Ni){return a(Q,Ni)}),xt&&ua(Q,Fe),De}function Pe(Q,V,J,ge){var De=oe(J);if(typeof De!="function")throw Error(n(150));if(J=De.call(J),J==null)throw Error(n(151));for(var Le=De=null,Oe=V,Fe=V=0,Ut=null,Xe=J.next();Oe!==null&&!Xe.done;Fe++,Xe=J.next()){Oe.index>Fe?(Ut=Oe,Oe=null):Ut=Oe.sibling;var Ni=he(Q,Oe,Xe.value,ge);if(Ni===null){Oe===null&&(Oe=Ut);break}e&&Oe&&Ni.alternate===null&&a(Q,Oe),V=y(Ni,V,Fe),Le===null?De=Ni:Le.sibling=Ni,Le=Ni,Oe=Ut}if(Xe.done)return c(Q,Oe),xt&&ua(Q,Fe),De;if(Oe===null){for(;!Xe.done;Fe++,Xe=J.next())Xe=me(Q,Xe.value,ge),Xe!==null&&(V=y(Xe,V,Fe),Le===null?De=Xe:Le.sibling=Xe,Le=Xe);return xt&&ua(Q,Fe),De}for(Oe=h(Q,Oe);!Xe.done;Fe++,Xe=J.next())Xe=ke(Oe,Q,Fe,Xe.value,ge),Xe!==null&&(e&&Xe.alternate!==null&&Oe.delete(Xe.key===null?Fe:Xe.key),V=y(Xe,V,Fe),Le===null?De=Xe:Le.sibling=Xe,Le=Xe);return e&&Oe.forEach(function(I0){return a(Q,I0)}),xt&&ua(Q,Fe),De}function Et(Q,V,J,ge){if(typeof J=="object"&&J!==null&&J.type===q&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case $:e:{for(var De=J.key,Le=V;Le!==null;){if(Le.key===De){if(De=J.type,De===q){if(Le.tag===7){c(Q,Le.sibling),V=v(Le,J.props.children),V.return=Q,Q=V;break e}}else if(Le.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===ie&&Xp(De)===Le.type){c(Q,Le.sibling),V=v(Le,J.props),V.ref=pl(Q,Le,J),V.return=Q,Q=V;break e}c(Q,Le);break}else a(Q,Le);Le=Le.sibling}J.type===q?(V=va(J.props.children,Q.mode,ge,J.key),V.return=Q,Q=V):(ge=Xc(J.type,J.key,J.props,null,Q.mode,ge),ge.ref=pl(Q,V,J),ge.return=Q,Q=ge)}return k(Q);case A:e:{for(Le=J.key;V!==null;){if(V.key===Le)if(V.tag===4&&V.stateNode.containerInfo===J.containerInfo&&V.stateNode.implementation===J.implementation){c(Q,V.sibling),V=v(V,J.children||[]),V.return=Q,Q=V;break e}else{c(Q,V);break}else a(Q,V);V=V.sibling}V=wh(J,Q.mode,ge),V.return=Q,Q=V}return k(Q);case ie:return Le=J._init,Et(Q,V,Le(J._payload),ge)}if(Ke(J))return Se(Q,V,J,ge);if(oe(J))return Pe(Q,V,J,ge);Pc(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,V!==null&&V.tag===6?(c(Q,V.sibling),V=v(V,J),V.return=Q,Q=V):(c(Q,V),V=bh(J,Q.mode,ge),V.return=Q,Q=V),k(Q)):c(Q,V)}return Et}var go=Jp(!0),ef=Jp(!1),Dc=pi(null),Tc=null,xo=null,Td=null;function Md(){Td=xo=Tc=null}function Ed(e){var a=Dc.current;mt(Dc),e._currentValue=a}function Ld(e,a,c){for(;e!==null;){var h=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),e===c)break;e=e.return}}function vo(e,a){Tc=e,Td=xo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&a)!==0&&(Rn=!0),e.firstContext=null)}function hr(e){var a=e._currentValue;if(Td!==e)if(e={context:e,memoizedValue:a,next:null},xo===null){if(Tc===null)throw Error(n(308));xo=e,Tc.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return a}var da=null;function Od(e){da===null?da=[e]:da.push(e)}function tf(e,a,c,h){var v=a.interleaved;return v===null?(c.next=c,Od(a)):(c.next=v.next,v.next=c),a.interleaved=c,As(e,h)}function As(e,a){e.lanes|=a;var c=e.alternate;for(c!==null&&(c.lanes|=a),c=e,e=e.return;e!==null;)e.childLanes|=a,c=e.alternate,c!==null&&(c.childLanes|=a),c=e,e=e.return;return c.tag===3?c.stateNode:null}var gi=!1;function Rd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nf(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,a){return{eventTime:e,lane:a,tag:0,payload:null,callback:null,next:null}}function xi(e,a,c){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(Qe&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,As(e,c)}return v=h.interleaved,v===null?(a.next=a,Od(h)):(a.next=v.next,v.next=a),h.interleaved=a,As(e,c)}function Mc(e,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=e.pendingLanes,c|=h,a.lanes=c,Nr(e,c)}}function rf(e,a){var c=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var v=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?v=y=k:y=y.next=k,c=c.next}while(c!==null);y===null?v=y=a:y=y.next=a}else v=y=a;c={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:h.shared,effects:h.effects},e.updateQueue=c;return}e=c.lastBaseUpdate,e===null?c.firstBaseUpdate=a:e.next=a,c.lastBaseUpdate=a}function Ec(e,a,c,h){var v=e.updateQueue;gi=!1;var y=v.firstBaseUpdate,k=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var W=I,re=W.next;W.next=null,k===null?y=re:k.next=re,k=W;var pe=e.alternate;pe!==null&&(pe=pe.updateQueue,I=pe.lastBaseUpdate,I!==k&&(I===null?pe.firstBaseUpdate=re:I.next=re,pe.lastBaseUpdate=W))}if(y!==null){var me=v.baseState;k=0,pe=re=W=null,I=y;do{var he=I.lane,ke=I.eventTime;if((h&he)===he){pe!==null&&(pe=pe.next={eventTime:ke,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Se=e,Pe=I;switch(he=a,ke=c,Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){me=Se.call(ke,me,he);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,he=typeof Se=="function"?Se.call(ke,me,he):Se,he==null)break e;me=X({},me,he);break e;case 2:gi=!0}}I.callback!==null&&I.lane!==0&&(e.flags|=64,he=v.effects,he===null?v.effects=[I]:he.push(I))}else ke={eventTime:ke,lane:he,tag:I.tag,payload:I.payload,callback:I.callback,next:null},pe===null?(re=pe=ke,W=me):pe=pe.next=ke,k|=he;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;he=I,I=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);if(pe===null&&(W=me),v.baseState=W,v.firstBaseUpdate=re,v.lastBaseUpdate=pe,a=v.shared.interleaved,a!==null){v=a;do k|=v.lane,v=v.next;while(v!==a)}else y===null&&(v.shared.lanes=0);fa|=k,e.lanes=k,e.memoizedState=me}}function sf(e,a,c){if(e=a.effects,a.effects=null,e!==null)for(a=0;a<e.length;a++){var h=e[a],v=h.callback;if(v!==null){if(h.callback=null,h=c,typeof v!="function")throw Error(n(191,v));v.call(h)}}}var fl={},Qr=pi(fl),ml=pi(fl),gl=pi(fl);function ha(e){if(e===fl)throw Error(n(174));return e}function Id(e,a){switch(ht(gl,a),ht(ml,e),ht(Qr,fl),e=a.nodeType,e){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:yr(null,"");break;default:e=e===8?a.parentNode:a,a=e.namespaceURI||null,e=e.tagName,a=yr(a,e)}mt(Qr),ht(Qr,a)}function yo(){mt(Qr),mt(ml),mt(gl)}function af(e){ha(gl.current);var a=ha(Qr.current),c=yr(a,e.type);a!==c&&(ht(ml,e),ht(Qr,c))}function Ad(e){ml.current===e&&(mt(Qr),mt(ml))}var kt=pi(0);function Lc(e){for(var a=e;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fd=[];function Bd(){for(var e=0;e<Fd.length;e++)Fd[e]._workInProgressVersionPrimary=null;Fd.length=0}var Oc=ee.ReactCurrentDispatcher,zd=ee.ReactCurrentBatchConfig,pa=0,Nt=null,Wt=null,Ht=null,Rc=!1,xl=!1,vl=0,s0=0;function un(){throw Error(n(321))}function Wd(e,a){if(a===null)return!1;for(var c=0;c<a.length&&c<e.length;c++)if(!qn(e[c],a[c]))return!1;return!0}function Yd(e,a,c,h,v,y){if(pa=y,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Oc.current=e===null||e.memoizedState===null?l0:c0,e=c(h,v),xl){y=0;do{if(xl=!1,vl=0,25<=y)throw Error(n(301));y+=1,Ht=Wt=null,a.updateQueue=null,Oc.current=u0,e=c(h,v)}while(xl)}if(Oc.current=Fc,a=Wt!==null&&Wt.next!==null,pa=0,Ht=Wt=Nt=null,Rc=!1,a)throw Error(n(300));return e}function Hd(){var e=vl!==0;return vl=0,e}function Xr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?Nt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function pr(){if(Wt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var a=Ht===null?Nt.memoizedState:Ht.next;if(a!==null)Ht=a,Wt=e;else{if(e===null)throw Error(n(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ht===null?Nt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function yl(e,a){return typeof a=="function"?a(e):a}function $d(e){var a=pr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=e;var h=Wt,v=h.baseQueue,y=c.pending;if(y!==null){if(v!==null){var k=v.next;v.next=y.next,y.next=k}h.baseQueue=v=y,c.pending=null}if(v!==null){y=v.next,h=h.baseState;var I=k=null,W=null,re=y;do{var pe=re.lane;if((pa&pe)===pe)W!==null&&(W=W.next={lane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),h=re.hasEagerState?re.eagerState:e(h,re.action);else{var me={lane:pe,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null};W===null?(I=W=me,k=h):W=W.next=me,Nt.lanes|=pe,fa|=pe}re=re.next}while(re!==null&&re!==y);W===null?k=h:W.next=I,qn(h,a.memoizedState)||(Rn=!0),a.memoizedState=h,a.baseState=k,a.baseQueue=W,c.lastRenderedState=h}if(e=c.interleaved,e!==null){v=e;do y=v.lane,Nt.lanes|=y,fa|=y,v=v.next;while(v!==e)}else v===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Ud(e){var a=pr(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=e;var h=c.dispatch,v=c.pending,y=a.memoizedState;if(v!==null){c.pending=null;var k=v=v.next;do y=e(y,k.action),k=k.next;while(k!==v);qn(y,a.memoizedState)||(Rn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function of(){}function lf(e,a){var c=Nt,h=pr(),v=a(),y=!qn(h.memoizedState,v);if(y&&(h.memoizedState=v,Rn=!0),h=h.queue,Zd(df.bind(null,c,h,e),[e]),h.getSnapshot!==a||y||Ht!==null&&Ht.memoizedState.tag&1){if(c.flags|=2048,bl(9,uf.bind(null,c,h,v,a),void 0,null),$t===null)throw Error(n(349));(pa&30)!==0||cf(c,a,v)}return v}function cf(e,a,c){e.flags|=16384,e={getSnapshot:a,value:c},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.stores=[e]):(c=a.stores,c===null?a.stores=[e]:c.push(e))}function uf(e,a,c,h){a.value=c,a.getSnapshot=h,hf(a)&&pf(e)}function df(e,a,c){return c(function(){hf(a)&&pf(e)})}function hf(e){var a=e.getSnapshot;e=e.value;try{var c=a();return!qn(e,c)}catch{return!0}}function pf(e){var a=As(e,1);a!==null&&Lr(a,e,1,-1)}function ff(e){var a=Xr();return typeof e=="function"&&(e=e()),a.memoizedState=a.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:e},a.queue=e,e=e.dispatch=o0.bind(null,Nt,e),[a.memoizedState,e]}function bl(e,a,c,h){return e={tag:e,create:a,destroy:c,deps:h,next:null},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.lastEffect=e.next=e):(c=a.lastEffect,c===null?a.lastEffect=e.next=e:(h=c.next,c.next=e,e.next=h,a.lastEffect=e)),e}function mf(){return pr().memoizedState}function Ic(e,a,c,h){var v=Xr();Nt.flags|=e,v.memoizedState=bl(1|a,c,void 0,h===void 0?null:h)}function Ac(e,a,c,h){var v=pr();h=h===void 0?null:h;var y=void 0;if(Wt!==null){var k=Wt.memoizedState;if(y=k.destroy,h!==null&&Wd(h,k.deps)){v.memoizedState=bl(a,c,y,h);return}}Nt.flags|=e,v.memoizedState=bl(1|a,c,y,h)}function gf(e,a){return Ic(8390656,8,e,a)}function Zd(e,a){return Ac(2048,8,e,a)}function xf(e,a){return Ac(4,2,e,a)}function vf(e,a){return Ac(4,4,e,a)}function yf(e,a){if(typeof a=="function")return e=e(),a(e),function(){a(null)};if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function bf(e,a,c){return c=c!=null?c.concat([e]):null,Ac(4,4,yf.bind(null,a,e),c)}function Vd(){}function wf(e,a){var c=pr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Wd(a,h[1])?h[0]:(c.memoizedState=[e,a],e)}function _f(e,a){var c=pr();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&Wd(a,h[1])?h[0]:(e=e(),c.memoizedState=[e,a],e)}function kf(e,a,c){return(pa&21)===0?(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=c):(qn(c,a)||(c=Jl(),Nt.lanes|=c,fa|=c,e.baseState=!0),a)}function i0(e,a){var c=qe;qe=c!==0&&4>c?c:4,e(!0);var h=zd.transition;zd.transition={};try{e(!1),a()}finally{qe=c,zd.transition=h}}function Nf(){return pr().memoizedState}function a0(e,a,c){var h=wi(e);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},jf(e))Sf(a,c);else if(c=tf(e,a,c,h),c!==null){var v=kn();Lr(c,e,h,v),Cf(c,a,h)}}function o0(e,a,c){var h=wi(e),v={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(jf(e))Sf(a,v);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,I=y(k,c);if(v.hasEagerState=!0,v.eagerState=I,qn(I,k)){var W=a.interleaved;W===null?(v.next=v,Od(a)):(v.next=W.next,W.next=v),a.interleaved=v;return}}catch{}c=tf(e,a,v,h),c!==null&&(v=kn(),Lr(c,e,h,v),Cf(c,a,h))}}function jf(e){var a=e.alternate;return e===Nt||a!==null&&a===Nt}function Sf(e,a){xl=Rc=!0;var c=e.pending;c===null?a.next=a:(a.next=c.next,c.next=a),e.pending=a}function Cf(e,a,c){if((c&4194240)!==0){var h=a.lanes;h&=e.pendingLanes,c|=h,a.lanes=c,Nr(e,c)}}var Fc={readContext:hr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},l0={readContext:hr,useCallback:function(e,a){return Xr().memoizedState=[e,a===void 0?null:a],e},useContext:hr,useEffect:gf,useImperativeHandle:function(e,a,c){return c=c!=null?c.concat([e]):null,Ic(4194308,4,yf.bind(null,a,e),c)},useLayoutEffect:function(e,a){return Ic(4194308,4,e,a)},useInsertionEffect:function(e,a){return Ic(4,2,e,a)},useMemo:function(e,a){var c=Xr();return a=a===void 0?null:a,e=e(),c.memoizedState=[e,a],e},useReducer:function(e,a,c){var h=Xr();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},h.queue=e,e=e.dispatch=a0.bind(null,Nt,e),[h.memoizedState,e]},useRef:function(e){var a=Xr();return e={current:e},a.memoizedState=e},useState:ff,useDebugValue:Vd,useDeferredValue:function(e){return Xr().memoizedState=e},useTransition:function(){var e=ff(!1),a=e[0];return e=i0.bind(null,e[1]),Xr().memoizedState=e,[a,e]},useMutableSource:function(){},useSyncExternalStore:function(e,a,c){var h=Nt,v=Xr();if(xt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),$t===null)throw Error(n(349));(pa&30)!==0||cf(h,a,c)}v.memoizedState=c;var y={value:c,getSnapshot:a};return v.queue=y,gf(df.bind(null,h,y,e),[e]),h.flags|=2048,bl(9,uf.bind(null,h,y,c,a),void 0,null),c},useId:function(){var e=Xr(),a=$t.identifierPrefix;if(xt){var c=Is,h=Rs;c=(h&~(1<<32-We(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=vl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=s0++,a=":"+a+"r"+c.toString(32)+":";return e.memoizedState=a},unstable_isNewReconciler:!1},c0={readContext:hr,useCallback:wf,useContext:hr,useEffect:Zd,useImperativeHandle:bf,useInsertionEffect:xf,useLayoutEffect:vf,useMemo:_f,useReducer:$d,useRef:mf,useState:function(){return $d(yl)},useDebugValue:Vd,useDeferredValue:function(e){var a=pr();return kf(a,Wt.memoizedState,e)},useTransition:function(){var e=$d(yl)[0],a=pr().memoizedState;return[e,a]},useMutableSource:of,useSyncExternalStore:lf,useId:Nf,unstable_isNewReconciler:!1},u0={readContext:hr,useCallback:wf,useContext:hr,useEffect:Zd,useImperativeHandle:bf,useInsertionEffect:xf,useLayoutEffect:vf,useMemo:_f,useReducer:Ud,useRef:mf,useState:function(){return Ud(yl)},useDebugValue:Vd,useDeferredValue:function(e){var a=pr();return Wt===null?a.memoizedState=e:kf(a,Wt.memoizedState,e)},useTransition:function(){var e=Ud(yl)[0],a=pr().memoizedState;return[e,a]},useMutableSource:of,useSyncExternalStore:lf,useId:Nf,unstable_isNewReconciler:!1};function Tr(e,a){if(e&&e.defaultProps){a=X({},a),e=e.defaultProps;for(var c in e)a[c]===void 0&&(a[c]=e[c]);return a}return a}function qd(e,a,c,h){a=e.memoizedState,c=c(h,a),c=c==null?a:X({},a,c),e.memoizedState=c,e.lanes===0&&(e.updateQueue.baseState=c)}var Bc={isMounted:function(e){return(e=e._reactInternals)?Me(e)===e:!1},enqueueSetState:function(e,a,c){e=e._reactInternals;var h=kn(),v=wi(e),y=Fs(h,v);y.payload=a,c!=null&&(y.callback=c),a=xi(e,y,v),a!==null&&(Lr(a,e,v,h),Mc(a,e,v))},enqueueReplaceState:function(e,a,c){e=e._reactInternals;var h=kn(),v=wi(e),y=Fs(h,v);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=xi(e,y,v),a!==null&&(Lr(a,e,v,h),Mc(a,e,v))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var c=kn(),h=wi(e),v=Fs(c,h);v.tag=2,a!=null&&(v.callback=a),a=xi(e,v,h),a!==null&&(Lr(a,e,h,c),Mc(a,e,h))}};function Pf(e,a,c,h,v,y,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,y,k):a.prototype&&a.prototype.isPureReactComponent?!Vr(c,h)||!Vr(v,y):!0}function Df(e,a,c){var h=!1,v=fi,y=a.contextType;return typeof y=="object"&&y!==null?y=hr(y):(v=On(a)?la:cn.current,h=a.contextTypes,y=(h=h!=null)?ho(e,v):fi),a=new a(c,y),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bc,e.stateNode=a,a._reactInternals=e,h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=v,e.__reactInternalMemoizedMaskedChildContext=y),a}function Tf(e,a,c,h){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==e&&Bc.enqueueReplaceState(a,a.state,null)}function Gd(e,a,c,h){var v=e.stateNode;v.props=c,v.state=e.memoizedState,v.refs={},Rd(e);var y=a.contextType;typeof y=="object"&&y!==null?v.context=hr(y):(y=On(a)?la:cn.current,v.context=ho(e,y)),v.state=e.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(qd(e,a,y,c),v.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(a=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),a!==v.state&&Bc.enqueueReplaceState(v,v.state,null),Ec(e,c,v,h),v.state=e.memoizedState),typeof v.componentDidMount=="function"&&(e.flags|=4194308)}function bo(e,a){try{var c="",h=a;do c+=we(h),h=h.return;while(h);var v=c}catch(y){v=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:a,stack:v,digest:null}}function Kd(e,a,c){return{value:e,source:null,stack:c??null,digest:a??null}}function Qd(e,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var d0=typeof WeakMap=="function"?WeakMap:Map;function Mf(e,a,c){c=Fs(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){Zc||(Zc=!0,hh=h),Qd(e,a)},c}function Ef(e,a,c){c=Fs(-1,c),c.tag=3;var h=e.type.getDerivedStateFromError;if(typeof h=="function"){var v=a.value;c.payload=function(){return h(v)},c.callback=function(){Qd(e,a)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Qd(e,a),typeof h!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),c}function Lf(e,a,c){var h=e.pingCache;if(h===null){h=e.pingCache=new d0;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(c)||(v.add(c),e=j0.bind(null,e,a,c),a.then(e,e))}function Of(e){do{var a;if((a=e.tag===13)&&(a=e.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return e;e=e.return}while(e!==null);return null}function Rf(e,a,c,h,v){return(e.mode&1)===0?(e===a?e.flags|=65536:(e.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Fs(-1,1),a.tag=2,xi(c,a,1))),c.lanes|=1),e):(e.flags|=65536,e.lanes=v,e)}var h0=ee.ReactCurrentOwner,Rn=!1;function _n(e,a,c,h){a.child=e===null?ef(a,null,c,h):go(a,e.child,c,h)}function If(e,a,c,h,v){c=c.render;var y=a.ref;return vo(a,v),h=Yd(e,a,c,h,y,v),c=Hd(),e!==null&&!Rn?(a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~v,Bs(e,a,v)):(xt&&c&&jd(a),a.flags|=1,_n(e,a,h,v),a.child)}function Af(e,a,c,h,v){if(e===null){var y=c.type;return typeof y=="function"&&!yh(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,Ff(e,a,y,h,v)):(e=Xc(c.type,null,h,a,a.mode,v),e.ref=a.ref,e.return=a,a.child=e)}if(y=e.child,(e.lanes&v)===0){var k=y.memoizedProps;if(c=c.compare,c=c!==null?c:Vr,c(k,h)&&e.ref===a.ref)return Bs(e,a,v)}return a.flags|=1,e=ki(y,h),e.ref=a.ref,e.return=a,a.child=e}function Ff(e,a,c,h,v){if(e!==null){var y=e.memoizedProps;if(Vr(y,h)&&e.ref===a.ref)if(Rn=!1,a.pendingProps=h=y,(e.lanes&v)!==0)(e.flags&131072)!==0&&(Rn=!0);else return a.lanes=e.lanes,Bs(e,a,v)}return Xd(e,a,c,h,v)}function Bf(e,a,c){var h=a.pendingProps,v=h.children,y=e!==null?e.memoizedState:null;if(h.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(_o,Xn),Xn|=c;else{if((c&1073741824)===0)return e=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:e,cachePool:null,transitions:null},a.updateQueue=null,ht(_o,Xn),Xn|=e,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,ht(_o,Xn),Xn|=h}else y!==null?(h=y.baseLanes|c,a.memoizedState=null):h=c,ht(_o,Xn),Xn|=h;return _n(e,a,v,c),a.child}function zf(e,a){var c=a.ref;(e===null&&c!==null||e!==null&&e.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Xd(e,a,c,h,v){var y=On(c)?la:cn.current;return y=ho(a,y),vo(a,v),c=Yd(e,a,c,h,y,v),h=Hd(),e!==null&&!Rn?(a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~v,Bs(e,a,v)):(xt&&h&&jd(a),a.flags|=1,_n(e,a,c,v),a.child)}function Wf(e,a,c,h,v){if(On(c)){var y=!0;kc(a)}else y=!1;if(vo(a,v),a.stateNode===null)Wc(e,a),Df(a,c,h),Gd(a,c,h,v),h=!0;else if(e===null){var k=a.stateNode,I=a.memoizedProps;k.props=I;var W=k.context,re=c.contextType;typeof re=="object"&&re!==null?re=hr(re):(re=On(c)?la:cn.current,re=ho(a,re));var pe=c.getDerivedStateFromProps,me=typeof pe=="function"||typeof k.getSnapshotBeforeUpdate=="function";me||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==h||W!==re)&&Tf(a,k,h,re),gi=!1;var he=a.memoizedState;k.state=he,Ec(a,h,k,v),W=a.memoizedState,I!==h||he!==W||Ln.current||gi?(typeof pe=="function"&&(qd(a,c,pe,h),W=a.memoizedState),(I=gi||Pf(a,c,I,h,he,W,re))?(me||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=W),k.props=h,k.state=W,k.context=re,h=I):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{k=a.stateNode,nf(e,a),I=a.memoizedProps,re=a.type===a.elementType?I:Tr(a.type,I),k.props=re,me=a.pendingProps,he=k.context,W=c.contextType,typeof W=="object"&&W!==null?W=hr(W):(W=On(c)?la:cn.current,W=ho(a,W));var ke=c.getDerivedStateFromProps;(pe=typeof ke=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==me||he!==W)&&Tf(a,k,h,W),gi=!1,he=a.memoizedState,k.state=he,Ec(a,h,k,v);var Se=a.memoizedState;I!==me||he!==Se||Ln.current||gi?(typeof ke=="function"&&(qd(a,c,ke,h),Se=a.memoizedState),(re=gi||Pf(a,c,re,h,he,Se,W)||!1)?(pe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(h,Se,W),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(h,Se,W)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||I===e.memoizedProps&&he===e.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&he===e.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Se),k.props=h,k.state=Se,k.context=W,h=re):(typeof k.componentDidUpdate!="function"||I===e.memoizedProps&&he===e.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&he===e.memoizedState||(a.flags|=1024),h=!1)}return Jd(e,a,c,h,y,v)}function Jd(e,a,c,h,v,y){zf(e,a);var k=(a.flags&128)!==0;if(!h&&!k)return v&&Up(a,c,!1),Bs(e,a,y);h=a.stateNode,h0.current=a;var I=k&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,e!==null&&k?(a.child=go(a,e.child,null,y),a.child=go(a,null,I,y)):_n(e,a,I,y),a.memoizedState=h.state,v&&Up(a,c,!0),a.child}function Yf(e){var a=e.stateNode;a.pendingContext?Hp(e,a.pendingContext,a.pendingContext!==a.context):a.context&&Hp(e,a.context,!1),Id(e,a.containerInfo)}function Hf(e,a,c,h,v){return mo(),Dd(v),a.flags|=256,_n(e,a,c,h),a.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(e){return{baseLanes:e,cachePool:null,transitions:null}}function $f(e,a,c){var h=a.pendingProps,v=kt.current,y=!1,k=(a.flags&128)!==0,I;if((I=k)||(I=e!==null&&e.memoizedState===null?!1:(v&2)!==0),I?(y=!0,a.flags&=-129):(e===null||e.memoizedState!==null)&&(v|=1),ht(kt,v&1),e===null)return Pd(a),e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((a.mode&1)===0?a.lanes=1:e.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=h.children,e=h.fallback,y?(h=a.mode,y=a.child,k={mode:"hidden",children:k},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=Jc(k,h,0,null),e=va(e,h,c,null),y.return=a,e.return=a,y.sibling=e,a.child=y,a.child.memoizedState=th(c),a.memoizedState=eh,e):nh(a,k));if(v=e.memoizedState,v!==null&&(I=v.dehydrated,I!==null))return p0(e,a,k,h,I,v,c);if(y){y=h.fallback,k=a.mode,v=e.child,I=v.sibling;var W={mode:"hidden",children:h.children};return(k&1)===0&&a.child!==v?(h=a.child,h.childLanes=0,h.pendingProps=W,a.deletions=null):(h=ki(v,W),h.subtreeFlags=v.subtreeFlags&14680064),I!==null?y=ki(I,y):(y=va(y,k,c,null),y.flags|=2),y.return=a,h.return=a,h.sibling=y,a.child=h,h=y,y=a.child,k=e.child.memoizedState,k=k===null?th(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=e.childLanes&~c,a.memoizedState=eh,h}return y=e.child,e=y.sibling,h=ki(y,{mode:"visible",children:h.children}),(a.mode&1)===0&&(h.lanes=c),h.return=a,h.sibling=null,e!==null&&(c=a.deletions,c===null?(a.deletions=[e],a.flags|=16):c.push(e)),a.child=h,a.memoizedState=null,h}function nh(e,a){return a=Jc({mode:"visible",children:a},e.mode,0,null),a.return=e,e.child=a}function zc(e,a,c,h){return h!==null&&Dd(h),go(a,e.child,null,c),e=nh(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function p0(e,a,c,h,v,y,k){if(c)return a.flags&256?(a.flags&=-257,h=Kd(Error(n(422))),zc(e,a,k,h)):a.memoizedState!==null?(a.child=e.child,a.flags|=128,null):(y=h.fallback,v=a.mode,h=Jc({mode:"visible",children:h.children},v,0,null),y=va(y,v,k,null),y.flags|=2,h.return=a,y.return=a,h.sibling=y,a.child=h,(a.mode&1)!==0&&go(a,e.child,null,k),a.child.memoizedState=th(k),a.memoizedState=eh,y);if((a.mode&1)===0)return zc(e,a,k,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var I=h.dgst;return h=I,y=Error(n(419)),h=Kd(y,h,void 0),zc(e,a,k,h)}if(I=(k&e.childLanes)!==0,Rn||I){if(h=$t,h!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|k))!==0?0:v,v!==0&&v!==y.retryLane&&(y.retryLane=v,As(e,v),Lr(h,e,v,-1))}return vh(),h=Kd(Error(n(421))),zc(e,a,k,h)}return v.data==="$?"?(a.flags|=128,a.child=e.child,a=S0.bind(null,e),v._reactRetry=a,null):(e=y.treeContext,Qn=Kr(v.nextSibling),Kn=a,xt=!0,Dr=null,e!==null&&(ur[dr++]=Rs,ur[dr++]=Is,ur[dr++]=ca,Rs=e.id,Is=e.overflow,ca=a),a=nh(a,h.children),a.flags|=4096,a)}function Uf(e,a,c){e.lanes|=a;var h=e.alternate;h!==null&&(h.lanes|=a),Ld(e.return,a,c)}function rh(e,a,c,h,v){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:v}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=v)}function Zf(e,a,c){var h=a.pendingProps,v=h.revealOrder,y=h.tail;if(_n(e,a,h.children,c),h=kt.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uf(e,c,a);else if(e.tag===19)Uf(e,c,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}if(ht(kt,h),(a.mode&1)===0)a.memoizedState=null;else switch(v){case"forwards":for(c=a.child,v=null;c!==null;)e=c.alternate,e!==null&&Lc(e)===null&&(v=c),c=c.sibling;c=v,c===null?(v=a.child,a.child=null):(v=c.sibling,c.sibling=null),rh(a,!1,v,c,y);break;case"backwards":for(c=null,v=a.child,a.child=null;v!==null;){if(e=v.alternate,e!==null&&Lc(e)===null){a.child=v;break}e=v.sibling,v.sibling=c,c=v,v=e}rh(a,!0,c,null,y);break;case"together":rh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Wc(e,a){(a.mode&1)===0&&e!==null&&(e.alternate=null,a.alternate=null,a.flags|=2)}function Bs(e,a,c){if(e!==null&&(a.dependencies=e.dependencies),fa|=a.lanes,(c&a.childLanes)===0)return null;if(e!==null&&a.child!==e.child)throw Error(n(153));if(a.child!==null){for(e=a.child,c=ki(e,e.pendingProps),a.child=c,c.return=a;e.sibling!==null;)e=e.sibling,c=c.sibling=ki(e,e.pendingProps),c.return=a;c.sibling=null}return a.child}function f0(e,a,c){switch(a.tag){case 3:Yf(a),mo();break;case 5:af(a);break;case 1:On(a.type)&&kc(a);break;case 4:Id(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,v=a.memoizedProps.value;ht(Dc,h._currentValue),h._currentValue=v;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(ht(kt,kt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?$f(e,a,c):(ht(kt,kt.current&1),e=Bs(e,a,c),e!==null?e.sibling:null);ht(kt,kt.current&1);break;case 19:if(h=(c&a.childLanes)!==0,(e.flags&128)!==0){if(h)return Zf(e,a,c);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ht(kt,kt.current),h)break;return null;case 22:case 23:return a.lanes=0,Bf(e,a,c)}return Bs(e,a,c)}var Vf,sh,qf,Gf;Vf=function(e,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},sh=function(){},qf=function(e,a,c,h){var v=e.memoizedProps;if(v!==h){e=a.stateNode,ha(Qr.current);var y=null;switch(c){case"input":v=ze(e,v),h=ze(e,h),y=[];break;case"select":v=X({},v,{value:void 0}),h=X({},h,{value:void 0}),y=[];break;case"textarea":v=Dn(e,v),h=Dn(e,h),y=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(e.onclick=ue)}gs(c,h);var k;c=null;for(re in v)if(!h.hasOwnProperty(re)&&v.hasOwnProperty(re)&&v[re]!=null)if(re==="style"){var I=v[re];for(k in I)I.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else re!=="dangerouslySetInnerHTML"&&re!=="children"&&re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(u.hasOwnProperty(re)?y||(y=[]):(y=y||[]).push(re,null));for(re in h){var W=h[re];if(I=v?.[re],h.hasOwnProperty(re)&&W!==I&&(W!=null||I!=null))if(re==="style")if(I){for(k in I)!I.hasOwnProperty(k)||W&&W.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in W)W.hasOwnProperty(k)&&I[k]!==W[k]&&(c||(c={}),c[k]=W[k])}else c||(y||(y=[]),y.push(re,c)),c=W;else re==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,I=I?I.__html:void 0,W!=null&&I!==W&&(y=y||[]).push(re,W)):re==="children"?typeof W!="string"&&typeof W!="number"||(y=y||[]).push(re,""+W):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&(u.hasOwnProperty(re)?(W!=null&&re==="onScroll"&&ut("scroll",e),y||I===W||(y=[])):(y=y||[]).push(re,W))}c&&(y=y||[]).push("style",c);var re=y;(a.updateQueue=re)&&(a.flags|=4)}},Gf=function(e,a,c,h){c!==h&&(a.flags|=4)};function wl(e,a){if(!xt)switch(e.tailMode){case"hidden":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?e.tail=null:c.sibling=null;break;case"collapsed":c=e.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function dn(e){var a=e.alternate!==null&&e.alternate.child===e.child,c=0,h=0;if(a)for(var v=e.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=e,v=v.sibling;else for(v=e.child;v!==null;)c|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=e,v=v.sibling;return e.subtreeFlags|=h,e.childLanes=c,a}function m0(e,a,c){var h=a.pendingProps;switch(Sd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return On(a.type)&&_c(),dn(a),null;case 3:return h=a.stateNode,yo(),mt(Ln),mt(cn),Bd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(e===null||e.child===null)&&(Cc(a)?a.flags|=4:e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Dr!==null&&(mh(Dr),Dr=null))),sh(e,a),dn(a),null;case 5:Ad(a);var v=ha(gl.current);if(c=a.type,e!==null&&a.stateNode!=null)qf(e,a,c,h,v),e.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(n(166));return dn(a),null}if(e=ha(Qr.current),Cc(a)){h=a.stateNode,c=a.type;var y=a.memoizedProps;switch(h[cr]=a,h[di]=y,e=(a.mode&1)!==0,c){case"dialog":ut("cancel",h),ut("close",h);break;case"iframe":case"object":case"embed":ut("load",h);break;case"video":case"audio":for(v=0;v<li.length;v++)ut(li[v],h);break;case"source":ut("error",h);break;case"img":case"image":case"link":ut("error",h),ut("load",h);break;case"details":ut("toggle",h);break;case"input":Ve(h,y),ut("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},ut("invalid",h);break;case"textarea":Wi(h,y),ut("invalid",h)}gs(c,y),v=null;for(var k in y)if(y.hasOwnProperty(k)){var I=y[k];k==="children"?typeof I=="string"?h.textContent!==I&&(y.suppressHydrationWarning!==!0&&ne(h.textContent,I,e),v=["children",I]):typeof I=="number"&&h.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&ne(h.textContent,I,e),v=["children",""+I]):u.hasOwnProperty(k)&&I!=null&&k==="onScroll"&&ut("scroll",h)}switch(c){case"input":mn(h),It(h,y,!0);break;case"textarea":mn(h),Oa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ue)}h=v,a.updateQueue=h,h!==null&&(a.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ms(c)),e==="http://www.w3.org/1999/xhtml"?c==="script"?(e=k.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof h.is=="string"?e=k.createElement(c,{is:h.is}):(e=k.createElement(c),c==="select"&&(k=e,h.multiple?k.multiple=!0:h.size&&(k.size=h.size))):e=k.createElementNS(e,c),e[cr]=a,e[di]=h,Vf(e,a,!1,!1),a.stateNode=e;e:{switch(k=nr(c,h),c){case"dialog":ut("cancel",e),ut("close",e),v=h;break;case"iframe":case"object":case"embed":ut("load",e),v=h;break;case"video":case"audio":for(v=0;v<li.length;v++)ut(li[v],e);v=h;break;case"source":ut("error",e),v=h;break;case"img":case"image":case"link":ut("error",e),ut("load",e),v=h;break;case"details":ut("toggle",e),v=h;break;case"input":Ve(e,h),v=ze(e,h),ut("invalid",e);break;case"option":v=h;break;case"select":e._wrapperState={wasMultiple:!!h.multiple},v=X({},h,{value:void 0}),ut("invalid",e);break;case"textarea":Wi(e,h),v=Dn(e,h),ut("invalid",e);break;default:v=h}gs(c,v),I=v;for(y in I)if(I.hasOwnProperty(y)){var W=I[y];y==="style"?wr(e,W):y==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Ra(e,W)):y==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&br(e,W):typeof W=="number"&&br(e,""+W):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(u.hasOwnProperty(y)?W!=null&&y==="onScroll"&&ut("scroll",e):W!=null&&Y(e,y,W,k))}switch(c){case"input":mn(e),It(e,h,!1);break;case"textarea":mn(e),Oa(e);break;case"option":h.value!=null&&e.setAttribute("value",""+Ae(h.value));break;case"select":e.multiple=!!h.multiple,y=h.value,y!=null?Qt(e,!!h.multiple,y,!1):h.defaultValue!=null&&Qt(e,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(e.onclick=ue)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dn(a),null;case 6:if(e&&a.stateNode!=null)Gf(e,a,e.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(c=ha(gl.current),ha(Qr.current),Cc(a)){if(h=a.stateNode,c=a.memoizedProps,h[cr]=a,(y=h.nodeValue!==c)&&(e=Kn,e!==null))switch(e.tag){case 3:ne(h.nodeValue,c,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ne(h.nodeValue,c,(e.mode&1)!==0)}y&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[cr]=a,a.stateNode=h}return dn(a),null;case 13:if(mt(kt),h=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&Qn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Qp(),mo(),a.flags|=98560,y=!1;else if(y=Cc(a),h!==null&&h.dehydrated!==null){if(e===null){if(!y)throw Error(n(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[cr]=a}else mo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),y=!1}else Dr!==null&&(mh(Dr),Dr=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(h=h!==null,h!==(e!==null&&e.memoizedState!==null)&&h&&(a.child.flags|=8192,(a.mode&1)!==0&&(e===null||(kt.current&1)!==0?Yt===0&&(Yt=3):vh())),a.updateQueue!==null&&(a.flags|=4),dn(a),null);case 4:return yo(),sh(e,a),e===null&&ci(a.stateNode.containerInfo),dn(a),null;case 10:return Ed(a.type._context),dn(a),null;case 17:return On(a.type)&&_c(),dn(a),null;case 19:if(mt(kt),y=a.memoizedState,y===null)return dn(a),null;if(h=(a.flags&128)!==0,k=y.rendering,k===null)if(h)wl(y,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(k=Lc(e),k!==null){for(a.flags|=128,wl(y,!1),h=k.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)y=c,e=h,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=e,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,e=k.dependencies,y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),c=c.sibling;return ht(kt,kt.current&1|2),a.child}e=e.sibling}y.tail!==null&&it()>ko&&(a.flags|=128,h=!0,wl(y,!1),a.lanes=4194304)}else{if(!h)if(e=Lc(k),e!==null){if(a.flags|=128,h=!0,c=e.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),wl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!xt)return dn(a),null}else 2*it()-y.renderingStartTime>ko&&c!==1073741824&&(a.flags|=128,h=!0,wl(y,!1),a.lanes=4194304);y.isBackwards?(k.sibling=a.child,a.child=k):(c=y.last,c!==null?c.sibling=k:a.child=k,y.last=k)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=it(),a.sibling=null,c=kt.current,ht(kt,h?c&1|2:c&1),a):(dn(a),null);case 22:case 23:return xh(),h=a.memoizedState!==null,e!==null&&e.memoizedState!==null!==h&&(a.flags|=8192),h&&(a.mode&1)!==0?(Xn&1073741824)!==0&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function g0(e,a){switch(Sd(a),a.tag){case 1:return On(a.type)&&_c(),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return yo(),mt(Ln),mt(cn),Bd(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 5:return Ad(a),null;case 13:if(mt(kt),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(n(340));mo()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return mt(kt),null;case 4:return yo(),null;case 10:return Ed(a.type._context),null;case 22:case 23:return xh(),null;case 24:return null;default:return null}}var Yc=!1,hn=!1,x0=typeof WeakSet=="function"?WeakSet:Set,je=null;function wo(e,a){var c=e.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Pt(e,a,h)}else c.current=null}function ih(e,a,c){try{c()}catch(h){Pt(e,a,h)}}var Kf=!1;function v0(e,a){if(_e=ea,e=sl(),il(e)){if("selectionStart"in e)var c={start:e.selectionStart,end:e.selectionEnd};else e:{c=(c=e.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var v=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var k=0,I=-1,W=-1,re=0,pe=0,me=e,he=null;t:for(;;){for(var ke;me!==c||v!==0&&me.nodeType!==3||(I=k+v),me!==y||h!==0&&me.nodeType!==3||(W=k+h),me.nodeType===3&&(k+=me.nodeValue.length),(ke=me.firstChild)!==null;)he=me,me=ke;for(;;){if(me===e)break t;if(he===c&&++re===v&&(I=k),he===y&&++pe===h&&(W=k),(ke=me.nextSibling)!==null)break;me=he,he=me.parentNode}me=ke}c=I===-1||W===-1?null:{start:I,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ee={focusedElem:e,selectionRange:c},ea=!1,je=a;je!==null;)if(a=je,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,je=e;else for(;je!==null;){a=je;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Pe=Se.memoizedProps,Et=Se.memoizedState,Q=a.stateNode,V=Q.getSnapshotBeforeUpdate(a.elementType===a.type?Pe:Tr(a.type,Pe),Et);Q.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var J=a.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ge){Pt(a,a.return,ge)}if(e=a.sibling,e!==null){e.return=a.return,je=e;break}je=a.return}return Se=Kf,Kf=!1,Se}function _l(e,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&e)===e){var y=v.destroy;v.destroy=void 0,y!==void 0&&ih(a,c,y)}v=v.next}while(v!==h)}}function Hc(e,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function ah(e){var a=e.ref;if(a!==null){var c=e.stateNode;e.tag,e=c,typeof a=="function"?a(e):a.current=e}}function Qf(e){var a=e.alternate;a!==null&&(e.alternate=null,Qf(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&(delete a[cr],delete a[di],delete a[hi],delete a[wd],delete a[_d])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xf(e){return e.tag===5||e.tag===3||e.tag===4}function Jf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oh(e,a,c){var h=e.tag;if(h===5||h===6)e=e.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(e,a):c.insertBefore(e,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(e,c)):(a=c,a.appendChild(e)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ue));else if(h!==4&&(e=e.child,e!==null))for(oh(e,a,c),e=e.sibling;e!==null;)oh(e,a,c),e=e.sibling}function lh(e,a,c){var h=e.tag;if(h===5||h===6)e=e.stateNode,a?c.insertBefore(e,a):c.appendChild(e);else if(h!==4&&(e=e.child,e!==null))for(lh(e,a,c),e=e.sibling;e!==null;)lh(e,a,c),e=e.sibling}var Jt=null,Mr=!1;function vi(e,a,c){for(c=c.child;c!==null;)em(e,a,c),c=c.sibling}function em(e,a,c){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(qi,c)}catch{}switch(c.tag){case 5:hn||wo(c,a);case 6:var h=Jt,v=Mr;Jt=null,vi(e,a,c),Jt=h,Mr=v,Jt!==null&&(Mr?(e=Jt,c=c.stateNode,e.nodeType===8?e.parentNode.removeChild(c):e.removeChild(c)):Jt.removeChild(c.stateNode));break;case 18:Jt!==null&&(Mr?(e=Jt,c=c.stateNode,e.nodeType===8?hl(e.parentNode,c):e.nodeType===1&&hl(e,c),Un(e)):hl(Jt,c.stateNode));break;case 4:h=Jt,v=Mr,Jt=c.stateNode.containerInfo,Mr=!0,vi(e,a,c),Jt=h,Mr=v;break;case 0:case 11:case 14:case 15:if(!hn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var y=v,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&ih(c,a,k),v=v.next}while(v!==h)}vi(e,a,c);break;case 1:if(!hn&&(wo(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(I){Pt(c,a,I)}vi(e,a,c);break;case 21:vi(e,a,c);break;case 22:c.mode&1?(hn=(h=hn)||c.memoizedState!==null,vi(e,a,c),hn=h):vi(e,a,c);break;default:vi(e,a,c)}}function tm(e){var a=e.updateQueue;if(a!==null){e.updateQueue=null;var c=e.stateNode;c===null&&(c=e.stateNode=new x0),a.forEach(function(h){var v=C0.bind(null,e,h);c.has(h)||(c.add(h),h.then(v,v))})}}function Er(e,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var v=c[h];try{var y=e,k=a,I=k;e:for(;I!==null;){switch(I.tag){case 5:Jt=I.stateNode,Mr=!1;break e;case 3:Jt=I.stateNode.containerInfo,Mr=!0;break e;case 4:Jt=I.stateNode.containerInfo,Mr=!0;break e}I=I.return}if(Jt===null)throw Error(n(160));em(y,k,v),Jt=null,Mr=!1;var W=v.alternate;W!==null&&(W.return=null),v.return=null}catch(re){Pt(v,a,re)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)nm(a,e),a=a.sibling}function nm(e,a){var c=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Er(a,e),Jr(e),h&4){try{_l(3,e,e.return),Hc(3,e)}catch(Pe){Pt(e,e.return,Pe)}try{_l(5,e,e.return)}catch(Pe){Pt(e,e.return,Pe)}}break;case 1:Er(a,e),Jr(e),h&512&&c!==null&&wo(c,c.return);break;case 5:if(Er(a,e),Jr(e),h&512&&c!==null&&wo(c,c.return),e.flags&32){var v=e.stateNode;try{br(v,"")}catch(Pe){Pt(e,e.return,Pe)}}if(h&4&&(v=e.stateNode,v!=null)){var y=e.memoizedProps,k=c!==null?c.memoizedProps:y,I=e.type,W=e.updateQueue;if(e.updateQueue=null,W!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&st(v,y),nr(I,k);var re=nr(I,y);for(k=0;k<W.length;k+=2){var pe=W[k],me=W[k+1];pe==="style"?wr(v,me):pe==="dangerouslySetInnerHTML"?Ra(v,me):pe==="children"?br(v,me):Y(v,pe,me,re)}switch(I){case"input":St(v,y);break;case"textarea":fs(v,y);break;case"select":var he=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!y.multiple;var ke=y.value;ke!=null?Qt(v,!!y.multiple,ke,!1):he!==!!y.multiple&&(y.defaultValue!=null?Qt(v,!!y.multiple,y.defaultValue,!0):Qt(v,!!y.multiple,y.multiple?[]:"",!1))}v[di]=y}catch(Pe){Pt(e,e.return,Pe)}}break;case 6:if(Er(a,e),Jr(e),h&4){if(e.stateNode===null)throw Error(n(162));v=e.stateNode,y=e.memoizedProps;try{v.nodeValue=y}catch(Pe){Pt(e,e.return,Pe)}}break;case 3:if(Er(a,e),Jr(e),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Un(a.containerInfo)}catch(Pe){Pt(e,e.return,Pe)}break;case 4:Er(a,e),Jr(e);break;case 13:Er(a,e),Jr(e),v=e.child,v.flags&8192&&(y=v.memoizedState!==null,v.stateNode.isHidden=y,!y||v.alternate!==null&&v.alternate.memoizedState!==null||(dh=it())),h&4&&tm(e);break;case 22:if(pe=c!==null&&c.memoizedState!==null,e.mode&1?(hn=(re=hn)||pe,Er(a,e),hn=re):Er(a,e),Jr(e),h&8192){if(re=e.memoizedState!==null,(e.stateNode.isHidden=re)&&!pe&&(e.mode&1)!==0)for(je=e,pe=e.child;pe!==null;){for(me=je=pe;je!==null;){switch(he=je,ke=he.child,he.tag){case 0:case 11:case 14:case 15:_l(4,he,he.return);break;case 1:wo(he,he.return);var Se=he.stateNode;if(typeof Se.componentWillUnmount=="function"){h=he,c=he.return;try{a=h,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Pe){Pt(h,c,Pe)}}break;case 5:wo(he,he.return);break;case 22:if(he.memoizedState!==null){im(me);continue}}ke!==null?(ke.return=he,je=ke):im(me)}pe=pe.sibling}e:for(pe=null,me=e;;){if(me.tag===5){if(pe===null){pe=me;try{v=me.stateNode,re?(y=v.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=me.stateNode,W=me.memoizedProps.style,k=W!=null&&W.hasOwnProperty("display")?W.display:null,I.style.display=sn("display",k))}catch(Pe){Pt(e,e.return,Pe)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=re?"":me.memoizedProps}catch(Pe){Pt(e,e.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===e)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===e)break e;for(;me.sibling===null;){if(me.return===null||me.return===e)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Er(a,e),Jr(e),h&4&&tm(e);break;case 21:break;default:Er(a,e),Jr(e)}}function Jr(e){var a=e.flags;if(a&2){try{e:{for(var c=e.return;c!==null;){if(Xf(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(br(v,""),h.flags&=-33);var y=Jf(e);lh(e,y,v);break;case 3:case 4:var k=h.stateNode.containerInfo,I=Jf(e);oh(e,I,k);break;default:throw Error(n(161))}}catch(W){Pt(e,e.return,W)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function y0(e,a,c){je=e,rm(e)}function rm(e,a,c){for(var h=(e.mode&1)!==0;je!==null;){var v=je,y=v.child;if(v.tag===22&&h){var k=v.memoizedState!==null||Yc;if(!k){var I=v.alternate,W=I!==null&&I.memoizedState!==null||hn;I=Yc;var re=hn;if(Yc=k,(hn=W)&&!re)for(je=v;je!==null;)k=je,W=k.child,k.tag===22&&k.memoizedState!==null?am(v):W!==null?(W.return=k,je=W):am(v);for(;y!==null;)je=y,rm(y),y=y.sibling;je=v,Yc=I,hn=re}sm(e)}else(v.subtreeFlags&8772)!==0&&y!==null?(y.return=v,je=y):sm(e)}}function sm(e){for(;je!==null;){var a=je;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:hn||Hc(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!hn)if(c===null)h.componentDidMount();else{var v=a.elementType===a.type?c.memoizedProps:Tr(a.type,c.memoizedProps);h.componentDidUpdate(v,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&sf(a,y,h);break;case 3:var k=a.updateQueue;if(k!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}sf(a,k,c)}break;case 5:var I=a.stateNode;if(c===null&&a.flags&4){c=I;var W=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var re=a.alternate;if(re!==null){var pe=re.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&Un(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}hn||a.flags&512&&ah(a)}catch(he){Pt(a,a.return,he)}}if(a===e){je=null;break}if(c=a.sibling,c!==null){c.return=a.return,je=c;break}je=a.return}}function im(e){for(;je!==null;){var a=je;if(a===e){je=null;break}var c=a.sibling;if(c!==null){c.return=a.return,je=c;break}je=a.return}}function am(e){for(;je!==null;){var a=je;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Hc(4,a)}catch(W){Pt(a,c,W)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var v=a.return;try{h.componentDidMount()}catch(W){Pt(a,v,W)}}var y=a.return;try{ah(a)}catch(W){Pt(a,y,W)}break;case 5:var k=a.return;try{ah(a)}catch(W){Pt(a,k,W)}}}catch(W){Pt(a,a.return,W)}if(a===e){je=null;break}var I=a.sibling;if(I!==null){I.return=a.return,je=I;break}je=a.return}}var b0=Math.ceil,$c=ee.ReactCurrentDispatcher,ch=ee.ReactCurrentOwner,fr=ee.ReactCurrentBatchConfig,Qe=0,$t=null,Ft=null,en=0,Xn=0,_o=pi(0),Yt=0,kl=null,fa=0,Uc=0,uh=0,Nl=null,In=null,dh=0,ko=1/0,zs=null,Zc=!1,hh=null,yi=null,Vc=!1,bi=null,qc=0,jl=0,ph=null,Gc=-1,Kc=0;function kn(){return(Qe&6)!==0?it():Gc!==-1?Gc:Gc=it()}function wi(e){return(e.mode&1)===0?1:(Qe&2)!==0&&en!==0?en&-en:r0.transition!==null?(Kc===0&&(Kc=Jl()),Kc):(e=qe,e!==0||(e=window.event,e=e===void 0?16:Ze(e.type)),e)}function Lr(e,a,c,h){if(50<jl)throw jl=0,ph=null,Error(n(185));Hn(e,c,h),((Qe&2)===0||e!==$t)&&(e===$t&&((Qe&2)===0&&(Uc|=c),Yt===4&&_i(e,en)),An(e,h),c===1&&Qe===0&&(a.mode&1)===0&&(ko=it()+500,Nc&&mi()))}function An(e,a){var c=e.callbackNode;Ya(e,a);var h=dt(e,e===$t?en:0);if(h===0)c!==null&&Wn(c),e.callbackNode=null,e.callbackPriority=0;else if(a=h&-h,e.callbackPriority!==a){if(c!=null&&Wn(c),a===1)e.tag===0?n0(lm.bind(null,e)):Zp(lm.bind(null,e)),ln(function(){(Qe&6)===0&&mi()}),c=null;else{switch(Ks(h)){case 1:c=Wo;break;case 4:c=Xl;break;case 16:c=za;break;case 536870912:c=Zs;break;default:c=za}c=gm(c,om.bind(null,e))}e.callbackPriority=a,e.callbackNode=c}}function om(e,a){if(Gc=-1,Kc=0,(Qe&6)!==0)throw Error(n(327));var c=e.callbackNode;if(No()&&e.callbackNode!==c)return null;var h=dt(e,e===$t?en:0);if(h===0)return null;if((h&30)!==0||(h&e.expiredLanes)!==0||a)a=Qc(e,h);else{a=h;var v=Qe;Qe|=2;var y=um();($t!==e||en!==a)&&(zs=null,ko=it()+500,ga(e,a));do try{k0();break}catch(I){cm(e,I)}while(!0);Md(),$c.current=y,Qe=v,Ft!==null?a=0:($t=null,en=0,a=Yt)}if(a!==0){if(a===2&&(v=an(e),v!==0&&(h=v,a=fh(e,v))),a===1)throw c=kl,ga(e,0),_i(e,h),An(e,it()),c;if(a===6)_i(e,h);else{if(v=e.current.alternate,(h&30)===0&&!w0(v)&&(a=Qc(e,h),a===2&&(y=an(e),y!==0&&(h=y,a=fh(e,y))),a===1))throw c=kl,ga(e,0),_i(e,h),An(e,it()),c;switch(e.finishedWork=v,e.finishedLanes=h,a){case 0:case 1:throw Error(n(345));case 2:xa(e,In,zs);break;case 3:if(_i(e,h),(h&130023424)===h&&(a=dh+500-it(),10<a)){if(dt(e,0)!==0)break;if(v=e.suspendedLanes,(v&h)!==h){kn(),e.pingedLanes|=e.suspendedLanes&v;break}e.timeoutHandle=zt(xa.bind(null,e,In,zs),a);break}xa(e,In,zs);break;case 4:if(_i(e,h),(h&4194240)===h)break;for(a=e.eventTimes,v=-1;0<h;){var k=31-We(h);y=1<<k,k=a[k],k>v&&(v=k),h&=~y}if(h=v,h=it()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*b0(h/1960))-h,10<h){e.timeoutHandle=zt(xa.bind(null,e,In,zs),h);break}xa(e,In,zs);break;case 5:xa(e,In,zs);break;default:throw Error(n(329))}}}return An(e,it()),e.callbackNode===c?om.bind(null,e):null}function fh(e,a){var c=Nl;return e.current.memoizedState.isDehydrated&&(ga(e,a).flags|=256),e=Qc(e,a),e!==2&&(a=In,In=c,a!==null&&mh(a)),e}function mh(e){In===null?In=e:In.push.apply(In,e)}function w0(e){for(var a=e;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var v=c[h],y=v.getSnapshot;v=v.value;try{if(!qn(y(),v))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function _i(e,a){for(a&=~uh,a&=~Uc,e.suspendedLanes|=a,e.pingedLanes&=~a,e=e.expirationTimes;0<a;){var c=31-We(a),h=1<<c;e[c]=-1,a&=~h}}function lm(e){if((Qe&6)!==0)throw Error(n(327));No();var a=dt(e,0);if((a&1)===0)return An(e,it()),null;var c=Qc(e,a);if(e.tag!==0&&c===2){var h=an(e);h!==0&&(a=h,c=fh(e,h))}if(c===1)throw c=kl,ga(e,0),_i(e,a),An(e,it()),c;if(c===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=a,xa(e,In,zs),An(e,it()),null}function gh(e,a){var c=Qe;Qe|=1;try{return e(a)}finally{Qe=c,Qe===0&&(ko=it()+500,Nc&&mi())}}function ma(e){bi!==null&&bi.tag===0&&(Qe&6)===0&&No();var a=Qe;Qe|=1;var c=fr.transition,h=qe;try{if(fr.transition=null,qe=1,e)return e()}finally{qe=h,fr.transition=c,Qe=a,(Qe&6)===0&&mi()}}function xh(){Xn=_o.current,mt(_o)}function ga(e,a){e.finishedWork=null,e.finishedLanes=0;var c=e.timeoutHandle;if(c!==-1&&(e.timeoutHandle=-1,At(c)),Ft!==null)for(c=Ft.return;c!==null;){var h=c;switch(Sd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&_c();break;case 3:yo(),mt(Ln),mt(cn),Bd();break;case 5:Ad(h);break;case 4:yo();break;case 13:mt(kt);break;case 19:mt(kt);break;case 10:Ed(h.type._context);break;case 22:case 23:xh()}c=c.return}if($t=e,Ft=e=ki(e.current,null),en=Xn=a,Yt=0,kl=null,uh=Uc=fa=0,In=Nl=null,da!==null){for(a=0;a<da.length;a++)if(c=da[a],h=c.interleaved,h!==null){c.interleaved=null;var v=h.next,y=c.pending;if(y!==null){var k=y.next;y.next=v,h.next=k}c.pending=h}da=null}return e}function cm(e,a){do{var c=Ft;try{if(Md(),Oc.current=Fc,Rc){for(var h=Nt.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}Rc=!1}if(pa=0,Ht=Wt=Nt=null,xl=!1,vl=0,ch.current=null,c===null||c.return===null){Yt=1,kl=a,Ft=null;break}e:{var y=e,k=c.return,I=c,W=a;if(a=en,I.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var re=W,pe=I,me=pe.tag;if((pe.mode&1)===0&&(me===0||me===11||me===15)){var he=pe.alternate;he?(pe.updateQueue=he.updateQueue,pe.memoizedState=he.memoizedState,pe.lanes=he.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var ke=Of(k);if(ke!==null){ke.flags&=-257,Rf(ke,k,I,y,a),ke.mode&1&&Lf(y,re,a),a=ke,W=re;var Se=a.updateQueue;if(Se===null){var Pe=new Set;Pe.add(W),a.updateQueue=Pe}else Se.add(W);break e}else{if((a&1)===0){Lf(y,re,a),vh();break e}W=Error(n(426))}}else if(xt&&I.mode&1){var Et=Of(k);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),Rf(Et,k,I,y,a),Dd(bo(W,I));break e}}y=W=bo(W,I),Yt!==4&&(Yt=2),Nl===null?Nl=[y]:Nl.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var Q=Mf(y,W,a);rf(y,Q);break e;case 1:I=W;var V=y.type,J=y.stateNode;if((y.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(yi===null||!yi.has(J)))){y.flags|=65536,a&=-a,y.lanes|=a;var ge=Ef(y,I,a);rf(y,ge);break e}}y=y.return}while(y!==null)}hm(c)}catch(De){a=De,Ft===c&&c!==null&&(Ft=c=c.return);continue}break}while(!0)}function um(){var e=$c.current;return $c.current=Fc,e===null?Fc:e}function vh(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),$t===null||(fa&268435455)===0&&(Uc&268435455)===0||_i($t,en)}function Qc(e,a){var c=Qe;Qe|=2;var h=um();($t!==e||en!==a)&&(zs=null,ga(e,a));do try{_0();break}catch(v){cm(e,v)}while(!0);if(Md(),Qe=c,$c.current=h,Ft!==null)throw Error(n(261));return $t=null,en=0,Yt}function _0(){for(;Ft!==null;)dm(Ft)}function k0(){for(;Ft!==null&&!Us();)dm(Ft)}function dm(e){var a=mm(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,a===null?hm(e):Ft=a,ch.current=null}function hm(e){var a=e;do{var c=a.alternate;if(e=a.return,(a.flags&32768)===0){if(c=m0(c,a,Xn),c!==null){Ft=c;return}}else{if(c=g0(c,a),c!==null){c.flags&=32767,Ft=c;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Yt=6,Ft=null;return}}if(a=a.sibling,a!==null){Ft=a;return}Ft=a=e}while(a!==null);Yt===0&&(Yt=5)}function xa(e,a,c){var h=qe,v=fr.transition;try{fr.transition=null,qe=1,N0(e,a,c,h)}finally{fr.transition=v,qe=h}return null}function N0(e,a,c,h){do No();while(bi!==null);if((Qe&6)!==0)throw Error(n(327));c=e.finishedWork;var v=e.finishedLanes;if(c===null)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var y=c.lanes|c.childLanes;if(Ct(e,y),e===$t&&(Ft=$t=null,en=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Vc||(Vc=!0,gm(za,function(){return No(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=fr.transition,fr.transition=null;var k=qe;qe=1;var I=Qe;Qe|=4,ch.current=null,v0(e,c),nm(c,e),or(Ee),ea=!!_e,Ee=_e=null,e.current=c,y0(c),rr(),Qe=I,qe=k,fr.transition=y}else e.current=c;if(Vc&&(Vc=!1,bi=e,qc=v),y=e.pendingLanes,y===0&&(yi=null),Gi(c.stateNode),An(e,it()),a!==null)for(h=e.onRecoverableError,c=0;c<a.length;c++)v=a[c],h(v.value,{componentStack:v.stack,digest:v.digest});if(Zc)throw Zc=!1,e=hh,hh=null,e;return(qc&1)!==0&&e.tag!==0&&No(),y=e.pendingLanes,(y&1)!==0?e===ph?jl++:(jl=0,ph=e):jl=0,mi(),null}function No(){if(bi!==null){var e=Ks(qc),a=fr.transition,c=qe;try{if(fr.transition=null,qe=16>e?16:e,bi===null)var h=!1;else{if(e=bi,bi=null,qc=0,(Qe&6)!==0)throw Error(n(331));var v=Qe;for(Qe|=4,je=e.current;je!==null;){var y=je,k=y.child;if((je.flags&16)!==0){var I=y.deletions;if(I!==null){for(var W=0;W<I.length;W++){var re=I[W];for(je=re;je!==null;){var pe=je;switch(pe.tag){case 0:case 11:case 15:_l(8,pe,y)}var me=pe.child;if(me!==null)me.return=pe,je=me;else for(;je!==null;){pe=je;var he=pe.sibling,ke=pe.return;if(Qf(pe),pe===re){je=null;break}if(he!==null){he.return=ke,je=he;break}je=ke}}}var Se=y.alternate;if(Se!==null){var Pe=Se.child;if(Pe!==null){Se.child=null;do{var Et=Pe.sibling;Pe.sibling=null,Pe=Et}while(Pe!==null)}}je=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,je=k;else e:for(;je!==null;){if(y=je,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:_l(9,y,y.return)}var Q=y.sibling;if(Q!==null){Q.return=y.return,je=Q;break e}je=y.return}}var V=e.current;for(je=V;je!==null;){k=je;var J=k.child;if((k.subtreeFlags&2064)!==0&&J!==null)J.return=k,je=J;else e:for(k=V;je!==null;){if(I=je,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:Hc(9,I)}}catch(De){Pt(I,I.return,De)}if(I===k){je=null;break e}var ge=I.sibling;if(ge!==null){ge.return=I.return,je=ge;break e}je=I.return}}if(Qe=v,mi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(qi,e)}catch{}h=!0}return h}finally{qe=c,fr.transition=a}}return!1}function pm(e,a,c){a=bo(c,a),a=Mf(e,a,1),e=xi(e,a,1),a=kn(),e!==null&&(Hn(e,1,a),An(e,a))}function Pt(e,a,c){if(e.tag===3)pm(e,e,c);else for(;a!==null;){if(a.tag===3){pm(a,e,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(yi===null||!yi.has(h))){e=bo(c,e),e=Ef(a,e,1),a=xi(a,e,1),e=kn(),a!==null&&(Hn(a,1,e),An(a,e));break}}a=a.return}}function j0(e,a,c){var h=e.pingCache;h!==null&&h.delete(a),a=kn(),e.pingedLanes|=e.suspendedLanes&c,$t===e&&(en&c)===c&&(Yt===4||Yt===3&&(en&130023424)===en&&500>it()-dh?ga(e,0):uh|=c),An(e,a)}function fm(e,a){a===0&&((e.mode&1)===0?a=1:(a=qs,qs<<=1,(qs&130023424)===0&&(qs=4194304)));var c=kn();e=As(e,a),e!==null&&(Hn(e,a,c),An(e,c))}function S0(e){var a=e.memoizedState,c=0;a!==null&&(c=a.retryLane),fm(e,c)}function C0(e,a){var c=0;switch(e.tag){case 13:var h=e.stateNode,v=e.memoizedState;v!==null&&(c=v.retryLane);break;case 19:h=e.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(a),fm(e,c)}var mm;mm=function(e,a,c){if(e!==null)if(e.memoizedProps!==a.pendingProps||Ln.current)Rn=!0;else{if((e.lanes&c)===0&&(a.flags&128)===0)return Rn=!1,f0(e,a,c);Rn=(e.flags&131072)!==0}else Rn=!1,xt&&(a.flags&1048576)!==0&&Vp(a,Sc,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Wc(e,a),e=a.pendingProps;var v=ho(a,cn.current);vo(a,c),v=Yd(null,a,h,e,v,c);var y=Hd();return a.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,On(h)?(y=!0,kc(a)):y=!1,a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,Rd(a),v.updater=Bc,a.stateNode=v,v._reactInternals=a,Gd(a,h,e,c),a=Jd(null,a,h,!0,y,c)):(a.tag=0,xt&&y&&jd(a),_n(null,a,v,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Wc(e,a),e=a.pendingProps,v=h._init,h=v(h._payload),a.type=h,v=a.tag=D0(h),e=Tr(h,e),v){case 0:a=Xd(null,a,h,e,c);break e;case 1:a=Wf(null,a,h,e,c);break e;case 11:a=If(null,a,h,e,c);break e;case 14:a=Af(null,a,h,Tr(h.type,e),c);break e}throw Error(n(306,h,""))}return a;case 0:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:Tr(h,v),Xd(e,a,h,v,c);case 1:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:Tr(h,v),Wf(e,a,h,v,c);case 3:e:{if(Yf(a),e===null)throw Error(n(387));h=a.pendingProps,y=a.memoizedState,v=y.element,nf(e,a),Ec(a,h,null,c);var k=a.memoizedState;if(h=k.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){v=bo(Error(n(423)),a),a=Hf(e,a,h,c,v);break e}else if(h!==v){v=bo(Error(n(424)),a),a=Hf(e,a,h,c,v);break e}else for(Qn=Kr(a.stateNode.containerInfo.firstChild),Kn=a,xt=!0,Dr=null,c=ef(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(mo(),h===v){a=Bs(e,a,c);break e}_n(e,a,h,c)}a=a.child}return a;case 5:return af(a),e===null&&Pd(a),h=a.type,v=a.pendingProps,y=e!==null?e.memoizedProps:null,k=v.children,Ye(h,v)?k=null:y!==null&&Ye(h,y)&&(a.flags|=32),zf(e,a),_n(e,a,k,c),a.child;case 6:return e===null&&Pd(a),null;case 13:return $f(e,a,c);case 4:return Id(a,a.stateNode.containerInfo),h=a.pendingProps,e===null?a.child=go(a,null,h,c):_n(e,a,h,c),a.child;case 11:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:Tr(h,v),If(e,a,h,v,c);case 7:return _n(e,a,a.pendingProps,c),a.child;case 8:return _n(e,a,a.pendingProps.children,c),a.child;case 12:return _n(e,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,v=a.pendingProps,y=a.memoizedProps,k=v.value,ht(Dc,h._currentValue),h._currentValue=k,y!==null)if(qn(y.value,k)){if(y.children===v.children&&!Ln.current){a=Bs(e,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var I=y.dependencies;if(I!==null){k=y.child;for(var W=I.firstContext;W!==null;){if(W.context===h){if(y.tag===1){W=Fs(-1,c&-c),W.tag=2;var re=y.updateQueue;if(re!==null){re=re.shared;var pe=re.pending;pe===null?W.next=W:(W.next=pe.next,pe.next=W),re.pending=W}}y.lanes|=c,W=y.alternate,W!==null&&(W.lanes|=c),Ld(y.return,c,a),I.lanes|=c;break}W=W.next}}else if(y.tag===10)k=y.type===a.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(n(341));k.lanes|=c,I=k.alternate,I!==null&&(I.lanes|=c),Ld(k,c,a),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}_n(e,a,v.children,c),a=a.child}return a;case 9:return v=a.type,h=a.pendingProps.children,vo(a,c),v=hr(v),h=h(v),a.flags|=1,_n(e,a,h,c),a.child;case 14:return h=a.type,v=Tr(h,a.pendingProps),v=Tr(h.type,v),Af(e,a,h,v,c);case 15:return Ff(e,a,a.type,a.pendingProps,c);case 17:return h=a.type,v=a.pendingProps,v=a.elementType===h?v:Tr(h,v),Wc(e,a),a.tag=1,On(h)?(e=!0,kc(a)):e=!1,vo(a,c),Df(a,h,v),Gd(a,h,v,c),Jd(null,a,h,!0,e,c);case 19:return Zf(e,a,c);case 22:return Bf(e,a,c)}throw Error(n(156,a.tag))};function gm(e,a){return Tn(e,a)}function P0(e,a,c,h){this.tag=e,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,a,c,h){return new P0(e,a,c,h)}function yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D0(e){if(typeof e=="function")return yh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===M)return 11;if(e===G)return 14}return 2}function ki(e,a){var c=e.alternate;return c===null?(c=mr(e.tag,a,e.key,e.mode),c.elementType=e.elementType,c.type=e.type,c.stateNode=e.stateNode,c.alternate=e,e.alternate=c):(c.pendingProps=a,c.type=e.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=e.flags&14680064,c.childLanes=e.childLanes,c.lanes=e.lanes,c.child=e.child,c.memoizedProps=e.memoizedProps,c.memoizedState=e.memoizedState,c.updateQueue=e.updateQueue,a=e.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=e.sibling,c.index=e.index,c.ref=e.ref,c}function Xc(e,a,c,h,v,y){var k=2;if(h=e,typeof e=="function")yh(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case q:return va(c.children,v,y,a);case ae:k=8,v|=8;break;case fe:return e=mr(12,c,a,v|2),e.elementType=fe,e.lanes=y,e;case H:return e=mr(13,c,a,v),e.elementType=H,e.lanes=y,e;case Z:return e=mr(19,c,a,v),e.elementType=Z,e.lanes=y,e;case le:return Jc(c,v,y,a);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case de:k=10;break e;case xe:k=9;break e;case M:k=11;break e;case G:k=14;break e;case ie:k=16,h=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return a=mr(k,c,a,v),a.elementType=e,a.type=h,a.lanes=y,a}function va(e,a,c,h){return e=mr(7,e,h,a),e.lanes=c,e}function Jc(e,a,c,h){return e=mr(22,e,h,a),e.elementType=le,e.lanes=c,e.stateNode={isHidden:!1},e}function bh(e,a,c){return e=mr(6,e,null,a),e.lanes=c,e}function wh(e,a,c){return a=mr(4,e.children!==null?e.children:[],e.key,a),a.lanes=c,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}function T0(e,a,c,h,v){this.tag=a,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gs(0),this.expirationTimes=Gs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gs(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function _h(e,a,c,h,v,y,k,I,W){return e=new T0(e,a,c,I,W),a===1?(a=1,y===!0&&(a|=8)):a=0,y=mr(3,null,null,a),e.current=y,y.stateNode=e,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(y),e}function M0(e,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:h==null?null:""+h,children:e,containerInfo:a,implementation:c}}function xm(e){if(!e)return fi;e=e._reactInternals;e:{if(Me(e)!==e||e.tag!==1)throw Error(n(170));var a=e;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(On(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(e.tag===1){var c=e.type;if(On(c))return $p(e,c,a)}return a}function vm(e,a,c,h,v,y,k,I,W){return e=_h(c,h,!0,e,v,y,k,I,W),e.context=xm(null),c=e.current,h=kn(),v=wi(c),y=Fs(h,v),y.callback=a??null,xi(c,y,v),e.current.lanes=v,Hn(e,v,h),An(e,h),e}function eu(e,a,c,h){var v=a.current,y=kn(),k=wi(v);return c=xm(c),a.context===null?a.context=c:a.pendingContext=c,a=Fs(y,k),a.payload={element:e},h=h===void 0?null:h,h!==null&&(a.callback=h),e=xi(v,a,k),e!==null&&(Lr(e,v,k,y),Mc(e,v,k)),k}function tu(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function ym(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var c=e.retryLane;e.retryLane=c!==0&&c<a?c:a}}function kh(e,a){ym(e,a),(e=e.alternate)&&ym(e,a)}function E0(){return null}var bm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nh(e){this._internalRoot=e}nu.prototype.render=Nh.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(n(409));eu(e,a,null,null)},nu.prototype.unmount=Nh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;ma(function(){eu(null,e,null,null)}),a[nt]=null}};function nu(e){this._internalRoot=e}nu.prototype.unstable_scheduleHydration=function(e){if(e){var a=Ua();e={blockedOn:null,target:e,priority:a};for(var c=0;c<Bt.length&&a!==0&&a<Bt[c].priority;c++);Bt.splice(c,0,e),c===0&&Za(e)}};function jh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wm(){}function L0(e,a,c,h,v){if(v){if(typeof h=="function"){var y=h;h=function(){var re=tu(k);y.call(re)}}var k=vm(a,h,e,0,null,!1,!1,"",wm);return e._reactRootContainer=k,e[nt]=k.current,ci(e.nodeType===8?e.parentNode:e),ma(),k}for(;v=e.lastChild;)e.removeChild(v);if(typeof h=="function"){var I=h;h=function(){var re=tu(W);I.call(re)}}var W=_h(e,0,!1,null,null,!1,!1,"",wm);return e._reactRootContainer=W,e[nt]=W.current,ci(e.nodeType===8?e.parentNode:e),ma(function(){eu(a,W,c,h)}),W}function su(e,a,c,h,v){var y=c._reactRootContainer;if(y){var k=y;if(typeof v=="function"){var I=v;v=function(){var W=tu(k);I.call(W)}}eu(a,k,e,v)}else k=L0(c,a,e,v,h);return tu(k)}Ha=function(e){switch(e.tag){case 3:var a=e.stateNode;if(a.current.memoizedState.isDehydrated){var c=Be(a.pendingLanes);c!==0&&(Nr(a,c|1),An(a,it()),(Qe&6)===0&&(ko=it()+500,mi()))}break;case 13:ma(function(){var h=As(e,1);if(h!==null){var v=kn();Lr(h,e,1,v)}}),kh(e,1)}},_s=function(e){if(e.tag===13){var a=As(e,134217728);if(a!==null){var c=kn();Lr(a,e,134217728,c)}kh(e,134217728)}},$a=function(e){if(e.tag===13){var a=wi(e),c=As(e,a);if(c!==null){var h=kn();Lr(c,e,a,h)}kh(e,a)}},Ua=function(){return qe},Ki=function(e,a){var c=qe;try{return qe=e,a()}finally{qe=c}},xs=function(e,a,c){switch(a){case"input":if(St(e,c),a=c.name,c.type==="radio"&&a!=null){for(c=e;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==e&&h.form===e.form){var v=co(h);if(!v)throw Error(n(90));rn(h),St(h,v)}}}break;case"textarea":fs(e,c);break;case"select":a=c.value,a!=null&&Qt(e,!!c.multiple,a,!1)}},Aa=gh,Ui=ma;var O0={usingClientEntryPoint:!1,Events:[Es,Ls,co,$i,Ia,gh]},Sl={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R0={bundleType:Sl.bundleType,version:Sl.version,rendererPackageName:Sl.rendererPackageName,rendererConfig:Sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xn(e),e===null?null:e.stateNode},findFiberByHostInstance:Sl.findFiberByHostInstance||E0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{qi=iu.inject(R0),Yn=iu}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O0,Fn.createPortal=function(e,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jh(a))throw Error(n(200));return M0(e,a,null,c)},Fn.createRoot=function(e,a){if(!jh(e))throw Error(n(299));var c=!1,h="",v=bm;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),a=_h(e,1,!1,null,null,c,!1,h,v),e[nt]=a.current,ci(e.nodeType===8?e.parentNode:e),new Nh(a)},Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=xn(a),e=e===null?null:e.stateNode,e},Fn.flushSync=function(e){return ma(e)},Fn.hydrate=function(e,a,c){if(!ru(a))throw Error(n(200));return su(null,e,a,!0,c)},Fn.hydrateRoot=function(e,a,c){if(!jh(e))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,v=!1,y="",k=bm;if(c!=null&&(c.unstable_strictMode===!0&&(v=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),a=vm(a,null,e,1,c??null,v,!1,y,k),e[nt]=a.current,ci(e),h)for(e=0;e<h.length;e++)c=h[e],v=c._getVersion,v=v(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,v]:a.mutableSourceEagerHydrationData.push(c,v);return new nu(a)},Fn.render=function(e,a,c){if(!ru(a))throw Error(n(200));return su(null,e,a,!1,c)},Fn.unmountComponentAtNode=function(e){if(!ru(e))throw Error(n(40));return e._reactRootContainer?(ma(function(){su(null,null,e,!1,function(){e._reactRootContainer=null,e[nt]=null})}),!0):!1},Fn.unstable_batchedUpdates=gh,Fn.unstable_renderSubtreeIntoContainer=function(e,a,c,h){if(!ru(c))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return su(e,a,c,!1,h)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var Dm;function Zg(){if(Dm)return Ph.exports;Dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),Ph.exports=$0(),Ph.exports}var Tm;function U0(){if(Tm)return au;Tm=1;var i=Zg();return au.createRoot=i.createRoot,au.hydrateRoot=i.hydrateRoot,au}var Z0=U0();const V0=Ul(Z0),vt="/api";let bu=null;const tn=()=>(bu||(bu=localStorage.getItem("tightlines_token")),bu),Gh=i=>{bu=i,i?localStorage.setItem("tightlines_token",i):localStorage.removeItem("tightlines_token")},Kh=()=>Gh(null),q0=(i,o={},n=1e4)=>Promise.race([fetch(i,o),new Promise((r,u)=>setTimeout(()=>u(new Error("Request timeout")),n))]),Dt=(i=!1)=>{const o={"Content-Type":"application/json"};if(i){const n=tn();n&&(o.Authorization=`Bearer ${n}`)}return o},Tt=async i=>{try{const o=await i.json();if(!i.ok)throw new Error(o.error||"Request failed");return o}catch(o){throw console.error("[API Error]",o),o}},Mm=["linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)","linear-gradient(135deg, #3d6a5a 0%, #2a4a40 100%)","linear-gradient(135deg, #4a6a7a 0%, #2a4a5a 100%)","linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)","linear-gradient(135deg, #6a5a4a 0%, #4a3a2a 100%)","linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)","linear-gradient(135deg, #5a4a6a 0%, #3a2a4a 100%)"],G0={game:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)",coarse:"linear-gradient(135deg, #3a5a3a 0%, #2a4a2a 100%)",sea:"linear-gradient(135deg, #2a4a5a 0%, #1a3a4a 100%)"},Em=["linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)","linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)","linear-gradient(135deg, #6a5a4a 0%, #4a3a2a 100%)","linear-gradient(135deg, #4a6a6a 0%, #2a4a4a 100%)"],K0=(i,o=10)=>{const n={},r=new Date;for(let u=0;u<60;u++){const f=new Date(r);f.setDate(f.getDate()+u);const p=f.toISOString().split("T")[0],m=f.getDay(),g=m===0||m===6,w=Math.random()>.2;Math.random()<.05?n[p]={status:"closed"}:w?n[p]={status:"available",price:g?i+o:i}:n[p]={status:"booked"}}return n},Qh={wales:"Wales",scotland:"Scotland",midlands:"Midlands","south-west":"South West","south-england":"South England","south-east":"South East","north-england":"North England",east:"East England"},Lm=(i,o=0)=>{if(i.image)return i;const n=G0[i.type]||Mm[o%Mm.length],r=i.images&&i.images.length>0;return{...i,image:r?`url(${i.images[0]})`:n,imageUrl:r?i.images[0]:null,gallery:r?i.images:i.gallery&&i.gallery.length>0?i.gallery.map(u=>typeof u=="string"?u:n):[n,n,n],shortDescription:i.shortDescription||i.description||"",fullDescription:i.fullDescription||i.description||"",location:i.location||i.townCity||i.county||Qh[i.region]||i.region||"",region:Qh[i.region]||i.region||"",reviews:i.reviews||i.reviewCount||0,reviewCount:i.reviewCount||i.reviews||0,priceType:i.priceType||"day",season:i.season||(i.seasonInfo?{info:i.seasonInfo}:null),expectations:i.expectations||{averageCatch:i.averageCatchRate||"Data not available",recordFish:i.recordFish||"Not recorded",blankRate:i.blankRate||"N/A"},amenities:i.amenities||(i.facilities||[]).map(u=>u.replace(/-/g," ").replace(/\b\w/g,f=>f.toUpperCase())),contact:i.contact||{name:i.ownerName||"Fishery Manager",email:i.ownerEmail||"",phone:i.ownerPhone||""},availability:i.availability&&Object.keys(i.availability).length>0?i.availability:K0(i.price||0),reviewsList:i.reviewsList||[],nearbyStays:i.nearbyStays||[],bookingOptions:i.bookingOptions||[],rods:i.rods||0,coordinates:i.coordinates||null,experienceLevel:i.experienceLevel||"any",waterType:i.waterType||i.waterBodyType||(i.type==="game"?"Game Water":i.type==="coarse"?"Coarse Water":"Sea Fishing")}},Om=(i,o=0)=>{if(i.image)return i;const n=Em[o%Em.length],r=i.images&&i.images.length>0;return{...i,image:r?`url(${i.images[0]})`:n,gallery:r?i.images:[n,n,n],title:i.title||(i.certifications&&i.certifications.length>0?i.certifications[0]:"Fishing Instructor"),location:i.location||Qh[i.region]||i.region||"",priceType:i.priceType||"full day",reviews:i.reviews||i.reviewCount||0,reviewCount:i.reviewCount||i.reviews||0,bio:i.bio||"",fullBio:i.fullBio||i.bio||"",specialties:i.specialties||[],certifications:i.certifications||[],hasCalendar:i.hasCalendar||!1,availability:i.availability||[],typicalDay:i.typicalDay||i.typical_day||[],reviewsList:i.reviewsList||i.reviews_list||[],whatYouLearn:i.whatYouLearn||[],equipmentProvided:i.equipmentProvided||[],teachingPhilosophy:i.teachingPhilosophy||""}},wu={login:async(i,o)=>{const n=await fetch(`${vt}/auth/login`,{method:"POST",headers:Dt(),body:JSON.stringify({email:i,password:o})}),r=await Tt(n);return Gh(r.token),r},register:async(i,o,n)=>{const r=await fetch(`${vt}/auth/register`,{method:"POST",headers:Dt(),body:JSON.stringify({email:i,password:o,name:n})}),u=await Tt(r);return Gh(u.token),u},me:async()=>{const i=await q0(`${vt}/auth/me`,{headers:Dt(!0)},1e4);return Tt(i)},updateProfile:async i=>{const o=await fetch(`${vt}/auth/profile`,{method:"PUT",headers:Dt(!0),body:JSON.stringify(i)});return Tt(o)},forgotPassword:async i=>{const o=await fetch(`${vt}/auth/forgot-password`,{method:"POST",headers:Dt(),body:JSON.stringify({email:i})});return Tt(o)},logout:()=>{Kh()}},Q0={getAll:async(i={})=>{const o=new URLSearchParams(i).toString(),n=o?`${vt}/waters?${o}`:`${vt}/waters`,r=await fetch(n,{headers:Dt(!0)});return((await Tt(r)).waters||[]).map((f,p)=>Lm(f,p))},getById:async i=>{const o=await fetch(`${vt}/waters/${i}`,{headers:Dt()}),n=await Tt(o);return Lm(n.water)}},X0={getAll:async(i={})=>{const o=new URLSearchParams(i).toString(),n=o?`${vt}/instructors?${o}`:`${vt}/instructors`,r=await fetch(n,{headers:Dt(!0)});return((await Tt(r)).instructors||[]).map((f,p)=>Om(f,p))},getById:async i=>{const o=await fetch(`${vt}/instructors/${i}`,{headers:Dt()}),n=await Tt(o);return Om(n.instructor)}},Vg={water:async i=>{const o=await fetch(`${vt}/register/water`,{method:"POST",headers:Dt(),body:JSON.stringify(i)});return Tt(o)},instructor:async i=>{const o=await fetch(`${vt}/register/instructor`,{method:"POST",headers:Dt(),body:JSON.stringify(i)});return Tt(o)}},ji={getStats:async()=>{const i=await fetch(`${vt}/admin/stats`,{headers:Dt(!0)});return Tt(i)},getPending:async()=>{const i=await fetch(`${vt}/admin/pending`,{headers:Dt(!0)});return Tt(i)},getUsers:async()=>{const i=await fetch(`${vt}/admin/users`,{headers:Dt(!0)});return Tt(i)},getWaters:async()=>{const i=await fetch(`${vt}/admin/waters`,{headers:Dt(!0)});return Tt(i)},getInstructors:async()=>{const i=await fetch(`${vt}/admin/instructors`,{headers:Dt(!0)});return Tt(i)},approveWater:async i=>{const o=await fetch(`${vt}/admin/approve/water/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},rejectWater:async i=>{const o=await fetch(`${vt}/admin/reject/water/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},approveInstructor:async i=>{const o=await fetch(`${vt}/admin/approve/instructor/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},rejectInstructor:async i=>{const o=await fetch(`${vt}/admin/reject/instructor/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},updateWater:async(i,o)=>{const n=await fetch(`${vt}/admin/waters/${i}`,{method:"PUT",headers:Dt(!0),body:JSON.stringify(o)});return Tt(n)},deleteWater:async i=>{const o=await fetch(`${vt}/admin/waters/${i}`,{method:"DELETE",headers:Dt(!0)});return Tt(o)}};var J0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ev=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(i,o)=>{const n=C.forwardRef(({color:r="currentColor",size:u=24,strokeWidth:f=2,absoluteStrokeWidth:p,className:m="",children:g,...w},_)=>C.createElement("svg",{ref:_,...J0,width:u,height:u,stroke:r,strokeWidth:p?Number(f)*24/Number(u):f,className:["lucide",`lucide-${ev(i)}`,m].join(" "),...w},[...o.map(([N,E])=>C.createElement(N,E)),...Array.isArray(g)?g:[g]]));return n.displayName=`${i}`,n};const tv=Te("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);const nv=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Cu=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Rl=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const jn=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const ou=Te("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);const rv=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const lu=Te("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const Xh=Te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const Oi=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const sv=Te("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const Zt=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Or=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Sa=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const cs=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Jh=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Zl=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const tr=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Rm=Te("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const Il=Te("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const qg=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Gg=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Zu=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Lt=Te("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);const iv=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Mh=Te("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);const ss=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const cu=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Im=Te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const Ri=Te("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const av=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Kg=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const us=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Sn=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const ov=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Al=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const lv=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Pu=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const _p=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Du=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const cv=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Tu=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Am=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Qg=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const uv=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Do=Te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const Xg=Te("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const vr=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const dv=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const hv=Te("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);const pv=Te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const Fl=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const fv=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const mv=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Vu=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Pi=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const gv=Te("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);const ds=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Ar=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xv=({currentTab:i,setCurrentTab:o,setCurrentPage:n,user:r,setUser:u,onSignIn:f,onListWater:p,onListInstructor:m,onProfile:g})=>{const[w,_]=C.useState(!1),[N,E]=C.useState(!1),D=C.useRef(null);return C.useEffect(()=>{const T=S=>{D.current&&!D.current.contains(S.target)&&E(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]),s.jsxs("nav",{className:"bg-white border-b border-stone-200 sticky top-0 z-40 shadow-sm",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex justify-between h-16",children:[s.jsxs("button",{onClick:()=>{n("home"),o("waters")},className:"flex items-center space-x-2 text-brand-700 hover:text-brand-800",children:[s.jsx(Lt,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xl font-bold",children:"TightLines"})]}),s.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[s.jsx("button",{onClick:()=>{n("search"),o("waters")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="waters"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"Find Waters"}),s.jsx("button",{onClick:()=>{n("instructors"),o("instructors")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="instructors"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"Instructors"}),s.jsx("div",{className:"w-px h-6 bg-stone-200 mx-2"}),s.jsx("button",{onClick:()=>{n("about"),o("about")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="about"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"About"}),s.jsx("button",{onClick:()=>{n("contact"),o("contact")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="contact"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"Contact"}),s.jsx("div",{className:"w-px h-6 bg-stone-200 mx-2"}),s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"px-4 py-2 text-sm font-medium text-stone-600 hover:text-brand-700 transition flex items-center gap-1",children:["List Your...",s.jsx(Sa,{className:"w-3.5 h-3.5"})]}),s.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-stone-200 rounded-xl shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-150 z-50",children:[s.jsx("button",{onClick:p,className:"block w-full text-left px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 rounded-t-xl",children:"List Your Water"}),s.jsx("button",{onClick:m,className:"block w-full text-left px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 rounded-b-xl border-t border-stone-100",children:"Become an Instructor"})]})]}),r?s.jsxs("div",{className:"relative ml-2",ref:D,children:[s.jsxs("button",{onClick:()=>E(!N),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-stone-50 transition",children:[r.role==="admin"&&s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-amber-100 text-amber-700 rounded-full",children:"Admin"}),s.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium",children:(r.name||r.email||"?")[0].toUpperCase()}),s.jsx("span",{className:"text-sm font-medium max-w-[100px] truncate",children:r.name||r.email}),s.jsx(Sa,{className:`w-3.5 h-3.5 text-stone-400 transition ${N?"rotate-180":""}`})]}),N&&s.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white border border-stone-200 rounded-xl shadow-lg z-50 py-1",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-stone-100",children:[s.jsx("p",{className:"text-sm font-medium text-stone-900",children:r.name||r.email}),s.jsx("p",{className:"text-xs text-stone-500",children:r.email})]}),s.jsxs("button",{onClick:()=>{g(),E(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[s.jsx(Vu,{className:"w-4 h-4 text-stone-400"}),"My Profile"]}),(r.role==="water_owner"||r.role==="pending_water_owner"||r.hasWaters)&&s.jsxs("button",{onClick:()=>{n("water-dashboard"),E(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[s.jsx(Il,{className:"w-4 h-4 text-stone-400"}),"My Waters"]}),(r.role==="instructor"||r.role==="pending_instructor"||r.hasInstructorProfile)&&s.jsxs("button",{onClick:()=>{n("instructor-dashboard"),E(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[s.jsx(jn,{className:"w-4 h-4 text-stone-400"}),"Instructor Dashboard"]}),r.role==="admin"&&s.jsxs("button",{onClick:()=>{n("admin"),E(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[s.jsx(Do,{className:"w-4 h-4 text-stone-400"}),"Admin Dashboard"]}),s.jsx("div",{className:"border-t border-stone-100 mt-1 pt-1",children:s.jsxs("button",{onClick:()=>{u(),E(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50",children:[s.jsx(Kg,{className:"w-4 h-4"}),"Sign out"]})})]})]}):s.jsx("button",{onClick:f,className:"ml-2 px-4 py-2 bg-brand-700 text-white rounded-lg text-sm font-medium hover:bg-brand-800 transition",children:"Sign In"})]}),s.jsx("button",{onClick:()=>_(!w),className:"md:hidden p-2",children:w?s.jsx(Ar,{className:"w-6 h-6"}):s.jsx(ov,{className:"w-6 h-6"})})]})}),w&&s.jsxs("div",{className:"md:hidden bg-white border-t border-stone-200 py-2",children:[s.jsx("button",{onClick:()=>{n("search"),o("waters"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Find Waters"}),s.jsx("button",{onClick:()=>{n("instructors"),o("instructors"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Instructors"}),s.jsx("button",{onClick:()=>{n("about"),o("about"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"About"}),s.jsx("button",{onClick:()=>{n("contact"),o("contact"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Contact"}),s.jsxs("div",{className:"border-t border-stone-100 mt-1 pt-1",children:[s.jsx("button",{onClick:()=>{p(),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"List Your Water"}),s.jsx("button",{onClick:()=>{m(),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Become an Instructor"})]}),r?s.jsxs("div",{className:"px-4 py-3 border-t border-stone-200",children:[s.jsxs("button",{onClick:()=>{g(),_(!1)},className:"flex items-center gap-2 w-full",children:[s.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium",children:(r.name||r.email||"?")[0].toUpperCase()}),s.jsxs("div",{className:"text-left",children:[s.jsx("span",{className:"text-sm font-medium block",children:r.name||r.email}),s.jsx("span",{className:"text-xs text-stone-500",children:"View profile"})]})]}),(r.role==="water_owner"||r.role==="pending_water_owner"||r.hasWaters)&&s.jsx("button",{onClick:()=>{n("water-dashboard"),_(!1)},className:"mt-2 block text-sm text-brand-700 font-medium",children:"My Waters"}),(r.role==="instructor"||r.role==="pending_instructor"||r.hasInstructorProfile)&&s.jsx("button",{onClick:()=>{n("instructor-dashboard"),_(!1)},className:"mt-2 block text-sm text-brand-700 font-medium",children:"Instructor Dashboard"}),r.role==="admin"&&s.jsx("button",{onClick:()=>{n("admin"),_(!1)},className:"mt-2 block text-sm text-amber-700 font-medium",children:"Admin Dashboard"}),s.jsx("button",{onClick:()=>{u(),_(!1)},className:"mt-2 text-sm text-red-500 hover:text-red-700",children:"Sign out"})]}):s.jsx("button",{onClick:()=>{f(),_(!1)},className:"block w-full text-left px-4 py-3 text-brand-700 font-medium border-t border-stone-200",children:"Sign In"})]})]})},vv=({isOpen:i,onClose:o,onSignIn:n})=>{const[r,u]=C.useState("signin"),[f,p]=C.useState(""),[m,g]=C.useState(""),[w,_]=C.useState(""),[N,E]=C.useState(!1),[D,T]=C.useState(""),[S,P]=C.useState(!1),[U,O]=C.useState("");if(!i)return null;const Y=async A=>{if(A.preventDefault(),T(""),!f||!m){T("Please fill in all fields");return}if(r==="register"&&!w){T("Please enter your name");return}if(r==="register"&&m.length<6){T("Password must be at least 6 characters");return}E(!0);try{let q;r==="signin"?q=await wu.login(f,m):q=await wu.register(f,m,w),n(q.user),$()}catch(q){T(q.message||"Something went wrong. Please try again.")}E(!1)},ee=async A=>{if(A.preventDefault(),!f){T("Please enter your email address");return}E(!0),T("");try{const q=await wu.forgotPassword(f);O(q.message||"Check your email for a new password.")}catch(q){T(q.message||"Something went wrong.")}E(!1)},$=()=>{u("signin"),p(""),g(""),_(""),T(""),P(!1),O(""),o()};return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[s.jsx("button",{onClick:$,className:"absolute top-4 right-4 text-stone-400 hover:text-stone-600",children:s.jsx(Ar,{className:"w-5 h-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-xl flex items-center justify-center mx-auto mb-3 text-brand-700",children:s.jsx(Lt,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold",children:S?"Reset Password":r==="signin"?"Welcome back":"Create account"}),s.jsx("p",{className:"text-stone-500 text-sm mt-1",children:S?"Enter your email and we'll send a new password":r==="signin"?"Sign in to manage your bookings":"Join thousands of anglers"})]}),D&&s.jsx("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg mb-4",children:D}),U&&s.jsx("div",{className:"bg-green-50 text-green-700 text-sm p-3 rounded-lg mb-4",children:U}),S?s.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:s.jsx(us,{className:"w-5 h-5"})}),s.jsx("input",{type:"email",value:f,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"you@example.com"})]})]}),s.jsx("button",{type:"submit",disabled:N,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 transition",children:N?"Sending...":"Reset Password"}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:()=>{P(!1),T(""),O("")},className:"text-sm text-brand-700 hover:underline",children:"Back to sign in"})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[r==="register"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:s.jsx(Vu,{className:"w-5 h-5"})}),s.jsx("input",{type:"text",value:w,onChange:A=>_(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"John Smith"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:s.jsx(us,{className:"w-5 h-5"})}),s.jsx("input",{type:"email",value:f,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"you@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:s.jsx(av,{className:"w-5 h-5"})}),s.jsx("input",{type:"password",value:m,onChange:A=>g(A.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:""})]})]}),s.jsx("button",{type:"submit",disabled:N,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 transition",children:N?"Please wait...":r==="signin"?"Sign In":"Create Account"})]}),r==="signin"&&s.jsx("div",{className:"text-center mt-3",children:s.jsx("button",{onClick:()=>{P(!0),T("")},className:"text-sm text-stone-500 hover:text-brand-700",children:"Forgot your password?"})}),s.jsx("div",{className:"mt-6 text-center text-sm",children:r==="signin"?s.jsxs("p",{className:"text-stone-600",children:["Don't have an account?"," ",s.jsx("button",{onClick:()=>{u("register"),T("")},className:"text-brand-700 font-medium hover:underline",children:"Sign up"})]}):s.jsxs("p",{className:"text-stone-600",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>{u("signin"),T("")},className:"text-brand-700 font-medium hover:underline",children:"Sign in"})]})})]})]})})},Ca=[{id:"scotland",name:"Scotland",waters:156,image:"linear-gradient(135deg, #1e3a5f 0%, #0c1929 100%)",description:"Legendary salmon rivers & wild lochs"},{id:"wales",name:"Wales",waters:89,image:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)",description:"Pristine rivers & reservoir trout"},{id:"southwest",name:"South West",waters:124,image:"linear-gradient(135deg, #4a6a5a 0%, #2a4a3a 100%)",description:"Wild moorland streams & sea fishing"},{id:"south",name:"South",waters:98,image:"linear-gradient(135deg, #3a6a5a 0%, #1a4a3a 100%)",description:"Famous chalk streams"},{id:"southeast",name:"South East",waters:142,image:"linear-gradient(135deg, #5a7a6a 0%, #3a5a4a 100%)",description:"Specimen carp & commercial fisheries"},{id:"midlands",name:"Midlands",waters:167,image:"linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)",description:"Canal fishing & mixed coarse"},{id:"north",name:"North",waters:134,image:"linear-gradient(135deg, #3a5a6a 0%, #1a3a4a 100%)",description:"Wild brown trout & grayling"},{id:"eastanglia",name:"East Anglia",waters:78,image:"linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)",description:"Broads pike & specimen tench"}],Jg=[{name:"Atlantic Salmon",type:"game",icon:"",waters:89},{name:"Brown Trout",type:"game",icon:"",waters:234},{name:"Rainbow Trout",type:"game",icon:"",waters:312},{name:"Grayling",type:"game",icon:"",waters:67},{name:"Common Carp",type:"coarse",icon:"",waters:445},{name:"Pike",type:"coarse",icon:"",waters:189},{name:"Tench",type:"coarse",icon:"",waters:156},{name:"Barbel",type:"coarse",icon:"",waters:78},{name:"Perch",type:"coarse",icon:"",waters:234},{name:"Bream",type:"coarse",icon:"",waters:198},{name:"Bass",type:"sea",icon:"",waters:56},{name:"Cod",type:"sea",icon:"",waters:34}],yv=[{name:"David Hughes",location:"Manchester",text:"Found my dream salmon beat through TightLines. The booking was seamless and the beat exceeded expectations. Already planning my return!",rating:5,fishery:"River Wye"},{name:"Emma Richardson",location:"Bristol",text:"As a beginner, I was nervous about booking. TightLines made it easy to find beginner-friendly waters. Now I'm hooked!",rating:5,fishery:"Chew Valley Lake"},{name:"James Cooper",location:"London",text:"The instructor booking feature is brilliant. Sarah's course transformed my casting in just one day.",rating:5,instructor:"Sarah Thornton"}],Eh=[{id:"day-tickets",label:"Day Tickets & Passes",description:"Day ticket, half-day, evening, season ticket, syndicate membership"},{id:"guided",label:"Guided Experiences",description:"Guided sessions, tuition, corporate days, group bookings"},{id:"accommodation",label:"Accommodation Packages",description:"Lodge stays, camping, cabin + fishing combos"},{id:"extras",label:"Extras & Add-ons",description:"Tackle hire, bait shop, boat hire, ghillie service"}],bv={"day-tickets":[{name:"Day Ticket",description:"Full day fishing access",suggestedPrice:""},{name:"Half-Day Ticket",description:"Morning or afternoon session",suggestedPrice:""},{name:"Evening Ticket",description:"Evening fishing session",suggestedPrice:""},{name:"Season Ticket",description:"Full season access",suggestedPrice:""},{name:"Syndicate Membership",description:"Annual membership with exclusive access",suggestedPrice:""}],guided:[{name:"Guided Session (Half Day)",description:"Half-day with an expert guide",suggestedPrice:""},{name:"Guided Session (Full Day)",description:"Full day with an expert guide",suggestedPrice:""},{name:"1-to-1 Tuition",description:"Private lesson with a qualified instructor",suggestedPrice:""},{name:"Group Booking",description:"Guided session for groups",suggestedPrice:""},{name:"Corporate Day",description:"Corporate entertainment package",suggestedPrice:""}],accommodation:[{name:"Lodge & Fishing",description:"On-site lodge with fishing included",suggestedPrice:""},{name:"Cabin Stay",description:"Lakeside cabin with fishing access",suggestedPrice:""},{name:"Camping & Fishing",description:"Camping pitch with day ticket included",suggestedPrice:""},{name:"B&B Package",description:"Nearby B&B with fishing package",suggestedPrice:""}],extras:[{name:"Tackle Hire",description:"Rod, reel and basic tackle provided",suggestedPrice:""},{name:"Boat Hire",description:"Rowing boat or punt for the day",suggestedPrice:""},{name:"Ghillie Service",description:"Personal ghillie for the day",suggestedPrice:""},{name:"Bait Package",description:"Selection of bait for the session",suggestedPrice:""}]},Fm=()=>({id:Date.now()+Math.random(),category:"day-tickets",name:"",description:"",price:"",priceType:"day",bookingType:"instant"}),wv=({isOpen:i,onClose:o})=>{const[n,r]=C.useState(1),[u,f]=C.useState({name:"",type:"game",location:"",region:"",description:"",species:[],amenities:[],bookingOptions:[],contactName:"",contactEmail:"",contactPhone:""}),[p,m]=C.useState(!1),[g,w]=C.useState(!1),[_,N]=C.useState(null),[E,D]=C.useState(null),[T,S]=C.useState(null),[P,U]=C.useState(null);if(!i)return null;const O=(M,H)=>f({...u,[M]:H}),Y=M=>{u.species.includes(M)?O("species",u.species.filter(H=>H!==M)):O("species",[...u.species,M])},ee=M=>{u.amenities.includes(M)?O("amenities",u.amenities.filter(H=>H!==M)):O("amenities",[...u.amenities,M])},$=()=>{const M=Fm();f({...u,bookingOptions:[...u.bookingOptions,M]}),D(M.id)},A=(M,H)=>{const Z={...Fm(),category:M,name:H.name,description:H.description,price:H.suggestedPrice};f({...u,bookingOptions:[...u.bookingOptions,Z]}),D(Z.id),S(null)},q=(M,H,Z)=>{f({...u,bookingOptions:u.bookingOptions.map(G=>G.id===M?{...G,[H]:Z}:G)})},ae=M=>{f({...u,bookingOptions:u.bookingOptions.filter(H=>H.id!==M)}),E===M&&D(null)},fe=async()=>{N(null),w(!0);try{const M={ownerName:u.contactName,ownerEmail:u.contactEmail,ownerPhone:u.contactPhone,waterName:u.name,waterType:u.type,region:u.region,description:u.description,species:u.species,facilities:u.amenities,bookingOptions:u.bookingOptions.map(H=>({category:H.category,name:H.name,description:H.description||"",price:H.price,priceType:H.priceType,bookingType:H.bookingType||"enquiry"}))};await Vg.water(M),m(!0)}catch(M){N(M.message||"Failed to submit listing")}finally{w(!1)}},de=()=>{o(),m(!1),r(1),f({name:"",type:"game",location:"",region:"",description:"",species:[],amenities:[],bookingOptions:[],contactName:"",contactEmail:"",contactPhone:""}),D(null),S(null)},xe=u.bookingOptions.length>0&&u.bookingOptions.every(M=>M.name&&M.price);return p?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:s.jsx(Or,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Submission Received!"}),s.jsxs("p",{className:"text-stone-600 mb-2",children:["Thank you for listing ",u.name,". Our team will review your submission and be in touch within 48 hours."]}),s.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:[u.bookingOptions.length," booking option",u.bookingOptions.length!==1?"s":""," submitted."]}),s.jsx("button",{onClick:de,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Done"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 my-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"List Your Water"}),s.jsxs("p",{className:"text-stone-500 text-sm",children:["Step ",n," of 4"]})]}),s.jsx("button",{onClick:de,className:"text-stone-400 hover:text-stone-600",children:s.jsx(Ar,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3,4].map(M=>s.jsx("div",{className:`flex-1 h-2 rounded-full ${M<=n?"bg-brand-600":"bg-stone-200"}`},M))}),n===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Basic Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Water Name *"}),s.jsx("input",{type:"text",value:u.name,onChange:M=>O("name",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"e.g. River Test - Manor Beat"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Type *"}),s.jsxs("select",{value:u.type,onChange:M=>O("type",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[s.jsx("option",{value:"game",children:"Game Fishing"}),s.jsx("option",{value:"coarse",children:"Coarse Fishing"}),s.jsx("option",{value:"sea",children:"Sea Fishing"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region *"}),s.jsxs("select",{value:u.region,onChange:M=>O("region",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[s.jsx("option",{value:"",children:"Select region"}),Ca.map(M=>s.jsx("option",{value:M.id,children:M.name},M.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Location / Nearest Town *"}),s.jsx("input",{type:"text",value:u.location,onChange:M=>O("location",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"e.g. Stockbridge, Hampshire"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Description *"}),s.jsx("textarea",{rows:4,value:u.description,onChange:M=>O("description",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Describe your water, what makes it special, what anglers can expect..."})]})]}),n===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Species & Facilities"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Species Available (select all that apply)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Atlantic Salmon","Brown Trout","Rainbow Trout","Grayling","Carp","Pike","Tench","Barbel","Perch","Bream","Roach","Chub"].map(M=>s.jsx("button",{type:"button",onClick:()=>Y(M),className:`px-3 py-1.5 rounded-full text-sm transition ${u.species.includes(M)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:M},M))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Amenities (select all that apply)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Parking","Toilets","Fishing hut","Caf/Lodge","Tackle shop","Boat hire","Ghillie/Guide","Night fishing","Disabled access","Dog friendly"].map(M=>s.jsx("button",{type:"button",onClick:()=>ee(M),className:`px-3 py-1.5 rounded-full text-sm transition ${u.amenities.includes(M)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:M},M))})]})]}),n===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"What Can Anglers Book?"}),s.jsx("p",{className:"text-stone-500 text-sm mt-1",children:"Add all the different things anglers can book or enquire about. You need at least one option."})]}),u.bookingOptions.length>0&&s.jsx("div",{className:"space-y-3",children:u.bookingOptions.map(M=>s.jsxs("div",{className:"border border-stone-200 rounded-xl overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 cursor-pointer hover:bg-stone-100 transition",onClick:()=>D(E===M.id?null:M.id),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${M.category==="day-tickets"?"bg-brand-100 text-brand-700":M.category==="guided"?"bg-amber-100 text-amber-700":M.category==="accommodation"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:Eh.find(H=>H.id===M.category)?.label||M.category}),s.jsx("span",{className:"font-medium text-stone-800",children:M.name||"Untitled option"}),M.price&&s.jsxs("span",{className:"text-stone-500 text-sm",children:["",M.price,"/",M.priceType]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${M.bookingType==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:M.bookingType==="instant"?"Instant Book":"Enquiry"}),E===M.id?s.jsx(Zl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Sa,{className:"w-4 h-4 text-stone-400"})]})]}),E===M.id&&s.jsxs("div",{className:"p-4 space-y-3 border-t border-stone-200",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Category"}),s.jsx("select",{value:M.category,onChange:H=>q(M.id,"category",H.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",children:Eh.map(H=>s.jsx("option",{value:H.id,children:H.label},H.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Booking Type"}),s.jsxs("select",{value:M.bookingType,onChange:H=>q(M.id,"bookingType",H.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",children:[s.jsx("option",{value:"instant",children:"Instant Book"}),s.jsx("option",{value:"enquiry",children:"Enquiry Only"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Option Name *"}),s.jsx("input",{type:"text",value:M.name,onChange:H=>q(M.id,"name",H.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",placeholder:"e.g. Day Ticket, Guided Session, Lodge Stay"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Description"}),s.jsx("textarea",{rows:2,value:M.description,onChange:H=>q(M.id,"description",H.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",placeholder:"What's included in this option?"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Price () *"}),s.jsx("input",{type:"number",value:M.price,onChange:H=>q(M.id,"price",H.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",placeholder:"45"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Price Per"}),s.jsxs("select",{value:M.priceType,onChange:H=>q(M.id,"priceType",H.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",children:[s.jsx("option",{value:"day",children:"Per Day"}),s.jsx("option",{value:"half-day",children:"Per Half Day"}),s.jsx("option",{value:"session",children:"Per Session"}),s.jsx("option",{value:"night",children:"Per Night"}),s.jsx("option",{value:"person",children:"Per Person"}),s.jsx("option",{value:"season",children:"Per Season"}),s.jsx("option",{value:"year",children:"Per Year"})]})]})]}),s.jsxs("button",{onClick:()=>ae(M.id),className:"flex items-center gap-1 text-red-500 text-sm hover:text-red-700 transition mt-2",children:[s.jsx(Fl,{className:"w-3.5 h-3.5"}),"Remove this option"]})]})]},M.id))}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Eh.map(M=>s.jsxs("div",{className:"relative",children:[s.jsxs("button",{type:"button",onClick:()=>S(T===M.id?null:M.id),className:`w-full text-left px-3 py-2.5 rounded-xl border text-sm transition ${T===M.id?"border-brand-300 bg-brand-50 text-brand-700":"border-stone-200 hover:border-brand-300 hover:bg-brand-50 text-stone-700"}`,children:[s.jsx("span",{className:"font-medium block",children:M.label}),s.jsx("span",{className:"text-xs text-stone-500 block mt-0.5",children:M.description})]}),T===M.id&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-stone-200 rounded-xl shadow-lg z-10 overflow-hidden",children:bv[M.id].map((H,Z)=>{const G=u.bookingOptions.some(ie=>ie.name===H.name&&ie.category===M.id);return s.jsxs("button",{type:"button",disabled:G,onClick:()=>A(M.id,H),className:`w-full text-left px-3 py-2 text-sm border-b border-stone-100 last:border-0 ${G?"text-stone-400 bg-stone-50 cursor-not-allowed":"hover:bg-brand-50 text-stone-700"}`,children:[s.jsx("span",{className:"font-medium",children:H.name}),G&&s.jsx("span",{className:"text-xs ml-2 text-stone-400",children:"(added)"}),s.jsx("span",{className:"block text-xs text-stone-500",children:H.description})]},Z)})})]},M.id))}),s.jsxs("button",{type:"button",onClick:$,className:"w-full py-2.5 border-2 border-dashed border-stone-300 rounded-xl text-stone-500 hover:border-brand-400 hover:text-brand-600 transition flex items-center justify-center gap-2 text-sm",children:[s.jsx(Du,{className:"w-4 h-4"}),"Add Custom Option"]})]}),u.bookingOptions.length===0&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 text-sm text-amber-700",children:"Choose from the categories above or add a custom option. You need at least one booking option to continue."})]}),n===4&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Contact Details"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"We'll use these details to contact you about your listing."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Name *"}),s.jsx("input",{type:"text",value:u.contactName,onChange:M=>O("contactName",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:u.contactEmail,onChange:M=>O("contactEmail",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:u.contactPhone,onChange:M=>O("contactPhone",M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"07123 456789"})]}),s.jsxs("div",{className:"bg-brand-50 p-4 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-brand-800 mb-2",children:"Listing Summary"}),s.jsxs("div",{className:"text-sm text-brand-700 space-y-1",children:[s.jsxs("p",{children:[" ",u.name,"  ",u.region]}),s.jsxs("p",{children:[" ",u.bookingOptions.length," booking option",u.bookingOptions.length!==1?"s":""]}),u.bookingOptions.map((M,H)=>s.jsxs("p",{className:"ml-4 text-brand-600",children:[M.name,"  ",M.price,"/",M.priceType," (",M.bookingType,")"]},H))]})]}),s.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-stone-700 mb-2",children:"What happens next?"}),s.jsxs("ul",{className:"text-sm text-stone-600 space-y-1",children:[s.jsx("li",{children:" We'll review your submission within 48 hours"}),s.jsx("li",{children:" Our team may contact you for additional details"}),s.jsx("li",{children:" Once approved, your water goes live on TightLines"}),s.jsx("li",{children:" You'll get a dashboard to manage bookings"})]})]})]}),_&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:_}),s.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t border-stone-200",children:[n>1?s.jsx("button",{onClick:()=>{r(n-1),S(null)},className:"px-6 py-2.5 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Back"}):s.jsx("div",{}),n<4?s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[P&&s.jsx("p",{className:"text-xs text-red-600",children:P}),s.jsx("button",{onClick:()=>{if(n===1&&(!u.name.trim()||!u.region)){U("Please fill in the water name and region.");return}if(n===3&&!xe){U("Please add at least one booking option with a name and price.");return}U(null),r(n+1),S(null)},className:`px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 ${n===3&&!xe?"opacity-70":""}`,children:"Continue"})]}):s.jsx("button",{onClick:fe,disabled:g,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Submitting...":"Submit Listing"})]})]})})},_v=["Fly Fishing","Salmon","Trout","Sea Fishing","Bass","Shore Fishing","Carp Fishing","Coarse","Beginners","Fly Tying","Women's Courses","Kids/Juniors","Pike","Barbel"],kv=["AAPGAI","AAPGAI Master","GAIA","GAIA Advanced","SGAIC","Angling Trust Level 2","Angling Trust Level 3","First Aid","DBS Checked","River Rescue"],Nv=[{id:"weekdays",label:"Weekdays"},{id:"weekends",label:"Weekends"},{id:"evenings",label:"Evenings"}],jv=({isOpen:i,onClose:o})=>{const[n,r]=C.useState(1),[u,f]=C.useState({name:"",email:"",phone:"",region:"",experience:"",specialties:[],certifications:[],availability:[],price:"",bio:"",whatYouLearn:""}),[p,m]=C.useState(!1),[g,w]=C.useState(null),[_,N]=C.useState(!1),[E,D]=C.useState(null);if(!i)return null;const T=(A,q)=>f({...u,[A]:q}),S=A=>{u.specialties.includes(A)?T("specialties",u.specialties.filter(q=>q!==A)):T("specialties",[...u.specialties,A])},P=A=>{u.certifications.includes(A)?T("certifications",u.certifications.filter(q=>q!==A)):T("certifications",[...u.certifications,A])},U=A=>{u.availability.includes(A)?T("availability",u.availability.filter(q=>q!==A)):T("availability",[...u.availability,A])},O=async()=>{w(null),N(!0);try{const A={name:u.name,email:u.email,phone:u.phone,region:u.region,experience:u.experience,specialties:u.specialties,certifications:u.certifications,availability:u.availability,price:u.price?parseFloat(u.price):null,bio:u.bio,whatYouLearn:u.whatYouLearn};await Vg.instructor(A),m(!0)}catch(A){w(A.message||"Failed to submit registration")}finally{N(!1)}},Y=()=>{o(),m(!1),r(1),w(null),f({name:"",email:"",phone:"",region:"",experience:"",specialties:[],certifications:[],availability:[],price:"",bio:"",whatYouLearn:""})},ee=u.name.trim()&&u.email.trim(),$=u.specialties.length>0;return p?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:s.jsx(Or,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Submission Received!"}),s.jsx("p",{className:"text-stone-600 mb-2",children:"Thank you for registering as an instructor on TightLines. Our team will review your profile and be in touch within 48 hours."}),s.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["A confirmation email has been sent to ",u.email,"."]}),s.jsx("button",{onClick:Y,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Done"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 my-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Register as an Instructor"}),s.jsxs("p",{className:"text-stone-500 text-sm",children:["Step ",n," of 3"]})]}),s.jsx("button",{onClick:Y,className:"text-stone-400 hover:text-stone-600",children:s.jsx(Ar,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3].map(A=>s.jsx("div",{className:`flex-1 h-2 rounded-full ${A<=n?"bg-brand-600":"bg-stone-200"}`},A))}),g&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mb-4 text-sm text-red-700",children:g}),n===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Personal Information"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Full Name *"}),s.jsx("input",{type:"text",value:u.name,onChange:A=>T("name",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:u.email,onChange:A=>T("email",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:u.phone,onChange:A=>T("phone",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"07123 456789"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region"}),s.jsxs("select",{value:u.region,onChange:A=>T("region",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[s.jsx("option",{value:"",children:"Select region"}),Ca.map(A=>s.jsx("option",{value:A.id,children:A.name},A.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Years of Experience"}),s.jsx("input",{type:"number",value:u.experience,onChange:A=>T("experience",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"10",min:"0"})]})]})]}),n===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Your Expertise"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Specialties (select all that apply) *"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:_v.map(A=>s.jsx("button",{type:"button",onClick:()=>S(A),className:`px-3 py-1.5 rounded-full text-sm transition ${u.specialties.includes(A)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:A},A))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Certifications (select all that apply)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:kv.map(A=>s.jsx("button",{type:"button",onClick:()=>P(A),className:`px-3 py-1.5 rounded-full text-sm transition ${u.certifications.includes(A)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:A},A))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Availability"}),s.jsx("div",{className:"space-y-2",children:Nv.map(A=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:u.availability.includes(A.id),onChange:()=>U(A.id),className:"w-4 h-4 rounded border-stone-300 text-brand-600"}),s.jsx("span",{className:"text-sm text-stone-700",children:A.label})]},A.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Price per Day ()"}),s.jsx("input",{type:"number",value:u.price,onChange:A=>T("price",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"150",min:"0",step:"0.01"})]})]}),n===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"About You"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Bio"}),s.jsx("textarea",{rows:4,value:u.bio,onChange:A=>T("bio",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Describe your teaching style, background, and what makes you unique..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"What Students Will Learn"}),s.jsx("textarea",{rows:4,value:u.whatYouLearn,onChange:A=>T("whatYouLearn",A.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Outline the key skills and knowledge your students will gain from your courses..."})]}),s.jsxs("div",{className:"bg-brand-50 p-4 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-brand-800 mb-2",children:"Profile Summary"}),s.jsxs("div",{className:"text-sm text-brand-700 space-y-1",children:[s.jsxs("p",{children:[" ",u.name,"  ",Ca.find(A=>A.id===u.region)?.name||"No region"]}),s.jsxs("p",{children:[" ",u.experience," years experience"]}),s.jsxs("p",{children:[" ",u.specialties.length," specialt",u.specialties.length!==1?"ies":"y"]}),s.jsxs("p",{children:[" ",u.price||"0"," per day"]}),u.certifications.length>0&&s.jsxs("p",{children:[" ",u.certifications.length," certification",u.certifications.length!==1?"s":""]})]})]}),s.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl",children:[s.jsx("h4",{className:"font-medium text-stone-700 mb-2",children:"What Happens Next?"}),s.jsxs("ul",{className:"text-sm text-stone-600 space-y-1",children:[s.jsx("li",{children:" We'll review your profile within 48 hours"}),s.jsx("li",{children:" Our team may contact you for additional details"}),s.jsx("li",{children:" Once approved, your profile goes live on TightLines"}),s.jsx("li",{children:" You'll get a dashboard to manage bookings and availability"})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t border-stone-200",children:[n>1?s.jsx("button",{onClick:()=>r(n-1),className:"px-6 py-2.5 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Back"}):s.jsx("div",{}),n<3?s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[E&&s.jsx("p",{className:"text-xs text-red-600",children:E}),s.jsx("button",{onClick:()=>{if(!(n===1?ee:n===2?$:!0)){n===1&&D("Please fill in your name and email to continue."),n===2&&D("Please select at least one specialty to continue.");return}D(null),r(n+1)},className:`px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 ${(n===1?!ee:n===2&&!$)?"opacity-70":""}`,children:"Continue"})]}):s.jsx("button",{onClick:O,disabled:_,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Submitting...":"Submit Registration"})]})]})})},Sv={game:"bg-blue-50 text-blue-700",coarse:"bg-green-50 text-green-700",sea:"bg-cyan-50 text-cyan-700"},Cv={game:"Game",coarse:"Coarse",sea:"Sea"},ex=({fishery:i,onClick:o,isFavourite:n,onToggleFavourite:r})=>{const u=i.bookingOptions&&i.bookingOptions.length>0,f=()=>{if(!u)return i.price;const N=i.bookingOptions.map(E=>parseInt(E.price)).filter(E=>!isNaN(E)&&E>0);return N.length>0?Math.min(...N):i.price},p=()=>{if(!u)return i.priceType;const N=f();return i.bookingOptions.find(D=>parseInt(D.price)===N)?.priceType||"day"},m=u?i.bookingOptions.length:0,g=u?i.bookingOptions.some(N=>N.bookingType==="instant"):i.bookingType==="instant",w=!u&&i.bookingType==="free",_=f();return s.jsxs("div",{onClick:o,className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-200 hover:shadow-lg hover:border-stone-300 transition-all cursor-pointer group",children:[s.jsxs("div",{className:"h-48 relative",style:{background:i.image},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),s.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${Sv[i.type]}`,children:Cv[i.type]}),i.topRated&&s.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:"Top Rated"})]}),r&&s.jsx("button",{onClick:N=>{N.stopPropagation(),r(i.id)},className:"absolute top-3 right-3 z-10 w-9 h-9 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center hover:bg-white transition shadow-sm",children:s.jsx(ss,{className:`w-5 h-5 transition ${n?"fill-red-500 text-red-500":"text-stone-600"}`})}),s.jsxs("div",{className:`absolute ${r?"top-14":"top-3"} right-3 flex flex-col gap-1 items-end`,children:[g&&s.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-brand-500 text-white",children:"Instant Book"}),w&&s.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-green-500 text-white",children:"Free Access"}),m>1&&s.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-white/90 text-stone-700",children:[m," options"]})]}),s.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:s.jsx("span",{className:"text-white/90 text-sm",children:i.waterType})})]}),s.jsxs("div",{className:"p-5",children:[s.jsx("h3",{className:"font-semibold text-lg text-stone-900 group-hover:text-brand-700 transition mb-1",children:i.name}),s.jsxs("div",{className:"flex items-center text-sm text-stone-500 mb-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),s.jsxs("span",{className:"ml-1",children:[i.location,", ",i.region]})]}),s.jsx("p",{className:"text-stone-600 text-sm mb-3 line-clamp-2",children:i.shortDescription}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[i.species.slice(0,3).map(N=>s.jsx("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-600 text-xs rounded-full",children:N},N)),i.species.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-500 text-xs rounded-full",children:["+",i.species.length-3]})]}),m>1&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[i.bookingOptions.slice(0,3).map((N,E)=>s.jsx("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-600 text-xs rounded-full",children:N.name},E)),m>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-500 text-xs rounded-full",children:["+",m-3," more"]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-stone-100",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),s.jsx("span",{className:"font-medium",children:i.rating}),s.jsxs("span",{className:"text-stone-400 text-sm",children:["(",i.reviews,")"]})]}),s.jsx("div",{children:w?s.jsx("span",{className:"text-lg font-bold text-green-600",children:"Free"}):s.jsxs(s.Fragment,{children:[u&&s.jsx("span",{className:"text-stone-500 text-xs",children:"from "}),s.jsxs("span",{className:"text-lg font-bold text-stone-900",children:["",_]}),s.jsxs("span",{className:"text-stone-500 text-sm ml-1",children:["/",p()]})]})})]})]})]})},Pv=({instructor:i,onClick:o,isFavourite:n,onToggleFavourite:r})=>s.jsx("div",{onClick:o,className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-200 hover:shadow-lg transition cursor-pointer group relative",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"w-32 md:w-40 h-full min-h-[200px] flex-shrink-0 relative",style:{background:i.image},children:r&&s.jsx("button",{onClick:u=>{u.stopPropagation(),r(i.id)},className:"absolute top-2 left-2 z-10 w-8 h-8 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center hover:bg-white transition shadow-sm",children:s.jsx(ss,{className:`w-4 h-4 transition ${n?"fill-red-500 text-red-500":"text-stone-600"}`})})}),s.jsxs("div",{className:"flex-1 p-5",children:[s.jsx("h3",{className:"font-semibold text-lg text-stone-900 group-hover:text-brand-700 transition",children:i.name}),s.jsx("p",{className:"text-brand-600 text-sm mb-2",children:i.title}),s.jsxs("div",{className:"flex items-center text-sm text-stone-500 mb-3",children:[s.jsx(Sn,{className:"w-4 h-4"}),s.jsx("span",{className:"ml-1",children:i.location})]}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[i.specialties.slice(0,3).map(u=>s.jsx("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-700 text-xs rounded-full",children:u},u)),i.specialties.length>3&&s.jsxs("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-500 text-xs rounded-full",children:["+",i.specialties.length-3]})]}),s.jsx("p",{className:"text-stone-600 text-sm mb-3 line-clamp-2",children:i.bio}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),s.jsx("span",{className:"font-medium",children:i.rating}),s.jsxs("span",{className:"text-stone-400 text-sm",children:["(",i.reviews,")"]})]}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-lg font-bold",children:["",i.price]}),s.jsxs("span",{className:"text-stone-500 text-sm",children:["/",i.priceType]})]})]})]})]})}),Dv=({instructor:i,onClick:o,isFavourite:n,onToggleFavourite:r})=>s.jsxs("div",{onClick:o,className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-200 hover:shadow-lg transition cursor-pointer group flex-shrink-0 w-72",children:[s.jsxs("div",{className:"h-32 relative",style:{background:i.image},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r&&s.jsx("button",{onClick:u=>{u.stopPropagation(),r(i.id)},className:"absolute top-2 right-2 z-10 w-8 h-8 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center hover:bg-white transition shadow-sm",children:s.jsx(ss,{className:`w-4 h-4 transition ${n?"fill-red-500 text-red-500":"text-stone-600"}`})}),s.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[s.jsx("h3",{className:"font-semibold text-white",children:i.name}),s.jsx("p",{className:"text-white/80 text-sm",children:i.title})]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center text-sm text-stone-500 mb-2",children:[s.jsx(Sn,{className:"w-4 h-4"}),s.jsx("span",{className:"ml-1",children:i.location})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:i.specialties.slice(0,2).map(u=>s.jsx("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-700 text-xs rounded-full",children:u},u))}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-stone-100",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),s.jsx("span",{className:"font-medium text-sm",children:i.rating})]}),s.jsxs("span",{className:"font-semibold",children:["",i.price]})]})]})]}),jo=(i,o=10)=>{const n={},r=new Date;for(let u=0;u<60;u++){const f=new Date(r);f.setDate(f.getDate()+u);const p=f.toISOString().split("T")[0],m=f.getDay(),g=m===0||m===6,w=Math.random()>.2;Math.random()<.05?n[p]={status:"closed"}:w?n[p]={status:"available",price:g?i+o:i}:n[p]={status:"booked"}}return n},ep=[{id:1,name:"River Wye - Letton Beat",type:"game",waterType:"River Beat",location:"Herefordshire",region:"Wales",species:["Atlantic Salmon","Brown Trout","Grayling"],price:150,priceType:"per rod/day",rating:4.9,reviews:47,image:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)",gallery:["linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)","linear-gradient(135deg, #3d6a5a 0%, #2a4a40 100%)","linear-gradient(135deg, #4d7a6a 0%, #3a5a50 100%)","linear-gradient(135deg, #5d8a7a 0%, #4a6a60 100%)"],bookingType:"enquiry",bookingOptions:[{id:"opt-wye-1",category:"day-tickets",name:"Day Rod",description:"Full day on the beat, 1 rod",price:150,priceType:"day",bookingType:"enquiry"},{id:"opt-wye-2",category:"day-tickets",name:"Half Day Rod",description:"Morning or afternoon session",price:90,priceType:"half-day",bookingType:"enquiry"},{id:"opt-wye-3",category:"guided",name:"Guided Day with Ghillie",description:"Expert ghillie included, all advice and assistance",price:250,priceType:"day",bookingType:"enquiry"},{id:"opt-wye-4",category:"accommodation",name:"2-Night Fishing Package",description:"2 nights at the Angler's Rest plus 2 days on the beat",price:420,priceType:"person",bookingType:"enquiry"},{id:"opt-wye-5",category:"extras",name:"Tackle Hire",description:"Salmon rod, reel, line and selection of flies",price:30,priceType:"day",bookingType:"instant"}],featured:!0,topRated:!0,shortDescription:"One of the finest salmon beats on the Wye, offering 1.5 miles of double-bank fishing.",fullDescription:`The Letton Beat represents some of the most productive salmon fishing the River Wye has to offer. Stretching for 1.5 miles of double-bank fishing, this historic beat has been managed for over a century.

The water comprises pools, glides, and faster runs. Notable lies include the Cathedral Pool and the Ash Tree Run.`,season:{opens:"1st February",closes:"17th October",bestMonths:["March","April","September","October"]},expectations:{averageCatch:"2-3 salmon per rod over 3 days",recordFish:"28lb salmon",blankRate:"30%"},amenities:["Fishing hut","Ghillie available","Wading access","Parking","Lunch available"],facilities:["parking","fishing-hut","ghillie","wading","lunch"],rules:["Barbless hooks only","Catch & release for salmon","No night fishing","Single-handed or double-handed fly rods only","No spinning except high water"],contact:{name:"Edward Williams",email:"fishing@lettonbeat.co.uk",phone:"01234 567890"},rods:4,coordinates:{lat:52.1234,lng:-3.0567},experienceLevel:"intermediate",typicalSessionHours:8,bestTimeOfDay:"Early morning & late evening",availability:jo(150,25),reviewsList:[{id:1,author:"Robert Thompson",rating:5,date:"2025-10-15",title:"Exceptional salmon fishing",text:"My third visit to Letton Beat and it never disappoints. Edward is an excellent host and the ghillie's knowledge of the water is invaluable. Landed a beautiful 18lb hen salmon on day two.",verified:!0},{id:2,author:"Michael Davies",rating:5,date:"2025-09-28",title:"Worth every penny",text:"Premium pricing but premium experience. The Cathedral Pool alone is worth the trip. Fish were showing throughout our stay and we landed four between the three of us.",verified:!0},{id:3,author:"Sarah Mitchell",rating:4,date:"2025-09-10",title:"Beautiful setting, challenging fishing",text:"The beat is stunning and well-maintained. Water was a bit low during our visit which made fishing tricky, but we still managed two grilse. Would love to return when conditions are better.",verified:!0},{id:4,author:"James Wilson",rating:5,date:"2025-08-22",title:"Dream salmon beat",text:"Finally ticked this one off my bucket list. The Wye is a truly special river and this beat showcases it at its best. Can't wait to return next season.",verified:!0}],nearbyStays:[{id:1,name:"The Angler's Rest B&B",type:"B&B",distance:"1.2 miles",priceRange:"85-120",rating:4.8,reviewCount:156,coordinates:{lat:52.1254,lng:-3.0487},bookingUrl:"https://booking.com"},{id:2,name:"Riverside Lodge Hotel",type:"Hotel",distance:"2.8 miles",priceRange:"120-180",rating:4.6,reviewCount:234,coordinates:{lat:52.1334,lng:-3.0767},bookingUrl:"https://booking.com"},{id:3,name:"Wye Valley Cottages",type:"Self-catering",distance:"3.5 miles",priceRange:"150-250",rating:4.9,reviewCount:89,coordinates:{lat:52.1134,lng:-3.0867},bookingUrl:"https://booking.com"}]},{id:2,name:"Chew Valley Lake",type:"game",waterType:"Stillwater Reservoir",location:"Somerset",region:"South West",species:["Rainbow Trout","Brown Trout"],price:45,priceType:"day ticket",rating:4.7,reviews:124,image:"linear-gradient(135deg, #4a6fa5 0%, #2d4a6a 100%)",gallery:["linear-gradient(135deg, #4a6fa5 0%, #2d4a6a 100%)","linear-gradient(135deg, #5a7fb5 0%, #3d5a7a 100%)","linear-gradient(135deg, #3a5f95 0%, #1d3a5a 100%)"],bookingType:"instant",bookingOptions:[{id:"opt-chew-1",category:"day-tickets",name:"Day Ticket (Bank)",description:"Full day bank fishing",price:45,priceType:"day",bookingType:"instant"},{id:"opt-chew-2",category:"day-tickets",name:"Day Ticket (Boat)",description:"Full day boat fishing, boat included",price:65,priceType:"day",bookingType:"instant"},{id:"opt-chew-3",category:"day-tickets",name:"Evening Ticket",description:"4pm to dusk bank fishing",price:28,priceType:"session",bookingType:"instant"},{id:"opt-chew-4",category:"day-tickets",name:"Season Ticket",description:"Full season bank access",price:380,priceType:"season",bookingType:"instant"},{id:"opt-chew-5",category:"guided",name:"Beginner Lesson",description:"2-hour casting lesson with qualified instructor",price:55,priceType:"person",bookingType:"instant"},{id:"opt-chew-6",category:"extras",name:"Boat Hire (Motor)",description:"Powered boat for the day",price:30,priceType:"day",bookingType:"instant"}],featured:!0,topRated:!0,shortDescription:"A prestigious 1,200-acre reservoir renowned for quality trout and exceptional fly hatches.",fullDescription:`Chew Valley Lake is one of England's premier stillwater trout fisheries. The lake is stocked with rainbow trout averaging 2-3lbs, plus wild browns to 8lbs.

Prolific hatches of buzzers, sedges, and olives provide consistent fishing throughout the season. Bank and boat fishing available.`,season:{opens:"Mid-March",closes:"End October",bestMonths:["April","May","September"]},expectations:{averageCatch:"3-4 fish per day",recordFish:"11lb 8oz brown",blankRate:"Less than 10%"},amenities:["Lodge restaurant","Tackle shop","Boat hire","Toilets","Parking","Disabled access"],facilities:["parking","toilets","cafe","tackle-shop","boat-hire","disabled-access"],rules:["Fly only","4 fish limit","Barbless for C&R","No wading","Boats must be returned by 7pm"],contact:{name:"Fishery Office",email:"info@chewvalleylake.co.uk",phone:"01234 567891"},rods:50,coordinates:{lat:51.3456,lng:-2.6234},experienceLevel:"beginner",typicalSessionHours:8,bestTimeOfDay:"All day - varies with conditions",availability:jo(45,10),reviewsList:[{id:1,author:"Emma Richardson",rating:5,date:"2025-10-01",title:"Perfect for beginners",text:"My first ever fly fishing trip and I couldn't have picked a better venue. The staff were incredibly helpful and I caught three rainbows! The lodge restaurant is excellent too.",verified:!0},{id:2,author:"Tom Baker",rating:5,date:"2025-09-15",title:"Buzzer bonanza",text:"September visit and the buzzers were hatching like crazy. Limited out by lunchtime fishing nymphs in the margins. The wild browns are getting bigger every year.",verified:!0},{id:3,author:"Linda Chen",rating:4,date:"2025-08-20",title:"Great day out",text:"Lovely setting and good fishing. Can get busy on weekends so book early if you want a boat. The tackle shop has everything you need if you forget anything.",verified:!0},{id:4,author:"Paul Johnson",rating:4,date:"2025-07-30",title:"Reliable fishery",text:"Never had a blank here in 10+ visits. The fish aren't huge but they're plentiful and fight well. Perfect venue when you want to guarantee some action.",verified:!0},{id:5,author:"Rachel Green",rating:5,date:"2025-06-12",title:"Beautiful reservoir",text:"The scenery alone is worth the trip. Caught my PB rainbow at 4lb 8oz on a damsel nymph. Will definitely be back.",verified:!0}],nearbyStays:[{id:1,name:"Chew Magna Farm B&B",type:"B&B",distance:"2.1 miles",priceRange:"75-95",rating:4.7,reviewCount:89,coordinates:{lat:51.3556,lng:-2.6134},bookingUrl:"https://booking.com"},{id:2,name:"The Bear & Swan Inn",type:"Inn",distance:"3.2 miles",priceRange:"95-130",rating:4.5,reviewCount:167,coordinates:{lat:51.3356,lng:-2.6434},bookingUrl:"https://booking.com"},{id:3,name:"Valley View Cottage",type:"Self-catering",distance:"1.8 miles",priceRange:"120-180",rating:4.8,reviewCount:45,coordinates:{lat:51.3506,lng:-2.6284},bookingUrl:"https://booking.com"}]},{id:3,name:"Linear Fisheries - Manor Farm",type:"coarse",waterType:"Specimen Lake",location:"Oxfordshire",region:"South East",species:["Carp","Tench","Bream","Pike"],price:25,priceType:"day ticket",rating:4.8,reviews:312,image:"linear-gradient(135deg, #5a7a4a 0%, #3a5a2a 100%)",gallery:["linear-gradient(135deg, #5a7a4a 0%, #3a5a2a 100%)","linear-gradient(135deg, #6a8a5a 0%, #4a6a3a 100%)","linear-gradient(135deg, #4a6a3a 0%, #2a4a1a 100%)","linear-gradient(135deg, #7a9a6a 0%, #5a7a4a 100%)"],bookingType:"instant",bookingOptions:[{id:"opt-lin-1",category:"day-tickets",name:"Day Ticket",description:"Dawn to dusk on any lake",price:25,priceType:"day",bookingType:"instant"},{id:"opt-lin-2",category:"day-tickets",name:"24hr Ticket",description:"24 hours including night fishing",price:40,priceType:"session",bookingType:"instant"},{id:"opt-lin-3",category:"day-tickets",name:"48hr Ticket",description:"Full weekend session",price:70,priceType:"session",bookingType:"instant"},{id:"opt-lin-4",category:"accommodation",name:"Lakeside Lodge",description:"Private lodge overlooking St Johns, fishing included",price:95,priceType:"night",bookingType:"enquiry"},{id:"opt-lin-5",category:"guided",name:"Carp Masterclass",description:"Full day 1-to-1 tuition with pro angler, all tackle provided",price:150,priceType:"person",bookingType:"instant"},{id:"opt-lin-6",category:"extras",name:"Bait Package",description:"Boilies, pellets and particles for your session",price:15,priceType:"session",bookingType:"instant"},{id:"opt-lin-7",category:"extras",name:"Bivvy Hire",description:"2-man bivvy with bedchair and sleeping bag",price:25,priceType:"night",bookingType:"instant"}],featured:!1,topRated:!0,shortDescription:"Well-established specimen lakes known for big carp to 40lb+ in beautiful countryside.",fullDescription:`Linear Fisheries at Manor Farm is one of the UK's most respected carp venues. Multiple lakes offer varied challenges.

St Johns has carp to 45lb, Hardwick has 30lb+ fish, Manor Farm Lake is ideal for first 20s. Immaculate swims and excellent facilities.`,season:{opens:"Year-round",closes:"N/A",bestMonths:["May","June","September"]},expectations:{averageCatch:"2-5 carp per session",recordFish:"45lb 8oz mirror",blankRate:"Rare"},amenities:["Tackle shop","Caf","Showers","Night fishing","Fish care equipment","Toilets"],facilities:["parking","toilets","cafe","tackle-shop","night-fishing","showers"],rules:["Unhooking mats mandatory","Barbless hooks","No keepnets","No zig rigs on some lakes","Minimum 15lb line","Carp care kits provided"],contact:{name:"Fishery Office",email:"info@linearfisheries.co.uk",phone:"01234 567892"},rods:30,coordinates:{lat:51.7123,lng:-1.2456},experienceLevel:"any",typicalSessionHours:24,bestTimeOfDay:"Dawn and dusk",availability:jo(25,5),reviewsList:[{id:1,author:"Steve Jackson",rating:5,date:"2025-10-08",title:"Best carp venue in the UK",text:"My go-to venue for specimen carp. The fish are immaculate, the facilities are top-notch, and the bailiffs are helpful without being intrusive. Caught my PB 38lb mirror on my last visit.",verified:!0},{id:2,author:"Dan Murphy",rating:5,date:"2025-09-20",title:"Worth the drive",text:"Travelled from Manchester and it was worth every mile. The lakes are beautifully maintained and the fish are stunning. Cafe food is great too!",verified:!0},{id:3,author:"Chris Taylor",rating:4,date:"2025-08-15",title:"Challenging but rewarding",text:"St Johns is proper difficult but when you crack it, the rewards are incredible. Blanked my first session but came back and nailed a 32lb common. Persistence pays off here.",verified:!0},{id:4,author:"Mark Williams",rating:5,date:"2025-07-28",title:"Perfect for all levels",text:"Manor Farm Lake is great for building confidence. My son caught his first 20 here and now he's hooked (pun intended). Staff are brilliant with younger anglers.",verified:!0},{id:5,author:"Pete Andrews",rating:5,date:"2025-06-10",title:"Fish care first",text:"Love how seriously they take fish welfare here. Mandatory mats, carp care kits at every swim. The fish are in incredible condition because of it.",verified:!0}],nearbyStays:[{id:1,name:"The Carper's Lodge",type:"On-site lodges",distance:"On site",priceRange:"60-90",rating:4.6,reviewCount:234,coordinates:{lat:51.7133,lng:-1.2446},bookingUrl:"https://booking.com"},{id:2,name:"Witney Premier Inn",type:"Hotel",distance:"4.5 miles",priceRange:"65-85",rating:4.2,reviewCount:567,coordinates:{lat:51.7823,lng:-1.4856},bookingUrl:"https://booking.com"},{id:3,name:"Manor Farm Campsite",type:"Camping",distance:"Adjacent",priceRange:"15-25",rating:4.4,reviewCount:123,coordinates:{lat:51.7113,lng:-1.2476},bookingUrl:"https://booking.com"}]},{id:4,name:"River Tweed - Junction Beat",type:"game",waterType:"River Beat",location:"Scottish Borders",region:"Scotland",species:["Atlantic Salmon","Sea Trout"],price:350,priceType:"per rod/day",rating:5,reviews:28,image:"linear-gradient(135deg, #3a5a6a 0%, #1a3a4a 100%)",gallery:["linear-gradient(135deg, #3a5a6a 0%, #1a3a4a 100%)","linear-gradient(135deg, #4a6a7a 0%, #2a4a5a 100%)","linear-gradient(135deg, #2a4a5a 0%, #0a2a3a 100%)"],bookingType:"enquiry",featured:!0,topRated:!0,shortDescription:"The legendary Junction Pool - arguably the most famous salmon lie in Scotland.",fullDescription:`The Junction Beat encompasses one of the most storied salmon lies in the world. The Junction Pool, where the Teviot meets the Tweed, has produced countless memorable fish.

An experienced ghillie is included. This is bucket-list fishing for serious salmon anglers.`,season:{opens:"1st February",closes:"30th November",bestMonths:["October","November"]},expectations:{averageCatch:"Quality over quantity",recordFish:"30lb+ fish recorded",blankRate:"Challenging"},amenities:["Ghillie included","Fishing hut","Lunch provided","Waders available","4x4 access"],facilities:["parking","fishing-hut","ghillie","lunch","wading"],rules:["Fly only","Catch & release","Ghillie guidance required","Single-handed or Spey rods","No fishing before 9am October onwards"],contact:{name:"Alastair MacKenzie",email:"fishing@junctionbeat.com",phone:"01234 567893"},rods:2,coordinates:{lat:55.5789,lng:-2.4567},experienceLevel:"advanced",typicalSessionHours:8,bestTimeOfDay:"Mid-morning to late afternoon in autumn",availability:jo(350,50),reviewsList:[{id:1,author:"Lord Richard Ashby",rating:5,date:"2025-11-02",title:"Simply the best",text:"My 15th season at Junction and it never fails to move me. Alastair's ghillies are the finest on the river. Landed a magnificent 24lb cock fish this autumn.",verified:!0},{id:2,author:"George Hamilton",rating:5,date:"2025-10-20",title:"Bucket list complete",text:"Finally got my name on the Junction Pool. The anticipation of casting into that legendary water is indescribable. Didn't land one but touched two - I'll be back.",verified:!0},{id:3,author:"William Bruce",rating:5,date:"2025-10-08",title:"Worth every penny",text:"Yes it's expensive, but where else can you fish water with this history? The ghillie made all the difference - wouldn't have landed my fish without his guidance.",verified:!0}],nearbyStays:[{id:1,name:"Ednam House Hotel",type:"Hotel",distance:"1.5 miles",priceRange:"150-220",rating:4.7,reviewCount:312,coordinates:{lat:55.5889,lng:-2.4367},bookingUrl:"https://booking.com"},{id:2,name:"The Salmon Inn B&B",type:"B&B",distance:"2.2 miles",priceRange:"95-130",rating:4.8,reviewCount:78,coordinates:{lat:55.5689,lng:-2.4767},bookingUrl:"https://booking.com"},{id:3,name:"Tweed Valley Lodges",type:"Self-catering",distance:"3.8 miles",priceRange:"180-280",rating:4.9,reviewCount:56,coordinates:{lat:55.5589,lng:-2.4967},bookingUrl:"https://booking.com"}]},{id:5,name:"River Test - Broadlands",type:"game",waterType:"Chalk Stream",location:"Hampshire",region:"South",species:["Wild Brown Trout","Rainbow Trout","Grayling"],price:295,priceType:"per rod/day",rating:4.9,reviews:52,image:"linear-gradient(135deg, #3a6a5a 0%, #1a4a3a 100%)",gallery:["linear-gradient(135deg, #3a6a5a 0%, #1a4a3a 100%)","linear-gradient(135deg, #4a7a6a 0%, #2a5a4a 100%)","linear-gradient(135deg, #2a5a4a 0%, #0a3a2a 100%)","linear-gradient(135deg, #5a8a7a 0%, #3a6a5a 100%)"],bookingType:"enquiry",featured:!0,topRated:!1,shortDescription:"Premium chalk stream fishing on one of England's most celebrated rivers.",fullDescription:`The Broadlands Estate offers some of the finest chalk stream trout fishing in the world. Crystal-clear water flows through ancient water meadows.

A river keeper is included. This is technical fishing at its finest - sight fishing to educated wild browns.`,season:{opens:"1st May",closes:"15th October",bestMonths:["May","June","September"]},expectations:{averageCatch:"4-6 fish is good",recordFish:"Wild brown to 6lb",blankRate:"Rare for experienced anglers"},amenities:["River keeper","Lunch included","Rod room","Parking","Waders available"],facilities:["parking","lunch","ghillie","wading","rod-room"],rules:["Dry fly & upstream nymph only","Catch & release wild fish","Barbless hooks","No wading except where permitted","Single fly only"],contact:{name:"James Portman",email:"fishing@broadlands.co.uk",phone:"01234 567894"},rods:4,coordinates:{lat:50.9876,lng:-1.5432},experienceLevel:"intermediate",typicalSessionHours:8,bestTimeOfDay:"Midday during mayfly, evening in summer",availability:jo(295,45),reviewsList:[{id:1,author:"Charles Worthington",rating:5,date:"2025-06-15",title:"Mayfly magic",text:"Visited during the mayfly and it was everything I'd dreamed of. Sight fishing to rising browns in gin-clear water - this is what chalk stream fishing is all about.",verified:!0},{id:2,author:"Peter Hawkins",rating:5,date:"2025-09-22",title:"Autumn grayling",text:"Came for the late-season grayling and wasn't disappointed. The keeper's knowledge of the water is exceptional. Beautiful setting and impeccable presentation required.",verified:!0},{id:3,author:"Andrew Mitchell",rating:4,date:"2025-07-10",title:"Technical challenge",text:"This isn't easy fishing - these trout have seen it all. But that's what makes it so rewarding. Managed four fish including a cracking 3lb wild brown.",verified:!0},{id:4,author:"Simon Edwards",rating:5,date:"2025-05-28",title:"Quintessential English fishing",text:"The Broadlands beat is simply stunning. Wading through water meadows casting to rising fish - it doesn't get more traditional than this. Worth every penny.",verified:!0}],nearbyStays:[{id:1,name:"The White Horse Inn",type:"Inn",distance:"1.8 miles",priceRange:"110-150",rating:4.6,reviewCount:234,coordinates:{lat:50.9976,lng:-1.5232},bookingUrl:"https://booking.com"},{id:2,name:"Test Valley B&B",type:"B&B",distance:"2.5 miles",priceRange:"85-110",rating:4.7,reviewCount:89,coordinates:{lat:50.9776,lng:-1.5632},bookingUrl:"https://booking.com"},{id:3,name:"Romsey Riverside Hotel",type:"Hotel",distance:"4.2 miles",priceRange:"130-190",rating:4.5,reviewCount:456,coordinates:{lat:50.9576,lng:-1.4932},bookingUrl:"https://booking.com"}]},{id:6,name:"Grafham Water",type:"game",waterType:"Stillwater Reservoir",location:"Cambridgeshire",region:"East Anglia",species:["Rainbow Trout","Brown Trout"],price:38,priceType:"day ticket",rating:4.6,reviews:89,image:"linear-gradient(135deg, #4a5a7a 0%, #2a3a5a 100%)",gallery:["linear-gradient(135deg, #4a5a7a 0%, #2a3a5a 100%)","linear-gradient(135deg, #5a6a8a 0%, #3a4a6a 100%)","linear-gradient(135deg, #3a4a6a 0%, #1a2a4a 100%)"],bookingType:"instant",featured:!1,topRated:!1,shortDescription:"Large reservoir with excellent bank and boat fishing for quality trout.",fullDescription:`Grafham Water is one of England's premier trout reservoirs. At 1,550 acres, it offers plenty of space for both bank and boat anglers.

The fishery is known for consistent sport and good-sized fish, with rainbows averaging 2lbs and browns to 8lbs+.`,season:{opens:"April",closes:"October",bestMonths:["May","June","September"]},expectations:{averageCatch:"3-5 fish",recordFish:"9lb rainbow",blankRate:"15%"},amenities:["Lodge","Boat hire","Tackle shop","Toilets","Parking"],facilities:["parking","toilets","cafe","tackle-shop","boat-hire"],rules:["Fly only","8 fish limit","Barbless hooks recommended","Life jackets in boats","No wading"],contact:{name:"Reception",email:"info@grafham.co.uk",phone:"01234 567895"},rods:100,coordinates:{lat:52.2876,lng:-.3245},experienceLevel:"beginner",typicalSessionHours:8,bestTimeOfDay:"Early morning and evening",availability:jo(38,8),reviewsList:[{id:1,author:"Neil Patterson",rating:5,date:"2025-09-05",title:"Great value fishing",text:"Excellent day out. The boats are well-maintained and the fish are in good condition. Caught 5 rainbows to 3lb on buzzers. Can't ask for more at this price.",verified:!0},{id:2,author:"Helen Wright",rating:4,date:"2025-08-18",title:"Good for groups",text:"Brought a group of work colleagues for a corporate day. Staff were brilliant at getting everyone set up and fishing. Everyone caught at least one fish!",verified:!0},{id:3,author:"David Morris",rating:4,date:"2025-07-22",title:"Reliable fishing",text:"My local water for midweek sessions. Never disappointing, always fish to be caught. The browns are getting bigger each year - had one of 5lb 4oz last month.",verified:!0}],nearbyStays:[{id:1,name:"Grafham Lodge",type:"B&B",distance:"0.5 miles",priceRange:"70-90",rating:4.5,reviewCount:123,coordinates:{lat:52.2906,lng:-.3215},bookingUrl:"https://booking.com"},{id:2,name:"Huntingdon Marriott",type:"Hotel",distance:"6.2 miles",priceRange:"95-140",rating:4.3,reviewCount:789,coordinates:{lat:52.3376,lng:-.1845},bookingUrl:"https://booking.com"}]},{id:7,name:"River Avon - Free Fishing",type:"coarse",waterType:"River",location:"Wiltshire",region:"South",species:["Roach","Chub","Barbel","Pike"],price:0,priceType:"free",rating:4.2,reviews:45,image:"linear-gradient(135deg, #5a6a4a 0%, #3a4a2a 100%)",gallery:["linear-gradient(135deg, #5a6a4a 0%, #3a4a2a 100%)","linear-gradient(135deg, #6a7a5a 0%, #4a5a3a 100%)"],bookingType:"free",featured:!1,topRated:!1,shortDescription:"Public access stretch with excellent mixed coarse fishing. Rod licence required.",fullDescription:`This public access stretch of the Bristol Avon offers free fishing for rod licence holders. The river holds good stocks of roach, chub, and barbel, with pike present in the deeper pools.

A great option for spontaneous sessions - just turn up and fish!`,season:{opens:"16th June",closes:"14th March",bestMonths:["September","October","November"]},expectations:{averageCatch:"15-20 fish",recordFish:"8lb barbel",blankRate:"10%"},amenities:["Parking nearby","Public footpath access"],facilities:["parking"],rules:["EA rod licence required","No night fishing","No keepnets for barbel","Barbless hooks recommended"],contact:{name:"Environment Agency",email:"enquiries@environment-agency.gov.uk"},rods:null,coordinates:{lat:51.3654,lng:-2.1234},experienceLevel:"any",typicalSessionHours:4,bestTimeOfDay:"Dawn and dusk",openingHours:{weekday:"Dawn to dusk",weekend:"Dawn to dusk"},availability:null,reviewsList:[{id:1,author:"Tony Green",rating:4,date:"2025-10-12",title:"Great free fishing",text:"Brilliant that this stretch is free. Caught 15 roach and 3 decent chub on trotted bread. Just remember your rod licence!",verified:!0},{id:2,author:"Gary Hunt",rating:4,date:"2025-09-28",title:"Hidden gem",text:"Don't tell everyone! Lovely stretch of river with minimal pressure. Had barbel to 6lb on the meat.",verified:!0}],nearbyStays:[{id:1,name:"The George Inn",type:"Inn",distance:"0.8 miles",priceRange:"75-95",rating:4.4,reviewCount:156,coordinates:{lat:51.3704,lng:-2.1184},bookingUrl:"https://booking.com"}]}],Lh=()=>{const i=[],o=new Date;for(let n=0;n<60;n++){const r=new Date(o);r.setDate(r.getDate()+n),r.getDay()!==0&&Math.random()>.3&&i.push(r.toISOString().split("T")[0])}return i},tp=[{id:1,name:"James MacPherson",title:"AAPGAI Master Instructor",specialties:["Atlantic Salmon","Spey Casting","Scottish Rivers"],location:"Scottish Highlands",price:275,priceType:"full day",rating:5,reviews:67,image:"linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)",gallery:["linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)","linear-gradient(135deg, #5a6a7a 0%, #3a4a5a 100%)","linear-gradient(135deg, #3a4a5a 0%, #1a2a3a 100%)","linear-gradient(135deg, #6a7a8a 0%, #4a5a6a 100%)"],bio:"30 years guiding on Scotland's finest salmon rivers. One of the UK's most respected Spey casting instructors.",fullBio:`James MacPherson has dedicated his life to Atlantic salmon and Spey casting. Born on the banks of the River Spey, he qualified as an AAPGAI Master Instructor in 1998.

He has taught thousands of anglers from complete beginners to international competitors, and has coached several Scottish International casting team members. His patient, analytical approach breaks down the complexities of Spey casting into manageable steps.`,teachingPhilosophy:"Everyone can learn to Spey cast well - it's about understanding the mechanics, not strength. I've taught 70-year-olds who outcast 30-year-olds because they listened and trusted the process.",whatYouLearn:["Spey casting mechanics and timing","Single Spey, double Spey, snake roll, snap-T","Reading salmon water","Fly selection for Scottish rivers","Fish playing and landing techniques","Conservation-focused approach"],equipmentProvided:["Spey rods (12-15ft)","Reels and lines (Scandi & Skagit)","Full fly selection","Waders and boots"],certifications:["AAPGAI Master","SGAIC","First Aid","River Rescue"],website:"www.speymasterclasses.co.uk",hasCalendar:!0,availability:Lh(),typicalDay:[{time:"09:00",activity:"Meet at the river, introductions and safety briefing"},{time:"09:30",activity:"Casting assessment and identification of areas to improve"},{time:"10:00",activity:"Bank-side casting tuition - building the foundation"},{time:"11:30",activity:"Move onto the river - practical fishing begins"},{time:"13:00",activity:"Lunch break (packed lunch provided)"},{time:"14:00",activity:"Afternoon fishing session with ongoing instruction"},{time:"16:00",activity:"Water craft session - reading the river, finding lies"},{time:"17:00",activity:"Final hour of fishing, wrap-up and action plan"}],reviewsList:[{id:1,author:"Robert Thompson",rating:5,date:"2025-10-20",title:"Transformed my casting",text:"James completely rebuilt my Spey cast in a single day. What had been a constant struggle suddenly clicked. His understanding of the mechanics is incredible, and he explains complex concepts in simple terms.",verified:!0},{id:2,author:"Michael Davies",rating:5,date:"2025-09-15",title:"Worth every penny",text:"Saved me years of bad habits. James spotted issues with my timing that I'd had for a decade. Left feeling like a different angler. Already booked for a follow-up session.",verified:!0},{id:3,author:"Andrew Wilson",rating:5,date:"2025-08-28",title:"Patient and knowledgeable",text:"As a complete beginner to Spey casting, I was nervous about booking such a renowned instructor. James put me at ease immediately and had me making decent casts by lunchtime. Incredible teacher.",verified:!0},{id:4,author:"William Bruce",rating:5,date:"2025-07-10",title:"The real deal",text:"James knows these rivers inside out. Beyond the casting instruction, his knowledge of where the fish lie and when they move is invaluable. Landed my first Scottish salmon thanks to his guidance.",verified:!0}]},{id:2,name:"Sarah Thornton",title:"GAIA Advanced Instructor",specialties:["Trout","Stillwater","Beginners","Women's Courses"],location:"Derbyshire",price:175,priceType:"full day",rating:4.9,reviews:89,image:"linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)",gallery:["linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)","linear-gradient(135deg, #6a7a6a 0%, #4a5a4a 100%)","linear-gradient(135deg, #4a5a4a 0%, #2a3a2a 100%)"],bio:"Patient, encouraging instruction for newcomers. Specialist in stillwater tactics and women-only courses.",fullBio:`Sarah discovered fly fishing at 25 and immediately fell in love with the sport. Her empathy for beginners comes from being a late starter herself - she understands the frustrations and common pitfalls.

Now a GAIA Advanced Instructor with over 15 years' experience, she specialises in making fly fishing accessible and enjoyable from day one. Her women's courses have introduced hundreds of female anglers to the sport.`,teachingPhilosophy:"Fly fishing should be fun from day one. I structure courses so you catch fish quickly and build confidence. There's no point spending hours on grass casting if you leave having never felt a fish on the line.",whatYouLearn:["Casting fundamentals that actually work","Knots and setup made simple","Reading stillwater - where the fish are","Fly selection without the confusion","Playing and landing fish","Building confidence to fish independently"],equipmentProvided:["Complete rod and reel setup","Flies and leaders","Landing nets","Fishing permits"],certifications:["GAIA Advanced","Angling Trust Level 2","DBS Checked","First Aid"],website:"www.sarahthorntonfly.co.uk",hasCalendar:!0,availability:Lh(),typicalDay:[{time:"09:30",activity:"Coffee and introductions, discuss goals for the day"},{time:"10:00",activity:"Tackle setup - rods, reels, leaders, knots"},{time:"10:30",activity:"Casting practice on grass - the basics"},{time:"11:30",activity:"Move to the water - start fishing!"},{time:"13:00",activity:"Lunch break (caf on site)"},{time:"14:00",activity:"Afternoon session - building on morning skills"},{time:"15:30",activity:"Fly selection masterclass"},{time:"16:30",activity:"Final fishing hour and wrap-up"}],reviewsList:[{id:1,author:"Jennifer Kline",rating:5,date:"2025-09-28",title:"Perfect for beginners",text:"Sarah made everything so approachable. I was terrified of looking silly but she immediately put me at ease. I caught 4 trout on my first ever fly fishing trip! Can't recommend her enough.",verified:!0},{id:2,author:"Emma Richardson",rating:5,date:"2025-08-15",title:"Women's course was brilliant",text:"Signed up for Sarah's women-only course and it was exactly what I needed. No pressure, no egos, just a supportive environment to learn. The other ladies were lovely and we've stayed in touch.",verified:!0},{id:3,author:"Lisa Morgan",rating:5,date:"2025-07-20",title:"Finally got it!",text:"After struggling with casting on YouTube videos, one day with Sarah sorted everything out. She has such a patient way of explaining things. My husband couldn't believe the improvement.",verified:!0},{id:4,author:"Amanda Cross",rating:4,date:"2025-06-10",title:"Great introduction",text:"Lovely day out and caught my first trout on a fly. Sarah is wonderful - encouraging but also pushes you to improve. Would have loved a bit more time on the water but understand the need for theory.",verified:!0}]},{id:3,name:"Tom Ashworth",title:"Specimen Carp Specialist",specialties:["Carp","Pike","Rig Mechanics","Watercraft"],location:"Cambridgeshire",price:150,priceType:"full day",rating:4.8,reviews:134,image:"linear-gradient(135deg, #6a6a5a 0%, #4a4a3a 100%)",gallery:["linear-gradient(135deg, #6a6a5a 0%, #4a4a3a 100%)","linear-gradient(135deg, #7a7a6a 0%, #5a5a4a 100%)","linear-gradient(135deg, #5a5a4a 0%, #3a3a2a 100%)","linear-gradient(135deg, #8a8a7a 0%, #6a6a5a 100%)"],bio:"Former match angler turned specimen hunter. Carp to 52lb, helping anglers catch PBs.",fullBio:`Tom's practical, no-nonsense approach focuses on what actually works in modern carp fishing. A former match angler who transitioned to specimen hunting, he brings analytical precision to targeting big fish.

With carp to 52lb and multiple 40s to his name, Tom specialises in helping anglers break through plateaus and catch their target fish. He's particularly known for his watercraft - finding fish is his superpower.`,teachingPhilosophy:"Carp fishing is 70% location, 20% presentation, 10% luck. Most anglers focus on the wrong 10%. I'll teach you to find fish first, then worry about fancy rigs.",whatYouLearn:["Finding carp - visual spotting, feature finding","Rig construction that actually works","Bait strategies for different situations","Playing and landing big fish safely","Night fishing tactics","Session planning and preparation"],equipmentProvided:["Rig components and end tackle","Bait samples","Landing and retention equipment","Unhooking mats and treatment"],certifications:["Angling Trust Level 2","DBS Checked","First Aid"],website:"www.tomashworthcarp.co.uk",hasCalendar:!0,availability:Lh(),typicalDay:[{time:"06:00",activity:"Dawn start - best time to spot feeding fish"},{time:"07:00",activity:"Watercraft session - feature finding, reading the water"},{time:"08:30",activity:"Set up swims, discuss tactics for the session"},{time:"09:30",activity:"Rig tying masterclass - the rigs that catch big fish"},{time:"11:00",activity:"Cast out and fish - ongoing instruction"},{time:"13:00",activity:"Lunch (bring your own or we'll nip to the caf)"},{time:"14:00",activity:"Bait application strategies"},{time:"16:00",activity:"Recap and action plan for your fishing"}],reviewsList:[{id:1,author:"Steve Jackson",rating:5,date:"2025-10-05",title:"Changed how I approach fishing",text:"Tom transformed my carp fishing. His watercraft knowledge is incredible - he showed me fish I would have walked past. Three new PBs within a month of our session. Worth every penny.",verified:!0},{id:2,author:"Dan Murphy",rating:5,date:"2025-09-18",title:"Finally broke the 30lb barrier",text:"Been stuck at 27lb for years. One session with Tom and I had a 31lb mirror three weeks later. He simplified everything - I was over-complicating it massively.",verified:!0},{id:3,author:"Mark Williams",rating:4,date:"2025-08-22",title:"Great for intermediate anglers",text:"Tom's approach is practical and no-nonsense. He won't tell you what you want to hear, he'll tell you what you need to hear. My rig game has improved massively.",verified:!0},{id:4,author:"Chris Taylor",rating:5,date:"2025-07-15",title:"The watercraft guru",text:"Spent most of the morning just walking and watching before we even cast out. Learned more about finding fish in those hours than in years of fishing alone. Essential knowledge.",verified:!0},{id:5,author:"Pete Andrews",rating:5,date:"2025-06-28",title:"Brilliant for pike too",text:"Booked Tom for a pike session and he delivered big time. His location skills translate perfectly to predator fishing. Had two 20s in one session!",verified:!0}]},{id:4,name:"Emily Ward",title:"Wild Trout Specialist",specialties:["Wild Brown Trout","Small Streams","Dry Fly","Tenkara"],location:"Devon",price:195,priceType:"full day",rating:4.9,reviews:56,image:"linear-gradient(135deg, #5a7a6a 0%, #3a5a4a 100%)",gallery:["linear-gradient(135deg, #5a7a6a 0%, #3a5a4a 100%)","linear-gradient(135deg, #6a8a7a 0%, #4a6a5a 100%)","linear-gradient(135deg, #4a6a5a 0%, #2a4a3a 100%)"],bio:"Passionate about wild trout on Devon's small streams. Teaches traditional and tenkara techniques.",fullBio:`Emily holds permits on miles of rarely-fished Devon streams. A wildlife ecologist by training, she brings a naturalist's eye to wild trout fishing.

Her courses focus on the complete experience - understanding the river ecosystem, the insects the trout feed on, and the art of approaching wild fish in intimate settings. She's one of the UK's leading tenkara instructors.`,teachingPhilosophy:"Small stream fishing is about slowing down and becoming part of the landscape. The fish are wild, the setting is beautiful, and every trout is earned. It's the purest form of fly fishing.",whatYouLearn:["Stealth and approach - the key to small stream success","Reading small water","Dry fly selection for wild trout","Short-line nymphing techniques","Tenkara basics and beyond","Stream entomology - matching the hatch"],equipmentProvided:["Fly rod or tenkara rod (your choice)","Flies tied for local waters","Leaders and tippet","Light lunch and refreshments"],certifications:["GAIA Level 2","Wild Trout Trust Ambassador","Tenkara UK Ambassador"],website:"www.devonwildtrout.co.uk",hasCalendar:!1,availability:[],typicalDay:[{time:"09:00",activity:"Meet at a picturesque Devon village"},{time:"09:30",activity:"Short walk to the stream, discussing the environment"},{time:"10:00",activity:"Stealth and approach techniques - stalking fish"},{time:"11:00",activity:"First pool - putting skills into practice"},{time:"12:30",activity:"Streamside lunch in a beautiful spot"},{time:"13:30",activity:"Move upstream - tenkara introduction"},{time:"15:00",activity:"Dry fly session - matching the hatch"},{time:"16:30",activity:"Final pool and wrap-up"}],reviewsList:[{id:1,author:"Mark Thompson",rating:5,date:"2025-09-12",title:"What fly fishing should be",text:"This is what fly fishing should be about - wild fish in wild places. Emily's passion is infectious and her knowledge of these streams is encyclopedic. Caught a dozen wild browns in stunning surroundings.",verified:!0},{id:2,author:"Helen Wright",rating:5,date:"2025-08-25",title:"Tenkara convert",text:"Came to try tenkara and left completely hooked. Emily's teaching is gentle but effective. The simplicity of the method on these tiny streams makes so much sense. Bought my own setup the next day!",verified:!0},{id:3,author:"David Morris",rating:5,date:"2025-07-18",title:"Hidden gems of Devon",text:"Emily took me to streams I'd drive past without a second glance. The fish might be small but they're wild and beautiful, and the setting is magical. A totally different experience to reservoir fishing.",verified:!0},{id:4,author:"Neil Patterson",rating:4,date:"2025-06-30",title:"Peaceful and productive",text:"Perfect antidote to busy stillwater fishing. Emily creates such a calm atmosphere and her approach to the river is almost meditative. Caught fish all day on dry flies.",verified:!0}]}],Tv=({value:i,onChange:o,suggestions:n,onSelectSuggestion:r})=>{const[u,f]=C.useState(!1),p=C.useRef(null),m=()=>{i.length>0&&f(!0)},g=_=>{o(_.target.value),f(_.target.value.length>0)},w=n.filter(_=>_.name.toLowerCase().includes(i.toLowerCase())).slice(0,6);return s.jsxs("div",{className:"relative flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:s.jsx(Sn,{className:"w-5 h-5"})}),s.jsx("input",{ref:p,type:"text",value:i,onChange:g,onFocus:m,onBlur:()=>setTimeout(()=>f(!1),200),placeholder:"River, lake, or region...",className:"w-full pl-10 pr-4 py-3.5 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 text-base"})]}),u&&w.length>0&&s.jsx("div",{className:"absolute z-20 top-full left-0 right-0 mt-1 bg-white rounded-xl border border-stone-200 shadow-lg overflow-hidden",children:w.map((_,N)=>s.jsxs("button",{onClick:()=>{r(_),f(!1)},className:"w-full px-4 py-3 text-left hover:bg-stone-50 flex items-center gap-3 border-b border-stone-100 last:border-0",children:[s.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-medium ${_.type==="water"?"bg-blue-100 text-blue-700":_.type==="region"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:_.type==="water"?"":_.type==="region"?"":""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-stone-800",children:_.name}),s.jsx("p",{className:"text-xs text-stone-500 capitalize",children:_.type})]})]},N))})]})},Mv=({onSearch:i,onSelectFishery:o,onSelectInstructor:n,onSelectRegion:r,onNavigate:u,favouriteWaters:f=[],onToggleFavouriteWater:p,favouriteInstructors:m=[],onToggleFavouriteInstructor:g})=>{const[w,_]=C.useState(""),[N,E]=C.useState(""),[D,T]=C.useState(25),S=C.useRef(null),[P,U]=C.useState([]),[O,Y]=C.useState([]);C.useEffect(()=>{(async()=>{try{const[H,Z]=await Promise.all([fetch("/api/waters"),fetch("/api/instructors")]);if(H.ok){const G=await H.json();U(G.waters||[])}if(Z.ok){const G=await Z.json();Y(G.instructors||[])}}catch(H){console.error("Failed to fetch data from API:",H)}})()},[]);const ee=P.length>0?P:ep,$=O.length>0?O:tp,A=ee.filter(M=>M.featured),q=ee.slice(0,6),ae=[...ee.map(M=>({type:"water",name:M.name,id:M.id})),...Ca.map(M=>({type:"region",name:M.name,id:M.id})),...Jg.slice(0,8).map(M=>({type:"species",name:M.name}))],fe=M=>{M.type==="water"||M.type,_(M.name)},de=()=>{i()},xe=M=>{if(S.current){const H=M==="left"?-300:300;S.current.scrollBy({left:H,behavior:"smooth"})}};return s.jsxs("div",{children:[s.jsxs("section",{className:"hero-gradient text-white relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-white rounded-full blur-3xl float"}),s.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-brand-400 rounded-full blur-3xl float",style:{animationDelay:"2s"}})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 md:py-24 relative",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-10",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:"Find & Book the Best Fishing in the UK"}),s.jsx("p",{className:"text-lg md:text-xl text-brand-100 max-w-2xl mx-auto",children:"From legendary salmon beats to specimen carp lakes. Search, compare, and book  all in one place."})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-white rounded-2xl p-3 shadow-2xl",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[s.jsx(Tv,{value:w,onChange:_,suggestions:ae,onSelectSuggestion:fe}),s.jsxs("select",{value:D,onChange:M=>T(Number(M.target.value)),className:"px-4 py-3.5 border border-stone-200 rounded-xl text-stone-600 bg-white focus:ring-2 focus:ring-brand-500 md:w-40",children:[s.jsx("option",{value:5,children:"Within 5 miles"}),s.jsx("option",{value:10,children:"Within 10 miles"}),s.jsx("option",{value:25,children:"Within 25 miles"}),s.jsx("option",{value:50,children:"Within 50 miles"}),s.jsx("option",{value:100,children:"Within 100 miles"})]}),s.jsxs("select",{value:N,onChange:M=>E(M.target.value),className:"px-4 py-3.5 border border-stone-200 rounded-xl text-stone-600 bg-white focus:ring-2 focus:ring-brand-500 md:w-44",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"game",children:"Game"}),s.jsx("option",{value:"coarse",children:"Coarse"}),s.jsx("option",{value:"sea",children:"Sea"})]}),s.jsxs("button",{onClick:de,className:"px-8 py-3.5 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition flex items-center justify-center gap-2 whitespace-nowrap",children:[s.jsx(Am,{className:"w-5 h-5"}),s.jsx("span",{children:"Search"})]})]})})}),s.jsxs("div",{className:"flex justify-center gap-12 mt-10 text-center",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-3xl font-bold",children:"500+"}),s.jsx("p",{className:"text-brand-200 text-sm",children:"Waters to Explore"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-3xl font-bold",children:"12,000+"}),s.jsx("p",{className:"text-brand-200 text-sm",children:"Bookings Made"})]})]})]})]}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"flex items-end justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-stone-900",children:"Featured Waters"}),s.jsx("p",{className:"text-stone-600 mt-1",children:"Hand-picked fisheries offering exceptional sport"})]}),s.jsxs("button",{onClick:i,className:"hidden md:flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium",children:["Browse all waters ",s.jsx(Rl,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:(A.length>0?A:q).map(M=>s.jsx(ex,{fishery:M,onClick:()=>o(M),isFavourite:f.includes(M.id),onToggleFavourite:p},M.id))}),s.jsx("div",{className:"text-center mt-8 md:hidden",children:s.jsxs("button",{onClick:i,className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium",children:["Browse all waters ",s.jsx(Rl,{className:"w-4 h-4"})]})})]})}),s.jsx("section",{className:"py-16 bg-stone-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-12",children:"How TightLines Works"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:s.jsx(Am,{className:"w-6 h-6"}),step:"1",title:"Search",desc:"Browse 500+ waters across the UK. Filter by species, region, price, or fishing type."},{icon:s.jsx(Oi,{className:"w-6 h-6"}),step:"2",title:"Book",desc:"Book day tickets instantly or send enquiries for premium beats. Transparent pricing, no hidden fees."},{icon:s.jsx(Lt,{className:"w-6 h-6"}),step:"3",title:"Fish",desc:"Get your confirmation, check rules and facilities, and enjoy your day on the water."}].map((M,H)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-14 h-14 bg-brand-100 text-brand-700 rounded-2xl flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:M.step}),s.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:M.title}),s.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:M.desc})]},H))})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"flex items-end justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-stone-900",children:"Fishing Guides & Instructors"}),s.jsx("p",{className:"text-stone-600 mt-1",children:"Learn from the UK's best"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsx("button",{onClick:()=>xe("left"),className:"w-9 h-9 rounded-full bg-stone-100 border border-stone-200 flex items-center justify-center hover:bg-stone-200 transition",children:s.jsx(cs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>xe("right"),className:"w-9 h-9 rounded-full bg-stone-100 border border-stone-200 flex items-center justify-center hover:bg-stone-200 transition",children:s.jsx(Jh,{className:"w-4 h-4"})})]})})]}),s.jsx("div",{ref:S,className:"flex gap-4 overflow-x-auto pb-4 -mx-4 px-4 scrollbar-hide custom-scrollbar",style:{scrollSnapType:"x mandatory"},children:$.map(M=>s.jsx("div",{style:{scrollSnapAlign:"start"},children:s.jsx(Dv,{instructor:M,onClick:()=>n(M),isFavourite:m.includes(M.id),onToggleFavourite:g})},M.id))}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("button",{onClick:()=>n(null),className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium",children:["View All Instructors ",s.jsx(Rl,{className:"w-4 h-4"})]})})]})}),s.jsx("section",{className:"py-16 bg-stone-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-10",children:"What Anglers Say"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:yv.map((M,H)=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[s.jsx("div",{className:"flex mb-3",children:[...Array(M.rating)].map((Z,G)=>s.jsx(vr,{className:"w-4 h-4 fill-amber-400 text-amber-400"},G))}),s.jsxs("p",{className:"text-stone-700 mb-4 leading-relaxed",children:['"',M.text,'"']}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-stone-900",children:M.name}),s.jsx("p",{className:"text-stone-500 text-sm",children:M.location})]})]},H))})]})}),s.jsx("footer",{className:"bg-stone-900 text-stone-400 py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 text-white mb-4",children:[s.jsx(Lt,{className:"w-6 h-6"}),s.jsx("span",{className:"text-xl font-bold",children:"TightLines"})]}),s.jsx("p",{className:"text-sm leading-relaxed",children:"The UK's premier fishing booking platform. Find and book your perfect day on the water."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-4",children:"For Anglers"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("button",{onClick:i,className:"hover:text-white transition",children:"Search Waters"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>n(null),className:"hover:text-white transition",children:"Find Instructors"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-white transition",children:"Gift Vouchers"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-4",children:"For Fisheries"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>u&&u("about"),className:"hover:text-white transition",children:"List Your Water"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-white transition",children:"Pricing"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-white transition",children:"Success Stories"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>u&&u("about"),className:"hover:text-white transition",children:"About Us"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>u&&u("contact"),className:"hover:text-white transition",children:"Contact"})}),s.jsx("li",{children:s.jsx("button",{className:"hover:text-white transition",children:"Privacy"})})]})]})]}),s.jsx("div",{className:"border-t border-stone-800 pt-8 text-sm text-center",children:" 2026 TightLines. All rights reserved."})]})})]})};function Ii(i){"@babel/helpers - typeof";return Ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ii(i)}function Ev(i,o){if(Ii(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,o);if(Ii(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function Lv(i){var o=Ev(i,"string");return Ii(o)=="symbol"?o:o+""}function Rr(i,o,n){return(o=Lv(o))in i?Object.defineProperty(i,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[o]=n,i}function Bm(i,o){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);o&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),n.push.apply(n,r)}return n}function fn(i){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?Bm(Object(n),!0).forEach(function(r){Rr(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Bm(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function np(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,r=Array(o);n<o;n++)r[n]=i[n];return r}function Ov(i){if(Array.isArray(i))return np(i)}function Rv(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function tx(i,o){if(i){if(typeof i=="string")return np(i,o);var n={}.toString.call(i).slice(8,-1);return n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set"?Array.from(i):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?np(i,o):void 0}}function Iv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Di(i){return Ov(i)||Rv(i)||tx(i)||Iv()}function Av(i){if(Array.isArray(i))return i}function Fv(i,o){var n=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(n!=null){var r,u,f,p,m=[],g=!0,w=!1;try{if(f=(n=n.call(i)).next,o===0){if(Object(n)!==n)return;g=!1}else for(;!(g=(r=f.call(n)).done)&&(m.push(r.value),m.length!==o);g=!0);}catch(_){w=!0,u=_}finally{try{if(!g&&n.return!=null&&(p=n.return(),Object(p)!==p))return}finally{if(w)throw u}}return m}}function Bv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bn(i,o){return Av(i)||Fv(i,o)||tx(i,o)||Bv()}var Oh={exports:{}};var zm;function zv(){return zm||(zm=1,(function(i){(function(){var o={}.hasOwnProperty;function n(){for(var f="",p=0;p<arguments.length;p++){var m=arguments[p];m&&(f=u(f,r(m)))}return f}function r(f){if(typeof f=="string"||typeof f=="number")return f;if(typeof f!="object")return"";if(Array.isArray(f))return n.apply(null,f);if(f.toString!==Object.prototype.toString&&!f.toString.toString().includes("[native code]"))return f.toString();var p="";for(var m in f)o.call(f,m)&&f[m]&&(p=u(p,m));return p}function u(f,p){return p?f?f+" "+p:f+p:f}i.exports?(n.default=n,i.exports=n):window.classNames=n})()})(Oh)),Oh.exports}var Wv=zv();const Pa=Ul(Wv);function rp(i){var o=C.useRef();o.current=i;var n=C.useCallback(function(){for(var r,u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];return(r=o.current)===null||r===void 0?void 0:r.call.apply(r,[o].concat(f))},[]);return n}function Yv(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Wm=Yv()?C.useLayoutEffect:C.useEffect,Hv=function(o,n){var r=C.useRef(!0);Wm(function(){return o(r.current)},n),Wm(function(){return r.current=!1,function(){r.current=!0}},[])},Ym=function(o,n){Hv(function(r){if(!r)return o()},n)};function Hm(i){var o=C.useRef(!1),n=C.useState(i),r=Bn(n,2),u=r[0],f=r[1];C.useEffect(function(){return o.current=!1,function(){o.current=!0}},[]);function p(m,g){g&&o.current||f(m)}return[u,p]}function Rh(i){return i!==void 0}function $v(i,o){var n=o||{},r=n.defaultValue,u=n.value,f=n.onChange,p=n.postState,m=Hm(function(){return Rh(u)?u:Rh(r)?typeof r=="function"?r():r:typeof i=="function"?i():i}),g=Bn(m,2),w=g[0],_=g[1],N=u!==void 0?u:w,E=p?p(N):N,D=rp(f),T=Hm([N]),S=Bn(T,2),P=S[0],U=S[1];Ym(function(){var Y=P[0];w!==Y&&D(w,Y)},[P]),Ym(function(){Rh(u)||_(u)},[u]);var O=rp(function(Y,ee){_(Y,ee),U([N],ee)});return[E,O]}var sp={},Uv=function(o){};function Zv(i,o){}function Vv(i,o){}function qv(){sp={}}function nx(i,o,n){!o&&!sp[n]&&(i(!1,n),sp[n]=!0)}function Vl(i,o){nx(Zv,i,o)}function Gv(i,o){nx(Vv,i,o)}Vl.preMessage=Uv;Vl.resetWarned=qv;Vl.noteOnce=Gv;function Kv(i,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function u(f,p){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=r.has(f);if(Vl(!g,"Warning: There may be circular references"),g)return!1;if(f===p)return!0;if(n&&m>1)return!1;r.add(f);var w=m+1;if(Array.isArray(f)){if(!Array.isArray(p)||f.length!==p.length)return!1;for(var _=0;_<f.length;_++)if(!u(f[_],p[_],w))return!1;return!0}if(f&&p&&Ii(f)==="object"&&Ii(p)==="object"){var N=Object.keys(f);return N.length!==Object.keys(p).length?!1:N.every(function(E){return u(f[E],p[E],w)})}return!1}return u(i,o)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var r in n)({}).hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Bl.apply(null,arguments)}function Qv(i,o){if(i==null)return{};var n={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(o.indexOf(r)!==-1)continue;n[r]=i[r]}return n}function rx(i,o){if(i==null)return{};var n,r,u=Qv(i,o);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(i);for(r=0;r<f.length;r++)n=f[r],o.indexOf(n)===-1&&{}.propertyIsEnumerable.call(i,n)&&(u[n]=i[n])}return u}function ip(i,o,n){return(i-o)/(n-o)}function kp(i,o,n,r){var u=ip(o,n,r),f={};switch(i){case"rtl":f.right="".concat(u*100,"%"),f.transform="translateX(50%)";break;case"btt":f.bottom="".concat(u*100,"%"),f.transform="translateY(50%)";break;case"ttb":f.top="".concat(u*100,"%"),f.transform="translateY(-50%)";break;default:f.left="".concat(u*100,"%"),f.transform="translateX(-50%)";break}return f}function Po(i,o){return Array.isArray(i)?i[o]:i}var pn={PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},Ea=C.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Xv=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],$m=C.forwardRef(function(i,o){var n=i.prefixCls,r=i.value,u=i.valueIndex,f=i.onStartMove,p=i.style,m=i.render,g=i.dragging,w=i.onOffsetChange,_=i.onChangeComplete,N=i.onFocus,E=i.onMouseEnter,D=rx(i,Xv),T=C.useContext(Ea),S=T.min,P=T.max,U=T.direction,O=T.disabled,Y=T.keyboard,ee=T.range,$=T.tabIndex,A=T.ariaLabelForHandle,q=T.ariaLabelledByForHandle,ae=T.ariaValueTextFormatterForHandle,fe=T.styles,de=T.classNames,xe="".concat(n,"-handle"),M=function(se){O||f(se,u)},H=function(se){N?.(se,u)},Z=function(se){E(se,u)},G=function(se){if(!O&&Y){var ve=null;switch(se.which||se.keyCode){case pn.LEFT:ve=U==="ltr"||U==="btt"?-1:1;break;case pn.RIGHT:ve=U==="ltr"||U==="btt"?1:-1;break;case pn.UP:ve=U!=="ttb"?1:-1;break;case pn.DOWN:ve=U!=="ttb"?-1:1;break;case pn.HOME:ve="min";break;case pn.END:ve="max";break;case pn.PAGE_UP:ve=2;break;case pn.PAGE_DOWN:ve=-2;break}ve!==null&&(se.preventDefault(),w(ve,u))}},ie=function(se){switch(se.which||se.keyCode){case pn.LEFT:case pn.RIGHT:case pn.UP:case pn.DOWN:case pn.HOME:case pn.END:case pn.PAGE_UP:case pn.PAGE_DOWN:_?.();break}},le=kp(U,r,S,P),z={};if(u!==null){var oe;z={tabIndex:O?null:Po($,u),role:"slider","aria-valuemin":S,"aria-valuemax":P,"aria-valuenow":r,"aria-disabled":O,"aria-label":Po(A,u),"aria-labelledby":Po(q,u),"aria-valuetext":(oe=Po(ae,u))===null||oe===void 0?void 0:oe(r),"aria-orientation":U==="ltr"||U==="rtl"?"horizontal":"vertical",onMouseDown:M,onTouchStart:M,onFocus:H,onMouseEnter:Z,onKeyDown:G,onKeyUp:ie}}var X=C.createElement("div",Bl({ref:o,className:Pa(xe,Rr(Rr({},"".concat(xe,"-").concat(u+1),u!==null&&ee),"".concat(xe,"-dragging"),g),de.handle),style:fn(fn(fn({},le),p),fe.handle)},z,D));return m&&(X=m(X,{index:u,prefixCls:n,value:r,dragging:g})),X}),Jv=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],ey=C.forwardRef(function(i,o){var n=i.prefixCls,r=i.style,u=i.onStartMove,f=i.onOffsetChange,p=i.values,m=i.handleRender,g=i.activeHandleRender,w=i.draggingIndex,_=i.onFocus,N=rx(i,Jv),E=C.useRef({});C.useImperativeHandle(o,function(){return{focus:function($){var A;(A=E.current[$])===null||A===void 0||A.focus()}}});var D=C.useState(-1),T=Bn(D,2),S=T[0],P=T[1],U=function($,A){P(A),_?.($)},O=function($,A){P(A)},Y=fn({prefixCls:n,onStartMove:u,onOffsetChange:f,render:m,onFocus:U,onMouseEnter:O},N);return C.createElement(C.Fragment,null,p.map(function(ee,$){return C.createElement($m,Bl({ref:function(q){q?E.current[$]=q:delete E.current[$]},dragging:w===$,style:Po(r,$),key:$,value:ee,valueIndex:$},Y))}),g&&C.createElement($m,Bl({key:"a11y"},Y,{value:p[S],valueIndex:null,dragging:w!==-1,render:g,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),ty=function(o){var n=o.prefixCls,r=o.style,u=o.children,f=o.value,p=o.onClick,m=C.useContext(Ea),g=m.min,w=m.max,_=m.direction,N=m.includedStart,E=m.includedEnd,D=m.included,T="".concat(n,"-text"),S=kp(_,f,g,w);return C.createElement("span",{className:Pa(T,Rr({},"".concat(T,"-active"),D&&N<=f&&f<=E)),style:fn(fn({},S),r),onMouseDown:function(U){U.stopPropagation()},onClick:function(){p(f)}},u)},ny=function(o){var n=o.prefixCls,r=o.marks,u=o.onClick,f="".concat(n,"-mark");return r.length?C.createElement("div",{className:f},r.map(function(p){var m=p.value,g=p.style,w=p.label;return C.createElement(ty,{key:m,prefixCls:f,style:g,value:m,onClick:u},w)})):null},ry=function(o){var n=o.prefixCls,r=o.value,u=o.style,f=o.activeStyle,p=C.useContext(Ea),m=p.min,g=p.max,w=p.direction,_=p.included,N=p.includedStart,E=p.includedEnd,D="".concat(n,"-dot"),T=_&&N<=r&&r<=E,S=fn(fn({},kp(w,r,m,g)),typeof u=="function"?u(r):u);return T&&(S=fn(fn({},S),typeof f=="function"?f(r):f)),C.createElement("span",{className:Pa(D,Rr({},"".concat(D,"-active"),T)),style:S})},sy=function(o){var n=o.prefixCls,r=o.marks,u=o.dots,f=o.style,p=o.activeStyle,m=C.useContext(Ea),g=m.min,w=m.max,_=m.step,N=C.useMemo(function(){var E=new Set;if(r.forEach(function(T){E.add(T.value)}),u&&_!==null)for(var D=g;D<=w;)E.add(D),D+=_;return Array.from(E)},[g,w,_,u,r]);return C.createElement("div",{className:"".concat(n,"-step")},N.map(function(E){return C.createElement(ry,{prefixCls:n,key:E,value:E,style:f,activeStyle:p})}))},Um=function(o){var n=o.prefixCls,r=o.style,u=o.start,f=o.end,p=o.index,m=o.onStartMove,g=o.replaceCls,w=C.useContext(Ea),_=w.direction,N=w.min,E=w.max,D=w.disabled,T=w.range,S=w.classNames,P="".concat(n,"-track"),U=ip(u,N,E),O=ip(f,N,E),Y=function(q){!D&&m&&m(q,-1)},ee={};switch(_){case"rtl":ee.right="".concat(U*100,"%"),ee.width="".concat(O*100-U*100,"%");break;case"btt":ee.bottom="".concat(U*100,"%"),ee.height="".concat(O*100-U*100,"%");break;case"ttb":ee.top="".concat(U*100,"%"),ee.height="".concat(O*100-U*100,"%");break;default:ee.left="".concat(U*100,"%"),ee.width="".concat(O*100-U*100,"%")}var $=g||Pa(P,Rr(Rr({},"".concat(P,"-").concat(p+1),p!==null&&T),"".concat(n,"-track-draggable"),m),S.track);return C.createElement("div",{className:$,style:fn(fn({},ee),r),onMouseDown:Y,onTouchStart:Y})},iy=function(o){var n=o.prefixCls,r=o.style,u=o.values,f=o.startPoint,p=o.onStartMove,m=C.useContext(Ea),g=m.included,w=m.range,_=m.min,N=m.styles,E=m.classNames,D=C.useMemo(function(){if(!w){if(u.length===0)return[];var S=f??_,P=u[0];return[{start:Math.min(S,P),end:Math.max(S,P)}]}for(var U=[],O=0;O<u.length-1;O+=1)U.push({start:u[O],end:u[O+1]});return U},[u,w,f,_]);if(!g)return null;var T=E.tracks||N.tracks?C.createElement(Um,{index:null,prefixCls:n,start:D[0].start,end:D[D.length-1].end,replaceCls:Pa(E.tracks,"".concat(n,"-tracks")),style:N.tracks}):null;return C.createElement(C.Fragment,null,T,D.map(function(S,P){var U=S.start,O=S.end;return C.createElement(Um,{index:P,prefixCls:n,style:fn(fn({},Po(r,P)),N.track),start:U,end:O,key:P,onStartMove:p})}))},Ih={exports:{}},rt={};var Zm;function ay(){if(Zm)return rt;Zm=1;var i=Symbol.for("react.element"),o=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),p=Symbol.for("react.context"),m=Symbol.for("react.server_context"),g=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(P){if(typeof P=="object"&&P!==null){var U=P.$$typeof;switch(U){case i:switch(P=P.type,P){case n:case u:case r:case w:case _:return P;default:switch(P=P&&P.$$typeof,P){case m:case p:case g:case E:case N:case f:return P;default:return U}}case o:return U}}}return rt.ContextConsumer=p,rt.ContextProvider=f,rt.Element=i,rt.ForwardRef=g,rt.Fragment=n,rt.Lazy=E,rt.Memo=N,rt.Portal=o,rt.Profiler=u,rt.StrictMode=r,rt.Suspense=w,rt.SuspenseList=_,rt.isAsyncMode=function(){return!1},rt.isConcurrentMode=function(){return!1},rt.isContextConsumer=function(P){return S(P)===p},rt.isContextProvider=function(P){return S(P)===f},rt.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===i},rt.isForwardRef=function(P){return S(P)===g},rt.isFragment=function(P){return S(P)===n},rt.isLazy=function(P){return S(P)===E},rt.isMemo=function(P){return S(P)===N},rt.isPortal=function(P){return S(P)===o},rt.isProfiler=function(P){return S(P)===u},rt.isStrictMode=function(P){return S(P)===r},rt.isSuspense=function(P){return S(P)===w},rt.isSuspenseList=function(P){return S(P)===_},rt.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===n||P===u||P===r||P===w||P===_||P===D||typeof P=="object"&&P!==null&&(P.$$typeof===E||P.$$typeof===N||P.$$typeof===f||P.$$typeof===p||P.$$typeof===g||P.$$typeof===T||P.getModuleId!==void 0)},rt.typeOf=S,rt}var Vm;function oy(){return Vm||(Vm=1,Ih.exports=ay()),Ih.exports}oy();Number(C.version.split(".")[0]);function qm(i){var o="touches"in i?i.touches[0]:i;return{pageX:o.pageX,pageY:o.pageY}}function ly(i,o,n,r,u,f,p,m,g){var w=C.useState(null),_=Bn(w,2),N=_[0],E=_[1],D=C.useState(-1),T=Bn(D,2),S=T[0],P=T[1],U=C.useState(n),O=Bn(U,2),Y=O[0],ee=O[1],$=C.useState(n),A=Bn($,2),q=A[0],ae=A[1],fe=C.useRef(null),de=C.useRef(null);C.useLayoutEffect(function(){S===-1&&ee(n)},[n,S]),C.useEffect(function(){return function(){document.removeEventListener("mousemove",fe.current),document.removeEventListener("mouseup",de.current),document.removeEventListener("touchmove",fe.current),document.removeEventListener("touchend",de.current)}},[]);var xe=function(ie,le){Y.some(function(z,oe){return z!==ie[oe]})&&(le!==void 0&&E(le),ee(ie),p(ie))},M=rp(function(G,ie){if(G===-1){var le=q[0],z=q[q.length-1],oe=r-le,X=u-z,B=ie*(u-r);B=Math.max(B,oe),B=Math.min(B,X);var se=f(le+B);B=se-le;var ve=q.map(function(Ie){return Ie+B});xe(ve)}else{var be=(u-r)*ie,we=Di(Y);we[G]=q[G];var ye=g(we,be,G,"dist");xe(ye.values,ye.value)}}),H=function(ie,le,z){ie.stopPropagation();var oe=z||n,X=oe[le];P(le),E(X),ae(oe);var B=qm(ie),se=B.pageX,ve=B.pageY,be=function(Ie){Ie.preventDefault();var Ae=qm(Ie),Ge=Ae.pageX,yt=Ae.pageY,mn=Ge-se,rn=yt-ve,ce=i.current.getBoundingClientRect(),ze=ce.width,Ve=ce.height,st;switch(o){case"btt":st=-rn/Ve;break;case"ttb":st=rn/Ve;break;case"rtl":st=-mn/ze;break;default:st=mn/ze}M(le,st)},we=function ye(Ie){Ie.preventDefault(),document.removeEventListener("mouseup",ye),document.removeEventListener("mousemove",be),document.removeEventListener("touchend",ye),document.removeEventListener("touchmove",be),fe.current=null,de.current=null,P(-1),m()};document.addEventListener("mouseup",we),document.addEventListener("mousemove",be),document.addEventListener("touchend",we),document.addEventListener("touchmove",be),fe.current=be,de.current=we},Z=C.useMemo(function(){var G=Di(n).sort(function(le,z){return le-z}),ie=Di(Y).sort(function(le,z){return le-z});return G.every(function(le,z){return le===ie[z]})?Y:n},[n,Y]);return[S,N,Z,H]}function cy(i,o,n,r,u,f){var p=C.useCallback(function(D){return Math.max(i,Math.min(o,D))},[i,o]),m=C.useCallback(function(D){if(n!==null){var T=i+Math.round((p(D)-i)/n)*n,S=function(Y){return(String(Y).split(".")[1]||"").length},P=Math.max(S(n),S(o),S(i)),U=Number(T.toFixed(P));return i<=U&&U<=o?U:null}return null},[n,i,o,p]),g=C.useCallback(function(D){var T=p(D),S=r.map(function(O){return O.value});n!==null&&S.push(m(D)),S.push(i,o);var P=S[0],U=o-i;return S.forEach(function(O){var Y=Math.abs(T-O);Y<=U&&(P=O,U=Y)}),P},[i,o,r,n,p,m]),w=function D(T,S,P){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof S=="number"){var O,Y=T[P],ee=Y+S,$=[];r.forEach(function(de){$.push(de.value)}),$.push(i,o),$.push(m(Y));var A=S>0?1:-1;U==="unit"?$.push(m(Y+A*n)):$.push(m(ee)),$=$.filter(function(de){return de!==null}).filter(function(de){return S<0?de<=Y:de>=Y}),U==="unit"&&($=$.filter(function(de){return de!==Y}));var q=U==="unit"?Y:ee;O=$[0];var ae=Math.abs(O-q);if($.forEach(function(de){var xe=Math.abs(de-q);xe<ae&&(O=de,ae=xe)}),O===void 0)return S<0?i:o;if(U==="dist")return O;if(Math.abs(S)>1){var fe=Di(T);return fe[P]=O,D(fe,S-A,P,U)}return O}else{if(S==="min")return i;if(S==="max")return o}},_=function(T,S,P){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",O=T[P],Y=w(T,S,P,U);return{value:Y,changed:Y!==O}},N=function(T){return f===null&&T===0||typeof f=="number"&&T<f},E=function(T,S,P){var U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",O=T.map(g),Y=O[P],ee=w(O,S,P,U);if(O[P]=ee,u===!1){var $=f||0;P>0&&O[P-1]!==Y&&(O[P]=Math.max(O[P],O[P-1]+$)),P<O.length-1&&O[P+1]!==Y&&(O[P]=Math.min(O[P],O[P+1]-$))}else if(typeof f=="number"||f===null){for(var A=P+1;A<O.length;A+=1)for(var q=!0;N(O[A]-O[A-1])&&q;){var ae=_(O,1,A);O[A]=ae.value,q=ae.changed}for(var fe=P;fe>0;fe-=1)for(var de=!0;N(O[fe]-O[fe-1])&&de;){var xe=_(O,-1,fe-1);O[fe-1]=xe.value,de=xe.changed}for(var M=O.length-1;M>0;M-=1)for(var H=!0;N(O[M]-O[M-1])&&H;){var Z=_(O,-1,M-1);O[M-1]=Z.value,H=Z.changed}for(var G=0;G<O.length-1;G+=1)for(var ie=!0;N(O[G+1]-O[G])&&ie;){var le=_(O,1,G+1);O[G+1]=le.value,ie=le.changed}}return{value:O[P],values:O}};return[g,E]}var uy=C.forwardRef(function(i,o){var n=i.prefixCls,r=n===void 0?"rc-slider":n,u=i.className,f=i.style,p=i.classNames,m=i.styles,g=i.disabled,w=g===void 0?!1:g,_=i.keyboard,N=_===void 0?!0:_,E=i.autoFocus,D=i.onFocus,T=i.onBlur,S=i.min,P=S===void 0?0:S,U=i.max,O=U===void 0?100:U,Y=i.step,ee=Y===void 0?1:Y,$=i.value,A=i.defaultValue,q=i.range,ae=i.count,fe=i.onChange,de=i.onBeforeChange,xe=i.onAfterChange,M=i.onChangeComplete,H=i.allowCross,Z=H===void 0?!0:H,G=i.pushable,ie=G===void 0?!1:G,le=i.draggableTrack,z=i.reverse,oe=i.vertical,X=i.included,B=X===void 0?!0:X,se=i.startPoint,ve=i.trackStyle,be=i.handleStyle,we=i.railStyle,ye=i.dotStyle,Ie=i.activeDotStyle,Ae=i.marks,Ge=i.dots,yt=i.handleRender,mn=i.activeHandleRender,rn=i.tabIndex,ce=rn===void 0?0:rn,ze=i.ariaLabelForHandle,Ve=i.ariaLabelledByForHandle,st=i.ariaValueTextFormatterForHandle,St=C.useRef(null),It=C.useRef(null),gn=C.useMemo(function(){return oe?z?"ttb":"btt":z?"rtl":"ltr"},[z,oe]),Ke=C.useMemo(function(){return isFinite(P)?P:0},[P]),Qt=C.useMemo(function(){return isFinite(O)?O:100},[O]),Dn=C.useMemo(function(){return ee!==null&&ee<=0?1:ee},[ee]),Wi=C.useMemo(function(){return typeof ie=="boolean"?ie?Dn:!1:ie>=0?ie:!1},[ie,Dn]),fs=C.useMemo(function(){return Object.keys(Ae||{}).map(function(Je){var Me=Ae[Je],Ue={value:Number(Je)};return Me&&Ii(Me)==="object"&&!C.isValidElement(Me)&&("label"in Me||"style"in Me)?(Ue.style=Me.style,Ue.label=Me.label):Ue.label=Me,Ue}).filter(function(Je){var Me=Je.label;return Me||typeof Me=="number"}).sort(function(Je,Me){return Je.value-Me.value})},[Ae]),Oa=cy(Ke,Qt,Dn,fs,Z,Wi),ms=Bn(Oa,2),yr=ms[0],Fr=ms[1],Ra=$v(A,{value:$}),br=Bn(Ra,2),Xt=br[0],Bo=br[1],sn=C.useMemo(function(){var Je=Xt==null?[]:Array.isArray(Xt)?Xt:[Xt],Me=Bn(Je,1),Ue=Me[0],pt=Ue===void 0?Ke:Ue,wt=Xt===null?[]:[pt];if(q){if(wt=Di(Je),ae||Xt===void 0){var xn=ae>=0?ae+1:2;for(wt=wt.slice(0,xn);wt.length<xn;){var vn;wt.push((vn=wt[wt.length-1])!==null&&vn!==void 0?vn:Ke)}}wt.sort(function(Tn,Wn){return Tn-Wn})}return wt.forEach(function(Tn,Wn){wt[Wn]=yr(Tn)}),wt},[Xt,q,Ke,ae,yr]),wr=C.useRef(sn);wr.current=sn;var Br=function(Me){return q?Me:Me[0]},gs=function(Me){var Ue=Di(Me).sort(function(pt,wt){return pt-wt});fe&&!Kv(Ue,wr.current,!0)&&fe(Br(Ue)),Bo(Ue)},nr=function(){var Me=Br(wr.current);xe?.(Me),Vl(!xe,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),M?.(Me)},Yi=ly(It,gn,sn,Ke,Qt,yr,gs,nr,Fr),zr=Bn(Yi,4),xs=zr[0],_r=zr[1],zn=zr[2],Hi=zr[3],$i=function(Me,Ue){if(!w){var pt=0,wt=Qt-Ke;sn.forEach(function(Wn,Us){var rr=Math.abs(Me-Wn);rr<=wt&&(wt=rr,pt=Us)});var xn=Di(sn);if(xn[pt]=Me,q&&!sn.length&&ae===void 0&&xn.push(Me),de?.(Br(xn)),gs(xn),Ue){var vn,Tn;(vn=document.activeElement)===null||vn===void 0||(Tn=vn.blur)===null||Tn===void 0||Tn.call(vn),St.current.focus(pt),Hi(Ue,pt,xn)}}},Ia=function(Me){Me.preventDefault();var Ue=It.current.getBoundingClientRect(),pt=Ue.width,wt=Ue.height,xn=Ue.left,vn=Ue.top,Tn=Ue.bottom,Wn=Ue.right,Us=Me.clientX,rr=Me.clientY,it;switch(gn){case"btt":it=(Tn-rr)/wt;break;case"ttb":it=(rr-vn)/wt;break;case"rtl":it=(Wn-Us)/pt;break;default:it=(Us-xn)/pt}var zo=Ke+it*(Qt-Ke);$i(yr(zo),Me)},Aa=C.useState(null),Ui=Bn(Aa,2),vs=Ui[0],ys=Ui[1],bs=function(Me,Ue){if(!w){var pt=Fr(sn,Me,Ue);de?.(Br(sn)),gs(pt.values),ys(pt.value)}};C.useEffect(function(){if(vs!==null){var Je=sn.indexOf(vs);Je>=0&&St.current.focus(Je)}ys(null)},[vs]);var Zi=C.useMemo(function(){return le&&Dn===null?!1:le},[le,Dn]),Wr=function(Me,Ue){Hi(Me,Ue),de?.(Br(wr.current))},Fa=xs!==-1;C.useEffect(function(){if(!Fa){var Je=sn.lastIndexOf(_r);St.current.focus(Je)}},[Fa]);var bt=C.useMemo(function(){return Di(zn).sort(function(Je,Me){return Je-Me})},[zn]),Ce=C.useMemo(function(){return q?[bt[0],bt[bt.length-1]]:[Ke,bt[0]]},[bt,q,Ke]),Yr=Bn(Ce,2),ws=Yr[0],Vi=Yr[1];C.useImperativeHandle(o,function(){return{focus:function(){St.current.focus(0)},blur:function(){var Me,Ue=document,pt=Ue.activeElement;(Me=It.current)!==null&&Me!==void 0&&Me.contains(pt)&&pt?.blur()}}}),C.useEffect(function(){E&&St.current.focus(0)},[]);var Ba=C.useMemo(function(){return{min:Ke,max:Qt,direction:gn,disabled:w,keyboard:N,step:Dn,included:B,includedStart:ws,includedEnd:Vi,range:q,tabIndex:ce,ariaLabelForHandle:ze,ariaLabelledByForHandle:Ve,ariaValueTextFormatterForHandle:st,styles:m||{},classNames:p||{}}},[Ke,Qt,gn,w,N,Dn,B,ws,Vi,q,ce,ze,Ve,st,m,p]);return C.createElement(Ea.Provider,{value:Ba},C.createElement("div",{ref:It,className:Pa(r,u,Rr(Rr(Rr(Rr({},"".concat(r,"-disabled"),w),"".concat(r,"-vertical"),oe),"".concat(r,"-horizontal"),!oe),"".concat(r,"-with-marks"),fs.length)),style:f,onMouseDown:Ia},C.createElement("div",{className:Pa("".concat(r,"-rail"),p?.rail),style:fn(fn({},we),m?.rail)}),C.createElement(iy,{prefixCls:r,style:ve,values:bt,startPoint:se,onStartMove:Zi?Wr:void 0}),C.createElement(sy,{prefixCls:r,marks:fs,dots:Ge,style:ye,activeStyle:Ie}),C.createElement(ey,{ref:St,prefixCls:r,style:be,values:zn,draggingIndex:xs,onStartMove:Wr,onOffsetChange:bs,onFocus:D,onBlur:T,handleRender:yt,activeHandleRender:mn,onChangeComplete:nr}),C.createElement(ny,{prefixCls:r,marks:fs,onClick:$i})))});const dy=({min:i=0,max:o=500,value:n=[0,500],onChange:r,step:u=5,formatLabel:f=p=>`${p}`})=>s.jsxs("div",{className:"px-2",children:[s.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[s.jsx("span",{className:"font-medium text-brand-700",children:f(n[0])}),s.jsx("span",{className:"font-medium text-brand-700",children:f(n[1])})]}),s.jsx(uy,{range:!0,min:i,max:o,value:n,onChange:r,step:u,trackStyle:[{backgroundColor:"#0f766e",height:6}],handleStyle:[{borderColor:"#0f766e",backgroundColor:"white",width:20,height:20,marginTop:-7,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",opacity:1},{borderColor:"#0f766e",backgroundColor:"white",width:20,height:20,marginTop:-7,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",opacity:1}],railStyle:{backgroundColor:"#e7e5e4",height:6}}),s.jsxs("div",{className:"flex justify-between mt-1 text-xs text-stone-400",children:[s.jsx("span",{children:f(i)}),s.jsxs("span",{children:[f(o),"+"]})]})]}),hy=[{id:"parking",label:"Parking"},{id:"cafe",label:"Caf/Restaurant"},{id:"toilets",label:"Toilets"},{id:"disabled-access",label:"Disabled Access"},{id:"night-fishing",label:"Night Fishing"},{id:"tackle-shop",label:"Tackle Shop"},{id:"boat-hire",label:"Boat Hire"}],py=[{id:"any",label:"Any Level"},{id:"beginner",label:"Beginner Friendly"},{id:"intermediate",label:"Intermediate"},{id:"advanced",label:"Advanced"}],ya=({title:i,children:o,defaultOpen:n=!0})=>{const[r,u]=C.useState(n);return s.jsxs("div",{className:"border-b border-stone-200 pb-4 mb-4 last:border-0 last:pb-0 last:mb-0",children:[s.jsxs("button",{onClick:()=>u(!r),className:"flex items-center justify-between w-full text-left font-medium text-stone-800 mb-3",children:[i,r?s.jsx(Zl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Sa,{className:"w-4 h-4 text-stone-400"})]}),r&&o]})},Gm=({options:i,selected:o,onChange:n,maxVisible:r=6})=>{const[u,f]=C.useState(!1),p=u?i:i.slice(0,r);return s.jsxs("div",{className:"space-y-2",children:[p.map(m=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.includes(m.id||m.name),onChange:()=>{const g=m.id||m.name;o.includes(g)?n(o.filter(w=>w!==g)):n([...o,g])},className:"w-4 h-4 rounded border-stone-300 text-brand-600 focus:ring-brand-500"}),s.jsx("span",{className:"text-sm text-stone-600",children:m.label||m.name})]},m.id||m.name)),i.length>r&&s.jsx("button",{onClick:()=>f(!u),className:"text-sm text-brand-600 hover:text-brand-800",children:u?"Show less":`Show all ${i.length}`})]})},fy=({options:i,selected:o,onChange:n})=>s.jsx("div",{className:"space-y-2",children:i.map(r=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"experienceLevel",checked:o===r.id,onChange:()=>n(r.id),className:"w-4 h-4 border-stone-300 text-brand-600 focus:ring-brand-500"}),s.jsx("span",{className:"text-sm text-stone-600",children:r.label})]},r.id))}),my=({label:i,checked:o,onChange:n})=>s.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[s.jsx("span",{className:"text-sm text-stone-600",children:i}),s.jsx("button",{type:"button",role:"switch","aria-checked":o,onClick:()=>n(!o),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o?"bg-brand-600":"bg-stone-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]}),sx=({filters:i,onFilterChange:o,onClearFilters:n,regions:r=[]})=>{const u=[i.priceRange[0]!==10||i.priceRange[1]!==500,i.species.length>0,i.experienceLevel!=="any",i.facilities.length>0,i.weekendOnly,i.fishingType,i.region].filter(Boolean).length;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Xg,{className:"w-5 h-5 text-brand-600"}),"Filters",u>0&&s.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:u})]}),u>0&&s.jsx("button",{onClick:n,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear all"})]}),s.jsx(ya,{title:"Fishing Type",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:["","game","coarse","sea"].map(f=>s.jsx("button",{onClick:()=>o({...i,fishingType:f}),className:`px-3 py-1.5 rounded-full text-sm transition ${i.fishingType===f?"bg-brand-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:f===""?"All":f.charAt(0).toUpperCase()+f.slice(1)},f))})}),s.jsx(ya,{title:"Region",children:s.jsxs("select",{value:i.region,onChange:f=>o({...i,region:f.target.value}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm bg-white",children:[s.jsx("option",{value:"",children:"All Regions"}),r.map(f=>s.jsx("option",{value:f.name,children:f.name},f.id))]})}),s.jsx(ya,{title:"Price Range",children:s.jsx(dy,{min:10,max:500,value:i.priceRange,onChange:f=>o({...i,priceRange:f})})}),s.jsx(ya,{title:"Species",defaultOpen:!1,children:s.jsx(Gm,{options:Jg,selected:i.species,onChange:f=>o({...i,species:f})})}),s.jsx(ya,{title:"Experience Level",children:s.jsx(fy,{options:py,selected:i.experienceLevel,onChange:f=>o({...i,experienceLevel:f})})}),s.jsx(ya,{title:"Facilities",defaultOpen:!1,children:s.jsx(Gm,{options:hy,selected:i.facilities,onChange:f=>o({...i,facilities:f}),maxVisible:5})}),s.jsx(ya,{title:"Availability",children:s.jsx(my,{label:"Available this weekend",checked:i.weekendOnly,onChange:f=>o({...i,weekendOnly:f})})})]})},gy=({isOpen:i,onClose:o,filters:n,onFilterChange:r,onClearFilters:u,onApply:f,regions:p=[]})=>{if(!i)return null;const m=[n.priceRange[0]!==10||n.priceRange[1]!==500,n.species.length>0,n.experienceLevel!=="any",n.facilities.length>0,n.weekendOnly,n.fishingType,n.region].filter(Boolean).length;return s.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:o}),s.jsxs("div",{className:"absolute inset-y-0 left-0 w-full max-w-sm bg-white shadow-xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-stone-200",children:[s.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Zu,{className:"w-5 h-5"}),"Filters",m>0&&s.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:m})]}),s.jsx("button",{onClick:o,className:"p-2 hover:bg-stone-100 rounded-lg",children:s.jsx(Ar,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx(sx,{filters:n,onFilterChange:r,onClearFilters:u,regions:p})}),s.jsxs("div",{className:"p-4 border-t border-stone-200 flex gap-3",children:[s.jsx("button",{onClick:u,className:"flex-1 py-3 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Clear All"}),s.jsx("button",{onClick:f,className:"flex-1 py-3 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Show Results"})]})]})]})},Km={priceRange:[10,500],species:[],experienceLevel:"any",facilities:[],weekendOnly:!1,fishingType:"",region:""},xy=({onSelectFishery:i,onBack:o,favouriteWaters:n=[],onToggleFavouriteWater:r})=>{const[u,f]=C.useState([]),[p,m]=C.useState(!0),[g,w]=C.useState(Km),[_,N]=C.useState("rating"),[E,D]=C.useState(!1),[T,S]=C.useState(""),[P,U]=C.useState(25);C.useEffect(()=>{(async()=>{try{const A=await Q0.getAll();A&&A.length>0?f(A):f(ep)}catch(A){console.log("API unavailable, using local data:",A.message),f(ep)}m(!1)})()},[]);const O=u.filter($=>{if(T){const A=T.toLowerCase(),q=($.name||"").toLowerCase().includes(A),ae=($.region||"").toLowerCase().includes(A),fe=($.location||"").toLowerCase().includes(A),de=($.species||[]).some(xe=>xe.toLowerCase().includes(A));if(!q&&!ae&&!fe&&!de)return!1}if(g.fishingType&&$.type!==g.fishingType||g.region&&$.region!==g.region||$.price<g.priceRange[0]||$.price>g.priceRange[1]||g.species.length>0&&!g.species.some(q=>$.species?.includes(q))||g.experienceLevel!=="any"&&$.experienceLevel!==g.experienceLevel&&$.experienceLevel!=="any"||g.facilities.length>0&&!g.facilities.every(q=>$.facilities?.includes(q)||$.amenities?.some(ae=>ae.toLowerCase().includes(q.replace("-"," ")))))return!1;if(g.weekendOnly&&$.availability){const A=new Date,q=(6-A.getDay()+7)%7,ae=new Date(A);ae.setDate(A.getDate()+q);const fe=new Date(ae);fe.setDate(ae.getDate()+1);const de=ae.toISOString().split("T")[0],xe=fe.toISOString().split("T")[0],M=$.availability[de]?.status==="available",H=$.availability[xe]?.status==="available";if(!M&&!H)return!1}return!0}).sort(($,A)=>{switch(_){case"rating":return(A.rating||0)-($.rating||0);case"price-low":return($.price||0)-(A.price||0);case"price-high":return(A.price||0)-($.price||0);case"reviews":return(A.reviews||0)-($.reviews||0);default:return 0}}),Y=()=>w(Km),ee=[g.priceRange[0]!==10||g.priceRange[1]!==500,g.species.length>0,g.experienceLevel!=="any",g.facilities.length>0,g.weekendOnly,g.fishingType,g.region].filter(Boolean).length;return s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx("div",{className:"bg-white border-b border-stone-200 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("button",{onClick:o,className:"flex items-center text-stone-500 hover:text-stone-700 transition",children:s.jsx(cs,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Find Your Perfect Water"}),s.jsx("p",{className:"text-stone-500 text-sm",children:p?"Loading waters...":`${O.length} waters found`})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",value:T,onChange:$=>S($.target.value),placeholder:"Search by name, location, region, or species...",className:"w-full pl-9 pr-4 py-2.5 border border-stone-200 rounded-xl text-sm focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("select",{value:P,onChange:$=>U(Number($.target.value)),className:"px-3 py-2.5 border border-stone-200 rounded-xl text-sm bg-white sm:w-40",children:[s.jsx("option",{value:5,children:"Within 5 miles"}),s.jsx("option",{value:10,children:"Within 10 miles"}),s.jsx("option",{value:25,children:"Within 25 miles"}),s.jsx("option",{value:50,children:"Within 50 miles"}),s.jsx("option",{value:100,children:"Within 100 miles"})]})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:s.jsx("div",{className:"sticky top-24 max-h-[calc(100vh-7rem)] overflow-y-auto",children:s.jsx(sx,{filters:g,onFilterChange:w,onClearFilters:Y,regions:Ca})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>D(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-white border border-stone-200 rounded-xl hover:bg-stone-50 text-sm",children:[s.jsx(Zu,{className:"w-4 h-4"}),"Filters",ee>0&&s.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:ee})]}),ee>0&&s.jsx("button",{onClick:Y,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear filters"})]}),s.jsxs("select",{value:_,onChange:$=>N($.target.value),className:"px-3 py-2 border border-stone-200 rounded-xl text-sm bg-white",children:[s.jsx("option",{value:"rating",children:"Top Rated"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"reviews",children:"Most Reviews"})]})]}),p?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Ri,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),s.jsx("p",{className:"text-stone-500",children:"Loading waters..."})]}):O.length>0?s.jsx("div",{className:"grid md:grid-cols-2 gap-5",children:O.map($=>s.jsx(ex,{fishery:$,onClick:()=>i($),isFavourite:n.includes($.id),onToggleFavourite:r},$.id))}):s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Lt,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No waters match your filters"}),s.jsx("p",{className:"text-stone-500 mb-4",children:"Try adjusting your search criteria"}),s.jsx("button",{onClick:Y,className:"px-4 py-2 text-brand-700 hover:bg-brand-50 rounded-lg transition",children:"Clear all filters"})]})]})]})}),s.jsx(gy,{isOpen:E,onClose:()=>D(!1),filters:g,onFilterChange:w,onClearFilters:Y,onApply:()=>D(!1),regions:Ca})]})},ix=({images:i=[],alt:o="Image"})=>{const[n,r]=C.useState(0),[u,f]=C.useState(!1),p=w=>{w?.stopPropagation(),r(_=>_===0?i.length-1:_-1)},m=w=>{w?.stopPropagation(),r(_=>_===i.length-1?0:_+1)},g=w=>{r(w)};return!i||i.length===0?s.jsx("div",{className:"h-64 md:h-96 bg-stone-200 flex items-center justify-center",children:s.jsx("span",{className:"text-stone-400",children:"No images available"})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative h-64 md:h-96 group",children:[s.jsx("div",{className:"absolute inset-0 cursor-pointer",style:{background:i[n]},onClick:()=>f(!0),children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})}),i.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:p,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white shadow-lg","aria-label":"Previous image",children:s.jsx(cs,{className:"w-5 h-5 text-stone-700"})}),s.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white shadow-lg","aria-label":"Next image",children:s.jsx(Jh,{className:"w-5 h-5 text-stone-700"})})]}),i.length>1&&s.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex justify-center gap-2",children:i.map((w,_)=>s.jsx("button",{onClick:N=>{N.stopPropagation(),g(_)},className:`w-16 h-12 rounded-lg overflow-hidden border-2 transition-all ${_===n?"border-white shadow-lg scale-105":"border-white/50 opacity-70 hover:opacity-100"}`,style:{background:w},"aria-label":`View image ${_+1}`},_))}),s.jsxs("div",{className:"absolute top-4 right-4 px-3 py-1 bg-black/50 rounded-full text-white text-sm",children:[n+1," / ",i.length]})]}),u&&s.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:()=>f(!1),children:[s.jsx("button",{onClick:()=>f(!1),className:"absolute top-4 right-4 w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Close lightbox",children:s.jsx(Ar,{className:"w-6 h-6"})}),i.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:p,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Previous image",children:s.jsx(cs,{className:"w-6 h-6"})}),s.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Next image",children:s.jsx(Jh,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"w-full max-w-5xl h-[80vh] mx-8",style:{background:i[n]},onClick:w=>w.stopPropagation()}),i.length>1&&s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:i.map((w,_)=>s.jsx("button",{onClick:N=>{N.stopPropagation(),g(_)},className:`w-20 h-14 rounded-lg overflow-hidden border-2 transition-all ${_===n?"border-white":"border-white/30 opacity-60 hover:opacity-100"}`,style:{background:w},"aria-label":`View image ${_+1}`},_))})]})]})};function ax(i){var o,n,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var u=i.length;for(o=0;o<u;o++)i[o]&&(n=ax(i[o]))&&(r&&(r+=" "),r+=n)}else for(n in i)i[n]&&(r&&(r+=" "),r+=n);return r}function nn(){for(var i,o,n=0,r="",u=arguments.length;n<u;n++)(i=arguments[n])&&(o=ax(i))&&(r&&(r+=" "),r+=o);return r}function Da(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Ne(i){const o=Object.prototype.toString.call(i);return i instanceof Date||typeof i=="object"&&o==="[object Date]"?new i.constructor(+i):typeof i=="number"||o==="[object Number]"||typeof i=="string"||o==="[object String]"?new Date(i):new Date(NaN)}function zl(i){if(!Da(i)&&typeof i!="number")return!1;const o=Ne(i);return!isNaN(Number(o))}const vy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yy=(i,o,n)=>{let r;const u=vy[i];return typeof u=="string"?r=u:o===1?r=u.one:r=u.other.replace("{{count}}",o.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ah(i){return(o={})=>{const n=o.width?String(o.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const by={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_y={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ky={date:Ah({formats:by,defaultWidth:"full"}),time:Ah({formats:wy,defaultWidth:"full"}),dateTime:Ah({formats:_y,defaultWidth:"full"})},Ny={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jy=(i,o,n,r)=>Ny[i];function Pl(i){return(o,n)=>{const r=n?.context?String(n.context):"standalone";let u;if(r==="formatting"&&i.formattingValues){const p=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):p;u=i.formattingValues[m]||i.formattingValues[p]}else{const p=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;u=i.values[m]||i.values[p]}const f=i.argumentCallback?i.argumentCallback(o):o;return u[f]}}const Sy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Py={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ty={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},My={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ey=(i,o)=>{const n=Number(i),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ly={ordinalNumber:Ey,era:Pl({values:Sy,defaultWidth:"wide"}),quarter:Pl({values:Cy,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Pl({values:Py,defaultWidth:"wide"}),day:Pl({values:Dy,defaultWidth:"wide"}),dayPeriod:Pl({values:Ty,defaultWidth:"wide",formattingValues:My,defaultFormattingWidth:"wide"})};function Dl(i){return(o,n={})=>{const r=n.width,u=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],f=o.match(u);if(!f)return null;const p=f[0],m=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],g=Array.isArray(m)?Ry(m,N=>N.test(p)):Oy(m,N=>N.test(p));let w;w=i.valueCallback?i.valueCallback(g):g,w=n.valueCallback?n.valueCallback(w):w;const _=o.slice(p.length);return{value:w,rest:_}}}function Oy(i,o){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&o(i[n]))return n}function Ry(i,o){for(let n=0;n<i.length;n++)if(o(i[n]))return n}function Iy(i){return(o,n={})=>{const r=o.match(i.matchPattern);if(!r)return null;const u=r[0],f=o.match(i.parsePattern);if(!f)return null;let p=i.valueCallback?i.valueCallback(f[0]):f[0];p=n.valueCallback?n.valueCallback(p):p;const m=o.slice(u.length);return{value:p,rest:m}}}const Ay=/^(\d+)(th|st|nd|rd)?/i,Fy=/\d+/i,By={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zy={any:[/^b/i,/^(a|c)/i]},Wy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Yy={any:[/1/i,/2/i,/3/i,/4/i]},Hy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$y={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gy={ordinalNumber:Iy({matchPattern:Ay,parsePattern:Fy,valueCallback:i=>parseInt(i,10)}),era:Dl({matchPatterns:By,defaultMatchWidth:"wide",parsePatterns:zy,defaultParseWidth:"any"}),quarter:Dl({matchPatterns:Wy,defaultMatchWidth:"wide",parsePatterns:Yy,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Dl({matchPatterns:Hy,defaultMatchWidth:"wide",parsePatterns:$y,defaultParseWidth:"any"}),day:Dl({matchPatterns:Uy,defaultMatchWidth:"wide",parsePatterns:Zy,defaultParseWidth:"any"}),dayPeriod:Dl({matchPatterns:Vy,defaultMatchWidth:"any",parsePatterns:qy,defaultParseWidth:"any"})},ox={code:"en-US",formatDistance:yy,formatLong:ky,formatRelative:jy,localize:Ly,match:Gy,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Ky={};function La(){return Ky}const lx=6048e5,Qy=864e5,qu=6e4,Gu=36e5,Xy=1e3;function is(i){const o=Ne(i);return o.setHours(0,0,0,0),o}function Mu(i){const o=Ne(i),n=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return n.setUTCFullYear(o.getFullYear()),+i-+n}function Wl(i,o){const n=is(i),r=is(o),u=+n-Mu(n),f=+r-Mu(r);return Math.round((u-f)/Qy)}function ot(i,o){return i instanceof Date?new i.constructor(o):new Date(o)}function Ku(i){const o=Ne(i),n=ot(i,0);return n.setFullYear(o.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Jy(i){const o=Ne(i);return Wl(o,Ku(o))+1}function $s(i,o){const n=La(),r=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Ne(i),f=u.getDay(),p=(f<r?7:0)+f-r;return u.setDate(u.getDate()-p),u.setHours(0,0,0,0),u}function Eo(i){return $s(i,{weekStartsOn:1})}function cx(i){const o=Ne(i),n=o.getFullYear(),r=ot(i,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const u=Eo(r),f=ot(i,0);f.setFullYear(n,0,4),f.setHours(0,0,0,0);const p=Eo(f);return o.getTime()>=u.getTime()?n+1:o.getTime()>=p.getTime()?n:n-1}function eb(i){const o=cx(i),n=ot(i,0);return n.setFullYear(o,0,4),n.setHours(0,0,0,0),Eo(n)}function Np(i){const o=Ne(i),n=+Eo(o)-+eb(o);return Math.round(n/lx)+1}function jp(i,o){const n=Ne(i),r=n.getFullYear(),u=La(),f=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,p=ot(i,0);p.setFullYear(r+1,0,f),p.setHours(0,0,0,0);const m=$s(p,o),g=ot(i,0);g.setFullYear(r,0,f),g.setHours(0,0,0,0);const w=$s(g,o);return n.getTime()>=m.getTime()?r+1:n.getTime()>=w.getTime()?r:r-1}function tb(i,o){const n=La(),r=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,u=jp(i,o),f=ot(i,0);return f.setFullYear(u,0,r),f.setHours(0,0,0,0),$s(f,o)}function ux(i,o){const n=Ne(i),r=+$s(n,o)-+tb(n,o);return Math.round(r/lx)+1}function at(i,o){const n=i<0?"-":"",r=Math.abs(i).toString().padStart(o,"0");return n+r}const Si={y(i,o){const n=i.getFullYear(),r=n>0?n:1-n;return at(o==="yy"?r%100:r,o.length)},M(i,o){const n=i.getMonth();return o==="M"?String(n+1):at(n+1,2)},d(i,o){return at(i.getDate(),o.length)},a(i,o){const n=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(i,o){return at(i.getHours()%12||12,o.length)},H(i,o){return at(i.getHours(),o.length)},m(i,o){return at(i.getMinutes(),o.length)},s(i,o){return at(i.getSeconds(),o.length)},S(i,o){const n=o.length,r=i.getMilliseconds(),u=Math.trunc(r*Math.pow(10,n-3));return at(u,o.length)}},So={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qm={G:function(i,o,n){const r=i.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(i,o,n){if(o==="yo"){const r=i.getFullYear(),u=r>0?r:1-r;return n.ordinalNumber(u,{unit:"year"})}return Si.y(i,o)},Y:function(i,o,n,r){const u=jp(i,r),f=u>0?u:1-u;if(o==="YY"){const p=f%100;return at(p,2)}return o==="Yo"?n.ordinalNumber(f,{unit:"year"}):at(f,o.length)},R:function(i,o){const n=cx(i);return at(n,o.length)},u:function(i,o){const n=i.getFullYear();return at(n,o.length)},Q:function(i,o,n){const r=Math.ceil((i.getMonth()+1)/3);switch(o){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(i,o,n){const r=Math.ceil((i.getMonth()+1)/3);switch(o){case"q":return String(r);case"qq":return at(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(i,o,n){const r=i.getMonth();switch(o){case"M":case"MM":return Si.M(i,o);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(i,o,n){const r=i.getMonth();switch(o){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(i,o,n,r){const u=ux(i,r);return o==="wo"?n.ordinalNumber(u,{unit:"week"}):at(u,o.length)},I:function(i,o,n){const r=Np(i);return o==="Io"?n.ordinalNumber(r,{unit:"week"}):at(r,o.length)},d:function(i,o,n){return o==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):Si.d(i,o)},D:function(i,o,n){const r=Jy(i);return o==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):at(r,o.length)},E:function(i,o,n){const r=i.getDay();switch(o){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(i,o,n,r){const u=i.getDay(),f=(u-r.weekStartsOn+8)%7||7;switch(o){case"e":return String(f);case"ee":return at(f,2);case"eo":return n.ordinalNumber(f,{unit:"day"});case"eee":return n.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(u,{width:"short",context:"formatting"});default:return n.day(u,{width:"wide",context:"formatting"})}},c:function(i,o,n,r){const u=i.getDay(),f=(u-r.weekStartsOn+8)%7||7;switch(o){case"c":return String(f);case"cc":return at(f,o.length);case"co":return n.ordinalNumber(f,{unit:"day"});case"ccc":return n.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(u,{width:"narrow",context:"standalone"});case"cccccc":return n.day(u,{width:"short",context:"standalone"});default:return n.day(u,{width:"wide",context:"standalone"})}},i:function(i,o,n){const r=i.getDay(),u=r===0?7:r;switch(o){case"i":return String(u);case"ii":return at(u,o.length);case"io":return n.ordinalNumber(u,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(i,o,n){const u=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(u,{width:"narrow",context:"formatting"});default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(i,o,n){const r=i.getHours();let u;switch(r===12?u=So.noon:r===0?u=So.midnight:u=r/12>=1?"pm":"am",o){case"b":case"bb":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(u,{width:"narrow",context:"formatting"});default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(i,o,n){const r=i.getHours();let u;switch(r>=17?u=So.evening:r>=12?u=So.afternoon:r>=4?u=So.morning:u=So.night,o){case"B":case"BB":case"BBB":return n.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(u,{width:"narrow",context:"formatting"});default:return n.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(i,o,n){if(o==="ho"){let r=i.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Si.h(i,o)},H:function(i,o,n){return o==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):Si.H(i,o)},K:function(i,o,n){const r=i.getHours()%12;return o==="Ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,o.length)},k:function(i,o,n){let r=i.getHours();return r===0&&(r=24),o==="ko"?n.ordinalNumber(r,{unit:"hour"}):at(r,o.length)},m:function(i,o,n){return o==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):Si.m(i,o)},s:function(i,o,n){return o==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):Si.s(i,o)},S:function(i,o){return Si.S(i,o)},X:function(i,o,n){const r=i.getTimezoneOffset();if(r===0)return"Z";switch(o){case"X":return Jm(r);case"XXXX":case"XX":return ba(r);default:return ba(r,":")}},x:function(i,o,n){const r=i.getTimezoneOffset();switch(o){case"x":return Jm(r);case"xxxx":case"xx":return ba(r);default:return ba(r,":")}},O:function(i,o,n){const r=i.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+Xm(r,":");default:return"GMT"+ba(r,":")}},z:function(i,o,n){const r=i.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+Xm(r,":");default:return"GMT"+ba(r,":")}},t:function(i,o,n){const r=Math.trunc(i.getTime()/1e3);return at(r,o.length)},T:function(i,o,n){const r=i.getTime();return at(r,o.length)}};function Xm(i,o=""){const n=i>0?"-":"+",r=Math.abs(i),u=Math.trunc(r/60),f=r%60;return f===0?n+String(u):n+String(u)+o+at(f,2)}function Jm(i,o){return i%60===0?(i>0?"-":"+")+at(Math.abs(i)/60,2):ba(i,o)}function ba(i,o=""){const n=i>0?"-":"+",r=Math.abs(i),u=at(Math.trunc(r/60),2),f=at(r%60,2);return n+u+o+f}const eg=(i,o)=>{switch(i){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},dx=(i,o)=>{switch(i){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},nb=(i,o)=>{const n=i.match(/(P+)(p+)?/)||[],r=n[1],u=n[2];if(!u)return eg(i,o);let f;switch(r){case"P":f=o.dateTime({width:"short"});break;case"PP":f=o.dateTime({width:"medium"});break;case"PPP":f=o.dateTime({width:"long"});break;default:f=o.dateTime({width:"full"});break}return f.replace("{{date}}",eg(r,o)).replace("{{time}}",dx(u,o))},Eu={p:dx,P:nb},rb=/^D+$/,sb=/^Y+$/,ib=["D","DD","YY","YYYY"];function hx(i){return rb.test(i)}function px(i){return sb.test(i)}function ap(i,o,n){const r=ab(i,o,n);if(console.warn(r),ib.includes(i))throw new RangeError(r)}function ab(i,o,n){const r=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${o}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ob=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cb=/^'([^]*?)'?$/,ub=/''/g,db=/[a-zA-Z]/;function tg(i,o,n){const r=La(),u=n?.locale??r.locale??ox,f=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,p=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,m=Ne(i);if(!zl(m))throw new RangeError("Invalid time value");let g=o.match(lb).map(_=>{const N=_[0];if(N==="p"||N==="P"){const E=Eu[N];return E(_,u.formatLong)}return _}).join("").match(ob).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const N=_[0];if(N==="'")return{isToken:!1,value:hb(_)};if(Qm[N])return{isToken:!0,value:_};if(N.match(db))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:_}});u.localize.preprocessor&&(g=u.localize.preprocessor(m,g));const w={firstWeekContainsDate:f,weekStartsOn:p,locale:u};return g.map(_=>{if(!_.isToken)return _.value;const N=_.value;(!n?.useAdditionalWeekYearTokens&&px(N)||!n?.useAdditionalDayOfYearTokens&&hx(N))&&ap(N,o,String(i));const E=Qm[N[0]];return E(m,N,u.localize,w)}).join("")}function hb(i){const o=i.match(cb);return o?o[1].replace(ub,"'"):i}function Sp(i,o){const n=+Ne(i);return ot(i,n+o)}function op(i,o){return Sp(i,o*qu)}function pb(i,o){return Sp(i,o*Gu)}function zi(i,o){const n=Ne(i);return isNaN(o)?ot(i,NaN):(o&&n.setDate(n.getDate()+o),n)}function Lu(i,o){const n=o*7;return zi(i,n)}function Ir(i,o){const n=Ne(i);if(isNaN(o))return ot(i,NaN);if(!o)return n;const r=n.getDate(),u=ot(i,n.getTime());u.setMonth(n.getMonth()+o+1,0);const f=u.getDate();return r>=f?u:(n.setFullYear(u.getFullYear(),u.getMonth(),r),n)}function Cp(i,o){const n=o*3;return Ir(i,n)}function Ys(i,o){return Ir(i,o*12)}function fb(i,o){return zi(i,-1)}function ng(i,o){return Lu(i,-1)}function Lo(i,o){return Ir(i,-o)}function fx(i,o){return Cp(i,-1)}function Oo(i,o){return Ys(i,-o)}function Hs(i){return Ne(i).getSeconds()}function as(i){return Ne(i).getMinutes()}function os(i){return Ne(i).getHours()}function mb(i){return Ne(i).getDay()}function rg(i){return Ne(i).getDate()}function Cn(i){return Ne(i).getMonth()}function ka(i){const o=Ne(i);return Math.trunc(o.getMonth()/3)+1}function $e(i){return Ne(i).getFullYear()}function lp(i){return Ne(i).getTime()}function _u(i,o){const n=Ne(i);return n.setSeconds(o),n}function ku(i,o){const n=Ne(i);return n.setMinutes(o),n}function Nu(i,o){const n=Ne(i);return n.setHours(o),n}function gb(i){const o=Ne(i),n=o.getFullYear(),r=o.getMonth(),u=ot(i,0);return u.setFullYear(n,r+1,0),u.setHours(0,0,0,0),u.getDate()}function Nn(i,o){const n=Ne(i),r=n.getFullYear(),u=n.getDate(),f=ot(i,0);f.setFullYear(r,o,15),f.setHours(0,0,0,0);const p=gb(f);return n.setMonth(o,Math.min(u,p)),n}function Co(i,o){const n=Ne(i),r=Math.trunc(n.getMonth()/3)+1,u=o-r;return Nn(n,n.getMonth()+u*3)}function es(i,o){const n=Ne(i);return isNaN(+n)?ot(i,NaN):(n.setFullYear(o),n)}function sg(i){let o;return i.forEach(n=>{const r=Ne(n);(!o||o>r||isNaN(+r))&&(o=r)}),o||new Date(NaN)}function ig(i){let o;return i.forEach(function(n){const r=Ne(n);(o===void 0||o<r||isNaN(Number(r)))&&(o=r)}),o||new Date(NaN)}function Ou(i,o){const n=Ne(i),r=Ne(o),u=n.getFullYear()-r.getFullYear(),f=n.getMonth()-r.getMonth();return u*12+f}function Ru(i,o){const n=Ne(i),r=Ne(o);return n.getFullYear()-r.getFullYear()}function Iu(i,o){const n=Ne(i),r=Ne(o),u=n.getFullYear()-r.getFullYear(),f=ka(n)-ka(r);return u*4+f}function mx(i){const o=Ne(i);return o.setDate(1),o.setHours(0,0,0,0),o}function cp(i){const o=Ne(i),n=o.getMonth(),r=n-n%3;return o.setMonth(r,1),o.setHours(0,0,0,0),o}function up(i){const o=Ne(i);return o.setHours(23,59,59,999),o}function xb(i,o){const n=La(),r=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Ne(i),f=u.getDay(),p=(f<r?-7:0)+6-(f-r);return u.setDate(u.getDate()+p),u.setHours(23,59,59,999),u}function vb(i){const o=Ne(i),n=o.getMonth();return o.setFullYear(o.getFullYear(),n+1,0),o.setHours(23,59,59,999),o}function gx(i){const o=Ne(i),n=o.getFullYear();return o.setFullYear(n+1,0,0),o.setHours(23,59,59,999),o}function yb(i,o){const n=Ne(i),r=Ne(o);return+n==+r}function bb(i,o){const n=is(i),r=is(o);return+n==+r}function wb(i,o){const n=Ne(i),r=Ne(o);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _b(i,o){const n=Ne(i),r=Ne(o);return n.getFullYear()===r.getFullYear()}function kb(i,o){const n=cp(i),r=cp(o);return+n==+r}function Ai(i,o){const n=Ne(i),r=Ne(o);return n.getTime()>r.getTime()}function Ta(i,o){const n=Ne(i),r=Ne(o);return+n<+r}function Yl(i,o){const n=+Ne(i),[r,u]=[+Ne(o.start),+Ne(o.end)].sort((f,p)=>f-p);return n>=r&&n<=u}function Nb(){return Object.assign({},La())}function jb(i,o){const n=o instanceof Date?ot(o,0):new o(0);return n.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),n.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),n}const Sb=10;class xx{subPriority=0;validate(o,n){return!0}}class Cb extends xx{constructor(o,n,r,u,f){super(),this.value=o,this.validateValue=n,this.setValue=r,this.priority=u,f&&(this.subPriority=f)}validate(o,n){return this.validateValue(o,this.value,n)}set(o,n,r){return this.setValue(o,n,this.value,r)}}class Pb extends xx{priority=Sb;subPriority=-1;set(o,n){return n.timestampIsSet?o:ot(o,jb(o,Date))}}class tt{run(o,n,r,u){const f=this.parse(o,n,r,u);return f?{setter:new Cb(f.value,this.validate,this.set,this.priority,this.subPriority),rest:f.rest}:null}validate(o,n,r){return!0}}class Db extends tt{priority=140;parse(o,n,r){switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"})||r.era(o,{width:"narrow"});case"GGGGG":return r.era(o,{width:"narrow"});default:return r.era(o,{width:"wide"})||r.era(o,{width:"abbreviated"})||r.era(o,{width:"narrow"})}}set(o,n,r){return n.era=r,o.setFullYear(r,0,1),o.setHours(0,0,0,0),o}incompatibleTokens=["R","u","t","T"]}const Ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rt(i,o){return i&&{value:o(i.value),rest:i.rest}}function jt(i,o){const n=o.match(i);return n?{value:parseInt(n[0],10),rest:o.slice(n[0].length)}:null}function rs(i,o){const n=o.match(i);if(!n)return null;if(n[0]==="Z")return{value:0,rest:o.slice(1)};const r=n[1]==="+"?1:-1,u=n[2]?parseInt(n[2],10):0,f=n[3]?parseInt(n[3],10):0,p=n[5]?parseInt(n[5],10):0;return{value:r*(u*Gu+f*qu+p*Xy),rest:o.slice(n[0].length)}}function vx(i){return jt(Ot.anyDigitsSigned,i)}function Mt(i,o){switch(i){case 1:return jt(Ot.singleDigit,o);case 2:return jt(Ot.twoDigits,o);case 3:return jt(Ot.threeDigits,o);case 4:return jt(Ot.fourDigits,o);default:return jt(new RegExp("^\\d{1,"+i+"}"),o)}}function Au(i,o){switch(i){case 1:return jt(Ot.singleDigitSigned,o);case 2:return jt(Ot.twoDigitsSigned,o);case 3:return jt(Ot.threeDigitsSigned,o);case 4:return jt(Ot.fourDigitsSigned,o);default:return jt(new RegExp("^-?\\d{1,"+i+"}"),o)}}function Pp(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function yx(i,o){const n=o>0,r=n?o:1-o;let u;if(r<=50)u=i||100;else{const f=r+50,p=Math.trunc(f/100)*100,m=i>=f%100;u=i+p-(m?100:0)}return n?u:1-u}function bx(i){return i%400===0||i%4===0&&i%100!==0}class Tb extends tt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(o,n,r){const u=f=>({year:f,isTwoDigitYear:n==="yy"});switch(n){case"y":return Rt(Mt(4,o),u);case"yo":return Rt(r.ordinalNumber(o,{unit:"year"}),u);default:return Rt(Mt(n.length,o),u)}}validate(o,n){return n.isTwoDigitYear||n.year>0}set(o,n,r){const u=o.getFullYear();if(r.isTwoDigitYear){const p=yx(r.year,u);return o.setFullYear(p,0,1),o.setHours(0,0,0,0),o}const f=!("era"in n)||n.era===1?r.year:1-r.year;return o.setFullYear(f,0,1),o.setHours(0,0,0,0),o}}class Mb extends tt{priority=130;parse(o,n,r){const u=f=>({year:f,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Rt(Mt(4,o),u);case"Yo":return Rt(r.ordinalNumber(o,{unit:"year"}),u);default:return Rt(Mt(n.length,o),u)}}validate(o,n){return n.isTwoDigitYear||n.year>0}set(o,n,r,u){const f=jp(o,u);if(r.isTwoDigitYear){const m=yx(r.year,f);return o.setFullYear(m,0,u.firstWeekContainsDate),o.setHours(0,0,0,0),$s(o,u)}const p=!("era"in n)||n.era===1?r.year:1-r.year;return o.setFullYear(p,0,u.firstWeekContainsDate),o.setHours(0,0,0,0),$s(o,u)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Eb extends tt{priority=130;parse(o,n){return Au(n==="R"?4:n.length,o)}set(o,n,r){const u=ot(o,0);return u.setFullYear(r,0,4),u.setHours(0,0,0,0),Eo(u)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Lb extends tt{priority=130;parse(o,n){return Au(n==="u"?4:n.length,o)}set(o,n,r){return o.setFullYear(r,0,1),o.setHours(0,0,0,0),o}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Ob extends tt{priority=120;parse(o,n,r){switch(n){case"Q":case"QQ":return Mt(n.length,o);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"})||r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});default:return r.quarter(o,{width:"wide",context:"formatting"})||r.quarter(o,{width:"abbreviated",context:"formatting"})||r.quarter(o,{width:"narrow",context:"formatting"})}}validate(o,n){return n>=1&&n<=4}set(o,n,r){return o.setMonth((r-1)*3,1),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Rb extends tt{priority=120;parse(o,n,r){switch(n){case"q":case"qq":return Mt(n.length,o);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"})||r.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});default:return r.quarter(o,{width:"wide",context:"standalone"})||r.quarter(o,{width:"abbreviated",context:"standalone"})||r.quarter(o,{width:"narrow",context:"standalone"})}}validate(o,n){return n>=1&&n<=4}set(o,n,r){return o.setMonth((r-1)*3,1),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Ib extends tt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(o,n,r){const u=f=>f-1;switch(n){case"M":return Rt(jt(Ot.month,o),u);case"MM":return Rt(Mt(2,o),u);case"Mo":return Rt(r.ordinalNumber(o,{unit:"month"}),u);case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"})||r.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});default:return r.month(o,{width:"wide",context:"formatting"})||r.month(o,{width:"abbreviated",context:"formatting"})||r.month(o,{width:"narrow",context:"formatting"})}}validate(o,n){return n>=0&&n<=11}set(o,n,r){return o.setMonth(r,1),o.setHours(0,0,0,0),o}}class Ab extends tt{priority=110;parse(o,n,r){const u=f=>f-1;switch(n){case"L":return Rt(jt(Ot.month,o),u);case"LL":return Rt(Mt(2,o),u);case"Lo":return Rt(r.ordinalNumber(o,{unit:"month"}),u);case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"})||r.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});default:return r.month(o,{width:"wide",context:"standalone"})||r.month(o,{width:"abbreviated",context:"standalone"})||r.month(o,{width:"narrow",context:"standalone"})}}validate(o,n){return n>=0&&n<=11}set(o,n,r){return o.setMonth(r,1),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Fb(i,o,n){const r=Ne(i),u=ux(r,n)-o;return r.setDate(r.getDate()-u*7),r}class Bb extends tt{priority=100;parse(o,n,r){switch(n){case"w":return jt(Ot.week,o);case"wo":return r.ordinalNumber(o,{unit:"week"});default:return Mt(n.length,o)}}validate(o,n){return n>=1&&n<=53}set(o,n,r,u){return $s(Fb(o,r,u),u)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function zb(i,o){const n=Ne(i),r=Np(n)-o;return n.setDate(n.getDate()-r*7),n}class Wb extends tt{priority=100;parse(o,n,r){switch(n){case"I":return jt(Ot.week,o);case"Io":return r.ordinalNumber(o,{unit:"week"});default:return Mt(n.length,o)}}validate(o,n){return n>=1&&n<=53}set(o,n,r){return Eo(zb(o,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Yb=[31,28,31,30,31,30,31,31,30,31,30,31],Hb=[31,29,31,30,31,30,31,31,30,31,30,31];class $b extends tt{priority=90;subPriority=1;parse(o,n,r){switch(n){case"d":return jt(Ot.date,o);case"do":return r.ordinalNumber(o,{unit:"date"});default:return Mt(n.length,o)}}validate(o,n){const r=o.getFullYear(),u=bx(r),f=o.getMonth();return u?n>=1&&n<=Hb[f]:n>=1&&n<=Yb[f]}set(o,n,r){return o.setDate(r),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Ub extends tt{priority=90;subpriority=1;parse(o,n,r){switch(n){case"D":case"DD":return jt(Ot.dayOfYear,o);case"Do":return r.ordinalNumber(o,{unit:"date"});default:return Mt(n.length,o)}}validate(o,n){const r=o.getFullYear();return bx(r)?n>=1&&n<=366:n>=1&&n<=365}set(o,n,r){return o.setMonth(0,r),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Dp(i,o,n){const r=La(),u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,f=Ne(i),p=f.getDay(),g=(o%7+7)%7,w=7-u,_=o<0||o>6?o-(p+w)%7:(g+w)%7-(p+w)%7;return zi(f,_)}class Zb extends tt{priority=90;parse(o,n,r){switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"})}}validate(o,n){return n>=0&&n<=6}set(o,n,r,u){return o=Dp(o,r,u),o.setHours(0,0,0,0),o}incompatibleTokens=["D","i","e","c","t","T"]}class Vb extends tt{priority=90;parse(o,n,r,u){const f=p=>{const m=Math.floor((p-1)/7)*7;return(p+u.weekStartsOn+6)%7+m};switch(n){case"e":case"ee":return Rt(Mt(n.length,o),f);case"eo":return Rt(r.ordinalNumber(o,{unit:"day"}),f);case"eee":return r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"})}}validate(o,n){return n>=0&&n<=6}set(o,n,r,u){return o=Dp(o,r,u),o.setHours(0,0,0,0),o}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class qb extends tt{priority=90;parse(o,n,r,u){const f=p=>{const m=Math.floor((p-1)/7)*7;return(p+u.weekStartsOn+6)%7+m};switch(n){case"c":case"cc":return Rt(Mt(n.length,o),f);case"co":return Rt(r.ordinalNumber(o,{unit:"day"}),f);case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"})||r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})||r.day(o,{width:"abbreviated",context:"standalone"})||r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"})}}validate(o,n){return n>=0&&n<=6}set(o,n,r,u){return o=Dp(o,r,u),o.setHours(0,0,0,0),o}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Gb(i){let n=Ne(i).getDay();return n===0&&(n=7),n}function Kb(i,o){const n=Ne(i),r=Gb(n),u=o-r;return zi(n,u)}class Qb extends tt{priority=90;parse(o,n,r){const u=f=>f===0?7:f;switch(n){case"i":case"ii":return Mt(n.length,o);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return Rt(r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u);case"iiiii":return Rt(r.day(o,{width:"narrow",context:"formatting"}),u);case"iiiiii":return Rt(r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u);default:return Rt(r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u)}}validate(o,n){return n>=1&&n<=7}set(o,n,r){return o=Kb(o,r),o.setHours(0,0,0,0),o}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Xb extends tt{priority=80;parse(o,n,r){switch(n){case"a":case"aa":case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,n,r){return o.setHours(Pp(r),0,0,0),o}incompatibleTokens=["b","B","H","k","t","T"]}class Jb extends tt{priority=80;parse(o,n,r){switch(n){case"b":case"bb":case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,n,r){return o.setHours(Pp(r),0,0,0),o}incompatibleTokens=["a","B","H","k","t","T"]}class ew extends tt{priority=80;parse(o,n,r){switch(n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,n,r){return o.setHours(Pp(r),0,0,0),o}incompatibleTokens=["a","b","t","T"]}class tw extends tt{priority=70;parse(o,n,r){switch(n){case"h":return jt(Ot.hour12h,o);case"ho":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(n.length,o)}}validate(o,n){return n>=1&&n<=12}set(o,n,r){const u=o.getHours()>=12;return u&&r<12?o.setHours(r+12,0,0,0):!u&&r===12?o.setHours(0,0,0,0):o.setHours(r,0,0,0),o}incompatibleTokens=["H","K","k","t","T"]}class nw extends tt{priority=70;parse(o,n,r){switch(n){case"H":return jt(Ot.hour23h,o);case"Ho":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(n.length,o)}}validate(o,n){return n>=0&&n<=23}set(o,n,r){return o.setHours(r,0,0,0),o}incompatibleTokens=["a","b","h","K","k","t","T"]}class rw extends tt{priority=70;parse(o,n,r){switch(n){case"K":return jt(Ot.hour11h,o);case"Ko":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(n.length,o)}}validate(o,n){return n>=0&&n<=11}set(o,n,r){return o.getHours()>=12&&r<12?o.setHours(r+12,0,0,0):o.setHours(r,0,0,0),o}incompatibleTokens=["h","H","k","t","T"]}class sw extends tt{priority=70;parse(o,n,r){switch(n){case"k":return jt(Ot.hour24h,o);case"ko":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(n.length,o)}}validate(o,n){return n>=1&&n<=24}set(o,n,r){const u=r<=24?r%24:r;return o.setHours(u,0,0,0),o}incompatibleTokens=["a","b","h","H","K","t","T"]}class iw extends tt{priority=60;parse(o,n,r){switch(n){case"m":return jt(Ot.minute,o);case"mo":return r.ordinalNumber(o,{unit:"minute"});default:return Mt(n.length,o)}}validate(o,n){return n>=0&&n<=59}set(o,n,r){return o.setMinutes(r,0,0),o}incompatibleTokens=["t","T"]}class aw extends tt{priority=50;parse(o,n,r){switch(n){case"s":return jt(Ot.second,o);case"so":return r.ordinalNumber(o,{unit:"second"});default:return Mt(n.length,o)}}validate(o,n){return n>=0&&n<=59}set(o,n,r){return o.setSeconds(r,0),o}incompatibleTokens=["t","T"]}class ow extends tt{priority=30;parse(o,n){const r=u=>Math.trunc(u*Math.pow(10,-n.length+3));return Rt(Mt(n.length,o),r)}set(o,n,r){return o.setMilliseconds(r),o}incompatibleTokens=["t","T"]}class lw extends tt{priority=10;parse(o,n){switch(n){case"X":return rs(ns.basicOptionalMinutes,o);case"XX":return rs(ns.basic,o);case"XXXX":return rs(ns.basicOptionalSeconds,o);case"XXXXX":return rs(ns.extendedOptionalSeconds,o);default:return rs(ns.extended,o)}}set(o,n,r){return n.timestampIsSet?o:ot(o,o.getTime()-Mu(o)-r)}incompatibleTokens=["t","T","x"]}class cw extends tt{priority=10;parse(o,n){switch(n){case"x":return rs(ns.basicOptionalMinutes,o);case"xx":return rs(ns.basic,o);case"xxxx":return rs(ns.basicOptionalSeconds,o);case"xxxxx":return rs(ns.extendedOptionalSeconds,o);default:return rs(ns.extended,o)}}set(o,n,r){return n.timestampIsSet?o:ot(o,o.getTime()-Mu(o)-r)}incompatibleTokens=["t","T","X"]}class uw extends tt{priority=40;parse(o){return vx(o)}set(o,n,r){return[ot(o,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class dw extends tt{priority=20;parse(o){return vx(o)}set(o,n,r){return[ot(o,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const hw={G:new Db,y:new Tb,Y:new Mb,R:new Eb,u:new Lb,Q:new Ob,q:new Rb,M:new Ib,L:new Ab,w:new Bb,I:new Wb,d:new $b,D:new Ub,E:new Zb,e:new Vb,c:new qb,i:new Qb,a:new Xb,b:new Jb,B:new ew,h:new tw,H:new nw,K:new rw,k:new sw,m:new iw,s:new aw,S:new ow,X:new lw,x:new cw,t:new uw,T:new dw},pw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mw=/^'([^]*?)'?$/,gw=/''/g,xw=/\S/,vw=/[a-zA-Z]/;function Fh(i,o,n,r){const u=Nb(),f=r?.locale??u.locale??ox,p=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,m=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(o==="")return i===""?Ne(n):ot(n,NaN);const g={firstWeekContainsDate:p,weekStartsOn:m,locale:f},w=[new Pb],_=o.match(fw).map(S=>{const P=S[0];if(P in Eu){const U=Eu[P];return U(S,f.formatLong)}return S}).join("").match(pw),N=[];for(let S of _){!r?.useAdditionalWeekYearTokens&&px(S)&&ap(S,o,i),!r?.useAdditionalDayOfYearTokens&&hx(S)&&ap(S,o,i);const P=S[0],U=hw[P];if(U){const{incompatibleTokens:O}=U;if(Array.isArray(O)){const ee=N.find($=>O.includes($.token)||$.token===P);if(ee)throw new RangeError(`The format string mustn't contain \`${ee.fullToken}\` and \`${S}\` at the same time`)}else if(U.incompatibleTokens==="*"&&N.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);N.push({token:P,fullToken:S});const Y=U.run(i,S,f.match,g);if(!Y)return ot(n,NaN);w.push(Y.setter),i=Y.rest}else{if(P.match(vw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");if(S==="''"?S="'":P==="'"&&(S=yw(S)),i.indexOf(S)===0)i=i.slice(S.length);else return ot(n,NaN)}}if(i.length>0&&xw.test(i))return ot(n,NaN);const E=w.map(S=>S.priority).sort((S,P)=>P-S).filter((S,P,U)=>U.indexOf(S)===P).map(S=>w.filter(P=>P.priority===S).sort((P,U)=>U.subPriority-P.subPriority)).map(S=>S[0]);let D=Ne(n);if(isNaN(D.getTime()))return ot(n,NaN);const T={};for(const S of E){if(!S.validate(D,g))return ot(n,NaN);const P=S.set(D,T,g);Array.isArray(P)?(D=P[0],Object.assign(T,P[1])):D=P}return ot(n,D)}function yw(i){return i.match(mw)[1].replace(gw,"'")}function bw(i,o){const r=Nw(i);let u;if(r.date){const g=jw(r.date,2);u=Sw(g.restDateString,g.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);const f=u.getTime();let p=0,m;if(r.time&&(p=Cw(r.time),isNaN(p)))return new Date(NaN);if(r.timezone){if(m=Pw(r.timezone),isNaN(m))return new Date(NaN)}else{const g=new Date(f+p),w=new Date(0);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return new Date(f+p+m)}const uu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ww=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,_w=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kw=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Nw(i){const o={},n=i.split(uu.dateTimeDelimiter);let r;if(n.length>2)return o;if(/:/.test(n[0])?r=n[0]:(o.date=n[0],r=n[1],uu.timeZoneDelimiter.test(o.date)&&(o.date=i.split(uu.timeZoneDelimiter)[0],r=i.substr(o.date.length,i.length))),r){const u=uu.timezone.exec(r);u?(o.time=r.replace(u[1],""),o.timezone=u[1]):o.time=r}return o}function jw(i,o){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+o)+"})|(\\d{2}|[+-]\\d{"+(2+o)+"})$)"),r=i.match(n);if(!r)return{year:NaN,restDateString:""};const u=r[1]?parseInt(r[1]):null,f=r[2]?parseInt(r[2]):null;return{year:f===null?u:f*100,restDateString:i.slice((r[1]||r[2]).length)}}function Sw(i,o){if(o===null)return new Date(NaN);const n=i.match(ww);if(!n)return new Date(NaN);const r=!!n[4],u=Tl(n[1]),f=Tl(n[2])-1,p=Tl(n[3]),m=Tl(n[4]),g=Tl(n[5])-1;if(r)return Lw(o,m,g)?Dw(o,m,g):new Date(NaN);{const w=new Date(0);return!Mw(o,f,p)||!Ew(o,u)?new Date(NaN):(w.setUTCFullYear(o,f,Math.max(u,p)),w)}}function Tl(i){return i?parseInt(i):1}function Cw(i){const o=i.match(_w);if(!o)return NaN;const n=Bh(o[1]),r=Bh(o[2]),u=Bh(o[3]);return Ow(n,r,u)?n*Gu+r*qu+u*1e3:NaN}function Bh(i){return i&&parseFloat(i.replace(",","."))||0}function Pw(i){if(i==="Z")return 0;const o=i.match(kw);if(!o)return 0;const n=o[1]==="+"?-1:1,r=parseInt(o[2]),u=o[3]&&parseInt(o[3])||0;return Rw(r,u)?n*(r*Gu+u*qu):NaN}function Dw(i,o,n){const r=new Date(0);r.setUTCFullYear(i,0,4);const u=r.getUTCDay()||7,f=(o-1)*7+n+1-u;return r.setUTCDate(r.getUTCDate()+f),r}const Tw=[31,null,31,30,31,30,31,31,30,31,30,31];function wx(i){return i%400===0||i%4===0&&i%100!==0}function Mw(i,o,n){return o>=0&&o<=11&&n>=1&&n<=(Tw[o]||(wx(i)?29:28))}function Ew(i,o){return o>=1&&o<=(wx(i)?366:365)}function Lw(i,o,n){return o>=1&&o<=53&&n>=0&&n<=6}function Ow(i,o,n){return i===24?o===0&&n===0:n>=0&&n<60&&o>=0&&o<60&&i>=0&&i<25}function Rw(i,o){return o>=0&&o<=59}function Iw(i,o){return Sp(i,o*1e3)}function Aw(i,o){let n=Ne(i);return isNaN(+n)?ot(i,NaN):(o.year!=null&&n.setFullYear(o.year),o.month!=null&&(n=Nn(n,o.month)),o.date!=null&&n.setDate(o.date),o.hours!=null&&n.setHours(o.hours),o.minutes!=null&&n.setMinutes(o.minutes),o.seconds!=null&&n.setSeconds(o.seconds),o.milliseconds!=null&&n.setMilliseconds(o.milliseconds),n)}var Qu=Zg();const Fw=Ul(Qu);function Bw(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,dp(i,o)}function dp(i,o){return dp=Object.setPrototypeOf||function(r,u){return r.__proto__=u,r},dp(i,o)}function zw(i,o){if(i==null)return{};var n={},r=Object.keys(i),u,f;for(f=0;f<r.length;f++)u=r[f],!(o.indexOf(u)>=0)&&(n[u]=i[u]);return n}function ag(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ww(i,o,n){return i===o?!0:i.correspondingElement?i.correspondingElement.classList.contains(n):i.classList.contains(n)}function Yw(i,o,n){if(i===o)return!0;for(;i.parentNode||i.host;){if(i.parentNode&&Ww(i,o,n))return!0;i=i.parentNode||i.host}return i}function Hw(i){return document.documentElement.clientWidth<=i.clientX||document.documentElement.clientHeight<=i.clientY}var $w=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var o=!1,n=Object.defineProperty({},"passive",{get:function(){o=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,n),window.removeEventListener("testPassiveEventSupport",r,n),o}};function Uw(i){return i===void 0&&(i=0),function(){return++i}}var Zw=Uw(),hp,du={},zh={},Vw=["touchstart","touchmove"],qw="ignore-react-onclickoutside";function og(i,o){var n={},r=Vw.indexOf(o)!==-1;return r&&hp&&(n.passive=!i.props.preventDefault),n}function Xu(i,o){var n,r,u=i.displayName||i.name||"Component";return r=n=(function(f){Bw(p,f);function p(g){var w;return w=f.call(this,g)||this,w.__outsideClickHandler=function(_){if(typeof w.__clickOutsideHandlerProp=="function"){w.__clickOutsideHandlerProp(_);return}var N=w.getInstance();if(typeof N.props.handleClickOutside=="function"){N.props.handleClickOutside(_);return}if(typeof N.handleClickOutside=="function"){N.handleClickOutside(_);return}throw new Error("WrappedComponent: "+u+" lacks a handleClickOutside(event) function for processing outside click events.")},w.__getComponentNode=function(){var _=w.getInstance();return typeof _.setClickOutsideRef=="function"?_.setClickOutsideRef():Qu.findDOMNode(_)},w.enableOnClickOutside=function(){if(!(typeof document>"u"||zh[w._uid])){typeof hp>"u"&&(hp=$w()),zh[w._uid]=!0;var _=w.props.eventTypes;_.forEach||(_=[_]),du[w._uid]=function(N){if(w.componentNode!==null&&!(w.initTimeStamp>N.timeStamp)&&(w.props.preventDefault&&N.preventDefault(),w.props.stopPropagation&&N.stopPropagation(),!(w.props.excludeScrollbar&&Hw(N)))){var E=N.composed&&N.composedPath&&N.composedPath().shift()||N.target;Yw(E,w.componentNode,w.props.outsideClickIgnoreClass)===document&&w.__outsideClickHandler(N)}},_.forEach(function(N){document.addEventListener(N,du[w._uid],og(ag(w),N))})}},w.disableOnClickOutside=function(){delete zh[w._uid];var _=du[w._uid];if(_&&typeof document<"u"){var N=w.props.eventTypes;N.forEach||(N=[N]),N.forEach(function(E){return document.removeEventListener(E,_,og(ag(w),E))}),delete du[w._uid]}},w.getRef=function(_){return w.instanceRef=_},w._uid=Zw(),w.initTimeStamp=performance.now(),w}var m=p.prototype;return m.getInstance=function(){if(i.prototype&&!i.prototype.isReactComponent)return this;var w=this.instanceRef;return w.getInstance?w.getInstance():w},m.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},m.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},m.componentWillUnmount=function(){this.disableOnClickOutside()},m.render=function(){var w=this.props;w.excludeScrollbar;var _=zw(w,["excludeScrollbar"]);return i.prototype&&i.prototype.isReactComponent?_.ref=this.getRef:_.wrappedRef=this.getRef,_.disableOnClickOutside=this.disableOnClickOutside,_.enableOnClickOutside=this.enableOnClickOutside,C.createElement(i,_)},p})(C.Component),n.displayName="OnClickOutside("+u+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:qw,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return i.getClass?i.getClass():i},r}function Ju(){return typeof window<"u"}function Fo(i){return _x(i)?(i.nodeName||"").toLowerCase():"#document"}function er(i){var o;return(i==null||(o=i.ownerDocument)==null?void 0:o.defaultView)||window}function ps(i){var o;return(o=(_x(i)?i.ownerDocument:i.document)||window.document)==null?void 0:o.documentElement}function _x(i){return Ju()?i instanceof Node||i instanceof er(i).Node:!1}function Pn(i){return Ju()?i instanceof Element||i instanceof er(i).Element:!1}function hs(i){return Ju()?i instanceof HTMLElement||i instanceof er(i).HTMLElement:!1}function lg(i){return!Ju()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof er(i).ShadowRoot}const Gw=new Set(["inline","contents"]);function ql(i){const{overflow:o,overflowX:n,overflowY:r,display:u}=xr(i);return/auto|scroll|overlay|hidden|clip/.test(o+r+n)&&!Gw.has(u)}const Kw=new Set(["table","td","th"]);function Qw(i){return Kw.has(Fo(i))}const Xw=[":popover-open",":modal"];function ed(i){return Xw.some(o=>{try{return i.matches(o)}catch{return!1}})}const Jw=["transform","translate","scale","rotate","perspective"],e_=["transform","translate","scale","rotate","perspective","filter"],t_=["paint","layout","strict","content"];function Tp(i){const o=Mp(),n=Pn(i)?xr(i):i;return Jw.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!o&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!o&&(n.filter?n.filter!=="none":!1)||e_.some(r=>(n.willChange||"").includes(r))||t_.some(r=>(n.contain||"").includes(r))}function n_(i){let o=Fi(i);for(;hs(o)&&!Ro(o);){if(Tp(o))return o;if(ed(o))return null;o=Fi(o)}return null}function Mp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const r_=new Set(["html","body","#document"]);function Ro(i){return r_.has(Fo(i))}function xr(i){return er(i).getComputedStyle(i)}function td(i){return Pn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Fi(i){if(Fo(i)==="html")return i;const o=i.assignedSlot||i.parentNode||lg(i)&&i.host||ps(i);return lg(o)?o.host:o}function kx(i){const o=Fi(i);return Ro(o)?i.ownerDocument?i.ownerDocument.body:i.body:hs(o)&&ql(o)?o:kx(o)}function Hl(i,o,n){var r;o===void 0&&(o=[]),n===void 0&&(n=!0);const u=kx(i),f=u===((r=i.ownerDocument)==null?void 0:r.body),p=er(u);if(f){const m=pp(p);return o.concat(p,p.visualViewport||[],ql(u)?u:[],m&&n?Hl(m):[])}return o.concat(u,Hl(u,[],n))}function pp(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}const Io=Math.min,Na=Math.max,Fu=Math.round,hu=Math.floor,ls=i=>({x:i,y:i}),s_={left:"right",right:"left",bottom:"top",top:"bottom"},i_={start:"end",end:"start"};function a_(i,o,n){return Na(i,Io(o,n))}function nd(i,o){return typeof i=="function"?i(o):i}function Ao(i){return i.split("-")[0]}function Gl(i){return i.split("-")[1]}function o_(i){return i==="x"?"y":"x"}function Ep(i){return i==="y"?"height":"width"}const l_=new Set(["top","bottom"]);function wa(i){return l_.has(Ao(i))?"y":"x"}function Lp(i){return o_(wa(i))}function c_(i,o,n){n===void 0&&(n=!1);const r=Gl(i),u=Lp(i),f=Ep(u);let p=u==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return o.reference[f]>o.floating[f]&&(p=Bu(p)),[p,Bu(p)]}function u_(i){const o=Bu(i);return[fp(i),o,fp(o)]}function fp(i){return i.replace(/start|end/g,o=>i_[o])}const cg=["left","right"],ug=["right","left"],d_=["top","bottom"],h_=["bottom","top"];function p_(i,o,n){switch(i){case"top":case"bottom":return n?o?ug:cg:o?cg:ug;case"left":case"right":return o?d_:h_;default:return[]}}function f_(i,o,n,r){const u=Gl(i);let f=p_(Ao(i),n==="start",r);return u&&(f=f.map(p=>p+"-"+u),o&&(f=f.concat(f.map(fp)))),f}function Bu(i){return i.replace(/left|right|bottom|top/g,o=>s_[o])}function m_(i){return{top:0,right:0,bottom:0,left:0,...i}}function Nx(i){return typeof i!="number"?m_(i):{top:i,right:i,bottom:i,left:i}}function zu(i){const{x:o,y:n,width:r,height:u}=i;return{width:r,height:u,top:n,left:o,right:o+r,bottom:n+u,x:o,y:n}}function dg(i,o,n){let{reference:r,floating:u}=i;const f=wa(o),p=Lp(o),m=Ep(p),g=Ao(o),w=f==="y",_=r.x+r.width/2-u.width/2,N=r.y+r.height/2-u.height/2,E=r[m]/2-u[m]/2;let D;switch(g){case"top":D={x:_,y:r.y-u.height};break;case"bottom":D={x:_,y:r.y+r.height};break;case"right":D={x:r.x+r.width,y:N};break;case"left":D={x:r.x-u.width,y:N};break;default:D={x:r.x,y:r.y}}switch(Gl(o)){case"start":D[p]-=E*(n&&w?-1:1);break;case"end":D[p]+=E*(n&&w?-1:1);break}return D}async function g_(i,o){var n;o===void 0&&(o={});const{x:r,y:u,platform:f,rects:p,elements:m,strategy:g}=i,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:N="floating",altBoundary:E=!1,padding:D=0}=nd(o,i),T=Nx(D),P=m[E?N==="floating"?"reference":"floating":N],U=zu(await f.getClippingRect({element:(n=await(f.isElement==null?void 0:f.isElement(P)))==null||n?P:P.contextElement||await(f.getDocumentElement==null?void 0:f.getDocumentElement(m.floating)),boundary:w,rootBoundary:_,strategy:g})),O=N==="floating"?{x:r,y:u,width:p.floating.width,height:p.floating.height}:p.reference,Y=await(f.getOffsetParent==null?void 0:f.getOffsetParent(m.floating)),ee=await(f.isElement==null?void 0:f.isElement(Y))?await(f.getScale==null?void 0:f.getScale(Y))||{x:1,y:1}:{x:1,y:1},$=zu(f.convertOffsetParentRelativeRectToViewportRelativeRect?await f.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:O,offsetParent:Y,strategy:g}):O);return{top:(U.top-$.top+T.top)/ee.y,bottom:($.bottom-U.bottom+T.bottom)/ee.y,left:(U.left-$.left+T.left)/ee.x,right:($.right-U.right+T.right)/ee.x}}const x_=async(i,o,n)=>{const{placement:r="bottom",strategy:u="absolute",middleware:f=[],platform:p}=n,m=f.filter(Boolean),g=await(p.isRTL==null?void 0:p.isRTL(o));let w=await p.getElementRects({reference:i,floating:o,strategy:u}),{x:_,y:N}=dg(w,r,g),E=r,D={},T=0;for(let P=0;P<m.length;P++){var S;const{name:U,fn:O}=m[P],{x:Y,y:ee,data:$,reset:A}=await O({x:_,y:N,initialPlacement:r,placement:E,strategy:u,middlewareData:D,rects:w,platform:{...p,detectOverflow:(S=p.detectOverflow)!=null?S:g_},elements:{reference:i,floating:o}});_=Y??_,N=ee??N,D={...D,[U]:{...D[U],...$}},A&&T<=50&&(T++,typeof A=="object"&&(A.placement&&(E=A.placement),A.rects&&(w=A.rects===!0?await p.getElementRects({reference:i,floating:o,strategy:u}):A.rects),{x:_,y:N}=dg(w,E,g)),P=-1)}return{x:_,y:N,placement:E,strategy:u,middlewareData:D}},v_=i=>({name:"arrow",options:i,async fn(o){const{x:n,y:r,placement:u,rects:f,platform:p,elements:m,middlewareData:g}=o,{element:w,padding:_=0}=nd(i,o)||{};if(w==null)return{};const N=Nx(_),E={x:n,y:r},D=Lp(u),T=Ep(D),S=await p.getDimensions(w),P=D==="y",U=P?"top":"left",O=P?"bottom":"right",Y=P?"clientHeight":"clientWidth",ee=f.reference[T]+f.reference[D]-E[D]-f.floating[T],$=E[D]-f.reference[D],A=await(p.getOffsetParent==null?void 0:p.getOffsetParent(w));let q=A?A[Y]:0;(!q||!await(p.isElement==null?void 0:p.isElement(A)))&&(q=m.floating[Y]||f.floating[T]);const ae=ee/2-$/2,fe=q/2-S[T]/2-1,de=Io(N[U],fe),xe=Io(N[O],fe),M=de,H=q-S[T]-xe,Z=q/2-S[T]/2+ae,G=a_(M,Z,H),ie=!g.arrow&&Gl(u)!=null&&Z!==G&&f.reference[T]/2-(Z<M?de:xe)-S[T]/2<0,le=ie?Z<M?Z-M:Z-H:0;return{[D]:E[D]+le,data:{[D]:G,centerOffset:Z-G-le,...ie&&{alignmentOffset:le}},reset:ie}}}),y_=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(o){var n,r;const{placement:u,middlewareData:f,rects:p,initialPlacement:m,platform:g,elements:w}=o,{mainAxis:_=!0,crossAxis:N=!0,fallbackPlacements:E,fallbackStrategy:D="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...P}=nd(i,o);if((n=f.arrow)!=null&&n.alignmentOffset)return{};const U=Ao(u),O=wa(m),Y=Ao(m)===m,ee=await(g.isRTL==null?void 0:g.isRTL(w.floating)),$=E||(Y||!S?[Bu(m)]:u_(m)),A=T!=="none";!E&&A&&$.push(...f_(m,S,T,ee));const q=[m,...$],ae=await g.detectOverflow(o,P),fe=[];let de=((r=f.flip)==null?void 0:r.overflows)||[];if(_&&fe.push(ae[U]),N){const Z=c_(u,p,ee);fe.push(ae[Z[0]],ae[Z[1]])}if(de=[...de,{placement:u,overflows:fe}],!fe.every(Z=>Z<=0)){var xe,M;const Z=(((xe=f.flip)==null?void 0:xe.index)||0)+1,G=q[Z];if(G&&(!(N==="alignment"?O!==wa(G):!1)||de.every(z=>wa(z.placement)===O?z.overflows[0]>0:!0)))return{data:{index:Z,overflows:de},reset:{placement:G}};let ie=(M=de.filter(le=>le.overflows[0]<=0).sort((le,z)=>le.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!ie)switch(D){case"bestFit":{var H;const le=(H=de.filter(z=>{if(A){const oe=wa(z.placement);return oe===O||oe==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(oe=>oe>0).reduce((oe,X)=>oe+X,0)]).sort((z,oe)=>z[1]-oe[1])[0])==null?void 0:H[0];le&&(ie=le);break}case"initialPlacement":ie=m;break}if(u!==ie)return{reset:{placement:ie}}}return{}}}},b_=new Set(["left","top"]);async function w_(i,o){const{placement:n,platform:r,elements:u}=i,f=await(r.isRTL==null?void 0:r.isRTL(u.floating)),p=Ao(n),m=Gl(n),g=wa(n)==="y",w=b_.has(p)?-1:1,_=f&&g?-1:1,N=nd(o,i);let{mainAxis:E,crossAxis:D,alignmentAxis:T}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:N.mainAxis||0,crossAxis:N.crossAxis||0,alignmentAxis:N.alignmentAxis};return m&&typeof T=="number"&&(D=m==="end"?T*-1:T),g?{x:D*_,y:E*w}:{x:E*w,y:D*_}}const __=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(o){var n,r;const{x:u,y:f,placement:p,middlewareData:m}=o,g=await w_(o,i);return p===((n=m.offset)==null?void 0:n.placement)&&(r=m.arrow)!=null&&r.alignmentOffset?{}:{x:u+g.x,y:f+g.y,data:{...g,placement:p}}}}};function jx(i){const o=xr(i);let n=parseFloat(o.width)||0,r=parseFloat(o.height)||0;const u=hs(i),f=u?i.offsetWidth:n,p=u?i.offsetHeight:r,m=Fu(n)!==f||Fu(r)!==p;return m&&(n=f,r=p),{width:n,height:r,$:m}}function Op(i){return Pn(i)?i:i.contextElement}function To(i){const o=Op(i);if(!hs(o))return ls(1);const n=o.getBoundingClientRect(),{width:r,height:u,$:f}=jx(o);let p=(f?Fu(n.width):n.width)/r,m=(f?Fu(n.height):n.height)/u;return(!p||!Number.isFinite(p))&&(p=1),(!m||!Number.isFinite(m))&&(m=1),{x:p,y:m}}const k_=ls(0);function Sx(i){const o=er(i);return!Mp()||!o.visualViewport?k_:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function N_(i,o,n){return o===void 0&&(o=!1),!n||o&&n!==er(i)?!1:o}function Ma(i,o,n,r){o===void 0&&(o=!1),n===void 0&&(n=!1);const u=i.getBoundingClientRect(),f=Op(i);let p=ls(1);o&&(r?Pn(r)&&(p=To(r)):p=To(i));const m=N_(f,n,r)?Sx(f):ls(0);let g=(u.left+m.x)/p.x,w=(u.top+m.y)/p.y,_=u.width/p.x,N=u.height/p.y;if(f){const E=er(f),D=r&&Pn(r)?er(r):r;let T=E,S=pp(T);for(;S&&r&&D!==T;){const P=To(S),U=S.getBoundingClientRect(),O=xr(S),Y=U.left+(S.clientLeft+parseFloat(O.paddingLeft))*P.x,ee=U.top+(S.clientTop+parseFloat(O.paddingTop))*P.y;g*=P.x,w*=P.y,_*=P.x,N*=P.y,g+=Y,w+=ee,T=er(S),S=pp(T)}}return zu({width:_,height:N,x:g,y:w})}function rd(i,o){const n=td(i).scrollLeft;return o?o.left+n:Ma(ps(i)).left+n}function Cx(i,o){const n=i.getBoundingClientRect(),r=n.left+o.scrollLeft-rd(i,n),u=n.top+o.scrollTop;return{x:r,y:u}}function j_(i){let{elements:o,rect:n,offsetParent:r,strategy:u}=i;const f=u==="fixed",p=ps(r),m=o?ed(o.floating):!1;if(r===p||m&&f)return n;let g={scrollLeft:0,scrollTop:0},w=ls(1);const _=ls(0),N=hs(r);if((N||!N&&!f)&&((Fo(r)!=="body"||ql(p))&&(g=td(r)),hs(r))){const D=Ma(r);w=To(r),_.x=D.x+r.clientLeft,_.y=D.y+r.clientTop}const E=p&&!N&&!f?Cx(p,g):ls(0);return{width:n.width*w.x,height:n.height*w.y,x:n.x*w.x-g.scrollLeft*w.x+_.x+E.x,y:n.y*w.y-g.scrollTop*w.y+_.y+E.y}}function S_(i){return Array.from(i.getClientRects())}function C_(i){const o=ps(i),n=td(i),r=i.ownerDocument.body,u=Na(o.scrollWidth,o.clientWidth,r.scrollWidth,r.clientWidth),f=Na(o.scrollHeight,o.clientHeight,r.scrollHeight,r.clientHeight);let p=-n.scrollLeft+rd(i);const m=-n.scrollTop;return xr(r).direction==="rtl"&&(p+=Na(o.clientWidth,r.clientWidth)-u),{width:u,height:f,x:p,y:m}}const hg=25;function P_(i,o){const n=er(i),r=ps(i),u=n.visualViewport;let f=r.clientWidth,p=r.clientHeight,m=0,g=0;if(u){f=u.width,p=u.height;const _=Mp();(!_||_&&o==="fixed")&&(m=u.offsetLeft,g=u.offsetTop)}const w=rd(r);if(w<=0){const _=r.ownerDocument,N=_.body,E=getComputedStyle(N),D=_.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,T=Math.abs(r.clientWidth-N.clientWidth-D);T<=hg&&(f-=T)}else w<=hg&&(f+=w);return{width:f,height:p,x:m,y:g}}const D_=new Set(["absolute","fixed"]);function T_(i,o){const n=Ma(i,!0,o==="fixed"),r=n.top+i.clientTop,u=n.left+i.clientLeft,f=hs(i)?To(i):ls(1),p=i.clientWidth*f.x,m=i.clientHeight*f.y,g=u*f.x,w=r*f.y;return{width:p,height:m,x:g,y:w}}function pg(i,o,n){let r;if(o==="viewport")r=P_(i,n);else if(o==="document")r=C_(ps(i));else if(Pn(o))r=T_(o,n);else{const u=Sx(i);r={x:o.x-u.x,y:o.y-u.y,width:o.width,height:o.height}}return zu(r)}function Px(i,o){const n=Fi(i);return n===o||!Pn(n)||Ro(n)?!1:xr(n).position==="fixed"||Px(n,o)}function M_(i,o){const n=o.get(i);if(n)return n;let r=Hl(i,[],!1).filter(m=>Pn(m)&&Fo(m)!=="body"),u=null;const f=xr(i).position==="fixed";let p=f?Fi(i):i;for(;Pn(p)&&!Ro(p);){const m=xr(p),g=Tp(p);!g&&m.position==="fixed"&&(u=null),(f?!g&&!u:!g&&m.position==="static"&&!!u&&D_.has(u.position)||ql(p)&&!g&&Px(i,p))?r=r.filter(_=>_!==p):u=m,p=Fi(p)}return o.set(i,r),r}function E_(i){let{element:o,boundary:n,rootBoundary:r,strategy:u}=i;const p=[...n==="clippingAncestors"?ed(o)?[]:M_(o,this._c):[].concat(n),r],m=p[0],g=p.reduce((w,_)=>{const N=pg(o,_,u);return w.top=Na(N.top,w.top),w.right=Io(N.right,w.right),w.bottom=Io(N.bottom,w.bottom),w.left=Na(N.left,w.left),w},pg(o,m,u));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function L_(i){const{width:o,height:n}=jx(i);return{width:o,height:n}}function O_(i,o,n){const r=hs(o),u=ps(o),f=n==="fixed",p=Ma(i,!0,f,o);let m={scrollLeft:0,scrollTop:0};const g=ls(0);function w(){g.x=rd(u)}if(r||!r&&!f)if((Fo(o)!=="body"||ql(u))&&(m=td(o)),r){const D=Ma(o,!0,f,o);g.x=D.x+o.clientLeft,g.y=D.y+o.clientTop}else u&&w();f&&!r&&u&&w();const _=u&&!r&&!f?Cx(u,m):ls(0),N=p.left+m.scrollLeft-g.x-_.x,E=p.top+m.scrollTop-g.y-_.y;return{x:N,y:E,width:p.width,height:p.height}}function Wh(i){return xr(i).position==="static"}function fg(i,o){if(!hs(i)||xr(i).position==="fixed")return null;if(o)return o(i);let n=i.offsetParent;return ps(i)===n&&(n=n.ownerDocument.body),n}function Dx(i,o){const n=er(i);if(ed(i))return n;if(!hs(i)){let u=Fi(i);for(;u&&!Ro(u);){if(Pn(u)&&!Wh(u))return u;u=Fi(u)}return n}let r=fg(i,o);for(;r&&Qw(r)&&Wh(r);)r=fg(r,o);return r&&Ro(r)&&Wh(r)&&!Tp(r)?n:r||n_(i)||n}const R_=async function(i){const o=this.getOffsetParent||Dx,n=this.getDimensions,r=await n(i.floating);return{reference:O_(i.reference,await o(i.floating),i.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function I_(i){return xr(i).direction==="rtl"}const A_={convertOffsetParentRelativeRectToViewportRelativeRect:j_,getDocumentElement:ps,getClippingRect:E_,getOffsetParent:Dx,getElementRects:R_,getClientRects:S_,getDimensions:L_,getScale:To,isElement:Pn,isRTL:I_};function Tx(i,o){return i.x===o.x&&i.y===o.y&&i.width===o.width&&i.height===o.height}function F_(i,o){let n=null,r;const u=ps(i);function f(){var m;clearTimeout(r),(m=n)==null||m.disconnect(),n=null}function p(m,g){m===void 0&&(m=!1),g===void 0&&(g=1),f();const w=i.getBoundingClientRect(),{left:_,top:N,width:E,height:D}=w;if(m||o(),!E||!D)return;const T=hu(N),S=hu(u.clientWidth-(_+E)),P=hu(u.clientHeight-(N+D)),U=hu(_),Y={rootMargin:-T+"px "+-S+"px "+-P+"px "+-U+"px",threshold:Na(0,Io(1,g))||1};let ee=!0;function $(A){const q=A[0].intersectionRatio;if(q!==g){if(!ee)return p();q?p(!1,q):r=setTimeout(()=>{p(!1,1e-7)},1e3)}q===1&&!Tx(w,i.getBoundingClientRect())&&p(),ee=!1}try{n=new IntersectionObserver($,{...Y,root:u.ownerDocument})}catch{n=new IntersectionObserver($,Y)}n.observe(i)}return p(!0),f}function B_(i,o,n,r){r===void 0&&(r={});const{ancestorScroll:u=!0,ancestorResize:f=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:g=!1}=r,w=Op(i),_=u||f?[...w?Hl(w):[],...Hl(o)]:[];_.forEach(U=>{u&&U.addEventListener("scroll",n,{passive:!0}),f&&U.addEventListener("resize",n)});const N=w&&m?F_(w,n):null;let E=-1,D=null;p&&(D=new ResizeObserver(U=>{let[O]=U;O&&O.target===w&&D&&(D.unobserve(o),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var Y;(Y=D)==null||Y.observe(o)})),n()}),w&&!g&&D.observe(w),D.observe(o));let T,S=g?Ma(i):null;g&&P();function P(){const U=Ma(i);S&&!Tx(S,U)&&n(),S=U,T=requestAnimationFrame(P)}return n(),()=>{var U;_.forEach(O=>{u&&O.removeEventListener("scroll",n),f&&O.removeEventListener("resize",n)}),N?.(),(U=D)==null||U.disconnect(),D=null,g&&cancelAnimationFrame(T)}}const z_=__,W_=y_,mg=v_,Y_=(i,o,n)=>{const r=new Map,u={platform:A_,...n},f={...u.platform,_c:r};return x_(i,o,{...u,platform:f})};var H_=typeof document<"u",$_=function(){},ju=H_?C.useLayoutEffect:$_;function Wu(i,o){if(i===o)return!0;if(typeof i!=typeof o)return!1;if(typeof i=="function"&&i.toString()===o.toString())return!0;let n,r,u;if(i&&o&&typeof i=="object"){if(Array.isArray(i)){if(n=i.length,n!==o.length)return!1;for(r=n;r--!==0;)if(!Wu(i[r],o[r]))return!1;return!0}if(u=Object.keys(i),n=u.length,n!==Object.keys(o).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(o,u[r]))return!1;for(r=n;r--!==0;){const f=u[r];if(!(f==="_owner"&&i.$$typeof)&&!Wu(i[f],o[f]))return!1}return!0}return i!==i&&o!==o}function Mx(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function gg(i,o){const n=Mx(i);return Math.round(o*n)/n}function Yh(i){const o=C.useRef(i);return ju(()=>{o.current=i}),o}function U_(i){i===void 0&&(i={});const{placement:o="bottom",strategy:n="absolute",middleware:r=[],platform:u,elements:{reference:f,floating:p}={},transform:m=!0,whileElementsMounted:g,open:w}=i,[_,N]=C.useState({x:0,y:0,strategy:n,placement:o,middlewareData:{},isPositioned:!1}),[E,D]=C.useState(r);Wu(E,r)||D(r);const[T,S]=C.useState(null),[P,U]=C.useState(null),O=C.useCallback(z=>{z!==A.current&&(A.current=z,S(z))},[]),Y=C.useCallback(z=>{z!==q.current&&(q.current=z,U(z))},[]),ee=f||T,$=p||P,A=C.useRef(null),q=C.useRef(null),ae=C.useRef(_),fe=g!=null,de=Yh(g),xe=Yh(u),M=Yh(w),H=C.useCallback(()=>{if(!A.current||!q.current)return;const z={placement:o,strategy:n,middleware:E};xe.current&&(z.platform=xe.current),Y_(A.current,q.current,z).then(oe=>{const X={...oe,isPositioned:M.current!==!1};Z.current&&!Wu(ae.current,X)&&(ae.current=X,Qu.flushSync(()=>{N(X)}))})},[E,o,n,xe,M]);ju(()=>{w===!1&&ae.current.isPositioned&&(ae.current.isPositioned=!1,N(z=>({...z,isPositioned:!1})))},[w]);const Z=C.useRef(!1);ju(()=>(Z.current=!0,()=>{Z.current=!1}),[]),ju(()=>{if(ee&&(A.current=ee),$&&(q.current=$),ee&&$){if(de.current)return de.current(ee,$,H);H()}},[ee,$,H,de,fe]);const G=C.useMemo(()=>({reference:A,floating:q,setReference:O,setFloating:Y}),[O,Y]),ie=C.useMemo(()=>({reference:ee,floating:$}),[ee,$]),le=C.useMemo(()=>{const z={position:n,left:0,top:0};if(!ie.floating)return z;const oe=gg(ie.floating,_.x),X=gg(ie.floating,_.y);return m?{...z,transform:"translate("+oe+"px, "+X+"px)",...Mx(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:X}},[n,m,ie.floating,_.x,_.y]);return C.useMemo(()=>({..._,update:H,refs:G,elements:ie,floatingStyles:le}),[_,H,G,ie,le])}const Z_=i=>{function o(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:i,fn(n){const{element:r,padding:u}=typeof i=="function"?i(n):i;return r&&o(r)?r.current!=null?mg({element:r.current,padding:u}).fn(n):{}:r?mg({element:r,padding:u}).fn(n):{}}}},V_=(i,o)=>({...z_(i),options:[i,o]}),q_=(i,o)=>({...W_(i),options:[i,o]}),G_=(i,o)=>({...Z_(i),options:[i,o]}),Ex={...W0},K_=Ex.useInsertionEffect,Q_=K_||(i=>i());function X_(i){const o=C.useRef(()=>{});return Q_(()=>{o.current=i}),C.useCallback(function(){for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return o.current==null?void 0:o.current(...r)},[])}var Yu=typeof document<"u"?C.useLayoutEffect:C.useEffect;function mp(){return mp=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},mp.apply(this,arguments)}let xg=!1,J_=0;const vg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+J_++;function e1(){const[i,o]=C.useState(()=>xg?vg():void 0);return Yu(()=>{i==null&&o(vg())},[]),C.useEffect(()=>{xg=!0},[]),i}const t1=Ex.useId,Lx=t1||e1,n1=C.forwardRef(function(o,n){const{context:{placement:r,elements:{floating:u},middlewareData:{arrow:f,shift:p}},width:m=14,height:g=7,tipRadius:w=0,strokeWidth:_=0,staticOffset:N,stroke:E,d:D,style:{transform:T,...S}={},...P}=o,U=Lx(),[O,Y]=C.useState(!1);if(Yu(()=>{if(!u)return;xr(u).direction==="rtl"&&Y(!0)},[u]),!u)return null;const[ee,$]=r.split("-"),A=ee==="top"||ee==="bottom";let q=N;(A&&p!=null&&p.x||!A&&p!=null&&p.y)&&(q=null);const ae=_*2,fe=ae/2,de=m/2*(w/-8+1),xe=g/2*w/4,M=!!D,H=q&&$==="end"?"bottom":"top";let Z=q&&$==="end"?"right":"left";q&&O&&(Z=$==="end"?"left":"right");const G=f?.x!=null?q||f.x:"",ie=f?.y!=null?q||f.y:"",le=D||"M0,0"+(" H"+m)+(" L"+(m-de)+","+(g-xe))+(" Q"+m/2+","+g+" "+de+","+(g-xe))+" Z",z={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[ee];return C.createElement("svg",mp({},P,{"aria-hidden":!0,ref:n,width:M?m:m+ae,height:m,viewBox:"0 0 "+m+" "+(g>m?g:m),style:{position:"absolute",pointerEvents:"none",[Z]:G,[H]:ie,[ee]:A||M?"100%":"calc(100% - "+ae/2+"px)",transform:[z,T].filter(oe=>!!oe).join(" "),...S}}),ae>0&&C.createElement("path",{clipPath:"url(#"+U+")",fill:"none",stroke:E,strokeWidth:ae+(D?0:1),d:le}),C.createElement("path",{stroke:ae&&!D?P.fill:"none",d:le}),C.createElement("clipPath",{id:U},C.createElement("rect",{x:-fe,y:fe*(M?-1:1),width:m+ae,height:m})))});function r1(){const i=new Map;return{emit(o,n){var r;(r=i.get(o))==null||r.forEach(u=>u(n))},on(o,n){i.set(o,[...i.get(o)||[],n])},off(o,n){var r;i.set(o,((r=i.get(o))==null?void 0:r.filter(u=>u!==n))||[])}}}const s1=C.createContext(null),i1=C.createContext(null),a1=()=>{var i;return((i=C.useContext(s1))==null?void 0:i.id)||null},o1=()=>C.useContext(i1);function l1(i){const{open:o=!1,onOpenChange:n,elements:r}=i,u=Lx(),f=C.useRef({}),[p]=C.useState(()=>r1()),m=a1()!=null,[g,w]=C.useState(r.reference),_=X_((D,T,S)=>{f.current.openEvent=D?T:void 0,p.emit("openchange",{open:D,event:T,reason:S,nested:m}),n?.(D,T,S)}),N=C.useMemo(()=>({setPositionReference:w}),[]),E=C.useMemo(()=>({reference:g||r.reference||null,floating:r.floating||null,domReference:r.reference}),[g,r.reference,r.floating]);return C.useMemo(()=>({dataRef:f,open:o,onOpenChange:_,elements:E,events:p,floatingId:u,refs:N}),[o,_,E,p,u,N])}function c1(i){i===void 0&&(i={});const{nodeId:o}=i,n=l1({...i,elements:{reference:null,floating:null,...i.elements}}),r=i.rootContext||n,u=r.elements,[f,p]=C.useState(null),[m,g]=C.useState(null),_=u?.domReference||f,N=C.useRef(null),E=o1();Yu(()=>{_&&(N.current=_)},[_]);const D=U_({...i,elements:{...u,...m&&{reference:m}}}),T=C.useCallback(Y=>{const ee=Pn(Y)?{getBoundingClientRect:()=>Y.getBoundingClientRect(),contextElement:Y}:Y;g(ee),D.refs.setReference(ee)},[D.refs]),S=C.useCallback(Y=>{(Pn(Y)||Y===null)&&(N.current=Y,p(Y)),(Pn(D.refs.reference.current)||D.refs.reference.current===null||Y!==null&&!Pn(Y))&&D.refs.setReference(Y)},[D.refs]),P=C.useMemo(()=>({...D.refs,setReference:S,setPositionReference:T,domReference:N}),[D.refs,S,T]),U=C.useMemo(()=>({...D.elements,domReference:_}),[D.elements,_]),O=C.useMemo(()=>({...D,...r,refs:P,elements:U,nodeId:o}),[D,P,U,o,r]);return Yu(()=>{r.dataRef.current.floatingContext=O;const Y=E?.nodesRef.current.find(ee=>ee.id===o);Y&&(Y.context=O)}),C.useMemo(()=>({...D,context:O,refs:P,elements:U}),[D,P,U,O])}function Vt(i,o,n){return o=Hu(o),h1(i,Ox()?Reflect.construct(o,n||[],Hu(i).constructor):o.apply(i,n))}function Ox(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ox=function(){return!!i})()}function yg(i,o){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);o&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),n.push.apply(n,r)}return n}function Ws(i){for(var o=1;o<arguments.length;o++){var n=arguments[o]!=null?arguments[o]:{};o%2?yg(Object(n),!0).forEach(function(r){R(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}function u1(i,o){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var r=n.call(i,o);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function Rx(i){var o=u1(i,"string");return typeof o=="symbol"?o:o+""}function gp(i){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},gp(i)}function qt(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function bg(i,o){for(var n=0;n<o.length;n++){var r=o[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Rx(r.key),r)}}function Gt(i,o,n){return o&&bg(i.prototype,o),n&&bg(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}function R(i,o,n){return o=Rx(o),o in i?Object.defineProperty(i,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[o]=n,i}function $l(){return $l=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},$l.apply(this,arguments)}function Kt(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&xp(i,o)}function Hu(i){return Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hu(i)}function xp(i,o){return xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,u){return r.__proto__=u,r},xp(i,o)}function d1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function h1(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1(i)}function Bi(i){return p1(i)||f1(i)||m1(i)||g1()}function p1(i){if(Array.isArray(i))return vp(i)}function f1(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function m1(i,o){if(i){if(typeof i=="string")return vp(i,o);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vp(i,o)}}function vp(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,r=new Array(o);n<o;n++)r[n]=i[n];return r}function g1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kl=12,x1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function lt(i){var o=i?typeof i=="string"||i instanceof String?bw(i):Ne(i):new Date;return Ci(o)?o:null}function v1(i,o,n,r,u){var f=null,p=Li(n)||Li(ja()),m=!0;return Array.isArray(o)?(o.forEach(function(g){var w=Fh(i,g,new Date,{locale:p,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(m=Ci(w,u)&&i===gt(w,g,n)),Ci(w,u)&&m&&(f=w)}),f):(f=Fh(i,o,new Date,{locale:p,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?m=Ci(f)&&i===gt(f,o,n):Ci(f)||(o=o.match(x1).map(function(g){var w=g[0];if(w==="p"||w==="P"){var _=Eu[w];return p?_(g,p.formatLong):w}return g}).join(""),i.length>0&&(f=Fh(i,o.slice(0,i.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Ci(f)||(f=new Date(i))),Ci(f)&&m?f:null)}function Ci(i,o){return o=o||new Date("1/1/1000"),zl(i)&&!Ta(i,o)}function gt(i,o,n){if(n==="en")return tg(i,o,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=Li(n);return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&ja()&&Li(ja())&&(r=Li(ja())),tg(i,o,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function gr(i,o){var n=o.dateFormat,r=o.locale;return i&&gt(i,Array.isArray(n)?n[0]:n,r)||""}function y1(i,o,n){if(!i)return"";var r=gr(i,n),u=o?gr(o,n):"";return"".concat(r," - ").concat(u)}function b1(i,o){if(!(i!=null&&i.length))return"";var n=gr(i[0],o);if(i.length===1)return n;if(i.length===2){var r=gr(i[1],o);return"".concat(n,", ").concat(r)}var u=i.length-1;return"".concat(n," (+").concat(u,")")}function Hh(i,o){var n=o.hour,r=n===void 0?0:n,u=o.minute,f=u===void 0?0:u,p=o.second,m=p===void 0?0:p;return Nu(ku(_u(i,m),f),r)}function w1(i,o){return ja()&&Li(ja()),Np(i)}function _1(i,o){return gt(i,"ddd",o)}function k1(i){return is(i)}function Mi(i,o,n){var r=Li(o||ja());return $s(i,{locale:r,weekStartsOn:n})}function Ei(i){return mx(i)}function El(i){return Ku(i)}function wg(i){return cp(i)}function _g(){return is(lt())}function N1(i){return xb(i)}function ts(i,o){return i&&o?_b(i,o):!i&&!o}function Jn(i,o){return i&&o?wb(i,o):!i&&!o}function $u(i,o){return i&&o?kb(i,o):!i&&!o}function et(i,o){return i&&o?bb(i,o):!i&&!o}function _a(i,o){return i&&o?yb(i,o):!i&&!o}function Ll(i,o,n){var r,u=is(o),f=up(n);try{r=Yl(i,{start:u,end:f})}catch{r=!1}return r}function ja(){var i=typeof window<"u"?window:globalThis;return i.__localeId__}function Li(i){if(typeof i=="string"){var o=typeof window<"u"?window:globalThis;return o.__localeData__?o.__localeData__[i]:null}else return i}function j1(i,o,n){return o(gt(i,"EEEE",n))}function S1(i,o){return gt(i,"EEEEEE",o)}function C1(i,o){return gt(i,"EEE",o)}function Rp(i,o){return gt(Nn(lt(),i),"LLLL",o)}function Ix(i,o){return gt(Nn(lt(),i),"LLL",o)}function P1(i,o){return gt(Co(lt(),i),"QQQ",o)}function sd(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.maxDate,u=o.excludeDates,f=o.excludeDateIntervals,p=o.includeDates,m=o.includeDateIntervals,g=o.filterDate;return id(i,{minDate:n,maxDate:r})||u&&u.some(function(w){return et(i,w.date?w.date:w)})||f&&f.some(function(w){var _=w.start,N=w.end;return Yl(i,{start:_,end:N})})||p&&!p.some(function(w){return et(i,w)})||m&&!m.some(function(w){var _=w.start,N=w.end;return Yl(i,{start:_,end:N})})||g&&!g(lt(i))||!1}function Ip(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.excludeDates,r=o.excludeDateIntervals;return r&&r.length>0?r.some(function(u){var f=u.start,p=u.end;return Yl(i,{start:f,end:p})}):n&&n.some(function(u){return et(i,u.date?u.date:u)})||!1}function Su(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.maxDate,u=o.excludeDates,f=o.includeDates,p=o.filterDate;return id(i,{minDate:mx(n),maxDate:vb(r)})||u&&u.some(function(m){return Jn(i,m)})||f&&!f.some(function(m){return Jn(i,m)})||p&&!p(lt(i))||!1}function pu(i,o,n,r){var u=$e(i),f=Cn(i),p=$e(o),m=Cn(o),g=$e(r);if(u===p&&u===g)return f<=n&&n<=m;if(u<p)return g===u&&f<=n||g===p&&m>=n||g<p&&g>u}function $h(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.maxDate,u=o.excludeDates,f=o.includeDates,p=o.filterDate;return id(i,{minDate:n,maxDate:r})||u&&u.some(function(m){return $u(i,m)})||f&&!f.some(function(m){return $u(i,m)})||p&&!p(lt(i))||!1}function fu(i,o,n){if(!zl(o)||!zl(n))return!1;var r=$e(o),u=$e(n);return r<=i&&u>=i}function Ax(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.maxDate,u=o.excludeDates,f=o.includeDates,p=o.filterDate,m=new Date(i,0,1);return id(m,{minDate:Ku(n),maxDate:gx(r)})||u&&u.some(function(g){return ts(m,g)})||f&&!f.some(function(g){return ts(m,g)})||p&&!p(lt(m))||!1}function mu(i,o,n,r){var u=$e(i),f=ka(i),p=$e(o),m=ka(o),g=$e(r);if(u===p&&u===g)return f<=n&&n<=m;if(u<p)return g===u&&f<=n||g===p&&m>=n||g<p&&g>u}function id(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.maxDate;return n&&Wl(i,n)<0||r&&Wl(i,r)>0}function kg(i,o){return o.some(function(n){return os(n)===os(i)&&as(n)===as(i)&&Hs(n)===Hs(i)})}function Ng(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.excludeTimes,r=o.includeTimes,u=o.filterTime;return n&&kg(i,n)||r&&!kg(i,r)||u&&!u(i)||!1}function jg(i,o){var n=o.minTime,r=o.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var u=lt();u=Nu(u,os(i)),u=ku(u,as(i)),u=_u(u,Hs(i));var f=lt();f=Nu(f,os(n)),f=ku(f,as(n)),f=_u(f,Hs(n));var p=lt();p=Nu(p,os(r)),p=ku(p,as(r)),p=_u(p,Hs(r));var m;try{m=!Yl(u,{start:f,end:p})}catch{m=!1}return m}function Sg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.includeDates,u=Lo(i,1);return n&&Ou(n,u)>0||r&&r.every(function(f){return Ou(f,u)>0})||!1}function Cg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.maxDate,r=o.includeDates,u=Ir(i,1);return n&&Ou(u,n)>0||r&&r.every(function(f){return Ou(u,f)>0})||!1}function D1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.includeDates,u=Ku(i),f=fx(u);return n&&Iu(n,f)>0||r&&r.every(function(p){return Iu(p,f)>0})||!1}function T1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.maxDate,r=o.includeDates,u=gx(i),f=Cp(u,1);return n&&Iu(f,n)>0||r&&r.every(function(p){return Iu(f,p)>0})||!1}function Pg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.includeDates,u=Oo(i,1);return n&&Ru(n,u)>0||r&&r.every(function(f){return Ru(f,u)>0})||!1}function M1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.minDate,r=o.yearItemNumber,u=r===void 0?Kl:r,f=El(Oo(i,u)),p=Ti(f,u),m=p.endPeriod,g=n&&$e(n);return g&&g>m||!1}function Dg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.maxDate,r=o.includeDates,u=Ys(i,1);return n&&Ru(u,n)>0||r&&r.every(function(f){return Ru(u,f)>0})||!1}function E1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=o.maxDate,r=o.yearItemNumber,u=r===void 0?Kl:r,f=Ys(i,u),p=Ti(f,u),m=p.startPeriod,g=n&&$e(n);return g&&g<m||!1}function Fx(i){var o=i.minDate,n=i.includeDates;if(n&&o){var r=n.filter(function(u){return Wl(u,o)>=0});return sg(r)}else return n?sg(n):o}function Bx(i){var o=i.maxDate,n=i.includeDates;if(n&&o){var r=n.filter(function(u){return Wl(u,o)<=0});return ig(r)}else return n?ig(n):o}function Tg(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",n=new Map,r=0,u=i.length;r<u;r++){var f=i[r];if(Da(f)){var p=gt(f,"MM.dd.yyyy"),m=n.get(p)||[];m.includes(o)||(m.push(o),n.set(p,m))}else if(gp(f)==="object"){var g=Object.keys(f),w=g[0],_=f[g[0]];if(typeof w=="string"&&_.constructor===Array)for(var N=0,E=_.length;N<E;N++){var D=gt(_[N],"MM.dd.yyyy"),T=n.get(D)||[];T.includes(w)||(T.push(w),n.set(D,T))}}}return n}function L1(i,o){return i.length!==o.length?!1:i.every(function(n,r){return n===o[r]})}function O1(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",n=new Map;return i.forEach(function(r){var u=r.date,f=r.holidayName;if(Da(u)){var p=gt(u,"MM.dd.yyyy"),m=n.get(p)||{};if(!("className"in m&&m.className===o&&L1(m.holidayNames,[f]))){m.className=o;var g=m.holidayNames;m.holidayNames=g?[].concat(Bi(g),[f]):[f],n.set(p,m)}}}),n}function R1(i,o,n,r,u){for(var f=u.length,p=[],m=0;m<f;m++){var g=i;g=pb(g,os(u[m])),g=op(g,as(u[m])),g=Iw(g,Hs(u[m]));var w=op(i,(n+1)*r);Ai(g,o)&&Ta(g,w)&&p.push(u[m])}return p}function Mg(i){return i<10?"0".concat(i):"".concat(i)}function Ti(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kl,n=Math.ceil($e(i)/o)*o,r=n-(o-1);return{startPeriod:r,endPeriod:n}}function I1(i){var o=new Date(i.getFullYear(),i.getMonth(),i.getDate()),n=new Date(i.getFullYear(),i.getMonth(),i.getDate(),24);return Math.round((+n-+o)/36e5)}function Eg(i){var o=i.getSeconds(),n=i.getMilliseconds();return Ne(i.getTime()-o*1e3-n)}function A1(i,o){return Eg(i).getTime()===Eg(o).getTime()}function Lg(i){if(!Da(i))throw new Error("Invalid date");var o=new Date(i);return o.setHours(0,0,0,0),o}function Og(i,o){if(!Da(i)||!Da(o))throw new Error("Invalid date received");var n=Lg(i),r=Lg(o);return Ta(n,r)}function zx(i){var o=" ";return i.key===o}function F1(i,o,n,r){for(var u=[],f=0;f<2*o+1;f++){var p=i+o-f,m=!0;n&&(m=$e(n)<=p),r&&m&&(m=$e(r)>=p),m&&u.push(p)}return u}var B1=(function(i){function o(n){var r;qt(this,o),r=Vt(this,o,[n]),R(r,"renderOptions",function(){var m=r.props.year,g=r.state.yearsList.map(function(N){return te.createElement("div",{className:m===N?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:N,onClick:r.onChange.bind(r,N),"aria-selected":m===N?"true":void 0},m===N?te.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",N)}),w=r.props.minDate?$e(r.props.minDate):null,_=r.props.maxDate?$e(r.props.maxDate):null;return(!_||!r.state.yearsList.find(function(N){return N===_}))&&g.unshift(te.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!w||!r.state.yearsList.find(function(N){return N===w}))&&g.push(te.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},te.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),g}),R(r,"onChange",function(m){r.props.onChange(m)}),R(r,"handleClickOutside",function(){r.props.onCancel()}),R(r,"shiftYears",function(m){var g=r.state.yearsList.map(function(w){return w+m});r.setState({yearsList:g})}),R(r,"incrementYears",function(){return r.shiftYears(1)}),R(r,"decrementYears",function(){return r.shiftYears(-1)});var u=n.yearDropdownItemNumber,f=n.scrollableYearDropdown,p=u||(f?10:5);return r.state={yearsList:F1(r.props.year,p,r.props.minDate,r.props.maxDate)},r.dropdownRef=C.createRef(),r}return Kt(o,i),Gt(o,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var u=r.children?Array.from(r.children):null,f=u?u.find(function(p){return p.ariaSelected}):null;r.scrollTop=f?f.offsetTop+(f.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=nn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return te.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])})(te.Component),z1=Xu(B1),W1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"state",{dropdownVisible:!1}),R(n,"renderSelectOptions",function(){for(var p=n.props.minDate?$e(n.props.minDate):1900,m=n.props.maxDate?$e(n.props.maxDate):2100,g=[],w=p;w<=m;w++)g.push(te.createElement("option",{key:w,value:w},w));return g}),R(n,"onSelectChange",function(p){n.onChange(p.target.value)}),R(n,"renderSelectMode",function(){return te.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),R(n,"renderReadView",function(p){return te.createElement("div",{key:"read",style:{visibility:p?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(g){return n.toggleDropdown(g)}},te.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))}),R(n,"renderDropdown",function(){return te.createElement(z1,{key:"dropdown",year:n.props.year,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})}),R(n,"renderScrollMode",function(){var p=n.state.dropdownVisible,m=[n.renderReadView(!p)];return p&&m.unshift(n.renderDropdown()),m}),R(n,"onChange",function(p){n.toggleDropdown(),p!==n.props.year&&n.props.onChange(p)}),R(n,"toggleDropdown",function(p){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,p)})}),R(n,"handleYearChange",function(p,m){n.onSelect(p,m),n.setOpen()}),R(n,"onSelect",function(p,m){n.props.onSelect&&n.props.onSelect(p,m)}),R(n,"setOpen",function(){n.props.setOpen&&n.props.setOpen(!0)}),n}return Kt(o,i),Gt(o,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])})(te.Component),Y1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"isSelectedMonth",function(p){return n.props.month===p}),R(n,"renderOptions",function(){return n.props.monthNames.map(function(p,m){return te.createElement("div",{className:n.isSelectedMonth(m)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:p,onClick:n.onChange.bind(n,m),"aria-selected":n.isSelectedMonth(m)?"true":void 0},n.isSelectedMonth(m)?te.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",p)})}),R(n,"onChange",function(p){return n.props.onChange(p)}),R(n,"handleClickOutside",function(){return n.props.onCancel()}),n}return Kt(o,i),Gt(o,[{key:"render",value:function(){return te.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])})(te.Component),H1=Xu(Y1),$1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"state",{dropdownVisible:!1}),R(n,"renderSelectOptions",function(p){return p.map(function(m,g){return te.createElement("option",{key:g,value:g},m)})}),R(n,"renderSelectMode",function(p){return te.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(g){return n.onChange(g.target.value)}},n.renderSelectOptions(p))}),R(n,"renderReadView",function(p,m){return te.createElement("div",{key:"read",style:{visibility:p?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},te.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},m[n.props.month]))}),R(n,"renderDropdown",function(p){return te.createElement(H1,{key:"dropdown",month:n.props.month,monthNames:p,onChange:n.onChange,onCancel:n.toggleDropdown})}),R(n,"renderScrollMode",function(p){var m=n.state.dropdownVisible,g=[n.renderReadView(!m,p)];return m&&g.unshift(n.renderDropdown(p)),g}),R(n,"onChange",function(p){n.toggleDropdown(),p!==n.props.month&&n.props.onChange(p)}),R(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return Kt(o,i),Gt(o,[{key:"render",value:function(){var r=this,u=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(p){return Ix(p,r.props.locale)}:function(p){return Rp(p,r.props.locale)}),f;switch(this.props.dropdownMode){case"scroll":f=this.renderScrollMode(u);break;case"select":f=this.renderSelectMode(u);break}return te.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},f)}}])})(te.Component);function U1(i,o){for(var n=[],r=Ei(i),u=Ei(o);!Ai(r,u);)n.push(lt(r)),r=Ir(r,1);return n}var Z1=(function(i){function o(n){var r;return qt(this,o),r=Vt(this,o,[n]),R(r,"renderOptions",function(){return r.state.monthYearsList.map(function(u){var f=lp(u),p=ts(r.props.date,u)&&Jn(r.props.date,u);return te.createElement("div",{className:p?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":p?"true":void 0},p?te.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",gt(u,r.props.dateFormat,r.props.locale))})}),R(r,"onChange",function(u){return r.props.onChange(u)}),R(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:U1(r.props.minDate,r.props.maxDate)},r}return Kt(o,i),Gt(o,[{key:"render",value:function(){var r=nn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return te.createElement("div",{className:r},this.renderOptions())}}])})(te.Component),V1=Xu(Z1),q1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"state",{dropdownVisible:!1}),R(n,"renderSelectOptions",function(){for(var p=Ei(n.props.minDate),m=Ei(n.props.maxDate),g=[];!Ai(p,m);){var w=lp(p);g.push(te.createElement("option",{key:w,value:w},gt(p,n.props.dateFormat,n.props.locale))),p=Ir(p,1)}return g}),R(n,"onSelectChange",function(p){n.onChange(p.target.value)}),R(n,"renderSelectMode",function(){return te.createElement("select",{value:lp(Ei(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())}),R(n,"renderReadView",function(p){var m=gt(n.props.date,n.props.dateFormat,n.props.locale);return te.createElement("div",{key:"read",style:{visibility:p?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(w){return n.toggleDropdown(w)}},te.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),te.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},m))}),R(n,"renderDropdown",function(){return te.createElement(V1,{key:"dropdown",date:n.props.date,dateFormat:n.props.dateFormat,onChange:n.onChange,onCancel:n.toggleDropdown,minDate:n.props.minDate,maxDate:n.props.maxDate,scrollableMonthYearDropdown:n.props.scrollableMonthYearDropdown,locale:n.props.locale})}),R(n,"renderScrollMode",function(){var p=n.state.dropdownVisible,m=[n.renderReadView(!p)];return p&&m.unshift(n.renderDropdown()),m}),R(n,"onChange",function(p){n.toggleDropdown();var m=lt(parseInt(p));ts(n.props.date,m)&&Jn(n.props.date,m)||n.props.onChange(m)}),R(n,"toggleDropdown",function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})}),n}return Kt(o,i),Gt(o,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return te.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])})(te.Component),G1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"dayEl",te.createRef()),R(n,"handleClick",function(p){!n.isDisabled()&&n.props.onClick&&n.props.onClick(p)}),R(n,"handleMouseEnter",function(p){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(p)}),R(n,"handleOnKeyDown",function(p){var m=p.key;m===" "&&(p.preventDefault(),p.key="Enter"),n.props.handleOnKeyDown(p)}),R(n,"isSameDay",function(p){return et(n.props.day,p)}),R(n,"isKeyboardSelected",function(){var p;if(n.props.disabledKeyboardNavigation)return!1;var m=n.props.selectsMultiple?(p=n.props.selectedDates)===null||p===void 0?void 0:p.some(function(g){return n.isSameDayOrWeek(g)}):n.isSameDayOrWeek(n.props.selected);return!m&&n.isSameDayOrWeek(n.props.preSelection)}),R(n,"isDisabled",function(){return sd(n.props.day,n.props)}),R(n,"isExcluded",function(){return Ip(n.props.day,n.props)}),R(n,"isStartOfWeek",function(){return et(n.props.day,Mi(n.props.day,n.props.locale,n.props.calendarStartDay))}),R(n,"isSameWeek",function(p){return n.props.showWeekPicker&&et(p,Mi(n.props.day,n.props.locale,n.props.calendarStartDay))}),R(n,"isSameDayOrWeek",function(p){return n.isSameDay(p)||n.isSameWeek(p)}),R(n,"getHighLightedClass",function(){var p=n.props,m=p.day,g=p.highlightDates;if(!g)return!1;var w=gt(m,"MM.dd.yyyy");return g.get(w)}),R(n,"getHolidaysClass",function(){var p=n.props,m=p.day,g=p.holidays;if(!g)return!1;var w=gt(m,"MM.dd.yyyy");if(g.has(w))return[g.get(w).className]}),R(n,"isInRange",function(){var p=n.props,m=p.day,g=p.startDate,w=p.endDate;return!g||!w?!1:Ll(m,g,w)}),R(n,"isInSelectingRange",function(){var p,m=n.props,g=m.day,w=m.selectsStart,_=m.selectsEnd,N=m.selectsRange,E=m.selectsDisabledDaysInRange,D=m.startDate,T=m.endDate,S=(p=n.props.selectingDate)!==null&&p!==void 0?p:n.props.preSelection;return!(w||_||N)||!S||!E&&n.isDisabled()?!1:w&&T&&(Ta(S,T)||_a(S,T))?Ll(g,S,T):_&&D&&(Ai(S,D)||_a(S,D))||N&&D&&!T&&(Ai(S,D)||_a(S,D))?Ll(g,D,S):!1}),R(n,"isSelectingRangeStart",function(){var p;if(!n.isInSelectingRange())return!1;var m=n.props,g=m.day,w=m.startDate,_=m.selectsStart,N=(p=n.props.selectingDate)!==null&&p!==void 0?p:n.props.preSelection;return _?et(g,N):et(g,w)}),R(n,"isSelectingRangeEnd",function(){var p;if(!n.isInSelectingRange())return!1;var m=n.props,g=m.day,w=m.endDate,_=m.selectsEnd,N=m.selectsRange,E=(p=n.props.selectingDate)!==null&&p!==void 0?p:n.props.preSelection;return _||N?et(g,E):et(g,w)}),R(n,"isRangeStart",function(){var p=n.props,m=p.day,g=p.startDate,w=p.endDate;return!g||!w?!1:et(g,m)}),R(n,"isRangeEnd",function(){var p=n.props,m=p.day,g=p.startDate,w=p.endDate;return!g||!w?!1:et(w,m)}),R(n,"isWeekend",function(){var p=mb(n.props.day);return p===0||p===6}),R(n,"isAfterMonth",function(){return n.props.month!==void 0&&(n.props.month+1)%12===Cn(n.props.day)}),R(n,"isBeforeMonth",function(){return n.props.month!==void 0&&(Cn(n.props.day)+1)%12===n.props.month}),R(n,"isCurrentDay",function(){return n.isSameDay(lt())}),R(n,"isSelected",function(){if(n.props.selectsMultiple){var p;return(p=n.props.selectedDates)===null||p===void 0?void 0:p.some(function(m){return n.isSameDayOrWeek(m)})}return n.isSameDayOrWeek(n.props.selected)}),R(n,"getClassNames",function(p){var m=n.props.dayClassName?n.props.dayClassName(p):void 0;return nn("react-datepicker__day",m,"react-datepicker__day--"+_1(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass("react-datepicker__day--highlighted"),n.getHolidaysClass())}),R(n,"getAriaLabel",function(){var p=n.props,m=p.day,g=p.ariaLabelPrefixWhenEnabled,w=g===void 0?"Choose":g,_=p.ariaLabelPrefixWhenDisabled,N=_===void 0?"Not available":_,E=n.isDisabled()||n.isExcluded()?N:w;return"".concat(E," ").concat(gt(m,"PPPP",n.props.locale))}),R(n,"getTitle",function(){var p=n.props,m=p.day,g=p.holidays,w=g===void 0?new Map:g,_=p.excludeDates,N=gt(m,"MM.dd.yyyy"),E=[];return w.has(N)&&E.push.apply(E,Bi(w.get(N).holidayNames)),n.isExcluded()&&E.push(_?.filter(function(D){return et(D.date?D.date:D,m)}).map(function(D){return D.message})),E.join(", ")}),R(n,"getTabIndex",function(p,m){var g=p||n.props.selected,w=m||n.props.preSelection,_=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(g)&&et(w,g))?0:-1;return _}),R(n,"handleFocusDay",function(){var p,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=!1;n.getTabIndex()===0&&!m.isInputFocused&&n.isSameDay(n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(g=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(g=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(g=!0),n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()&&(g=!1),n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()&&(g=!1)),g&&((p=n.dayEl.current)===null||p===void 0||p.focus({preventScroll:!0}))}),R(n,"renderDayContents",function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(rg(n.props.day),n.props.day):rg(n.props.day)}),R(n,"render",function(){return te.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&te.createElement("span",{className:"overlay"},n.getTitle()))}),n}return Kt(o,i),Gt(o,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])})(te.Component),K1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"weekNumberEl",te.createRef()),R(n,"handleClick",function(p){n.props.onClick&&n.props.onClick(p)}),R(n,"handleOnKeyDown",function(p){var m=p.key;m===" "&&(p.preventDefault(),p.key="Enter"),n.props.handleOnKeyDown(p)}),R(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!et(n.props.date,n.props.selected)&&et(n.props.date,n.props.preSelection)}),R(n,"getTabIndex",function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||et(n.props.date,n.props.selected)&&et(n.props.preSelection,n.props.selected))?0:-1}),R(n,"handleFocusWeekNumber",function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=!1;n.getTabIndex()===0&&!p.isInputFocused&&et(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(m=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(m=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(m=!0)),m&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})}),n}return Kt(o,i),Gt(o,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,u=r.weekNumber,f=r.ariaLabelPrefix,p=f===void 0?"week ":f,m=r.onClick,g={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m,"react-datepicker__week-number--selected":!!m&&et(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return te.createElement("div",{ref:this.weekNumberEl,className:nn(g),"aria-label":"".concat(p," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},u)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])})(te.Component),Q1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"handleDayClick",function(p,m){n.props.onDayClick&&n.props.onDayClick(p,m)}),R(n,"handleDayMouseEnter",function(p){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(p)}),R(n,"handleWeekClick",function(p,m,g){typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(p,m,g),n.props.showWeekPicker&&n.handleDayClick(p,g),n.props.shouldCloseOnSelect&&n.props.setOpen(!1)}),R(n,"formatWeekNumber",function(p){return n.props.formatWeekNumber?n.props.formatWeekNumber(p):w1(p)}),R(n,"renderDays",function(){var p=n.startOfWeek(),m=[],g=n.formatWeekNumber(p);if(n.props.showWeekNumber){var w=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,p,g):void 0;m.push(te.createElement(K1,{key:"W",weekNumber:g,date:p,onClick:w,selected:n.props.selected,preSelection:n.props.preSelection,ariaLabelPrefix:n.props.ariaLabelPrefix,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef}))}return m.concat([0,1,2,3,4,5,6].map(function(_){var N=zi(p,_);return te.createElement(G1,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:N.valueOf(),day:N,month:n.props.month,onClick:n.handleDayClick.bind(n,N),usePointerEvent:n.props.usePointerEvent,onMouseEnter:n.handleDayMouseEnter.bind(n,N),minDate:n.props.minDate,maxDate:n.props.maxDate,calendarStartDay:n.props.calendarStartDay,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,showWeekPicker:n.props.showWeekPicker,showWeekNumber:n.props.showWeekNumber,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,renderDayContents:n.props.renderDayContents,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart,locale:n.props.locale})}))}),R(n,"startOfWeek",function(){return Mi(n.props.day,n.props.locale,n.props.calendarStartDay)}),R(n,"isKeyboardSelected",function(){return!n.props.disabledKeyboardNavigation&&!et(n.startOfWeek(),n.props.selected)&&et(n.startOfWeek(),n.props.preSelection)}),n}return Kt(o,i),Gt(o,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":et(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return te.createElement("div",{className:nn(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])})(te.Component),X1=6,Mo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Uh=R(R(R({},Mo.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Mo.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Mo.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),gu=1;function Rg(i,o){return i?Mo.FOUR_COLUMNS:o?Mo.TWO_COLUMNS:Mo.THREE_COLUMNS}var J1=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"MONTH_REFS",Bi(Array(12)).map(function(){return te.createRef()})),R(n,"QUARTER_REFS",Bi(Array(4)).map(function(){return te.createRef()})),R(n,"isDisabled",function(p){return sd(p,n.props)}),R(n,"isExcluded",function(p){return Ip(p,n.props)}),R(n,"handleDayClick",function(p,m){n.props.onDayClick&&n.props.onDayClick(p,m,n.props.orderInDisplay)}),R(n,"handleDayMouseEnter",function(p){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(p)}),R(n,"handleMouseLeave",function(){n.props.onMouseLeave&&n.props.onMouseLeave()}),R(n,"isRangeStartMonth",function(p){var m=n.props,g=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:Jn(Nn(g,p),w)}),R(n,"isRangeStartQuarter",function(p){var m=n.props,g=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:$u(Co(g,p),w)}),R(n,"isRangeEndMonth",function(p){var m=n.props,g=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:Jn(Nn(g,p),_)}),R(n,"isRangeEndQuarter",function(p){var m=n.props,g=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:$u(Co(g,p),_)}),R(n,"isInSelectingRangeMonth",function(p){var m,g=n.props,w=g.day,_=g.selectsStart,N=g.selectsEnd,E=g.selectsRange,D=g.startDate,T=g.endDate,S=(m=n.props.selectingDate)!==null&&m!==void 0?m:n.props.preSelection;return!(_||N||E)||!S?!1:_&&T?pu(S,T,p,w):N&&D||E&&D&&!T?pu(D,S,p,w):!1}),R(n,"isSelectingMonthRangeStart",function(p){var m;if(!n.isInSelectingRangeMonth(p))return!1;var g=n.props,w=g.day,_=g.startDate,N=g.selectsStart,E=Nn(w,p),D=(m=n.props.selectingDate)!==null&&m!==void 0?m:n.props.preSelection;return N?Jn(E,D):Jn(E,_)}),R(n,"isSelectingMonthRangeEnd",function(p){var m;if(!n.isInSelectingRangeMonth(p))return!1;var g=n.props,w=g.day,_=g.endDate,N=g.selectsEnd,E=g.selectsRange,D=Nn(w,p),T=(m=n.props.selectingDate)!==null&&m!==void 0?m:n.props.preSelection;return N||E?Jn(D,T):Jn(D,_)}),R(n,"isInSelectingRangeQuarter",function(p){var m,g=n.props,w=g.day,_=g.selectsStart,N=g.selectsEnd,E=g.selectsRange,D=g.startDate,T=g.endDate,S=(m=n.props.selectingDate)!==null&&m!==void 0?m:n.props.preSelection;return!(_||N||E)||!S?!1:_&&T?mu(S,T,p,w):N&&D||E&&D&&!T?mu(D,S,p,w):!1}),R(n,"isWeekInMonth",function(p){var m=n.props.day,g=zi(p,6);return Jn(p,m)||Jn(g,m)}),R(n,"isCurrentMonth",function(p,m){return $e(p)===$e(lt())&&m===Cn(lt())}),R(n,"isCurrentQuarter",function(p,m){return $e(p)===$e(lt())&&m===ka(lt())}),R(n,"isSelectedMonth",function(p,m,g){return Cn(g)===m&&$e(p)===$e(g)}),R(n,"isSelectedQuarter",function(p,m,g){return ka(p)===m&&$e(p)===$e(g)}),R(n,"renderWeeks",function(){for(var p=[],m=n.props.fixedHeight,g=0,w=!1,_=Mi(Ei(n.props.day),n.props.locale,n.props.calendarStartDay),N=n.props.showWeekPicker?Mi(n.props.selected,n.props.locale,n.props.calendarStartDay):n.props.selected,E=n.props.showWeekPicker?Mi(n.props.preSelection,n.props.locale,n.props.calendarStartDay):n.props.preSelection;p.push(te.createElement(Q1,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:n.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:n.props.disabledDayAriaLabelPrefix,key:g,day:_,month:Cn(n.props.day),onDayClick:n.handleDayClick,usePointerEvent:n.props.usePointerEvent,onDayMouseEnter:n.handleDayMouseEnter,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,locale:n.props.locale,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDates:n.props.includeDates,includeDateIntervals:n.props.includeDateIntervals,inline:n.props.inline,shouldFocusDayInline:n.props.shouldFocusDayInline,highlightDates:n.props.highlightDates,holidays:n.props.holidays,selectingDate:n.props.selectingDate,filterDate:n.props.filterDate,preSelection:E,selected:N,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,selectsRange:n.props.selectsRange,selectsDisabledDaysInRange:n.props.selectsDisabledDaysInRange,selectsMultiple:n.props.selectsMultiple,selectedDates:n.props.selectedDates,showWeekNumber:n.props.showWeekNumbers,showWeekPicker:n.props.showWeekPicker,startDate:n.props.startDate,endDate:n.props.endDate,dayClassName:n.props.dayClassName,setOpen:n.props.setOpen,shouldCloseOnSelect:n.props.shouldCloseOnSelect,disabledKeyboardNavigation:n.props.disabledKeyboardNavigation,renderDayContents:n.props.renderDayContents,handleOnKeyDown:n.props.handleOnKeyDown,isInputFocused:n.props.isInputFocused,containerRef:n.props.containerRef,calendarStartDay:n.props.calendarStartDay,monthShowsDuplicateDaysEnd:n.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:n.props.monthShowsDuplicateDaysStart})),!w;){g++,_=Lu(_,1);var D=m&&g>=X1,T=!m&&!n.isWeekInMonth(_);if(D||T)if(n.props.peekNextMonth)w=!0;else break}return p}),R(n,"onMonthClick",function(p,m){var g=Nn(n.props.day,m);Su(g,n.props)||n.handleDayClick(Ei(g),p)}),R(n,"onMonthMouseEnter",function(p){var m=Nn(n.props.day,p);Su(m,n.props)||n.handleDayMouseEnter(Ei(m))}),R(n,"handleMonthNavigation",function(p,m){n.isDisabled(m)||n.isExcluded(m)||(n.props.setPreSelection(m),n.MONTH_REFS[p].current&&n.MONTH_REFS[p].current.focus())}),R(n,"onMonthKeyDown",function(p,m){var g=n.props,w=g.selected,_=g.preSelection,N=g.disabledKeyboardNavigation,E=g.showTwoColumnMonthYearPicker,D=g.showFourColumnMonthYearPicker,T=g.setPreSelection,S=g.handleOnMonthKeyDown,P=p.key;if(P!=="Tab"&&p.preventDefault(),!N){var U=Rg(D,E),O=Uh[U].verticalNavigationOffset,Y=Uh[U].grid;switch(P){case"Enter":n.onMonthClick(p,m),T(w);break;case"ArrowRight":n.handleMonthNavigation(m===11?0:m+gu,Ir(_,gu));break;case"ArrowLeft":n.handleMonthNavigation(m===0?11:m-gu,Lo(_,gu));break;case"ArrowUp":n.handleMonthNavigation(Y[0].includes(m)?m+12-O:m-O,Lo(_,O));break;case"ArrowDown":n.handleMonthNavigation(Y[Y.length-1].includes(m)?m-12+O:m+O,Ir(_,O));break}}S&&S(p)}),R(n,"onQuarterClick",function(p,m){var g=Co(n.props.day,m);$h(g,n.props)||n.handleDayClick(wg(g),p)}),R(n,"onQuarterMouseEnter",function(p){var m=Co(n.props.day,p);$h(m,n.props)||n.handleDayMouseEnter(wg(m))}),R(n,"handleQuarterNavigation",function(p,m){n.isDisabled(m)||n.isExcluded(m)||(n.props.setPreSelection(m),n.QUARTER_REFS[p-1].current&&n.QUARTER_REFS[p-1].current.focus())}),R(n,"onQuarterKeyDown",function(p,m){var g=p.key;if(!n.props.disabledKeyboardNavigation)switch(g){case"Enter":n.onQuarterClick(p,m),n.props.setPreSelection(n.props.selected);break;case"ArrowRight":n.handleQuarterNavigation(m===4?1:m+1,Cp(n.props.preSelection,1));break;case"ArrowLeft":n.handleQuarterNavigation(m===1?4:m-1,fx(n.props.preSelection));break}}),R(n,"isMonthDisabled",function(p){var m=n.props,g=m.day,w=m.minDate,_=m.maxDate,N=m.excludeDates,E=m.includeDates,D=Nn(g,p);return(w||_||N||E)&&Su(D,n.props)}),R(n,"getMonthClassNames",function(p){var m=n.props,g=m.day,w=m.startDate,_=m.endDate,N=m.selected,E=m.preSelection,D=m.monthClassName,T=D?D(Nn(g,p)):void 0;return nn("react-datepicker__month-text","react-datepicker__month-".concat(p),T,{"react-datepicker__month-text--disabled":n.isMonthDisabled(p),"react-datepicker__month-text--selected":n.isSelectedMonth(g,p,N),"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&n.isSelectedMonth(g,p,E),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(p),"react-datepicker__month-text--in-range":pu(w,_,p,g),"react-datepicker__month-text--range-start":n.isRangeStartMonth(p),"react-datepicker__month-text--range-end":n.isRangeEndMonth(p),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(p),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(p),"react-datepicker__month-text--today":n.isCurrentMonth(g,p)})}),R(n,"getTabIndex",function(p){var m=Cn(n.props.preSelection),g=!n.props.disabledKeyboardNavigation&&p===m?"0":"-1";return g}),R(n,"getQuarterTabIndex",function(p){var m=ka(n.props.preSelection),g=!n.props.disabledKeyboardNavigation&&p===m?"0":"-1";return g}),R(n,"getAriaLabel",function(p){var m=n.props,g=m.chooseDayAriaLabelPrefix,w=g===void 0?"Choose":g,_=m.disabledDayAriaLabelPrefix,N=_===void 0?"Not available":_,E=m.day,D=m.locale,T=Nn(E,p),S=n.isDisabled(T)||n.isExcluded(T)?N:w;return"".concat(S," ").concat(gt(T,"MMMM yyyy",D))}),R(n,"getQuarterClassNames",function(p){var m=n.props,g=m.day,w=m.startDate,_=m.endDate,N=m.selected,E=m.minDate,D=m.maxDate,T=m.preSelection,S=m.disabledKeyboardNavigation;return nn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(p),{"react-datepicker__quarter-text--disabled":(E||D)&&$h(Co(g,p),n.props),"react-datepicker__quarter-text--selected":n.isSelectedQuarter(g,p,N),"react-datepicker__quarter-text--keyboard-selected":!S&&n.isSelectedQuarter(g,p,T),"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(p),"react-datepicker__quarter-text--in-range":mu(w,_,p,g),"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(p),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(p)})}),R(n,"getMonthContent",function(p){var m=n.props,g=m.showFullMonthYearPicker,w=m.renderMonthContent,_=m.locale,N=m.day,E=Ix(p,_),D=Rp(p,_);return w?w(p,E,D,N):g?D:E}),R(n,"getQuarterContent",function(p){var m=n.props,g=m.renderQuarterContent,w=m.locale,_=P1(p,w);return g?g(p,_):_}),R(n,"renderMonths",function(){var p=n.props,m=p.showTwoColumnMonthYearPicker,g=p.showFourColumnMonthYearPicker,w=p.day,_=p.selected,N=Uh[Rg(g,m)].grid;return N.map(function(E,D){return te.createElement("div",{className:"react-datepicker__month-wrapper",key:D},E.map(function(T,S){return te.createElement("div",{ref:n.MONTH_REFS[T],key:S,onClick:function(U){n.onMonthClick(U,T)},onKeyDown:function(U){zx(U)&&(U.preventDefault(),U.key="Enter"),n.onMonthKeyDown(U,T)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(T)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(T)}:void 0,tabIndex:n.getTabIndex(T),className:n.getMonthClassNames(T),"aria-disabled":n.isMonthDisabled(T),role:"option","aria-label":n.getAriaLabel(T),"aria-current":n.isCurrentMonth(w,T)?"date":void 0,"aria-selected":n.isSelectedMonth(w,T,_)},n.getMonthContent(T))}))})}),R(n,"renderQuarters",function(){var p=n.props,m=p.day,g=p.selected,w=[1,2,3,4];return te.createElement("div",{className:"react-datepicker__quarter-wrapper"},w.map(function(_,N){return te.createElement("div",{key:N,ref:n.QUARTER_REFS[N],role:"option",onClick:function(D){n.onQuarterClick(D,_)},onKeyDown:function(D){n.onQuarterKeyDown(D,_)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(_)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(_)}:void 0,className:n.getQuarterClassNames(_),"aria-selected":n.isSelectedQuarter(m,_,g),tabIndex:n.getQuarterTabIndex(_),"aria-current":n.isCurrentQuarter(m,_)?"date":void 0},n.getQuarterContent(_))}))}),R(n,"getClassNames",function(){var p=n.props,m=p.selectingDate,g=p.selectsStart,w=p.selectsEnd,_=p.showMonthYearPicker,N=p.showQuarterYearPicker,E=p.showWeekPicker;return nn("react-datepicker__month",{"react-datepicker__month--selecting-range":m&&(g||w)},{"react-datepicker__monthPicker":_},{"react-datepicker__quarterPicker":N},{"react-datepicker__weekPicker":E})}),n}return Kt(o,i),Gt(o,[{key:"render",value:function(){var r=this.props,u=r.showMonthYearPicker,f=r.showQuarterYearPicker,p=r.day,m=r.ariaLabelPrefix,g=m===void 0?"Month ":m,w=g?g.trim()+" ":"";return te.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(w).concat(gt(p,"MMMM, yyyy",this.props.locale)),role:"listbox"},u?this.renderMonths():f?this.renderQuarters():this.renderWeeks())}}])})(te.Component),Wx=(function(i){function o(){var n;qt(this,o);for(var r=arguments.length,u=new Array(r),f=0;f<r;f++)u[f]=arguments[f];return n=Vt(this,o,[].concat(u)),R(n,"state",{height:null}),R(n,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){n.list&&(n.list.scrollTop=n.centerLi&&o.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-n.header.clientHeight:n.list.clientHeight,n.centerLi))})}),R(n,"handleClick",function(p){(n.props.minTime||n.props.maxTime)&&jg(p,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Ng(p,n.props)||n.props.onChange(p)}),R(n,"isSelectedTime",function(p){return n.props.selected&&A1(n.props.selected,p)}),R(n,"isDisabledTime",function(p){return(n.props.minTime||n.props.maxTime)&&jg(p,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Ng(p,n.props)}),R(n,"liClasses",function(p){var m=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(p):void 0];return n.isSelectedTime(p)&&m.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(p)&&m.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(os(p)*3600+as(p)*60+Hs(p))%(n.props.intervals*60)!==0&&m.push("react-datepicker__time-list-item--injected"),m.join(" ")}),R(n,"handleOnKeyDown",function(p,m){p.key===" "&&(p.preventDefault(),p.key="Enter"),(p.key==="ArrowUp"||p.key==="ArrowLeft")&&p.target.previousSibling&&(p.preventDefault(),p.target.previousSibling.focus()),(p.key==="ArrowDown"||p.key==="ArrowRight")&&p.target.nextSibling&&(p.preventDefault(),p.target.nextSibling.focus()),p.key==="Enter"&&n.handleClick(m),n.props.handleOnKeyDown(p)}),R(n,"renderTimes",function(){for(var p=[],m=n.props.format?n.props.format:"p",g=n.props.intervals,w=n.props.selected||n.props.openToDate||lt(),_=k1(w),N=n.props.injectTimes&&n.props.injectTimes.sort(function(O,Y){return O-Y}),E=60*I1(w),D=E/g,T=0;T<D;T++){var S=op(_,T*g);if(p.push(S),N){var P=R1(_,S,T,g,N);p=p.concat(P)}}var U=p.reduce(function(O,Y){return Y.getTime()<=w.getTime()?Y:O},p[0]);return p.map(function(O,Y){return te.createElement("li",{key:Y,onClick:n.handleClick.bind(n,O),className:n.liClasses(O),ref:function($){O===U&&(n.centerLi=$)},onKeyDown:function($){n.handleOnKeyDown($,O)},tabIndex:O===U?0:-1,role:"option","aria-selected":n.isSelectedTime(O)?"true":void 0,"aria-disabled":n.isDisabledTime(O)?"true":void 0},gt(O,m,n.props.locale))})}),n}return Kt(o,i),Gt(o,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,u=this.state.height;return te.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},te.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(p){r.header=p}},te.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),te.createElement("div",{className:"react-datepicker__time"},te.createElement("div",{className:"react-datepicker__time-box"},te.createElement("ul",{className:"react-datepicker__time-list",ref:function(p){r.list=p},style:u?{height:u}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])})(te.Component);R(Wx,"calcCenterPosition",function(i,o){return o.offsetTop-(i/2-o.clientHeight/2)});var Ig=3,ek=(function(i){function o(n){var r;return qt(this,o),r=Vt(this,o,[n]),R(r,"YEAR_REFS",Bi(Array(r.props.yearItemNumber)).map(function(){return te.createRef()})),R(r,"isDisabled",function(u){return sd(u,r.props)}),R(r,"isExcluded",function(u){return Ip(u,r.props)}),R(r,"selectingDate",function(){var u;return(u=r.props.selectingDate)!==null&&u!==void 0?u:r.props.preSelection}),R(r,"updateFocusOnPaginate",function(u){var f=(function(){this.YEAR_REFS[u].current.focus()}).bind(r);window.requestAnimationFrame(f)}),R(r,"handleYearClick",function(u,f){r.props.onDayClick&&r.props.onDayClick(u,f)}),R(r,"handleYearNavigation",function(u,f){var p=r.props,m=p.date,g=p.yearItemNumber,w=Ti(m,g),_=w.startPeriod;r.isDisabled(f)||r.isExcluded(f)||(r.props.setPreSelection(f),u-_<0?r.updateFocusOnPaginate(g-(_-u)):u-_>=g?r.updateFocusOnPaginate(Math.abs(g-(u-_))):r.YEAR_REFS[u-_].current.focus())}),R(r,"isSameDay",function(u,f){return et(u,f)}),R(r,"isCurrentYear",function(u){return u===$e(lt())}),R(r,"isRangeStart",function(u){return r.props.startDate&&r.props.endDate&&ts(es(lt(),u),r.props.startDate)}),R(r,"isRangeEnd",function(u){return r.props.startDate&&r.props.endDate&&ts(es(lt(),u),r.props.endDate)}),R(r,"isInRange",function(u){return fu(u,r.props.startDate,r.props.endDate)}),R(r,"isInSelectingRange",function(u){var f=r.props,p=f.selectsStart,m=f.selectsEnd,g=f.selectsRange,w=f.startDate,_=f.endDate;return!(p||m||g)||!r.selectingDate()?!1:p&&_?fu(u,r.selectingDate(),_):m&&w||g&&w&&!_?fu(u,w,r.selectingDate()):!1}),R(r,"isSelectingRangeStart",function(u){if(!r.isInSelectingRange(u))return!1;var f=r.props,p=f.startDate,m=f.selectsStart,g=es(lt(),u);return m?ts(g,r.selectingDate()):ts(g,p)}),R(r,"isSelectingRangeEnd",function(u){if(!r.isInSelectingRange(u))return!1;var f=r.props,p=f.endDate,m=f.selectsEnd,g=f.selectsRange,w=es(lt(),u);return m||g?ts(w,r.selectingDate()):ts(w,p)}),R(r,"isKeyboardSelected",function(u){var f=El(es(r.props.date,u));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!et(f,El(r.props.selected))&&et(f,El(r.props.preSelection))}),R(r,"onYearClick",function(u,f){var p=r.props.date;r.handleYearClick(El(es(p,f)),u)}),R(r,"onYearKeyDown",function(u,f){var p=u.key,m=r.props,g=m.date,w=m.yearItemNumber,_=m.handleOnKeyDown;if(p!=="Tab"&&u.preventDefault(),!r.props.disabledKeyboardNavigation)switch(p){case"Enter":r.onYearClick(u,f),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(f+1,Ys(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(f-1,Oo(r.props.preSelection,1));break;case"ArrowUp":{var N=Ti(g,w),E=N.startPeriod,D=Ig,T=f-D;if(T<E){var S=w%D;f>=E&&f<E+S?D=S:D+=S,T=f-D}r.handleYearNavigation(T,Oo(r.props.preSelection,D));break}case"ArrowDown":{var P=Ti(g,w),U=P.endPeriod,O=Ig,Y=f+O;if(Y>U){var ee=w%O;f<=U&&f>U-ee?O=ee:O+=ee,Y=f+O}r.handleYearNavigation(Y,Ys(r.props.preSelection,O));break}}_&&_(u)}),R(r,"getYearClassNames",function(u){var f=r.props,p=f.date,m=f.minDate,g=f.maxDate,w=f.selected,_=f.excludeDates,N=f.includeDates,E=f.filterDate,D=f.yearClassName;return nn("react-datepicker__year-text","react-datepicker__year-".concat(u),D?D(es(p,u)):void 0,{"react-datepicker__year-text--selected":u===$e(w),"react-datepicker__year-text--disabled":(m||g||_||N||E)&&Ax(u,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(u),"react-datepicker__year-text--range-start":r.isRangeStart(u),"react-datepicker__year-text--range-end":r.isRangeEnd(u),"react-datepicker__year-text--in-range":r.isInRange(u),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(u),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(u),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(u),"react-datepicker__year-text--today":r.isCurrentYear(u)})}),R(r,"getYearTabIndex",function(u){if(r.props.disabledKeyboardNavigation)return"-1";var f=$e(r.props.preSelection);return u===f?"0":"-1"}),R(r,"getYearContainerClassNames",function(){var u=r.props,f=u.selectingDate,p=u.selectsStart,m=u.selectsEnd,g=u.selectsRange;return nn("react-datepicker__year",{"react-datepicker__year--selecting-range":f&&(p||m||g)})}),R(r,"getYearContent",function(u){return r.props.renderYearContent?r.props.renderYearContent(u):u}),r}return Kt(o,i),Gt(o,[{key:"render",value:function(){for(var r=this,u=[],f=this.props,p=f.date,m=f.yearItemNumber,g=f.onYearMouseEnter,w=f.onYearMouseLeave,_=Ti(p,m),N=_.startPeriod,E=_.endPeriod,D=function(P){u.push(te.createElement("div",{ref:r.YEAR_REFS[P-N],onClick:function(O){r.onYearClick(O,P)},onKeyDown:function(O){zx(O)&&(O.preventDefault(),O.key="Enter"),r.onYearKeyDown(O,P)},tabIndex:r.getYearTabIndex(P),className:r.getYearClassNames(P),onMouseEnter:r.props.usePointerEvent?void 0:function(U){return g(U,P)},onPointerEnter:r.props.usePointerEvent?function(U){return g(U,P)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(U){return w(U,P)},onPointerLeave:r.props.usePointerEvent?function(U){return w(U,P)}:void 0,key:P,"aria-current":r.isCurrentYear(P)?"date":void 0},r.getYearContent(P)))},T=N;T<=E;T++)D(T);return te.createElement("div",{className:this.getYearContainerClassNames()},te.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},u))}}])})(te.Component),tk=(function(i){function o(n){var r;return qt(this,o),r=Vt(this,o,[n]),R(r,"onTimeChange",function(u){r.setState({time:u});var f=r.props.date,p=f instanceof Date&&!isNaN(f),m=p?f:new Date;m.setHours(u.split(":")[0]),m.setMinutes(u.split(":")[1]),r.props.onChange(m)}),R(r,"renderTimeInput",function(){var u=r.state.time,f=r.props,p=f.date,m=f.timeString,g=f.customTimeInput;return g?te.cloneElement(g,{date:p,value:u,onChange:r.onTimeChange}):te.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:u,onChange:function(_){r.onTimeChange(_.target.value||m)}})}),r.state={time:r.props.timeString},r}return Kt(o,i),Gt(o,[{key:"render",value:function(){return te.createElement("div",{className:"react-datepicker__input-time-container"},te.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),te.createElement("div",{className:"react-datepicker-time__input-container"},te.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,u){return r.timeString!==u.time?{time:r.timeString}:null}}])})(te.Component);function nk(i){var o=i.showTimeSelectOnly,n=o===void 0?!1:o,r=i.showTime,u=r===void 0?!1:r,f=i.className,p=i.children,m=n?"Choose Time":"Choose Date".concat(u?" and Time":"");return te.createElement("div",{className:f,role:"dialog","aria-label":m,"aria-modal":"true"},p)}var rk=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],sk=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=(o.className||"").split(/\s+/);return rk.some(function(r){return n.indexOf(r)>=0})},ik=(function(i){function o(n){var r;return qt(this,o),r=Vt(this,o,[n]),R(r,"handleClickOutside",function(u){r.props.onClickOutside(u)}),R(r,"setClickOutsideRef",function(){return r.containerRef.current}),R(r,"handleDropdownFocus",function(u){sk(u.target)&&r.props.onDropdownFocus()}),R(r,"getDateInView",function(){var u=r.props,f=u.preSelection,p=u.selected,m=u.openToDate,g=Fx(r.props),w=Bx(r.props),_=lt(),N=m||p||f;return N||(g&&Ta(_,g)?g:w&&Ai(_,w)?w:_)}),R(r,"increaseMonth",function(){r.setState(function(u){var f=u.date;return{date:Ir(f,1)}},function(){return r.handleMonthChange(r.state.date)})}),R(r,"decreaseMonth",function(){r.setState(function(u){var f=u.date;return{date:Lo(f,1)}},function(){return r.handleMonthChange(r.state.date)})}),R(r,"handleDayClick",function(u,f,p){r.props.onSelect(u,f,p),r.props.setPreSelection&&r.props.setPreSelection(u)}),R(r,"handleDayMouseEnter",function(u){r.setState({selectingDate:u}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(u)}),R(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),R(r,"handleYearMouseEnter",function(u,f){r.setState({selectingDate:es(lt(),f)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(u,f)}),R(r,"handleYearMouseLeave",function(u,f){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(u,f)}),R(r,"handleYearChange",function(u){r.props.onYearChange&&(r.props.onYearChange(u),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(u),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(u)}),R(r,"handleMonthChange",function(u){r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(u),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(u)}),R(r,"handleCustomMonthChange",function(u){r.props.onMonthChange&&(r.props.onMonthChange(u),r.setState({isRenderAriaLiveMessage:!0}))}),R(r,"handleMonthYearChange",function(u){r.handleYearChange(u),r.handleMonthChange(u)}),R(r,"changeYear",function(u){r.setState(function(f){var p=f.date;return{date:es(p,u)}},function(){return r.handleYearChange(r.state.date)})}),R(r,"changeMonth",function(u){r.setState(function(f){var p=f.date;return{date:Nn(p,u)}},function(){return r.handleMonthChange(r.state.date)})}),R(r,"changeMonthYear",function(u){r.setState(function(f){var p=f.date;return{date:es(Nn(p,Cn(u)),$e(u))}},function(){return r.handleMonthYearChange(r.state.date)})}),R(r,"header",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,f=Mi(u,r.props.locale,r.props.calendarStartDay),p=[];return r.props.showWeekNumbers&&p.push(te.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),p.concat([0,1,2,3,4,5,6].map(function(m){var g=zi(f,m),w=r.formatWeekday(g,r.props.locale),_=r.props.weekDayClassName?r.props.weekDayClassName(g):void 0;return te.createElement("div",{key:m,"aria-label":gt(g,"EEEE",r.props.locale),className:nn("react-datepicker__day-name",_)},w)}))}),R(r,"formatWeekday",function(u,f){return r.props.formatWeekDay?j1(u,r.props.formatWeekDay,f):r.props.useWeekdaysShort?C1(u,f):S1(u,f)}),R(r,"decreaseYear",function(){r.setState(function(u){var f=u.date;return{date:Oo(f,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),R(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),R(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var u;switch(!0){case r.props.showMonthYearPicker:u=Pg(r.state.date,r.props);break;case r.props.showYearPicker:u=M1(r.state.date,r.props);break;case r.props.showQuarterYearPicker:u=D1(r.state.date,r.props);break;default:u=Sg(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&u||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(m=r.decreaseYear),u&&r.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),m=null);var g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,_=w.previousMonthButtonLabel,N=w.previousYearButtonLabel,E=r.props,D=E.previousMonthAriaLabel,T=D===void 0?typeof _=="string"?_:"Previous Month":D,S=E.previousYearAriaLabel,P=S===void 0?typeof N=="string"?N:"Previous Year":S;return te.createElement("button",{type:"button",className:p.join(" "),onClick:m,onKeyDown:r.props.handleOnKeyDown,"aria-label":g?P:T},te.createElement("span",{className:f.join(" ")},g?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),R(r,"increaseYear",function(){r.setState(function(u){var f=u.date;return{date:Ys(f,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),R(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var u;switch(!0){case r.props.showMonthYearPicker:u=Dg(r.state.date,r.props);break;case r.props.showYearPicker:u=E1(r.state.date,r.props);break;case r.props.showQuarterYearPicker:u=T1(r.state.date,r.props);break;default:u=Cg(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&u||r.props.showTimeSelectOnly)){var f=["react-datepicker__navigation","react-datepicker__navigation--next"],p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&f.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&f.push("react-datepicker__navigation--next--with-today-button");var m=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(m=r.increaseYear),u&&r.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--next--disabled"),m=null);var g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,_=w.nextMonthButtonLabel,N=w.nextYearButtonLabel,E=r.props,D=E.nextMonthAriaLabel,T=D===void 0?typeof _=="string"?_:"Next Month":D,S=E.nextYearAriaLabel,P=S===void 0?typeof N=="string"?N:"Next Year":S;return te.createElement("button",{type:"button",className:f.join(" "),onClick:m,onKeyDown:r.props.handleOnKeyDown,"aria-label":g?P:T},te.createElement("span",{className:p.join(" ")},g?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),R(r,"renderCurrentMonth",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,f=["react-datepicker__current-month"];return r.props.showYearDropdown&&f.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&f.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&f.push("react-datepicker__current-month--hasMonthYearDropdown"),te.createElement("div",{className:f.join(" ")},gt(u,r.props.dateFormat,r.props.locale))}),R(r,"renderYearDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||u))return te.createElement(W1,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:$e(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),R(r,"renderMonthDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||u))return te.createElement($1,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Cn(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),R(r,"renderMonthYearDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||u))return te.createElement(q1,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),R(r,"handleTodayButtonClick",function(u){r.props.onSelect(_g(),u),r.props.setPreSelection&&r.props.setPreSelection(_g())}),R(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return te.createElement("div",{className:"react-datepicker__today-button",onClick:function(f){return r.handleTodayButtonClick(f)}},r.props.todayButton)}),R(r,"renderDefaultHeader",function(u){var f=u.monthDate,p=u.i;return te.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(f),te.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(p!==0),r.renderMonthYearDropdown(p!==0),r.renderYearDropdown(p!==0)),te.createElement("div",{className:"react-datepicker__day-names"},r.header(f)))}),R(r,"renderCustomHeader",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=u.monthDate,p=u.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var m=Sg(r.state.date,r.props),g=Cg(r.state.date,r.props),w=Pg(r.state.date,r.props),_=Dg(r.state.date,r.props),N=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return te.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(Ws(Ws({},r.state),{},{customHeaderCount:p,monthDate:f,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:g,prevYearButtonDisabled:w,nextYearButtonDisabled:_})),N&&te.createElement("div",{className:"react-datepicker__day-names"},r.header(f)))}),R(r,"renderYearHeader",function(u){var f=u.monthDate,p=r.props,m=p.showYearPicker,g=p.yearItemNumber,w=Ti(f,g),_=w.startPeriod,N=w.endPeriod;return te.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(_," - ").concat(N):$e(f))}),R(r,"renderHeader",function(u){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}}),R(r,"renderMonths",function(){var u;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var f=[],p=r.props.showPreviousMonths?r.props.monthsShown-1:0,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ys(r.state.date,p):Lo(r.state.date,p),g=(u=r.props.monthSelectedIn)!==null&&u!==void 0?u:p,w=0;w<r.props.monthsShown;++w){var _=w-g+p,N=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Ys(m,_):Ir(m,_),E="month-".concat(w),D=w<r.props.monthsShown-1,T=w>0;f.push(te.createElement("div",{key:E,ref:function(P){r.monthContainer=P},className:"react-datepicker__month-container"},r.renderHeader({monthDate:N,i:w}),te.createElement(J1,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:N,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:w,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:T})))}return f}}),R(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return te.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),te.createElement(ek,$l({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),R(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return te.createElement(Wx,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),R(r,"renderInputTimeSection",function(){var u=new Date(r.props.selected),f=Ci(u)&&!!r.props.selected,p=f?"".concat(Mg(u.getHours()),":").concat(Mg(u.getMinutes())):"";if(r.props.showTimeInput)return te.createElement(tk,{date:u,timeString:p,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),R(r,"renderAriaLiveRegion",function(){var u=Ti(r.state.date,r.props.yearItemNumber),f=u.startPeriod,p=u.endPeriod,m;return r.props.showYearPicker?m="".concat(f," - ").concat(p):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?m=$e(r.state.date):m="".concat(Rp(Cn(r.state.date),r.props.locale)," ").concat($e(r.state.date)),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&m)}),R(r,"renderChildren",function(){if(r.props.children)return te.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=te.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return Kt(o,i),Gt(o,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())}},{key:"componentDidUpdate",value:function(r){var u=this;if(this.props.preSelection&&(!et(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var f=!Jn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return f&&u.handleCustomMonthChange(u.state.date)})}else this.props.openToDate&&!et(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||nk;return te.createElement("div",{style:{display:"contents"},ref:this.containerRef},te.createElement(r,{className:nn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Kl}}}])})(te.Component),ak=function(o){var n=o.icon,r=o.className,u=r===void 0?"":r,f=o.onClick,p="react-datepicker__calendar-icon";return te.isValidElement(n)?te.cloneElement(n,{className:"".concat(n.props.className||""," ").concat(p," ").concat(u),onClick:function(g){typeof n.props.onClick=="function"&&n.props.onClick(g),typeof f=="function"&&f(g)}}):typeof n=="string"?te.createElement("i",{className:"".concat(p," ").concat(n," ").concat(u),"aria-hidden":"true",onClick:f}):te.createElement("svg",{className:"".concat(p," ").concat(u),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:f},te.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},ok=ak,Yx=(function(i){function o(n){var r;return qt(this,o),r=Vt(this,o,[n]),r.el=document.createElement("div"),r}return Kt(o,i),Gt(o,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return Fw.createPortal(this.props.children,this.el)}}])})(te.Component),lk="[tabindex], a, button, input, select, textarea",ck=function(o){return!o.disabled&&o.tabIndex!==-1},Hx=(function(i){function o(n){var r;return qt(this,o),r=Vt(this,o,[n]),R(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(lk),1,-1).filter(ck)}),R(r,"handleFocusStart",function(){var u=r.getTabChildren();u&&u.length>1&&u[u.length-1].focus()}),R(r,"handleFocusEnd",function(){var u=r.getTabChildren();u&&u.length>1&&u[0].focus()}),r.tabLoopRef=te.createRef(),r}return Kt(o,i),Gt(o,[{key:"render",value:function(){return this.props.enableTabLoop?te.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},te.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,te.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])})(te.Component);function uk(i){var o=function(r){var u=Ws(Ws({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),f=te.useRef(),p=c1(Ws({open:!u.hidePopper,whileElementsMounted:B_,placement:u.popperPlacement,middleware:[q_({padding:15}),V_(10),G_({element:f})].concat(Bi(u.popperModifiers))},u.popperProps));return te.createElement(i,$l({},u,{popperProps:Ws(Ws({},p),{},{arrowRef:f})}))};return o}var dk=(function(i){function o(){return qt(this,o),Vt(this,o,arguments)}return Kt(o,i),Gt(o,[{key:"render",value:function(){var r=this.props,u=r.className,f=r.wrapperClassName,p=r.hidePopper,m=r.popperComponent,g=r.targetComponent,w=r.enableTabLoop,_=r.popperOnKeyDown,N=r.portalId,E=r.portalHost,D=r.popperProps,T=r.showArrow,S;if(!p){var P=nn("react-datepicker-popper",u);S=te.createElement(Hx,{enableTabLoop:w},te.createElement("div",{ref:D.refs.setFloating,style:D.floatingStyles,className:P,"data-placement":D.placement,onKeyDown:_},m,T&&te.createElement(n1,{ref:D.arrowRef,context:D.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=te.createElement(this.props.popperContainer,{},S)),N&&!p&&(S=te.createElement(Yx,{portalId:N,portalHost:E},S));var U=nn("react-datepicker-wrapper",f);return te.createElement(te.Fragment,null,te.createElement("div",{ref:D.refs.setReference,className:U},g),S)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])})(te.Component),hk=uk(dk),Ag="react-datepicker-ignore-onclickoutside",pk=Xu(ik);function fk(i,o){return i&&o?Cn(i)!==Cn(o)||$e(i)!==$e(o):i!==o}var Zh="Date input not valid.",$x=(function(i){function o(n){var r;return qt(this,o),r=Vt(this,o,[n]),R(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:lt()}),R(r,"modifyHolidays",function(){var u;return(u=r.props.holidays)===null||u===void 0?void 0:u.reduce(function(f,p){var m=new Date(p.date);return zl(m)?[].concat(Bi(f),[Ws(Ws({},p),{},{date:m})]):f},[])}),R(r,"calcInitialState",function(){var u,f=r.getPreSelection(),p=Fx(r.props),m=Bx(r.props),g=p&&Ta(f,is(p))?p:m&&Ai(f,up(m))?m:f;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(u=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&u!==void 0?u:g,highlightDates:Tg(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),R(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),R(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),R(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),R(r,"setOpen",function(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:u,preSelection:u&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Vh},function(){u||r.setState(function(p){return{focused:f?p.focused:!1}},function(){!f&&r.setBlur(),r.setState({inputValue:null})})})}),R(r,"inputOk",function(){return Da(r.state.preSelection)}),R(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),R(r,"handleFocus",function(u){r.state.preventFocus||(r.props.onFocus(u),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),R(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),R(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),R(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),R(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),R(r,"handleBlur",function(u){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(u),r.setState({focused:!1})}),R(r,"handleCalendarClickOutside",function(u){r.props.inline||r.setOpen(!1),r.props.onClickOutside(u),r.props.withPortal&&u.preventDefault()}),R(r,"handleChange",function(){for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];var m=f[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,f),typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){r.setState({inputValue:m.target.value,lastPreSelectChange:mk});var g=v1(m.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&g&&!et(g,r.props.selected)&&(g=Aw(r.props.selected,{hours:os(g),minutes:as(g),seconds:Hs(g)})),(g||!m.target.value)&&r.setSelected(g,m,!0)}}),R(r,"handleSelect",function(u,f,p){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(f),r.setSelected(u,f,!1,p),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(u);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var m=r.props,g=m.startDate,w=m.endDate;g&&!w&&(r.props.swapRange||!Og(u,g))&&r.setOpen(!1)}}),R(r,"setSelected",function(u,f,p,m){var g=u;if(r.props.showYearPicker){if(g!==null&&Ax($e(g),r.props))return}else if(r.props.showMonthYearPicker){if(g!==null&&Su(g,r.props))return}else if(g!==null&&sd(g,r.props))return;var w=r.props,_=w.onChange,N=w.selectsRange,E=w.startDate,D=w.endDate,T=w.selectsMultiple,S=w.selectedDates,P=w.minTime,U=w.swapRange;if(!_a(r.props.selected,g)||r.props.allowSameDay||N||T)if(g!==null&&(r.props.selected&&(!p||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(g=Hh(g,{hour:os(r.props.selected),minute:as(r.props.selected),second:Hs(r.props.selected)})),!p&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&P&&(g=Hh(g,{hour:P.getHours(),minute:P.getMinutes(),second:P.getSeconds()})),r.props.inline||r.setState({preSelection:g}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:m})),N){var O=!E&&!D,Y=E&&!D,ee=E&&D;O?_([g,null],f):Y&&(g===null?_([null,null],f):Og(g,E)?_(U?[g,E]:[g,null],f):_([E,g],f)),ee&&_([g,null],f)}else if(T)if(!(S!=null&&S.length))_([g],f);else{var $=S.some(function(q){return et(q,g)});if($){var A=S.filter(function(q){return!et(q,g)});_(A,f)}else _([].concat(Bi(S),[g]),f)}else _(g,f);p||(r.props.onSelect(g,f),r.setState({inputValue:null}))}),R(r,"setPreSelection",function(u){var f=typeof r.props.minDate<"u",p=typeof r.props.maxDate<"u",m=!0;if(u){var g=is(u);if(f&&p)m=Ll(u,r.props.minDate,r.props.maxDate);else if(f){var w=is(r.props.minDate);m=Ai(u,w)||_a(g,w)}else if(p){var _=up(r.props.maxDate);m=Ta(u,_)||_a(g,_)}}m&&r.setState({preSelection:u})}),R(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),R(r,"handleTimeChange",function(u){var f=r.props.selected?r.props.selected:r.getPreSelection(),p=r.props.selected?u:Hh(f,{hour:os(u),minute:as(u)});r.setState({preSelection:p}),r.props.onChange(p),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),R(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),R(r,"onInputKeyDown",function(u){r.props.onKeyDown(u);var f=u.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(f==="ArrowDown"||f==="ArrowUp"||f==="Enter")&&r.onInputClick();return}if(r.state.open){if(f==="ArrowDown"||f==="ArrowUp"){u.preventDefault();var p=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=r.calendar.componentNode&&r.calendar.componentNode.querySelector(p);m&&m.focus({preventScroll:!0});return}var g=lt(r.state.preSelection);f==="Enter"?(u.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Vh?(r.handleSelect(g,u),!r.props.shouldCloseOnSelect&&r.setPreSelection(g)):r.setOpen(!1)):f==="Escape"?(u.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):f==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Zh})}}),R(r,"onPortalKeyDown",function(u){var f=u.key;f==="Escape"&&(u.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),R(r,"onDayKeyDown",function(u){r.props.onKeyDown(u);var f=u.key,p=u.shiftKey,m=lt(r.state.preSelection);if(f==="Enter")u.preventDefault(),r.handleSelect(m,u),!r.props.shouldCloseOnSelect&&r.setPreSelection(m);else if(f==="Escape")u.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Zh});else if(!r.props.disabledKeyboardNavigation){var g;switch(f){case"ArrowLeft":r.props.showWeekPicker?g=ng(m):g=fb(m);break;case"ArrowRight":r.props.showWeekPicker?g=Lu(m,1):g=zi(m,1);break;case"ArrowUp":g=ng(m);break;case"ArrowDown":g=Lu(m,1);break;case"PageUp":g=p?Oo(m,1):Lo(m,1);break;case"PageDown":g=p?Ys(m,1):Ir(m,1);break;case"Home":g=Mi(m,r.props.locale,r.props.calendarStartDay);break;case"End":g=N1(m);break;default:g=null;break}if(!g){r.props.onInputError&&r.props.onInputError({code:1,msg:Zh});return}if(u.preventDefault(),r.setState({lastPreSelectChange:Vh}),r.props.adjustDateOnChange&&r.setSelected(g),r.setPreSelection(g),r.props.inline){var w=Cn(m),_=Cn(g),N=$e(m),E=$e(g);w!==_||N!==E?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),R(r,"onPopperKeyDown",function(u){var f=u.key;f==="Escape"&&(u.preventDefault(),r.sendFocusBackToInput())}),R(r,"onClearClick",function(u){u&&u.preventDefault&&u.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],u):r.props.onChange(null,u),r.setState({inputValue:null})}),R(r,"clear",function(){r.onClearClick()}),R(r,"onScroll",function(u){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(u.target===document||u.target===document.documentElement||u.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(u)&&r.setOpen(!1)}),R(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:te.createElement(pk,{ref:function(f){r.calendar=f},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:O1(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:Ag,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),R(r,"renderAriaLiveRegion",function(){var u=r.props,f=u.dateFormat,p=u.locale,m=r.props.showTimeInput||r.props.showTimeSelect,g=m?"PPPPp":"PPPP",w;return r.props.selectsRange?w="Selected start date: ".concat(gr(r.props.startDate,{dateFormat:g,locale:p}),". ").concat(r.props.endDate?"End date: "+gr(r.props.endDate,{dateFormat:g,locale:p}):""):r.props.showTimeSelectOnly?w="Selected time: ".concat(gr(r.props.selected,{dateFormat:f,locale:p})):r.props.showYearPicker?w="Selected year: ".concat(gr(r.props.selected,{dateFormat:"yyyy",locale:p})):r.props.showMonthYearPicker?w="Selected month: ".concat(gr(r.props.selected,{dateFormat:"MMMM yyyy",locale:p})):r.props.showQuarterYearPicker?w="Selected quarter: ".concat(gr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:p})):w="Selected date: ".concat(gr(r.props.selected,{dateFormat:g,locale:p})),te.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)}),R(r,"renderDateInput",function(){var u,f=nn(r.props.className,R({},Ag,r.state.open)),p=r.props.customInput||te.createElement("input",{type:"text"}),m=r.props.customInputRef||"ref",g=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?y1(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?b1(r.props.selectedDates,r.props):gr(r.props.selected,r.props);return te.cloneElement(p,(u={},R(R(R(R(R(R(R(R(R(R(u,m,function(w){r.input=w}),"value",g),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),R(R(R(R(R(R(R(R(R(R(u,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",nn(p.props.className,f)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),R(R(R(u,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),R(r,"renderClearButton",function(){var u=r.props,f=u.isClearable,p=u.disabled,m=u.selected,g=u.startDate,w=u.endDate,_=u.clearButtonTitle,N=u.clearButtonClassName,E=N===void 0?"":N,D=u.ariaLabelClose,T=D===void 0?"Close":D,S=u.selectedDates;return f&&(m!=null||g!=null||w!=null||S!=null&&S.length)?te.createElement("button",{type:"button",className:nn("react-datepicker__close-icon",E,{"react-datepicker__close-icon--disabled":p}),disabled:p,"aria-label":T,onClick:r.onClearClick,title:_,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return Kt(o,i),Gt(o,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,u){r.inline&&fk(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Tg(this.props.highlightDates)}),!u.focused&&!_a(r.selected,this.props.selected)&&this.setState({inputValue:null}),u.open!==this.state.open&&(u.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),u.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,u=r.showIcon,f=r.icon,p=r.calendarIconClassname,m=r.toggleCalendarOnIconClick,g=this.state.open;return te.createElement("div",{className:"react-datepicker__input-container".concat(u?" react-datepicker__view-calendar-icon":"")},u&&te.createElement(ok,$l({icon:f,className:"".concat(p," ").concat(g&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var u=this.state.open?te.createElement(Hx,{enableTabLoop:this.props.enableTabLoop},te.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(u=te.createElement(Yx,{portalId:this.props.portalId,portalHost:this.props.portalHost},u)),te.createElement("div",null,this.renderInputContainer(),u)}return te.createElement(hk,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Kl,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])})(te.Component),mk="input",Vh="navigate";const Ap=C.forwardRef(({value:i,onClick:o,placeholder:n},r)=>s.jsxs("button",{type:"button",onClick:o,ref:r,className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl text-left flex items-center gap-2 hover:border-brand-500 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition bg-white",children:[s.jsx(Oi,{className:"w-5 h-5 text-stone-400"}),s.jsx("span",{className:i?"text-stone-800":"text-stone-400",children:i||n||"Select date"})]}));Ap.displayName="CustomInput";const yp=({selected:i,onChange:o,availability:n={},minDate:r=new Date,maxDate:u,placeholder:f="Select date",showPrice:p=!0,selectsRange:m=!1,startDate:g,endDate:w,inline:_=!1,disabled:N=!1})=>{const E=P=>{const U=P.toISOString().split("T")[0],O=n[U];if(!O)return"";switch(O.status){case"available":return"day-available";case"booked":return"day-booked";case"closed":return"day-closed";default:return""}},D=P=>{const U=P.toISOString().split("T")[0],O=n[U];return O?O.status==="available":!0},T=(P,U)=>{if(!p)return P;const O=U.toISOString().split("T")[0],Y=n[O];return s.jsxs("div",{className:"relative",children:[s.jsx("span",{children:P}),Y?.price&&s.jsxs("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[8px] font-medium text-brand-700",children:["",Y.price]})]})},S=()=>{if(!i)return null;const P=i.toISOString().split("T")[0];return n[P]?.price};return s.jsxs("div",{className:"date-picker-container",children:[s.jsx($x,{selected:i,onChange:o,minDate:r,maxDate:u,filterDate:Object.keys(n).length>0?D:void 0,dayClassName:E,renderDayContents:T,customInput:s.jsx(Ap,{placeholder:f}),inline:_,disabled:N,selectsRange:m,startDate:g,endDate:w,dateFormat:"dd MMM yyyy",calendarStartDay:1,showPopperArrow:!1,popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]}}]}),p&&i&&S()&&s.jsxs("div",{className:"mt-2 text-sm text-stone-600",children:["Price for selected date: ",s.jsxs("span",{className:"font-semibold text-brand-700",children:["",S()]})]})]})},gk=({startDate:i,endDate:o,onChange:n,minDate:r=new Date,placeholder:u="Select dates"})=>s.jsx($x,{selectsRange:!0,startDate:i,endDate:o,onChange:n,minDate:r,customInput:s.jsx(Ap,{placeholder:u}),dateFormat:"dd MMM yyyy",calendarStartDay:1,showPopperArrow:!1,monthsShown:2}),xk={averageCatch:dv,recordFish:mv,blankRate:fv,bestTimeOfDay:tr,experienceLevel:Pi,typicalSessionHours:pv},vk={averageCatch:"Average catch",recordFish:"Record fish",blankRate:"Blank rate",bestTimeOfDay:"Best time",experienceLevel:"Experience level",typicalSessionHours:"Session length"},yk={beginner:"Beginner friendly",intermediate:"Intermediate",advanced:"Advanced",any:"All levels"},bk=({fishery:i})=>{const o=[{key:"averageCatch",value:i.expectations?.averageCatch},{key:"recordFish",value:i.expectations?.recordFish},{key:"blankRate",value:i.expectations?.blankRate},{key:"bestTimeOfDay",value:i.bestTimeOfDay},{key:"experienceLevel",value:yk[i.experienceLevel]||i.experienceLevel},{key:"typicalSessionHours",value:i.typicalSessionHours?`${i.typicalSessionHours} hours`:null}].filter(n=>n.value);return o.length===0?null:s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"What to Expect"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map(({key:n,value:r})=>{const u=xk[n];return s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-lg flex items-center justify-center",children:s.jsx(u,{className:"w-4 h-4 text-brand-700"})}),s.jsx("span",{className:"text-sm text-stone-500",children:vk[n]})]}),s.jsx("p",{className:"font-medium text-stone-900",children:r})]},n)})})]})},Ux=({rating:i})=>s.jsx("div",{className:"flex",children:[1,2,3,4,5].map(o=>s.jsx(vr,{className:`w-4 h-4 ${o<=i?"fill-amber-400 text-amber-400":"fill-stone-200 text-stone-200"}`},o))}),wk=({review:i})=>s.jsxs("div",{className:"bg-stone-50 rounded-xl p-5",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-semibold text-stone-900",children:i.author}),i.verified&&s.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[s.jsx(Zt,{className:"w-3 h-3"}),"Verified booking"]})]}),s.jsx("span",{className:"text-sm text-stone-400",children:new Date(i.date).toLocaleDateString("en-GB",{month:"long",year:"numeric"})})]}),s.jsx(Ux,{rating:i.rating})]}),i.title&&s.jsx("h4",{className:"font-medium text-stone-900 mb-2",children:i.title}),s.jsx("p",{className:"text-stone-600",children:i.text}),s.jsxs("button",{className:"flex items-center gap-1 text-sm text-stone-400 hover:text-stone-600 mt-3 transition",children:[s.jsx(hv,{className:"w-4 h-4"}),"Helpful"]})]}),Zx=({reviews:i=[],showCount:o=5})=>{if(!i||i.length===0)return s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-stone-500",children:"No reviews yet. Be the first to share your experience!"})});const n=i.reduce((u,f)=>u+f.rating,0)/i.length,r=[5,4,3,2,1].map(u=>({stars:u,count:i.filter(f=>f.rating===u).length,percentage:i.filter(f=>f.rating===u).length/i.length*100}));return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8 pb-8 border-b border-stone-200",children:[s.jsxs("div",{className:"text-center md:text-left",children:[s.jsx("div",{className:"text-5xl font-bold text-stone-900 mb-2",children:n.toFixed(1)}),s.jsx(Ux,{rating:Math.round(n)}),s.jsxs("p",{className:"text-sm text-stone-500 mt-1",children:[i.length," reviews"]})]}),s.jsx("div",{className:"flex-1 space-y-2",children:r.map(({stars:u,count:f,percentage:p})=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"w-8 text-sm text-stone-600",children:[u,""]}),s.jsx("div",{className:"flex-1 h-2 bg-stone-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-400 rounded-full",style:{width:`${p}%`}})}),s.jsx("span",{className:"w-8 text-sm text-stone-400",children:f})]},u))})]}),s.jsx("div",{className:"space-y-4",children:i.slice(0,o).map(u=>s.jsx(wk,{review:u},u.id))}),i.length>o&&s.jsxs("button",{className:"w-full mt-4 py-3 text-brand-700 font-medium hover:bg-brand-50 rounded-xl transition",children:["Show all ",i.length," reviews"]})]})},_k=({rating:i,setRating:o,readOnly:n=!1})=>{const[r,u]=C.useState(0);return s.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(f=>s.jsx("button",{type:"button",disabled:n,onClick:()=>!n&&o(f),onMouseEnter:()=>!n&&u(f),onMouseLeave:()=>!n&&u(0),className:`transition ${n?"cursor-default":"cursor-pointer hover:scale-110"}`,children:s.jsx(vr,{className:`w-8 h-8 ${f<=(r||i)?"fill-amber-400 text-amber-400":"fill-stone-200 text-stone-200"}`})},f))})},Vx=({waterId:i,instructorId:o,onSuccess:n,user:r})=>{const[u,f]=C.useState(0),[p,m]=C.useState(""),[g,w]=C.useState(""),[_,N]=C.useState(!1),[E,D]=C.useState(""),[T,S]=C.useState(!1),[P,U]=C.useState(!1),O=async Y=>{if(Y.preventDefault(),D(""),u===0){D("Please select a rating");return}if(!g.trim()){D("Please write your review");return}N(!0);try{const ee=tn(),$=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({waterId:i,instructorId:o,rating:u,title:p,text:g})}),A=await $.json();if(!$.ok)throw new Error(A.error||"Failed to submit review");S(!0),U(A.verified),f(0),m(""),w(""),n&&n(A.review),setTimeout(()=>{S(!1)},5e3)}catch(ee){D(ee.message)}finally{N(!1)}};return r?T?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx(Zt,{className:"w-6 h-6 text-green-600"}),s.jsx("h3",{className:"font-semibold text-green-900",children:"Review submitted successfully!"})]}),s.jsx("p",{className:"text-green-700 mb-2",children:"Thank you for sharing your experience."}),P&&s.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[s.jsx(Zt,{className:"w-4 h-4"}),"Your review has been marked as verified because you have a confirmed booking."]}),!P&&s.jsx("p",{className:"text-sm text-green-600",children:"Your review will appear once it's been moderated."}),s.jsx("button",{onClick:()=>S(!1),className:"mt-4 text-sm text-green-700 hover:text-green-800 font-medium",children:"Write another review"})]}):s.jsxs("form",{onSubmit:O,className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-4",children:"Write a Review"}),E&&s.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm",children:E}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:["Your Rating ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(_k,{rating:u,setRating:f})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Review Title (optional)"}),s.jsx("input",{type:"text",value:p,onChange:Y=>m(Y.target.value),placeholder:"Sum up your experience",maxLength:100,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent"})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:["Your Review ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{value:g,onChange:Y=>w(Y.target.value),placeholder:"Share details about your experience...",rows:5,maxLength:1e3,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent resize-none"}),s.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[g.length,"/1000 characters"]})]}),s.jsxs("button",{type:"submit",disabled:_||u===0||!g.trim(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg font-medium hover:bg-brand-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Qg,{className:"w-4 h-4"}),_?"Submitting...":"Submit Review"]}),s.jsxs("p",{className:"text-xs text-stone-500 mt-3 text-center",children:[i&&"Reviews are verified if you have a confirmed booking at this water.",o&&"Reviews are verified if you have a confirmed booking with this instructor."]})]}):s.jsx("div",{className:"bg-stone-50 rounded-xl p-6 text-center",children:s.jsx("p",{className:"text-stone-600",children:"Please sign in to leave a review"})})},qx=({waterId:i,waterName:o,user:n,onClose:r,onSuccess:u})=>{const[f,p]=C.useState(!1),[m,g]=C.useState(!1),[w,_]=C.useState(!0),[N,E]=C.useState(""),[D,T]=C.useState(!1),[S,P]=C.useState([]),[U,O]=C.useState(!i),[Y,ee]=C.useState({waterId:i||"",waterName:o||"",species:"",weight:"",method:"",comment:"",isPublic:!0});C.useEffect(()=>{(async()=>{if(i){O(!1);return}try{const ae=await fetch("/api/waters");if(ae.ok){const fe=await ae.json();P(fe.waters||[])}}catch(ae){console.error("Failed to fetch waters:",ae)}O(!1)})()},[i]),C.useEffect(()=>{(async()=>{if(!n||!Y.waterId){_(!1);return}try{const ae=tn(),fe=await fetch("/api/inquiries/user",{headers:{Authorization:`Bearer ${ae}`}});if(fe.ok){const xe=(await fe.json()).inquiries?.find(M=>M.waterId===Y.waterId&&M.status==="confirmed");g(!!xe)}}catch(ae){console.error("Failed to check booking:",ae)}_(!1)})()},[n,Y.waterId]);const $=q=>{const{name:ae,value:fe,type:de,checked:xe}=q.target;ee(M=>({...M,[ae]:de==="checkbox"?xe:fe}))},A=async q=>{if(q.preventDefault(),E(""),!n){E("Please sign in to report a catch");return}if(!Y.waterId){E("Please select a water");return}if(!Y.species.trim()){E("Please specify the species caught");return}p(!0);try{const ae=tn(),fe=await fetch("/api/catches",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ae}`},body:JSON.stringify({waterId:Y.waterId,species:Y.species,weight:Y.weight?parseFloat(Y.weight):null,method:Y.method||null,comment:Y.comment||null,isPublic:Y.isPublic,verified:m})});if(!fe.ok){const de=await fe.json();throw new Error(de.error||"Failed to submit catch report")}T(!0),setTimeout(()=>{u?.(),r?.()},1500)}catch(ae){E(ae.message||"Failed to submit catch report")}finally{p(!1)}};return w||U?s.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[s.jsx(Ri,{className:"w-8 h-8 text-brand-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-stone-600",children:U?"Loading waters...":"Checking your booking status..."})]}):D?s.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[s.jsx(Zt,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-stone-900 mb-2",children:"Catch Reported!"}),s.jsx("p",{className:"text-stone-600",children:m?"Your verified catch has been submitted successfully.":"Your catch has been submitted successfully."})]}):s.jsxs("div",{className:"bg-white rounded-xl p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:s.jsx(Lt,{className:"w-5 h-5 text-brand-700"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Report a Catch"}),s.jsx("p",{className:"text-sm text-stone-600",children:Y.waterName||o||"Select a water to report your catch"})]})]}),r&&s.jsx("button",{onClick:r,className:"text-stone-400 hover:text-stone-600 transition",children:s.jsx(Ar,{className:"w-5 h-5"})})]}),m?s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4 flex items-start gap-2",children:[s.jsx(Zt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-900",children:"Verified Booking"}),s.jsx("p",{className:"text-xs text-green-700",children:"You have a confirmed booking here - this catch will be verified!"})]})]}):s.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4 flex items-start gap-2",children:[s.jsx(nv,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Unverified Catch"}),s.jsx("p",{className:"text-xs text-amber-700",children:"You don't have a confirmed booking here yet. You can still report your catch!"})]})]}),N&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 text-sm text-red-600",children:N}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[!i&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:["Water ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"waterId",value:Y.waterId,onChange:q=>{const ae=S.find(fe=>fe.id===q.target.value);ee(fe=>({...fe,waterId:q.target.value,waterName:ae?.name||""}))},className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"",children:"Select a water"}),S.map(q=>s.jsxs("option",{value:q.id,children:[q.name," - ",q.region]},q.id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:["Species ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"species",value:Y.species,onChange:$,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"e.g. Brown Trout, Carp, Pike",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Weight (lbs)"}),s.jsx("input",{type:"number",name:"weight",value:Y.weight,onChange:$,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"e.g. 5.5"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Method"}),s.jsxs("select",{name:"method",value:Y.method,onChange:$,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select method"}),s.jsx("option",{value:"Fly fishing",children:"Fly fishing"}),s.jsx("option",{value:"Spinning",children:"Spinning"}),s.jsx("option",{value:"Bait fishing",children:"Bait fishing"}),s.jsx("option",{value:"Lure fishing",children:"Lure fishing"}),s.jsx("option",{value:"Float fishing",children:"Float fishing"}),s.jsx("option",{value:"Ledgering",children:"Ledgering"}),s.jsx("option",{value:"Other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Comment"}),s.jsx("textarea",{name:"comment",value:Y.comment,onChange:$,rows:"3",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent resize-none",placeholder:"Share details about your catch..."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",name:"isPublic",id:"isPublic",checked:Y.isPublic,onChange:$,className:"w-4 h-4 text-brand-700 border-stone-300 rounded focus:ring-2 focus:ring-brand-700"}),s.jsx("label",{htmlFor:"isPublic",className:"text-sm text-stone-700",children:"Make this catch public (visible to other anglers)"})]}),s.jsx("button",{type:"submit",disabled:f,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?s.jsxs(s.Fragment,{children:[s.jsx(Ri,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lt,{className:"w-5 h-5"}),"Report Catch"]})})]})]})},kk=({waterId:i})=>{const[o,n]=C.useState([]),[r,u]=C.useState(!0);return C.useEffect(()=>{i&&(async()=>{u(!0);try{const p=await fetch(`/api/catches/water/${i}`);if(p.ok){const m=await p.json();n(m.catches||[])}}catch(p){console.log("Failed to fetch catches:",p)}u(!1)})()},[i]),r?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ri,{className:"w-6 h-6 text-brand-600 animate-spin"})}):o.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Lt,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No catches reported yet"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"Be the first to report your catch at this water!"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h3",{className:"text-lg font-semibold text-stone-900",children:["Recent Catches (",o.length,")"]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(f=>s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5 hover:shadow-md transition",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Lt,{className:"w-6 h-6 text-brand-700"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-1",children:f.species}),s.jsxs("div",{className:"space-y-1.5 text-sm text-stone-600",children:[f.weight&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gv,{className:"w-4 h-4"}),s.jsxs("span",{children:[f.weight," lbs"]})]}),f.anglerName&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"w-4 h-4"}),s.jsx("span",{children:f.anglerName})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(f.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),f.method&&s.jsxs("div",{className:"mt-2 text-xs text-stone-500",children:["Method: ",f.method]})]}),f.comment&&s.jsxs("p",{className:"mt-3 text-sm text-stone-700 bg-stone-50 rounded-lg p-3",children:['"',f.comment,'"']})]})]})},f.id))}),o.length>0&&s.jsx("div",{className:"mt-6 p-4 bg-brand-50 border border-brand-200 rounded-xl",children:s.jsxs("p",{className:"text-sm text-brand-800",children:[s.jsx("strong",{children:"Caught something here?"})," Report your catch to help other anglers know what's biting!"]})})]})};function Gx(i,o){const n=C.useRef(o);C.useEffect(function(){o!==n.current&&i.attributionControl!=null&&(n.current!=null&&i.attributionControl.removeAttribution(n.current),o!=null&&i.attributionControl.addAttribution(o)),n.current=o},[i,o])}const Nk=1;function jk(i){return Object.freeze({__version:Nk,map:i})}function Sk(i,o){return Object.freeze({...i,...o})}const Kx=C.createContext(null),Qx=Kx.Provider;function Fp(){const i=C.useContext(Kx);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function Ck(i){function o(n,r){const{instance:u,context:f}=i(n).current;return C.useImperativeHandle(r,()=>u),n.children==null?null:te.createElement(Qx,{value:f},n.children)}return C.forwardRef(o)}function Pk(i){function o(n,r){const[u,f]=C.useState(!1),{instance:p}=i(n,f).current;C.useImperativeHandle(r,()=>p),C.useEffect(function(){u&&p.update()},[p,u,n.children]);const m=p._contentNode;return m?Qu.createPortal(n.children,m):null}return C.forwardRef(o)}function Dk(i){function o(n,r){const{instance:u}=i(n).current;return C.useImperativeHandle(r,()=>u),null}return C.forwardRef(o)}function Xx(i,o){const n=C.useRef();C.useEffect(function(){return o!=null&&i.instance.on(o),n.current=o,function(){n.current!=null&&i.instance.off(n.current),n.current=null}},[i,o])}function Bp(i,o){const n=i.pane??o.pane;return n?{...i,pane:n}:i}function Tk(i,o){return function(r,u){const f=Fp(),p=i(Bp(r,f),f);return Gx(f.map,r.attribution),Xx(p.current,r.eventHandlers),o(p.current,f,r,u),p}}var Ol={exports:{}};var Mk=Ol.exports,Fg;function Ek(){return Fg||(Fg=1,(function(i,o){(function(n,r){r(o)})(Mk,(function(n){var r="1.9.4";function u(t){var l,d,x,b;for(d=1,x=arguments.length;d<x;d++){b=arguments[d];for(l in b)t[l]=b[l]}return t}var f=Object.create||(function(){function t(){}return function(l){return t.prototype=l,new t}})();function p(t,l){var d=Array.prototype.slice;if(t.bind)return t.bind.apply(t,d.call(arguments,1));var x=d.call(arguments,2);return function(){return t.apply(l,x.length?x.concat(d.call(arguments)):arguments)}}var m=0;function g(t){return"_leaflet_id"in t||(t._leaflet_id=++m),t._leaflet_id}function w(t,l,d){var x,b,j,F;return F=function(){x=!1,b&&(j.apply(d,b),b=!1)},j=function(){x?b=arguments:(t.apply(d,arguments),setTimeout(F,l),x=!0)},j}function _(t,l,d){var x=l[1],b=l[0],j=x-b;return t===x&&d?t:((t-b)%j+j)%j+b}function N(){return!1}function E(t,l){if(l===!1)return t;var d=Math.pow(10,l===void 0?6:l);return Math.round(t*d)/d}function D(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function T(t){return D(t).split(/\s+/)}function S(t,l){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?f(t.options):{});for(var d in l)t.options[d]=l[d];return t.options}function P(t,l,d){var x=[];for(var b in t)x.push(encodeURIComponent(d?b.toUpperCase():b)+"="+encodeURIComponent(t[b]));return(!l||l.indexOf("?")===-1?"?":"&")+x.join("&")}var U=/\{ *([\w_ -]+) *\}/g;function O(t,l){return t.replace(U,function(d,x){var b=l[x];if(b===void 0)throw new Error("No value provided for variable "+d);return typeof b=="function"&&(b=b(l)),b})}var Y=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function ee(t,l){for(var d=0;d<t.length;d++)if(t[d]===l)return d;return-1}var $="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var q=0;function ae(t){var l=+new Date,d=Math.max(0,16-(l-q));return q=l+d,window.setTimeout(t,d)}var fe=window.requestAnimationFrame||A("RequestAnimationFrame")||ae,de=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function xe(t,l,d){if(d&&fe===ae)t.call(l);else return fe.call(window,p(t,l))}function M(t){t&&de.call(window,t)}var H={__proto__:null,extend:u,create:f,bind:p,get lastId(){return m},stamp:g,throttle:w,wrapNum:_,falseFn:N,formatNum:E,trim:D,splitWords:T,setOptions:S,getParamString:P,template:O,isArray:Y,indexOf:ee,emptyImageUrl:$,requestFn:fe,cancelFn:de,requestAnimFrame:xe,cancelAnimFrame:M};function Z(){}Z.extend=function(t){var l=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,x=f(d);x.constructor=l,l.prototype=x;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(l[b]=this[b]);return t.statics&&u(l,t.statics),t.includes&&(G(t.includes),u.apply(null,[x].concat(t.includes))),u(x,t),delete x.statics,delete x.includes,x.options&&(x.options=d.options?f(d.options):{},u(x.options,t.options)),x._initHooks=[],x.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,F=x._initHooks.length;j<F;j++)x._initHooks[j].call(this)}},l},Z.include=function(t){var l=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=l,this.mergeOptions(t.options)),this},Z.mergeOptions=function(t){return u(this.prototype.options,t),this},Z.addInitHook=function(t){var l=Array.prototype.slice.call(arguments,1),d=typeof t=="function"?t:function(){this[t].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function G(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Y(t)?t:[t];for(var l=0;l<t.length;l++)t[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ie={on:function(t,l,d){if(typeof t=="object")for(var x in t)this._on(x,t[x],l);else{t=T(t);for(var b=0,j=t.length;b<j;b++)this._on(t[b],l,d)}return this},off:function(t,l,d){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var x in t)this._off(x,t[x],l);else{t=T(t);for(var b=arguments.length===1,j=0,F=t.length;j<F;j++)b?this._off(t[j]):this._off(t[j],l,d)}return this},_on:function(t,l,d,x){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(t,l,d)===!1){d===this&&(d=void 0);var b={fn:l,ctx:d};x&&(b.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(b)}},_off:function(t,l,d){var x,b,j;if(this._events&&(x=this._events[t],!!x)){if(arguments.length===1){if(this._firingCount)for(b=0,j=x.length;b<j;b++)x[b].fn=N;delete this._events[t];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var F=this._listens(t,l,d);if(F!==!1){var K=x[F];this._firingCount&&(K.fn=N,this._events[t]=x=x.slice()),x.splice(F,1)}}},fire:function(t,l,d){if(!this.listens(t,d))return this;var x=u({},l,{type:t,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var b=this._events[t];if(b){this._firingCount=this._firingCount+1||1;for(var j=0,F=b.length;j<F;j++){var K=b[j],ne=K.fn;K.once&&this.off(t,ne,K.ctx),ne.call(K.ctx||this,x)}this._firingCount--}}return d&&this._propagateEvent(x),this},listens:function(t,l,d,x){typeof t!="string"&&console.warn('"string" type argument expected');var b=l;typeof l!="function"&&(x=!!l,b=void 0,d=void 0);var j=this._events&&this._events[t];if(j&&j.length&&this._listens(t,b,d)!==!1)return!0;if(x){for(var F in this._eventParents)if(this._eventParents[F].listens(t,l,d,x))return!0}return!1},_listens:function(t,l,d){if(!this._events)return!1;var x=this._events[t]||[];if(!l)return!!x.length;d===this&&(d=void 0);for(var b=0,j=x.length;b<j;b++)if(x[b].fn===l&&x[b].ctx===d)return b;return!1},once:function(t,l,d){if(typeof t=="object")for(var x in t)this._on(x,t[x],l,!0);else{t=T(t);for(var b=0,j=t.length;b<j;b++)this._on(t[b],l,d,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[g(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[g(t)],this},_propagateEvent:function(t){for(var l in this._eventParents)this._eventParents[l].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};ie.addEventListener=ie.on,ie.removeEventListener=ie.clearAllEventListeners=ie.off,ie.addOneTimeEventListener=ie.once,ie.fireEvent=ie.fire,ie.hasEventListeners=ie.listens;var le=Z.extend(ie);function z(t,l,d){this.x=d?Math.round(t):t,this.y=d?Math.round(l):l}var oe=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(t){return this.clone()._add(X(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(X(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new z(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new z(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(t){t=X(t);var l=t.x-this.x,d=t.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(t){return t=X(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=X(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function X(t,l,d){return t instanceof z?t:Y(t)?new z(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new z(t.x,t.y):new z(t,l,d)}function B(t,l){if(t)for(var d=l?[t,l]:t,x=0,b=d.length;x<b;x++)this.extend(d[x])}B.prototype={extend:function(t){var l,d;if(!t)return this;if(t instanceof z||typeof t[0]=="number"||"x"in t)l=d=X(t);else if(t=se(t),l=t.min,d=t.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(t){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var l,d;return typeof t[0]=="number"||t instanceof z?t=X(t):t=se(t),t instanceof B?(l=t.min,d=t.max):l=d=t,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(t){t=se(t);var l=this.min,d=this.max,x=t.min,b=t.max,j=b.x>=l.x&&x.x<=d.x,F=b.y>=l.y&&x.y<=d.y;return j&&F},overlaps:function(t){t=se(t);var l=this.min,d=this.max,x=t.min,b=t.max,j=b.x>l.x&&x.x<d.x,F=b.y>l.y&&x.y<d.y;return j&&F},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var l=this.min,d=this.max,x=Math.abs(l.x-d.x)*t,b=Math.abs(l.y-d.y)*t;return se(X(l.x-x,l.y-b),X(d.x+x,d.y+b))},equals:function(t){return t?(t=se(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function se(t,l){return!t||t instanceof B?t:new B(t,l)}function ve(t,l){if(t)for(var d=l?[t,l]:t,x=0,b=d.length;x<b;x++)this.extend(d[x])}ve.prototype={extend:function(t){var l=this._southWest,d=this._northEast,x,b;if(t instanceof we)x=t,b=t;else if(t instanceof ve){if(x=t._southWest,b=t._northEast,!x||!b)return this}else return t?this.extend(ye(t)||be(t)):this;return!l&&!d?(this._southWest=new we(x.lat,x.lng),this._northEast=new we(b.lat,b.lng)):(l.lat=Math.min(x.lat,l.lat),l.lng=Math.min(x.lng,l.lng),d.lat=Math.max(b.lat,d.lat),d.lng=Math.max(b.lng,d.lng)),this},pad:function(t){var l=this._southWest,d=this._northEast,x=Math.abs(l.lat-d.lat)*t,b=Math.abs(l.lng-d.lng)*t;return new ve(new we(l.lat-x,l.lng-b),new we(d.lat+x,d.lng+b))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof we||"lat"in t?t=ye(t):t=be(t);var l=this._southWest,d=this._northEast,x,b;return t instanceof ve?(x=t.getSouthWest(),b=t.getNorthEast()):x=b=t,x.lat>=l.lat&&b.lat<=d.lat&&x.lng>=l.lng&&b.lng<=d.lng},intersects:function(t){t=be(t);var l=this._southWest,d=this._northEast,x=t.getSouthWest(),b=t.getNorthEast(),j=b.lat>=l.lat&&x.lat<=d.lat,F=b.lng>=l.lng&&x.lng<=d.lng;return j&&F},overlaps:function(t){t=be(t);var l=this._southWest,d=this._northEast,x=t.getSouthWest(),b=t.getNorthEast(),j=b.lat>l.lat&&x.lat<d.lat,F=b.lng>l.lng&&x.lng<d.lng;return j&&F},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,l){return t?(t=be(t),this._southWest.equals(t.getSouthWest(),l)&&this._northEast.equals(t.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(t,l){return t instanceof ve?t:new ve(t,l)}function we(t,l,d){if(isNaN(t)||isNaN(l))throw new Error("Invalid LatLng object: ("+t+", "+l+")");this.lat=+t,this.lng=+l,d!==void 0&&(this.alt=+d)}we.prototype={equals:function(t,l){if(!t)return!1;t=ye(t);var d=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return d<=(l===void 0?1e-9:l)},toString:function(t){return"LatLng("+E(this.lat,t)+", "+E(this.lng,t)+")"},distanceTo:function(t){return Ae.distance(this,ye(t))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(t){var l=180*t/40075017,d=l/Math.cos(Math.PI/180*this.lat);return be([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function ye(t,l,d){return t instanceof we?t:Y(t)&&typeof t[0]!="object"?t.length===3?new we(t[0],t[1],t[2]):t.length===2?new we(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new we(t.lat,"lng"in t?t.lng:t.lon,t.alt):l===void 0?null:new we(t,l,d)}var Ie={latLngToPoint:function(t,l){var d=this.projection.project(t),x=this.scale(l);return this.transformation._transform(d,x)},pointToLatLng:function(t,l){var d=this.scale(l),x=this.transformation.untransform(t,d);return this.projection.unproject(x)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(t),x=this.transformation.transform(l.min,d),b=this.transformation.transform(l.max,d);return new B(x,b)},infinite:!1,wrapLatLng:function(t){var l=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,d=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,x=t.alt;return new we(d,l,x)},wrapLatLngBounds:function(t){var l=t.getCenter(),d=this.wrapLatLng(l),x=l.lat-d.lat,b=l.lng-d.lng;if(x===0&&b===0)return t;var j=t.getSouthWest(),F=t.getNorthEast(),K=new we(j.lat-x,j.lng-b),ne=new we(F.lat-x,F.lng-b);return new ve(K,ne)}},Ae=u({},Ie,{wrapLng:[-180,180],R:6371e3,distance:function(t,l){var d=Math.PI/180,x=t.lat*d,b=l.lat*d,j=Math.sin((l.lat-t.lat)*d/2),F=Math.sin((l.lng-t.lng)*d/2),K=j*j+Math.cos(x)*Math.cos(b)*F*F,ne=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*ne}}),Ge=6378137,yt={R:Ge,MAX_LATITUDE:85.0511287798,project:function(t){var l=Math.PI/180,d=this.MAX_LATITUDE,x=Math.max(Math.min(d,t.lat),-d),b=Math.sin(x*l);return new z(this.R*t.lng*l,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(t){var l=180/Math.PI;return new we((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*l,t.x*l/this.R)},bounds:(function(){var t=Ge*Math.PI;return new B([-t,-t],[t,t])})()};function mn(t,l,d,x){if(Y(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=l,this._c=d,this._d=x}mn.prototype={transform:function(t,l){return this._transform(t.clone(),l)},_transform:function(t,l){return l=l||1,t.x=l*(this._a*t.x+this._b),t.y=l*(this._c*t.y+this._d),t},untransform:function(t,l){return l=l||1,new z((t.x/l-this._b)/this._a,(t.y/l-this._d)/this._c)}};function rn(t,l,d,x){return new mn(t,l,d,x)}var ce=u({},Ae,{code:"EPSG:3857",projection:yt,transformation:(function(){var t=.5/(Math.PI*yt.R);return rn(t,.5,-t,.5)})()}),ze=u({},ce,{code:"EPSG:900913"});function Ve(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function st(t,l){var d="",x,b,j,F,K,ne;for(x=0,j=t.length;x<j;x++){for(K=t[x],b=0,F=K.length;b<F;b++)ne=K[b],d+=(b?"L":"M")+ne.x+" "+ne.y;d+=l?Ce.svg?"z":"x":""}return d||"M0 0"}var St=document.documentElement.style,It="ActiveXObject"in window,gn=It&&!document.addEventListener,Ke="msLaunchUri"in navigator&&!("documentMode"in document),Qt=bt("webkit"),Dn=bt("android"),Wi=bt("android 2")||bt("android 3"),fs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Oa=Dn&&bt("Google")&&fs<537&&!("AudioNode"in window),ms=!!window.opera,yr=!Ke&&bt("chrome"),Fr=bt("gecko")&&!Qt&&!ms&&!It,Ra=!yr&&bt("safari"),br=bt("phantom"),Xt="OTransition"in St,Bo=navigator.platform.indexOf("Win")===0,sn=It&&"transition"in St,wr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wi,Br="MozPerspective"in St,gs=!window.L_DISABLE_3D&&(sn||wr||Br)&&!Xt&&!br,nr=typeof orientation<"u"||bt("mobile"),Yi=nr&&Qt,zr=nr&&wr,xs=!window.PointerEvent&&window.MSPointerEvent,_r=!!(window.PointerEvent||xs),zn="ontouchstart"in window||!!window.TouchEvent,Hi=!window.L_NO_TOUCH&&(zn||_r),$i=nr&&ms,Ia=nr&&Fr,Aa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ui=(function(){var t=!1;try{var l=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",N,l),window.removeEventListener("testPassiveEventSupport",N,l)}catch{}return t})(),vs=(function(){return!!document.createElement("canvas").getContext})(),ys=!!(document.createElementNS&&Ve("svg").createSVGRect),bs=!!ys&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Zi=!ys&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var l=t.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Wr=navigator.platform.indexOf("Mac")===0,Fa=navigator.platform.indexOf("Linux")===0;function bt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ce={ie:It,ielt9:gn,edge:Ke,webkit:Qt,android:Dn,android23:Wi,androidStock:Oa,opera:ms,chrome:yr,gecko:Fr,safari:Ra,phantom:br,opera12:Xt,win:Bo,ie3d:sn,webkit3d:wr,gecko3d:Br,any3d:gs,mobile:nr,mobileWebkit:Yi,mobileWebkit3d:zr,msPointer:xs,pointer:_r,touch:Hi,touchNative:zn,mobileOpera:$i,mobileGecko:Ia,retina:Aa,passiveEvents:Ui,canvas:vs,svg:ys,vml:Zi,inlineSvg:bs,mac:Wr,linux:Fa},Yr=Ce.msPointer?"MSPointerDown":"pointerdown",ws=Ce.msPointer?"MSPointerMove":"pointermove",Vi=Ce.msPointer?"MSPointerUp":"pointerup",Ba=Ce.msPointer?"MSPointerCancel":"pointercancel",Je={touchstart:Yr,touchmove:ws,touchend:Vi,touchcancel:Ba},Me={touchstart:it,touchmove:rr,touchend:rr,touchcancel:rr},Ue={},pt=!1;function wt(t,l,d){return l==="touchstart"&&Us(),Me[l]?(d=Me[l].bind(this,d),t.addEventListener(Je[l],d,!1),d):(console.warn("wrong event specified:",l),N)}function xn(t,l,d){if(!Je[l]){console.warn("wrong event specified:",l);return}t.removeEventListener(Je[l],d,!1)}function vn(t){Ue[t.pointerId]=t}function Tn(t){Ue[t.pointerId]&&(Ue[t.pointerId]=t)}function Wn(t){delete Ue[t.pointerId]}function Us(){pt||(document.addEventListener(Yr,vn,!0),document.addEventListener(ws,Tn,!0),document.addEventListener(Vi,Wn,!0),document.addEventListener(Ba,Wn,!0),pt=!0)}function rr(t,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in Ue)l.touches.push(Ue[d]);l.changedTouches=[l],t(l)}}function it(t,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&_t(l),rr(t,l)}function zo(t){var l={},d,x;for(x in t)d=t[x],l[x]=d&&d.bind?d.bind(t):d;return t=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Wo=200;function Xl(t,l){t.addEventListener("dblclick",l);var d=0,x;function b(j){if(j.detail!==1){x=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var F=Ns(j);if(!(F.some(function(ne){return ne instanceof HTMLLabelElement&&ne.attributes.for})&&!F.some(function(ne){return ne instanceof HTMLInputElement||ne instanceof HTMLSelectElement}))){var K=Date.now();K-d<=Wo?(x++,x===2&&l(zo(j))):x=1,d=K}}}return t.addEventListener("click",b),{dblclick:l,simDblclick:b}}function za(t,l){t.removeEventListener("dblclick",l.dblclick),t.removeEventListener("click",l.simDblclick)}var Yo=Gs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zs=Gs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),qi=Zs==="webkitTransition"||Zs==="OTransition"?Zs+"End":"transitionend";function Yn(t){return typeof t=="string"?document.getElementById(t):t}function Gi(t,l){var d=t.style[l]||t.currentStyle&&t.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var x=document.defaultView.getComputedStyle(t,null);d=x?x[l]:null}return d==="auto"?null:d}function We(t,l,d){var x=document.createElement(t);return x.className=l||"",d&&d.appendChild(x),x}function ft(t){var l=t.parentNode;l&&l.removeChild(t)}function Wa(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Vs(t){var l=t.parentNode;l&&l.lastChild!==t&&l.appendChild(t)}function kr(t){var l=t.parentNode;l&&l.firstChild!==t&&l.insertBefore(t,l.firstChild)}function qs(t,l){if(t.classList!==void 0)return t.classList.contains(l);var d=Ya(t);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Be(t,l){if(t.classList!==void 0)for(var d=T(l),x=0,b=d.length;x<b;x++)t.classList.add(d[x]);else if(!qs(t,l)){var j=Ya(t);Ho(t,(j?j+" ":"")+l)}}function dt(t,l){t.classList!==void 0?t.classList.remove(l):Ho(t,D((" "+Ya(t)+" ").replace(" "+l+" "," ")))}function Ho(t,l){t.className.baseVal===void 0?t.className=l:t.className.baseVal=l}function Ya(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function an(t,l){"opacity"in t.style?t.style.opacity=l:"filter"in t.style&&Jl(t,l)}function Jl(t,l){var d=!1,x="DXImageTransform.Microsoft.Alpha";try{d=t.filters.item(x)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):t.style.filter+=" progid:"+x+"(opacity="+l+")"}function Gs(t){for(var l=document.documentElement.style,d=0;d<t.length;d++)if(t[d]in l)return t[d];return!1}function Hn(t,l,d){var x=l||new z(0,0);t.style[Yo]=(Ce.ie3d?"translate("+x.x+"px,"+x.y+"px)":"translate3d("+x.x+"px,"+x.y+"px,0)")+(d?" scale("+d+")":"")}function Ct(t,l){t._leaflet_pos=l,Ce.any3d?Hn(t,l):(t.style.left=l.x+"px",t.style.top=l.y+"px")}function Nr(t){return t._leaflet_pos||new z(0,0)}var qe,Ks,Ha;if("onselectstart"in document)qe=function(){Re(window,"selectstart",_t)},Ks=function(){ct(window,"selectstart",_t)};else{var _s=Gs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qe=function(){if(_s){var t=document.documentElement.style;Ha=t[_s],t[_s]="none"}},Ks=function(){_s&&(document.documentElement.style[_s]=Ha,Ha=void 0)}}function $a(){Re(window,"dragstart",_t)}function Ua(){ct(window,"dragstart",_t)}var Ki,Qi;function Qs(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&($n(),Ki=t,Qi=t.style.outlineStyle,t.style.outlineStyle="none",Re(window,"keydown",$n))}function $n(){Ki&&(Ki.style.outlineStyle=Qi,Ki=void 0,Qi=void 0,ct(window,"keydown",$n))}function jr(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function sr(t){var l=t.getBoundingClientRect();return{x:l.width/t.offsetWidth||1,y:l.height/t.offsetHeight||1,boundingClientRect:l}}var Xi={__proto__:null,TRANSFORM:Yo,TRANSITION:Zs,TRANSITION_END:qi,get:Yn,getStyle:Gi,create:We,remove:ft,empty:Wa,toFront:Vs,toBack:kr,hasClass:qs,addClass:Be,removeClass:dt,setClass:Ho,getClass:Ya,setOpacity:an,testProp:Gs,setTransform:Hn,setPosition:Ct,getPosition:Nr,get disableTextSelection(){return qe},get enableTextSelection(){return Ks},disableImageDrag:$a,enableImageDrag:Ua,preventOutline:Qs,restoreOutline:$n,getSizedParentNode:jr,getScale:sr};function Re(t,l,d,x){if(l&&typeof l=="object")for(var b in l)Uo(t,b,l[b],d);else{l=T(l);for(var j=0,F=l.length;j<F;j++)Uo(t,l[j],d,x)}return this}var Bt="_leaflet_events";function ct(t,l,d,x){if(arguments.length===1)$o(t),delete t[Bt];else if(l&&typeof l=="object")for(var b in l)Za(t,b,l[b],d);else if(l=T(l),arguments.length===2)$o(t,function(K){return ee(l,K)!==-1});else for(var j=0,F=l.length;j<F;j++)Za(t,l[j],d,x);return this}function $o(t,l){for(var d in t[Bt]){var x=d.split(/\d/)[0];(!l||l(x))&&Za(t,x,null,null,d)}}var ks={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Uo(t,l,d,x){var b=l+g(d)+(x?"_"+g(x):"");if(t[Bt]&&t[Bt][b])return this;var j=function(K){return d.call(x||t,K||window.event)},F=j;!Ce.touchNative&&Ce.pointer&&l.indexOf("touch")===0?j=wt(t,l,j):Ce.touch&&l==="dblclick"?j=Xl(t,j):"addEventListener"in t?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?t.addEventListener(ks[l]||l,j,Ce.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(j=function(K){K=K||window.event,ta(t,K)&&F(K)},t.addEventListener(ks[l],j,!1)):t.addEventListener(l,F,!1):t.attachEvent("on"+l,j),t[Bt]=t[Bt]||{},t[Bt][b]=j}function Za(t,l,d,x,b){b=b||l+g(d)+(x?"_"+g(x):"");var j=t[Bt]&&t[Bt][b];if(!j)return this;!Ce.touchNative&&Ce.pointer&&l.indexOf("touch")===0?xn(t,l,j):Ce.touch&&l==="dblclick"?za(t,j):"removeEventListener"in t?t.removeEventListener(ks[l]||l,j,!1):t.detachEvent("on"+l,j),t[Bt][b]=null}function ir(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Va(t){return Uo(t,"wheel",ir),this}function Ji(t){return Re(t,"mousedown touchstart dblclick contextmenu",ir),t._leaflet_disable_click=!0,this}function _t(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Un(t){return _t(t),ir(t),this}function Ns(t){if(t.composedPath)return t.composedPath();for(var l=[],d=t.target;d;)l.push(d),d=d.parentNode;return l}function ea(t,l){if(!l)return new z(t.clientX,t.clientY);var d=sr(l),x=d.boundingClientRect;return new z((t.clientX-x.left)/d.x-l.clientLeft,(t.clientY-x.top)/d.y-l.clientTop)}var od=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ec(t){return Ce.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/od:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ta(t,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==t;)d=d.parentNode}catch{return!1}return d!==t}var qa={__proto__:null,on:Re,off:ct,stopPropagation:ir,disableScrollPropagation:Va,disableClickPropagation:Ji,preventDefault:_t,stop:Un,getPropagationPath:Ns,getMousePosition:ea,getWheelDelta:ec,isExternalTarget:ta,addListener:Re,removeListener:ct},Ga=le.extend({run:function(t,l,d,x){this.stop(),this._el=t,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(x||.5,.2),this._startPos=Nr(t),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=xe(this._animate,this),this._step()},_step:function(t){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),t):(this._runFrame(1),this._complete())},_runFrame:function(t,l){var d=this._startPos.add(this._offset.multiplyBy(t));l&&d._round(),Ct(this._el,d),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ze=le.extend({options:{crs:ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,l){l=S(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=p(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ye(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zs&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),t=this._limitCenter(ye(t),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=u({animate:d.animate},d.zoom),d.pan=u({animate:d.animate,duration:d.duration},d.pan));var x=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,l,d.zoom):this._tryAnimatedPan(t,d.pan);if(x)return clearTimeout(this._sizeTimer),this}return this._resetView(t,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(t,l){return this._loaded?this.setView(this.getCenter(),t,{zoom:l}):(this._zoom=t,this)},zoomIn:function(t,l){return t=t||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,l)},zoomOut:function(t,l){return t=t||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,l)},setZoomAround:function(t,l,d){var x=this.getZoomScale(l),b=this.getSize().divideBy(2),j=t instanceof z?t:this.latLngToContainerPoint(t),F=j.subtract(b).multiplyBy(1-1/x),K=this.containerPointToLatLng(b.add(F));return this.setView(K,l,{zoom:d})},_getBoundsCenterZoom:function(t,l){l=l||{},t=t.getBounds?t.getBounds():be(t);var d=X(l.paddingTopLeft||l.padding||[0,0]),x=X(l.paddingBottomRight||l.padding||[0,0]),b=this.getBoundsZoom(t,!1,d.add(x));if(b=typeof l.maxZoom=="number"?Math.min(l.maxZoom,b):b,b===1/0)return{center:t.getCenter(),zoom:b};var j=x.subtract(d).divideBy(2),F=this.project(t.getSouthWest(),b),K=this.project(t.getNorthEast(),b),ne=this.unproject(F.add(K).divideBy(2).add(j),b);return{center:ne,zoom:b}},fitBounds:function(t,l){if(t=be(t),!t.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(t,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,l){return this.setView(t,this._zoom,{pan:l})},panBy:function(t,l){if(t=X(t).round(),l=l||{},!t.x&&!t.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ga,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Be(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,l,d){if(d=d||{},d.animate===!1||!Ce.any3d)return this.setView(t,l,d);this._stop();var x=this.project(this.getCenter()),b=this.project(t),j=this.getSize(),F=this._zoom;t=ye(t),l=l===void 0?F:l;var K=Math.max(j.x,j.y),ne=K*this.getZoomScale(F,l),ue=b.distanceTo(x)||1,_e=1.42,Ee=_e*_e;function Ye(nt){var hi=nt?-1:1,wd=nt?ne:K,_d=ne*ne-K*K+hi*Ee*Ee*ue*ue,Ms=2*wd*Ee*ue,Es=_d/Ms,Ls=Math.sqrt(Es*Es+1)-Es,co=Ls<1e-9?-18:Math.log(Ls);return co}function zt(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function At(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function wn(nt){return zt(nt)/At(nt)}var ln=Ye(0);function ui(nt){return K*(At(ln)/At(ln+_e*nt))}function hl(nt){return K*(At(ln)*wn(ln+_e*nt)-zt(ln))/Ee}function Kr(nt){return 1-Math.pow(1-nt,1.5)}var wc=Date.now(),Ts=(Ye(1)-ln)/_e,cr=d.duration?1e3*d.duration:1e3*Ts*.8;function di(){var nt=(Date.now()-wc)/cr,hi=Kr(nt)*Ts;nt<=1?(this._flyToFrame=xe(di,this),this._move(this.unproject(x.add(b.subtract(x).multiplyBy(hl(hi)/ue)),F),this.getScaleZoom(K/ui(hi),F),{flyTo:!0})):this._move(t,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),di.call(this),this},flyToBounds:function(t,l){var d=this._getBoundsCenterZoom(t,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(t){return t=be(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var l=this.options.minZoom;return this.options.minZoom=t,this._loaded&&l!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var l=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&l!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,l){this._enforcingBounds=!0;var d=this.getCenter(),x=this._limitCenter(d,this._zoom,be(t));return d.equals(x)||this.panTo(x,l),this._enforcingBounds=!1,this},panInside:function(t,l){l=l||{};var d=X(l.paddingTopLeft||l.padding||[0,0]),x=X(l.paddingBottomRight||l.padding||[0,0]),b=this.project(this.getCenter()),j=this.project(t),F=this.getPixelBounds(),K=se([F.min.add(d),F.max.subtract(x)]),ne=K.getSize();if(!K.contains(j)){this._enforcingBounds=!0;var ue=j.subtract(K.getCenter()),_e=K.extend(j).getSize().subtract(ne);b.x+=ue.x<0?-_e.x:_e.x,b.y+=ue.y<0?-_e.y:_e.y,this.panTo(this.unproject(b),l),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),x=l.divideBy(2).round(),b=d.divideBy(2).round(),j=x.subtract(b);return!j.x&&!j.y?this:(t.animate&&t.pan?this.panBy(j):(t.pan&&this._rawPanBy(j),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(p(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=p(this._handleGeolocationResponse,this),d=p(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,t):navigator.geolocation.getCurrentPosition(l,d,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var l=t.code,d=t.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var l=t.coords.latitude,d=t.coords.longitude,x=new we(l,d),b=x.toBounds(t.coords.accuracy*2),j=this._locateOptions;if(j.setView){var F=this.getBoundsZoom(b);this.setView(x,j.maxZoom?Math.min(F,j.maxZoom):F)}var K={latlng:x,bounds:b,timestamp:t.timestamp};for(var ne in t.coords)typeof t.coords[ne]=="number"&&(K[ne]=t.coords[ne]);this.fire("locationfound",K)}},addHandler:function(t,l){if(!l)return this;var d=this[t]=new l(this);return this._handlers.push(d),this.options[t]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ft(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,l){var d="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),x=We("div",d,l||this._mapPane);return t&&(this._panes[t]=x),x},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),l=this.unproject(t.getBottomLeft()),d=this.unproject(t.getTopRight());return new ve(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,l,d){t=be(t),d=X(d||[0,0]);var x=this.getZoom()||0,b=this.getMinZoom(),j=this.getMaxZoom(),F=t.getNorthWest(),K=t.getSouthEast(),ne=this.getSize().subtract(d),ue=se(this.project(K,x),this.project(F,x)).getSize(),_e=Ce.any3d?this.options.zoomSnap:1,Ee=ne.x/ue.x,Ye=ne.y/ue.y,zt=l?Math.max(Ee,Ye):Math.min(Ee,Ye);return x=this.getScaleZoom(zt,x),_e&&(x=Math.round(x/(_e/100))*(_e/100),x=l?Math.ceil(x/_e)*_e:Math.floor(x/_e)*_e),Math.max(b,Math.min(j,x))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,l){var d=this._getTopLeftPoint(t,l);return new B(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(t)/d.scale(l)},getScaleZoom:function(t,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var x=d.zoom(t*d.scale(l));return isNaN(x)?1/0:x},project:function(t,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ye(t),l)},unproject:function(t,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(X(t),l)},layerPointToLatLng:function(t){var l=X(t).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(t){var l=this.project(ye(t))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ye(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(be(t))},distance:function(t,l){return this.options.crs.distance(ye(t),ye(l))},containerPointToLayerPoint:function(t){return X(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return X(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var l=this.containerPointToLayerPoint(X(t));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ye(t)))},mouseEventToContainerPoint:function(t){return ea(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var l=this._container=Yn(t);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Be(t,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Gi(t,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Be(t.markerPane,"leaflet-zoom-hide"),Be(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,l,d){Ct(this._mapPane,new z(0,0));var x=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var b=this._zoom!==l;this._moveStart(b,d)._move(t,l)._moveEnd(b),this.fire("viewreset"),x&&this.fire("load")},_moveStart:function(t,l){return t&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(t,l,d,x){l===void 0&&(l=this._zoom);var b=this._zoom!==l;return this._zoom=l,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),x?d&&d.pinch&&this.fire("zoom",d):((b||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Ct(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[g(this._container)]=this;var l=t?ct:Re;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,l){for(var d=[],x,b=l==="mouseout"||l==="mouseover",j=t.target||t.srcElement,F=!1;j;){if(x=this._targets[g(j)],x&&(l==="click"||l==="preclick")&&this._draggableMoved(x)){F=!0;break}if(x&&x.listens(l,!0)&&(b&&!ta(j,t)||(d.push(x),b))||j===this._container)break;j=j.parentNode}return!d.length&&!F&&!b&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var l=t.target||t.srcElement;if(!(!this._loaded||l._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(l))){var d=t.type;d==="mousedown"&&Qs(l),this._fireDOMEvent(t,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,l,d){if(t.type==="click"){var x=u({},t);x.type="preclick",this._fireDOMEvent(x,x.type,d)}var b=this._findEventTargets(t,l);if(d){for(var j=[],F=0;F<d.length;F++)d[F].listens(l,!0)&&j.push(d[F]);b=j.concat(b)}if(b.length){l==="contextmenu"&&_t(t);var K=b[0],ne={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ue=K.getLatLng&&(!K._radius||K._radius<=10);ne.containerPoint=ue?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(t),ne.layerPoint=this.containerPointToLayerPoint(ne.containerPoint),ne.latlng=ue?K.getLatLng():this.layerPointToLatLng(ne.layerPoint)}for(F=0;F<b.length;F++)if(b[F].fire(l,ne,!0),ne.originalEvent._stopped||b[F].options.bubblingMouseEvents===!1&&ee(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,l=this._handlers.length;t<l;t++)this._handlers[t].disable()},whenReady:function(t,l){return this._loaded?t.call(l||this,{target:this}):this.on("load",t,l),this},_getMapPanePos:function(){return Nr(this._mapPane)||new z(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,l){var d=t&&l!==void 0?this._getNewPixelOrigin(t,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,l){var d=this.getSize()._divideBy(2);return this.project(t,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,l,d){var x=this._getNewPixelOrigin(d,l);return this.project(t,l)._subtract(x)},_latLngBoundsToNewLayerBounds:function(t,l,d){var x=this._getNewPixelOrigin(d,l);return se([this.project(t.getSouthWest(),l)._subtract(x),this.project(t.getNorthWest(),l)._subtract(x),this.project(t.getSouthEast(),l)._subtract(x),this.project(t.getNorthEast(),l)._subtract(x)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,l,d){if(!d)return t;var x=this.project(t,l),b=this.getSize().divideBy(2),j=new B(x.subtract(b),x.add(b)),F=this._getBoundsOffset(j,d,l);return Math.abs(F.x)<=1&&Math.abs(F.y)<=1?t:this.unproject(x.add(F),l)},_limitOffset:function(t,l){if(!l)return t;var d=this.getPixelBounds(),x=new B(d.min.add(t),d.max.add(t));return t.add(this._getBoundsOffset(x,l))},_getBoundsOffset:function(t,l,d){var x=se(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),b=x.min.subtract(t.min),j=x.max.subtract(t.max),F=this._rebound(b.x,-j.x),K=this._rebound(b.y,-j.y);return new z(F,K)},_rebound:function(t,l){return t+l>0?Math.round(t-l)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(l))},_limitZoom:function(t){var l=this.getMinZoom(),d=this.getMaxZoom(),x=Ce.any3d?this.options.zoomSnap:1;return x&&(t=Math.round(t/x)*x),Math.max(l,Math.min(d,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,l){var d=this._getCenterOffset(t)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var t=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(l){var d=Yo,x=this._proxy.style[d];Hn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),x===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),l=this.getZoom();Hn(this._proxy,this.project(t,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var x=this.getZoomScale(l),b=this._getCenterOffset(t)._divideBy(1-1/x);return d.animate!==!0&&!this.getSize().contains(b)?!1:(xe(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(t,l,!0)},this),!0)},_animateZoom:function(t,l,d,x){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=l,Be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:l,noUpdate:x}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(p(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Hr(t,l){return new Ze(t,l)}var yn=Z.extend({options:{position:"topright"},initialize:function(t){S(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var l=this._map;return l&&l.removeControl(this),this.options.position=t,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var l=this._container=this.onAdd(t),d=this.getPosition(),x=t._controlCorners[d];return Be(l,"leaflet-control"),d.indexOf("bottom")!==-1?x.insertBefore(l,x.firstChild):x.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),$r=function(t){return new yn(t)};Ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},l="leaflet-",d=this._controlContainer=We("div",l+"control-container",this._container);function x(b,j){var F=l+b+" "+l+j;t[b+j]=We("div",F,d)}x("top","left"),x("top","right"),x("bottom","left"),x("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ft(this._controlCorners[t]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Zo=yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,l,d,x){return d<x?-1:x<d?1:0}},initialize:function(t,l,d){S(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var x in t)this._addLayer(t[x],x);for(x in l)this._addLayer(l[x],x,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return yn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,l){return this._addLayer(t,l),this._map?this._update():this},addOverlay:function(t,l){return this._addLayer(t,l,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(t));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",l=this._container=We("div",t),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ji(l),Va(l);var x=this._section=We("section",t+"-list");d&&(this._map.on("click",this.collapse,this),Re(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=We("a",t+"-toggle",l);b.href="#",b.title="Layers",b.setAttribute("role","button"),Re(b,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){_t(j),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=We("div",t+"-base",x),this._separator=We("div",t+"-separator",x),this._overlaysList=We("div",t+"-overlays",x),l.appendChild(x)},_getLayer:function(t){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===t)return this._layers[l]},_addLayer:function(t,l,d){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(p(function(x,b){return this.options.sortFunction(x.layer,b.layer,x.name,b.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Wa(this._baseLayersList),Wa(this._overlaysList),this._layerControlInputs=[];var t,l,d,x,b=0;for(d=0;d<this._layers.length;d++)x=this._layers[d],this._addItem(x),l=l||x.overlay,t=t||!x.overlay,b+=x.overlay?0:1;return this.options.hideSingleBase&&(t=t&&b>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=l&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var l=this._getLayer(g(t.target)),d=l.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(t,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(l?' checked="checked"':"")+"/>",x=document.createElement("div");return x.innerHTML=d,x.firstChild},_addItem:function(t){var l=document.createElement("label"),d=this._map.hasLayer(t.layer),x;t.overlay?(x=document.createElement("input"),x.type="checkbox",x.className="leaflet-control-layers-selector",x.defaultChecked=d):x=this._createRadioElement("leaflet-base-layers_"+g(this),d),this._layerControlInputs.push(x),x.layerId=g(t.layer),Re(x,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+t.name;var j=document.createElement("span");l.appendChild(j),j.appendChild(x),j.appendChild(b);var F=t.overlay?this._overlaysList:this._baseLayersList;return F.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,l,d,x=[],b=[];this._handlingClick=!0;for(var j=t.length-1;j>=0;j--)l=t[j],d=this._getLayer(l.layerId).layer,l.checked?x.push(d):l.checked||b.push(d);for(j=0;j<b.length;j++)this._map.hasLayer(b[j])&&this._map.removeLayer(b[j]);for(j=0;j<x.length;j++)this._map.hasLayer(x[j])||this._map.addLayer(x[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,l,d,x=this._map.getZoom(),b=t.length-1;b>=0;b--)l=t[b],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&x<d.options.minZoom||d.options.maxZoom!==void 0&&x>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Re(t,"click",_t),this.expand();var l=this;setTimeout(function(){ct(t,"click",_t),l._preventClick=!1})}}),Ka=function(t,l,d){return new Zo(t,l,d)},Xs=yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var l="leaflet-control-zoom",d=We("div",l+" leaflet-bar"),x=this.options;return this._zoomInButton=this._createButton(x.zoomInText,x.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(x.zoomOutText,x.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,l,d,x,b){var j=We("a",d,x);return j.innerHTML=t,j.href="#",j.title=l,j.setAttribute("role","button"),j.setAttribute("aria-label",l),Ji(j),Re(j,"click",Un),Re(j,"click",b,this),Re(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var t=this._map,l="leaflet-disabled";dt(this._zoomInButton,l),dt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Be(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Be(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Xs,this.addControl(this.zoomControl))});var tc=function(t){return new Xs(t)},on=yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var l="leaflet-control-scale",d=We("div",l),x=this.options;return this._addScales(x,l+"-line",d),t.on(x.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),d},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,l,d){t.metric&&(this._mScale=We("div",l,d)),t.imperial&&(this._iScale=We("div",l,d))},_update:function(){var t=this._map,l=t.getSize().y/2,d=t.distance(t.containerPointToLatLng([0,l]),t.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var l=this._getRoundNum(t),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/t)},_updateImperial:function(t){var l=t*3.2808399,d,x,b;l>5280?(d=l/5280,x=this._getRoundNum(d),this._updateScale(this._iScale,x+" mi",x/d)):(b=this._getRoundNum(l),this._updateScale(this._iScale,b+" ft",b/l))},_updateScale:function(t,l,d){t.style.width=Math.round(this.options.maxWidth*d)+"px",t.innerHTML=l},_getRoundNum:function(t){var l=Math.pow(10,(Math.floor(t)+"").length-1),d=t/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),Js=function(t){return new on(t)},Vo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',js=yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Vo+" ":"")+"Leaflet</a>"},initialize:function(t){S(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=We("div","leaflet-control-attribution"),Ji(this._container);for(var l in t._layers)t._layers[l].getAttribution&&this.addAttribution(t._layers[l].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var l in this._attributions)this._attributions[l]&&t.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),t.length&&d.push(t.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook(function(){this.options.attributionControl&&new js().addTo(this)});var ld=function(t){return new js(t)};yn.Layers=Zo,yn.Zoom=Xs,yn.Scale=on,yn.Attribution=js,$r.layers=Ka,$r.zoom=tc,$r.scale=Js,$r.attribution=ld;var Mn=Z.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mn.addTo=function(t,l){return t.addHandler(l,this),this};var qo={Events:ie},ei=Ce.touch?"touchstart mousedown":"mousedown",Zn=le.extend({options:{clickTolerance:3},initialize:function(t,l,d,x){S(this,x),this._element=t,this._dragStartTarget=l||t,this._preventOutline=d},enable:function(){this._enabled||(Re(this._dragStartTarget,ei,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Zn._dragging===this&&this.finishDrag(!0),ct(this._dragStartTarget,ei,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!qs(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Zn._dragging===this&&this.finishDrag();return}if(!(Zn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Zn._dragging=this,this._preventOutline&&Qs(this._element),$a(),qe(),!this._moving)){this.fire("down");var l=t.touches?t.touches[0]:t,d=jr(this._element);this._startPoint=new z(l.clientX,l.clientY),this._startPos=Nr(this._element),this._parentScale=sr(d);var x=t.type==="mousedown";Re(document,x?"mousemove":"touchmove",this._onMove,this),Re(document,x?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var l=t.touches&&t.touches.length===1?t.touches[0]:t,d=new z(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,_t(t),this._moved||(this.fire("dragstart"),this._moved=!0,Be(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Ct(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ct(document,"mousemove touchmove",this._onMove,this),ct(document,"mouseup touchend touchcancel",this._onUp,this),Ua(),Ks();var l=this._moved&&this._moving;this._moving=!1,Zn._dragging=!1,l&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Go(t,l,d){var x,b=[1,4,2,8],j,F,K,ne,ue,_e,Ee,Ye;for(j=0,_e=t.length;j<_e;j++)t[j]._code=Ss(t[j],l);for(K=0;K<4;K++){for(Ee=b[K],x=[],j=0,_e=t.length,F=_e-1;j<_e;F=j++)ne=t[j],ue=t[F],ne._code&Ee?ue._code&Ee||(Ye=Xa(ue,ne,Ee,l,d),Ye._code=Ss(Ye,l),x.push(Ye)):(ue._code&Ee&&(Ye=Xa(ue,ne,Ee,l,d),Ye._code=Ss(Ye,l),x.push(Ye)),x.push(ne));t=x}return t}function nc(t,l){var d,x,b,j,F,K,ne,ue,_e;if(!t||t.length===0)throw new Error("latlngs not passed");En(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ee=ye([0,0]),Ye=be(t),zt=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());zt<1700&&(Ee=Ko(t));var At=t.length,wn=[];for(d=0;d<At;d++){var ln=ye(t[d]);wn.push(l.project(ye([ln.lat-Ee.lat,ln.lng-Ee.lng])))}for(K=ne=ue=0,d=0,x=At-1;d<At;x=d++)b=wn[d],j=wn[x],F=b.y*j.x-j.y*b.x,ne+=(b.x+j.x)*F,ue+=(b.y+j.y)*F,K+=F*3;K===0?_e=wn[0]:_e=[ne/K,ue/K];var ui=l.unproject(X(_e));return ye([ui.lat+Ee.lat,ui.lng+Ee.lng])}function Ko(t){for(var l=0,d=0,x=0,b=0;b<t.length;b++){var j=ye(t[b]);l+=j.lat,d+=j.lng,x++}return ye([l/x,d/x])}var cd={__proto__:null,clipPolygon:Go,polygonCenter:nc,centroid:Ko};function Qa(t,l){if(!l||!t.length)return t.slice();var d=l*l;return t=hd(t,d),t=dd(t,d),t}function rc(t,l,d){return Math.sqrt(Cs(t,l,d,!0))}function ud(t,l,d){return Cs(t,l,d)}function dd(t,l){var d=t.length,x=typeof Uint8Array<"u"?Uint8Array:Array,b=new x(d);b[0]=b[d-1]=1,Qo(t,b,l,0,d-1);var j,F=[];for(j=0;j<d;j++)b[j]&&F.push(t[j]);return F}function Qo(t,l,d,x,b){var j=0,F,K,ne;for(K=x+1;K<=b-1;K++)ne=Cs(t[K],t[x],t[b],!0),ne>j&&(F=K,j=ne);j>d&&(l[F]=1,Qo(t,l,d,x,F),Qo(t,l,d,F,b))}function hd(t,l){for(var d=[t[0]],x=1,b=0,j=t.length;x<j;x++)pd(t[x],t[b])>l&&(d.push(t[x]),b=x);return b<j-1&&d.push(t[j-1]),d}var Xo;function sc(t,l,d,x,b){var j=x?Xo:Ss(t,d),F=Ss(l,d),K,ne,ue;for(Xo=F;;){if(!(j|F))return[t,l];if(j&F)return!1;K=j||F,ne=Xa(t,l,K,d,b),ue=Ss(ne,d),K===j?(t=ne,j=ue):(l=ne,F=ue)}}function Xa(t,l,d,x,b){var j=l.x-t.x,F=l.y-t.y,K=x.min,ne=x.max,ue,_e;return d&8?(ue=t.x+j*(ne.y-t.y)/F,_e=ne.y):d&4?(ue=t.x+j*(K.y-t.y)/F,_e=K.y):d&2?(ue=ne.x,_e=t.y+F*(ne.x-t.x)/j):d&1&&(ue=K.x,_e=t.y+F*(K.x-t.x)/j),new z(ue,_e,b)}function Ss(t,l){var d=0;return t.x<l.min.x?d|=1:t.x>l.max.x&&(d|=2),t.y<l.min.y?d|=4:t.y>l.max.y&&(d|=8),d}function pd(t,l){var d=l.x-t.x,x=l.y-t.y;return d*d+x*x}function Cs(t,l,d,x){var b=l.x,j=l.y,F=d.x-b,K=d.y-j,ne=F*F+K*K,ue;return ne>0&&(ue=((t.x-b)*F+(t.y-j)*K)/ne,ue>1?(b=d.x,j=d.y):ue>0&&(b+=F*ue,j+=K*ue)),F=t.x-b,K=t.y-j,x?F*F+K*K:new z(b,j)}function En(t){return!Y(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ic(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(t)}function ac(t,l){var d,x,b,j,F,K,ne,ue;if(!t||t.length===0)throw new Error("latlngs not passed");En(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var _e=ye([0,0]),Ee=be(t),Ye=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());Ye<1700&&(_e=Ko(t));var zt=t.length,At=[];for(d=0;d<zt;d++){var wn=ye(t[d]);At.push(l.project(ye([wn.lat-_e.lat,wn.lng-_e.lng])))}for(d=0,x=0;d<zt-1;d++)x+=At[d].distanceTo(At[d+1])/2;if(x===0)ue=At[0];else for(d=0,j=0;d<zt-1;d++)if(F=At[d],K=At[d+1],b=F.distanceTo(K),j+=b,j>x){ne=(j-x)/b,ue=[K.x-ne*(K.x-F.x),K.y-ne*(K.y-F.y)];break}var ln=l.unproject(X(ue));return ye([ln.lat+_e.lat,ln.lng+_e.lng])}var oc={__proto__:null,simplify:Qa,pointToSegmentDistance:rc,closestPointOnSegment:ud,clipSegment:sc,_getEdgeIntersection:Xa,_getBitCode:Ss,_sqClosestPointOnSegment:Cs,isFlat:En,_flat:ic,polylineCenter:ac},Jo={project:function(t){return new z(t.lng,t.lat)},unproject:function(t){return new we(t.y,t.x)},bounds:new B([-180,-90],[180,90])},el={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var l=Math.PI/180,d=this.R,x=t.lat*l,b=this.R_MINOR/d,j=Math.sqrt(1-b*b),F=j*Math.sin(x),K=Math.tan(Math.PI/4-x/2)/Math.pow((1-F)/(1+F),j/2);return x=-d*Math.log(Math.max(K,1e-10)),new z(t.lng*l*d,x)},unproject:function(t){for(var l=180/Math.PI,d=this.R,x=this.R_MINOR/d,b=Math.sqrt(1-x*x),j=Math.exp(-t.y/d),F=Math.PI/2-2*Math.atan(j),K=0,ne=.1,ue;K<15&&Math.abs(ne)>1e-7;K++)ue=b*Math.sin(F),ue=Math.pow((1-ue)/(1+ue),b/2),ne=Math.PI/2-2*Math.atan(j*ue)-F,F+=ne;return new we(F*l,t.x*l/d)}},fd={__proto__:null,LonLat:Jo,Mercator:el,SphericalMercator:yt},md=u({},Ae,{code:"EPSG:3395",projection:el,transformation:(function(){var t=.5/(Math.PI*el.R);return rn(t,.5,-t,.5)})()}),lc=u({},Ae,{code:"EPSG:4326",projection:Jo,transformation:rn(1/180,1,-1/180,.5)}),gd=u({},Ie,{projection:Jo,transformation:rn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,l){var d=l.lng-t.lng,x=l.lat-t.lat;return Math.sqrt(d*d+x*x)},infinite:!0});Ie.Earth=Ae,Ie.EPSG3395=md,Ie.EPSG3857=ce,Ie.EPSG900913=ze,Ie.EPSG4326=lc,Ie.Simple=gd;var Vn=le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[g(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[g(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var l=t.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(t);return this._layers[l]?this:(this._layers[l]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var l=g(t);return this._layers[l]?(this._loaded&&t.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return g(t)in this._layers},eachLayer:function(t,l){for(var d in this._layers)t.call(l,this._layers[d]);return this},_addLayers:function(t){t=t?Y(t)?t:[t]:[];for(var l=0,d=t.length;l<d;l++)this.addLayer(t[l])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[g(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var l=g(t);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,l=-1/0,d=this._getZoomSpan();for(var x in this._zoomBoundLayers){var b=this._zoomBoundLayers[x].options;t=b.minZoom===void 0?t:Math.min(t,b.minZoom),l=b.maxZoom===void 0?l:Math.max(l,b.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=t===1/0?void 0:t,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ur=Vn.extend({initialize:function(t,l){S(this,l),this._layers={};var d,x;if(t)for(d=0,x=t.length;d<x;d++)this.addLayer(t[d])},addLayer:function(t){var l=this.getLayerId(t);return this._layers[l]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var l=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(t){var l=typeof t=="number"?t:this.getLayerId(t);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var l=Array.prototype.slice.call(arguments,1),d,x;for(d in this._layers)x=this._layers[d],x[t]&&x[t].apply(x,l);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,l){for(var d in this._layers)t.call(l,this._layers[d]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return g(t)}}),na=function(t,l){return new Ur(t,l)},Sr=Ur.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ur.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ur.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ve;for(var l in this._layers){var d=this._layers[l];t.extend(d.getBounds?d.getBounds():d.getLatLng())}return t}}),cc=function(t,l){return new Sr(t,l)},Ps=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){S(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,l){var d=this._getIconUrl(t);if(!d){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var x=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(x,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(x.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),x},_setIconStyles:function(t,l){var d=this.options,x=d[l+"Size"];typeof x=="number"&&(x=[x,x]);var b=X(x),j=X(l==="shadow"&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));t.className="leaflet-marker-"+l+" "+(d.className||""),j&&(t.style.marginLeft=-j.x+"px",t.style.marginTop=-j.y+"px"),b&&(t.style.width=b.x+"px",t.style.height=b.y+"px")},_createImg:function(t,l){return l=l||document.createElement("img"),l.src=t,l},_getIconUrl:function(t){return Ce.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function uc(t){return new Ps(t)}var ti=Ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof ti.imagePath!="string"&&(ti.imagePath=this._detectIconPath()),(this.options.imagePath||ti.imagePath)+Ps.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var l=function(d,x,b){var j=x.exec(d);return j&&j[b]};return t=l(t,/^url\((['"])?(.+)\1\)$/,2),t&&l(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=We("div","leaflet-default-icon-path",document.body),l=Gi(t,"background-image")||Gi(t,"backgroundImage");if(document.body.removeChild(t),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),tl=Mn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Zn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Be(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var l=this._marker,d=l._map,x=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,j=Nr(l._icon),F=d.getPixelBounds(),K=d.getPixelOrigin(),ne=se(F.min._subtract(K).add(b),F.max._subtract(K).subtract(b));if(!ne.contains(j)){var ue=X((Math.max(ne.max.x,j.x)-ne.max.x)/(F.max.x-ne.max.x)-(Math.min(ne.min.x,j.x)-ne.min.x)/(F.min.x-ne.min.x),(Math.max(ne.max.y,j.y)-ne.max.y)/(F.max.y-ne.max.y)-(Math.min(ne.min.y,j.y)-ne.min.y)/(F.min.y-ne.min.y)).multiplyBy(x);d.panBy(ue,{animate:!1}),this._draggable._newPos._add(ue),this._draggable._startPos._add(ue),Ct(l._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=xe(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=xe(this._adjustPan.bind(this,t)))},_onDrag:function(t){var l=this._marker,d=l._shadow,x=Nr(l._icon),b=l._map.layerPointToLatLng(x);d&&Ct(d,x),l._latlng=b,t.latlng=b,t.oldLatLng=this._oldLatLng,l.fire("move",t).fire("drag",t)},_onDragEnd:function(t){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Cr=Vn.extend({options:{icon:new ti,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,l){S(this,l),this._latlng=ye(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var l=this._latlng;return this._latlng=ye(t),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=t.icon.createIcon(this._icon),x=!1;d!==this._icon&&(this._icon&&this._removeIcon(),x=!0,t.title&&(d.title=t.title),d.tagName==="IMG"&&(d.alt=t.alt||"")),Be(d,l),t.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(d,"focus",this._panOnFocus,this);var b=t.icon.createShadow(this._shadow),j=!1;b!==this._shadow&&(this._removeShadow(),j=!0),b&&(Be(b,l),b.alt=""),this._shadow=b,t.opacity<1&&this._updateOpacity(),x&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&j&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Ct(this._icon,t),this._shadow&&Ct(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var l=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),tl)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new tl(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&an(this._icon,t),this._shadow&&an(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var l=this.options.icon.options,d=l.iconSize?X(l.iconSize):X(0,0),x=l.iconAnchor?X(l.iconAnchor):X(0,0);t.panInside(this._latlng,{paddingTopLeft:x,paddingBottomRight:d.subtract(x)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xd(t,l){return new Cr(t,l)}var Zr=Vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return S(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ja=Zr.extend({options:{fill:!0,radius:10},initialize:function(t,l){S(this,l),this._latlng=ye(t),this._radius=this.options.radius},setLatLng:function(t){var l=this._latlng;return this._latlng=ye(t),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var l=t&&t.radius||this._radius;return Zr.prototype.setStyle.call(this,t),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,l=this._radiusY||t,d=this._clickTolerance(),x=[t+d,l+d];this._pxBounds=new B(this._point.subtract(x),this._point.add(x))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dc(t,l){return new Ja(t,l)}var eo=Ja.extend({initialize:function(t,l,d){if(typeof l=="number"&&(l=u({},d,{radius:l})),S(this,l),this._latlng=ye(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ve(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Zr.prototype.setStyle,_project:function(){var t=this._latlng.lng,l=this._latlng.lat,d=this._map,x=d.options.crs;if(x.distance===Ae.distance){var b=Math.PI/180,j=this._mRadius/Ae.R/b,F=d.project([l+j,t]),K=d.project([l-j,t]),ne=F.add(K).divideBy(2),ue=d.unproject(ne).lat,_e=Math.acos((Math.cos(j*b)-Math.sin(l*b)*Math.sin(ue*b))/(Math.cos(l*b)*Math.cos(ue*b)))/b;(isNaN(_e)||_e===0)&&(_e=j/Math.cos(Math.PI/180*l)),this._point=ne.subtract(d.getPixelOrigin()),this._radius=isNaN(_e)?0:ne.x-d.project([ue,t-_e]).x,this._radiusY=ne.y-F.y}else{var Ee=x.unproject(x.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ee).x}this._updateBounds()}});function ra(t,l,d){return new eo(t,l,d)}var bn=Zr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,l){S(this,l),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var l=1/0,d=null,x=Cs,b,j,F=0,K=this._parts.length;F<K;F++)for(var ne=this._parts[F],ue=1,_e=ne.length;ue<_e;ue++){b=ne[ue-1],j=ne[ue];var Ee=x(t,b,j,!0);Ee<l&&(l=Ee,d=x(t,b,j))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ac(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,l){return l=l||this._defaultShape(),t=ye(t),l.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ve,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var l=[],d=En(t),x=0,b=t.length;x<b;x++)d?(l[x]=ye(t[x]),this._bounds.extend(l[x])):l[x]=this._convertLatLngs(t[x]);return l},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),l=new z(t,t);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(t,l,d){var x=t[0]instanceof we,b=t.length,j,F;if(x){for(F=[],j=0;j<b;j++)F[j]=this._map.latLngToLayerPoint(t[j]),d.extend(F[j]);l.push(F)}else for(j=0;j<b;j++)this._projectLatlngs(t[j],l,d)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,x,b,j,F,K,ne;for(d=0,b=0,j=this._rings.length;d<j;d++)for(ne=this._rings[d],x=0,F=ne.length;x<F-1;x++)K=sc(ne[x],ne[x+1],t,x,!0),K&&(l[b]=l[b]||[],l[b].push(K[0]),(K[1]!==ne[x+1]||x===F-2)&&(l[b].push(K[1]),b++))}},_simplifyPoints:function(){for(var t=this._parts,l=this.options.smoothFactor,d=0,x=t.length;d<x;d++)t[d]=Qa(t[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,l){var d,x,b,j,F,K,ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(d=0,j=this._parts.length;d<j;d++)for(K=this._parts[d],x=0,F=K.length,b=F-1;x<F;b=x++)if(!(!l&&x===0)&&rc(t,K[b],K[x])<=ne)return!0;return!1}});function vd(t,l){return new bn(t,l)}bn._flat=ic;var Pr=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var l=bn.prototype._convertLatLngs.call(this,t),d=l.length;return d>=2&&l[0]instanceof we&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(t){bn.prototype._setLatLngs.call(this,t),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,l=this.options.weight,d=new z(l,l);if(t=new B(t.min.subtract(d),t.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var x=0,b=this._rings.length,j;x<b;x++)j=Go(this._rings[x],t,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var l=!1,d,x,b,j,F,K,ne,ue;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(j=0,ne=this._parts.length;j<ne;j++)for(d=this._parts[j],F=0,ue=d.length,K=ue-1;F<ue;K=F++)x=d[F],b=d[K],x.y>t.y!=b.y>t.y&&t.x<(b.x-x.x)*(t.y-x.y)/(b.y-x.y)+x.x&&(l=!l);return l||bn.prototype._containsPoint.call(this,t,!0)}});function yd(t,l){return new Pr(t,l)}var ar=Sr.extend({initialize:function(t,l){S(this,l),this._layers={},t&&this.addData(t)},addData:function(t){var l=Y(t)?t:t.features,d,x,b;if(l){for(d=0,x=l.length;d<x;d++)b=l[d],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var j=this.options;if(j.filter&&!j.filter(t))return this;var F=ni(t,j);return F?(F.feature=io(t),F.defaultOptions=F.options,this.resetStyle(F),j.onEachFeature&&j.onEachFeature(t,F),this.addLayer(F)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(l){this._setLayerStyle(l,t)},this)},_setLayerStyle:function(t,l){t.setStyle&&(typeof l=="function"&&(l=l(t.feature)),t.setStyle(l))}});function ni(t,l){var d=t.type==="Feature"?t.geometry:t,x=d?d.coordinates:null,b=[],j=l&&l.pointToLayer,F=l&&l.coordsToLatLng||no,K,ne,ue,_e;if(!x&&!d)return null;switch(d.type){case"Point":return K=F(x),to(j,t,K,l);case"MultiPoint":for(ue=0,_e=x.length;ue<_e;ue++)K=F(x[ue]),b.push(to(j,t,K,l));return new Sr(b);case"LineString":case"MultiLineString":return ne=sa(x,d.type==="LineString"?0:1,F),new bn(ne,l);case"Polygon":case"MultiPolygon":return ne=sa(x,d.type==="Polygon"?1:2,F),new Pr(ne,l);case"GeometryCollection":for(ue=0,_e=d.geometries.length;ue<_e;ue++){var Ee=ni({geometry:d.geometries[ue],type:"Feature",properties:t.properties},l);Ee&&b.push(Ee)}return new Sr(b);case"FeatureCollection":for(ue=0,_e=d.features.length;ue<_e;ue++){var Ye=ni(d.features[ue],l);Ye&&b.push(Ye)}return new Sr(b);default:throw new Error("Invalid GeoJSON object.")}}function to(t,l,d,x){return t?t(l,d):new Cr(d,x&&x.markersInheritOptions&&x)}function no(t){return new we(t[1],t[0],t[2])}function sa(t,l,d){for(var x=[],b=0,j=t.length,F;b<j;b++)F=l?sa(t[b],l-1,d):(d||no)(t[b]),x.push(F);return x}function ro(t,l){return t=ye(t),t.alt!==void 0?[E(t.lng,l),E(t.lat,l),E(t.alt,l)]:[E(t.lng,l),E(t.lat,l)]}function so(t,l,d,x){for(var b=[],j=0,F=t.length;j<F;j++)b.push(l?so(t[j],En(t[j])?0:l-1,d,x):ro(t[j],x));return!l&&d&&b.length>0&&b.push(b[0].slice()),b}function ri(t,l){return t.feature?u({},t.feature,{geometry:l}):io(l)}function io(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var nl={toGeoJSON:function(t){return ri(this,{type:"Point",coordinates:ro(this.getLatLng(),t)})}};Cr.include(nl),eo.include(nl),Ja.include(nl),bn.include({toGeoJSON:function(t){var l=!En(this._latlngs),d=so(this._latlngs,l?1:0,!1,t);return ri(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),Pr.include({toGeoJSON:function(t){var l=!En(this._latlngs),d=l&&!En(this._latlngs[0]),x=so(this._latlngs,d?2:l?1:0,!0,t);return l||(x=[x]),ri(this,{type:(d?"Multi":"")+"Polygon",coordinates:x})}}),Ur.include({toMultiPoint:function(t){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(t).geometry.coordinates)}),ri(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(t){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(t);var d=l==="GeometryCollection",x=[];return this.eachLayer(function(b){if(b.toGeoJSON){var j=b.toGeoJSON(t);if(d)x.push(j.geometry);else{var F=io(j);F.type==="FeatureCollection"?x.push.apply(x,F.features):x.push(F)}}}),d?ri(this,{geometries:x,type:"GeometryCollection"}):{type:"FeatureCollection",features:x}}});function hc(t,l){return new ar(t,l)}var qn=hc,Vr=Vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,l,d){this._url=t,this._bounds=be(l),S(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Vs(this._image),this},bringToBack:function(){return this._map&&kr(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=be(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",l=this._image=t?this._url:We("img");if(Be(l,"leaflet-image-layer"),this._zoomAnimated&&Be(l,"leaflet-zoom-animated"),this.options.className&&Be(l,this.options.className),l.onselectstart=N,l.onmousemove=N,l.onload=p(this.fire,this,"load"),l.onerror=p(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(t){var l=this._map.getZoomScale(t.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Hn(this._image,d,l)},_reset:function(){var t=this._image,l=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();Ct(t,l.min),t.style.width=d.x+"px",t.style.height=d.y+"px"},_updateOpacity:function(){an(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),pc=function(t,l,d){return new Vr(t,l,d)},rl=Vr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",l=this._image=t?this._url:We("video");if(Be(l,"leaflet-image-layer"),this._zoomAnimated&&Be(l,"leaflet-zoom-animated"),this.options.className&&Be(l,this.options.className),l.onselectstart=N,l.onmousemove=N,l.onloadeddata=p(this.fire,this,"load"),t){for(var d=l.getElementsByTagName("source"),x=[],b=0;b<d.length;b++)x.push(d[b].src);this._url=d.length>0?x:[l.src];return}Y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var F=We("source");F.src=this._url[j],l.appendChild(F)}}});function fc(t,l,d){return new rl(t,l,d)}var sl=Vr.extend({_initImage:function(){var t=this._image=this._url;Be(t,"leaflet-image-layer"),this._zoomAnimated&&Be(t,"leaflet-zoom-animated"),this.options.className&&Be(t,this.options.className),t.onselectstart=N,t.onmousemove=N}});function il(t,l,d){return new sl(t,l,d)}var or=Vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,l){t&&(t instanceof we||Y(t))?(this._latlng=ye(t),S(this,l)):(S(this,t),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&an(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&an(this._container,1),this.bringToFront(),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(an(this._container,0),this._removeTimeout=setTimeout(p(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ye(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vs(this._container),this},bringToBack:function(){return this._map&&kr(this._container),this},_prepareOpen:function(t){var l=this._source;if(!l._map)return!1;if(l instanceof Sr){l=null;var d=this._source._layers;for(var x in d)if(d[x]._map){l=d[x];break}if(!l)return!1;this._source=l}if(!t)if(l.getCenter)t=l.getCenter();else if(l.getLatLng)t=l.getLatLng();else if(l.getBounds)t=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")t.innerHTML=l;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),l=X(this.options.offset),d=this._getAnchor();this._zoomAnimated?Ct(this._container,t.add(d)):l=l.add(t).add(d);var x=this._containerBottom=-l.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=x+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ze.include({_initOverlay:function(t,l,d,x){var b=l;return b instanceof t||(b=new t(x).setContent(l)),d&&b.setLatLng(d),b}}),Vn.include({_initOverlay:function(t,l,d,x){var b=d;return b instanceof t?(S(b,x),b._source=this):(b=l&&!x?l:new t(x,this),b.setContent(d)),b}});var ao=or.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,or.prototype.openOn.call(this,t)},onAdd:function(t){or.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Zr||this._source.on("preclick",ir))},onRemove:function(t){or.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Zr||this._source.off("preclick",ir))},getEvents:function(){var t=or.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",l=this._container=We("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=We("div",t+"-content-wrapper",l);if(this._contentNode=We("div",t+"-content",d),Ji(l),Va(this._contentNode),Re(l,"contextmenu",ir),this._tipContainer=We("div",t+"-tip-container",l),this._tip=We("div",t+"-tip",this._tipContainer),this.options.closeButton){var x=this._closeButton=We("a",t+"-close-button",l);x.setAttribute("role","button"),x.setAttribute("aria-label","Close popup"),x.href="#close",x.innerHTML='<span aria-hidden="true">&#215;</span>',Re(x,"click",function(b){_t(b),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,l=t.style;l.width="",l.whiteSpace="nowrap";var d=t.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var x=t.offsetHeight,b=this.options.maxHeight,j="leaflet-popup-scrolled";b&&x>b?(l.height=b+"px",Be(t,j)):dt(t,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var l=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),d=this._getAnchor();Ct(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,l=parseInt(Gi(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,x=this._containerWidth,b=new z(this._containerLeft,-d-this._containerBottom);b._add(Nr(this._container));var j=t.layerPointToContainerPoint(b),F=X(this.options.autoPanPadding),K=X(this.options.autoPanPaddingTopLeft||F),ne=X(this.options.autoPanPaddingBottomRight||F),ue=t.getSize(),_e=0,Ee=0;j.x+x+ne.x>ue.x&&(_e=j.x+x-ue.x+ne.x),j.x-_e-K.x<0&&(_e=j.x-K.x),j.y+d+ne.y>ue.y&&(Ee=j.y+d-ue.y+ne.y),j.y-Ee-K.y<0&&(Ee=j.y-K.y),(_e||Ee)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([_e,Ee]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),si=function(t,l){return new ao(t,l)};Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(t,l,d){return this._initOverlay(ao,t,l,d).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Vn.include({bindPopup:function(t,l){return this._popup=this._initOverlay(ao,this._popup,t,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Sr||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Un(t);var l=t.layer||t.target;if(this._popup._source===l&&!(l instanceof Zr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=l,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ii=or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){or.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){or.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=or.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",l=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var l,d,x=this._map,b=this._container,j=x.latLngToContainerPoint(x.getCenter()),F=x.layerPointToContainerPoint(t),K=this.options.direction,ne=b.offsetWidth,ue=b.offsetHeight,_e=X(this.options.offset),Ee=this._getAnchor();K==="top"?(l=ne/2,d=ue):K==="bottom"?(l=ne/2,d=0):K==="center"?(l=ne/2,d=ue/2):K==="right"?(l=0,d=ue/2):K==="left"?(l=ne,d=ue/2):F.x<j.x?(K="right",l=0,d=ue/2):(K="left",l=ne+(_e.x+Ee.x)*2,d=ue/2),t=t.subtract(X(l,d,!0)).add(_e).add(Ee),dt(b,"leaflet-tooltip-right"),dt(b,"leaflet-tooltip-left"),dt(b,"leaflet-tooltip-top"),dt(b,"leaflet-tooltip-bottom"),Be(b,"leaflet-tooltip-"+K),Ct(b,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&an(this._container,t)},_animateZoom:function(t){var l=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(l)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ia=function(t,l){return new ii(t,l)};Ze.include({openTooltip:function(t,l,d){return this._initOverlay(ii,t,l,d).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Vn.include({bindTooltip:function(t,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ii,this._tooltip,t,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var l=t?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Sr||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var l=typeof t.getElement=="function"&&t.getElement();l&&(Re(l,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Re(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var l=typeof t.getElement=="function"&&t.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var l=t.latlng,d,x;this._tooltip.options.sticky&&t.originalEvent&&(d=this._map.mouseEventToContainerPoint(t.originalEvent),x=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(x)),this._tooltip.setLatLng(l)}});var oo=Ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var l=t&&t.tagName==="DIV"?t:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Wa(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var x=X(d.bgPos);l.style.backgroundPosition=-x.x+"px "+-x.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function mc(t){return new oo(t)}Ps.Default=ti;var qr=Vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){S(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ft(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(kr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof z?t:new z(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var l=this.getPane().children,d=-t(-1/0,1/0),x=0,b=l.length,j;x<b;x++)j=l[x].style.zIndex,l[x]!==this._container&&j&&(d=t(d,+j));isFinite(d)&&(this.options.zIndex=d+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){an(this._container,this.options.opacity);var t=+new Date,l=!1,d=!1;for(var x in this._tiles){var b=this._tiles[x];if(!(!b.current||!b.loaded)){var j=Math.min(1,(t-b.loaded)/200);an(b.el,j),j<1?l=!0:(b.active?d=!0:this._onOpaqueTile(b),b.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(M(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,l=this.options.maxZoom;if(t!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===t?(this._levels[d].el.style.zIndex=l-Math.abs(t-d),this._onUpdateLevel(d)):(ft(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var x=this._levels[t],b=this._map;return x||(x=this._levels[t]={},x.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),x.el.style.zIndex=l,x.origin=b.project(b.unproject(b.getPixelOrigin()),t).round(),x.zoom=t,this._setZoomTransform(x,b.getCenter(),b.getZoom()),N(x.el.offsetWidth),this._onCreateLevel(x)),this._level=x,x}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var t,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)l=this._tiles[t],l.retain=l.current;for(t in this._tiles)if(l=this._tiles[t],l.current&&!l.active){var x=l.coords;this._retainParent(x.x,x.y,x.z,x.z-5)||this._retainChildren(x.x,x.y,x.z,x.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var l in this._tiles)this._tiles[l].coords.z===t&&this._removeTile(l)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ft(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,l,d,x){var b=Math.floor(t/2),j=Math.floor(l/2),F=d-1,K=new z(+b,+j);K.z=+F;var ne=this._tileCoordsToKey(K),ue=this._tiles[ne];return ue&&ue.active?(ue.retain=!0,!0):(ue&&ue.loaded&&(ue.retain=!0),F>x?this._retainParent(b,j,F,x):!1)},_retainChildren:function(t,l,d,x){for(var b=2*t;b<2*t+2;b++)for(var j=2*l;j<2*l+2;j++){var F=new z(b,j);F.z=d+1;var K=this._tileCoordsToKey(F),ne=this._tiles[K];if(ne&&ne.active){ne.retain=!0;continue}else ne&&ne.loaded&&(ne.retain=!0);d+1<x&&this._retainChildren(b,j,d+1,x)}},_resetView:function(t){var l=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var l=this.options;return l.minNativeZoom!==void 0&&t<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<t?l.maxNativeZoom:t},_setView:function(t,l,d,x){var b=Math.round(l);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var j=this.options.updateWhenZooming&&b!==this._tileZoom;(!x||j)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(t),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(t,l)},_setZoomTransforms:function(t,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],t,l)},_setZoomTransform:function(t,l,d){var x=this._map.getZoomScale(d,t.zoom),b=t.origin.multiplyBy(x).subtract(this._map._getNewPixelOrigin(l,d)).round();Ce.any3d?Hn(t.el,b,x):Ct(t.el,b)},_resetGrid:function(){var t=this._map,l=t.options.crs,d=this._tileSize=this.getTileSize(),x=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,l.wrapLng[0]],x).x/d.x),Math.ceil(t.project([0,l.wrapLng[1]],x).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([l.wrapLat[0],0],x).y/d.x),Math.ceil(t.project([l.wrapLat[1],0],x).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),x=l.getZoomScale(d,this._tileZoom),b=l.project(t,this._tileZoom).floor(),j=l.getSize().divideBy(x*2);return new B(b.subtract(j),b.add(j))},_update:function(t){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(t===void 0&&(t=l.getCenter()),this._tileZoom!==void 0){var x=this._getTiledPixelBounds(t),b=this._pxBoundsToTileRange(x),j=b.getCenter(),F=[],K=this.options.keepBuffer,ne=new B(b.getBottomLeft().subtract([K,-K]),b.getTopRight().add([K,-K]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ue in this._tiles){var _e=this._tiles[ue].coords;(_e.z!==this._tileZoom||!ne.contains(new z(_e.x,_e.y)))&&(this._tiles[ue].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(t,d);return}for(var Ee=b.min.y;Ee<=b.max.y;Ee++)for(var Ye=b.min.x;Ye<=b.max.x;Ye++){var zt=new z(Ye,Ee);if(zt.z=this._tileZoom,!!this._isValidTile(zt)){var At=this._tiles[this._tileCoordsToKey(zt)];At?At.current=!0:F.push(zt)}}if(F.sort(function(ln,ui){return ln.distanceTo(j)-ui.distanceTo(j)}),F.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wn=document.createDocumentFragment();for(Ye=0;Ye<F.length;Ye++)this._addTile(F[Ye],wn);this._level.el.appendChild(wn)}}}},_isValidTile:function(t){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(t.x<d.min.x||t.x>d.max.x)||!l.wrapLat&&(t.y<d.min.y||t.y>d.max.y))return!1}if(!this.options.bounds)return!0;var x=this._tileCoordsToBounds(t);return be(this.options.bounds).overlaps(x)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var l=this._map,d=this.getTileSize(),x=t.scaleBy(d),b=x.add(d),j=l.unproject(x,t.z),F=l.unproject(b,t.z);return[j,F]},_tileCoordsToBounds:function(t){var l=this._tileCoordsToNwSe(t),d=new ve(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var l=t.split(":"),d=new z(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(t){var l=this._tiles[t];l&&(ft(l.el),delete this._tiles[t],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Be(t,"leaflet-tile");var l=this.getTileSize();t.style.width=l.x+"px",t.style.height=l.y+"px",t.onselectstart=N,t.onmousemove=N,Ce.ielt9&&this.options.opacity<1&&an(t,this.options.opacity)},_addTile:function(t,l){var d=this._getTilePos(t),x=this._tileCoordsToKey(t),b=this.createTile(this._wrapCoords(t),p(this._tileReady,this,t));this._initTile(b),this.createTile.length<2&&xe(p(this._tileReady,this,t,null,b)),Ct(b,d),this._tiles[x]={el:b,coords:t,current:!0},l.appendChild(b),this.fire("tileloadstart",{tile:b,coords:t})},_tileReady:function(t,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:t});var x=this._tileCoordsToKey(t);d=this._tiles[x],d&&(d.loaded=+new Date,this._map._fadeAnimated?(an(d.el,0),M(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Be(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?xe(this._pruneTiles,this):setTimeout(p(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var l=new z(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return l.z=t.z,l},_pxBoundsToTileRange:function(t){var l=this.getTileSize();return new B(t.min.unscaleBy(l).floor(),t.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ai(t){return new qr(t)}var Gr=qr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,l){this._url=t,l=S(this,l),l.detectRetina&&Ce.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,l){return this._url===t&&l===void 0&&(l=!0),this._url=t,l||this.redraw(),this},createTile:function(t,l){var d=document.createElement("img");return Re(d,"load",p(this._tileOnLoad,this,l,d)),Re(d,"error",p(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(t),d},getTileUrl:function(t){var l={r:Ce.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-t.y;this.options.tms&&(l.y=d),l["-y"]=d}return O(this._url,u(l,this.options))},_tileOnLoad:function(t,l){Ce.ielt9?setTimeout(p(t,this,null,l),0):t(null,l)},_tileOnError:function(t,l,d){var x=this.options.errorTileUrl;x&&l.getAttribute("src")!==x&&(l.src=x),t(d,l)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,x=this.options.zoomOffset;return d&&(t=l-t),t+x},_getSubdomain:function(t){var l=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var t,l;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(l=this._tiles[t].el,l.onload=N,l.onerror=N,!l.complete)){l.src=$;var d=this._tiles[t].coords;ft(l),delete this._tiles[t],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(t){var l=this._tiles[t];if(l)return l.el.setAttribute("src",$),qr.prototype._removeTile.call(this,t)},_tileReady:function(t,l,d){if(!(!this._map||d&&d.getAttribute("src")===$))return qr.prototype._tileReady.call(this,t,l,d)}});function al(t,l){return new Gr(t,l)}var aa=Gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,l){this._url=t;var d=u({},this.defaultWmsParams);for(var x in l)x in this.options||(d[x]=l[x]);l=S(this,l);var b=l.detectRetina&&Ce.retina?2:1,j=this.getTileSize();d.width=j.x*b,d.height=j.y*b,this.wmsParams=d},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Gr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var l=this._tileCoordsToNwSe(t),d=this._crs,x=se(d.project(l[0]),d.project(l[1])),b=x.min,j=x.max,F=(this._wmsVersion>=1.3&&this._crs===lc?[b.y,b.x,j.y,j.x]:[b.x,b.y,j.x,j.y]).join(","),K=Gr.prototype.getTileUrl.call(this,t);return K+P(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+F},setParams:function(t,l){return u(this.wmsParams,t),l||this.redraw(),this}});function gc(t,l){return new aa(t,l)}Gr.WMS=aa,al.wms=gc;var lr=Vn.extend({options:{padding:.1},initialize:function(t){S(this,t),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,l){var d=this._map.getZoomScale(l,this._zoom),x=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,l),j=x.multiplyBy(-d).add(b).subtract(this._map._getNewPixelOrigin(t,l));Ce.any3d?Hn(this._container,j,d):Ct(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-t)).round();this._bounds=new B(d,d.add(l.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ol=lr.extend({options:{tolerance:0},getEvents:function(){var t=lr.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){lr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Re(t,"mousemove",this._onMouseMove,this),Re(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,ft(this._container),ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var l in this._layers)t=this._layers[l],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var t=this._bounds,l=this._container,d=t.getSize(),x=Ce.retina?2:1;Ct(l,t.min),l.width=x*d.x,l.height=x*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){lr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[g(t)]=t;var l=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var l=t._order,d=l.next,x=l.prev;d?d.prev=x:this._drawLast=x,x?x.next=d:this._drawFirst=d,delete t._order,delete this._layers[g(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var l=t.options.dashArray.split(/[, ]+/),d=[],x,b;for(b=0;b<l.length;b++){if(x=Number(l[b]),isNaN(x))return;d.push(x)}t.options._dashArray=d}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||xe(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var l=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(t._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var l=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var x=this._drawFirst;x;x=x.next)t=x.layer,(!l||t._pxBounds&&t._pxBounds.intersects(l))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,l){if(this._drawing){var d,x,b,j,F=t._parts,K=F.length,ne=this._ctx;if(K){for(ne.beginPath(),d=0;d<K;d++){for(x=0,b=F[d].length;x<b;x++)j=F[d][x],ne[x?"lineTo":"moveTo"](j.x,j.y);l&&ne.closePath()}this._fillStroke(ne,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var l=t._point,d=this._ctx,x=Math.max(Math.round(t._radius),1),b=(Math.max(Math.round(t._radiusY),1)||x)/x;b!==1&&(d.save(),d.scale(1,b)),d.beginPath(),d.arc(l.x,l.y/b,x,0,Math.PI*2,!1),b!==1&&d.restore(),this._fillStroke(d,t)}},_fillStroke:function(t,l){var d=l.options;d.fill&&(t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor||d.color,t.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(t.setLineDash&&t.setLineDash(l.options&&l.options._dashArray||[]),t.globalAlpha=d.opacity,t.lineWidth=d.weight,t.strokeStyle=d.color,t.lineCap=d.lineCap,t.lineJoin=d.lineJoin,t.stroke())},_onClick:function(t){for(var l=this._map.mouseEventToLayerPoint(t),d,x,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(l)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(d))&&(x=d);this._fireEvent(x?[x]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,l)}},_handleMouseOut:function(t){var l=this._hoveredLayer;l&&(dt(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,l){if(!this._mouseHoverThrottled){for(var d,x,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(l)&&(x=d);x!==this._hoveredLayer&&(this._handleMouseOut(t),x&&(Be(this._container,"leaflet-interactive"),this._fireEvent([x],t,"mouseover"),this._hoveredLayer=x)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(p(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,l,d){this._map._fireDOMEvent(l,d||l.type,t)},_bringToFront:function(t){var l=t._order;if(l){var d=l.next,x=l.prev;if(d)d.prev=x;else return;x?x.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(t)}},_bringToBack:function(t){var l=t._order;if(l){var d=l.next,x=l.prev;if(x)x.next=d;else return;d?d.prev=x:x&&(this._drawLast=x),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(t)}}});function ll(t){return Ce.canvas?new ol(t):null}var oi=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),xc={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(lr.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var l=t._container=oi("shape");Be(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",t._path=oi("path"),l.appendChild(t._path),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){var l=t._container;this._container.appendChild(l),t.options.interactive&&t.addInteractiveTarget(l)},_removePath:function(t){var l=t._container;ft(l),t.removeInteractiveTarget(l),delete this._layers[g(t)]},_updateStyle:function(t){var l=t._stroke,d=t._fill,x=t.options,b=t._container;b.stroked=!!x.stroke,b.filled=!!x.fill,x.stroke?(l||(l=t._stroke=oi("stroke")),b.appendChild(l),l.weight=x.weight+"px",l.color=x.color,l.opacity=x.opacity,x.dashArray?l.dashStyle=Y(x.dashArray)?x.dashArray.join(" "):x.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=x.lineCap.replace("butt","flat"),l.joinstyle=x.lineJoin):l&&(b.removeChild(l),t._stroke=null),x.fill?(d||(d=t._fill=oi("fill")),b.appendChild(d),d.color=x.fillColor||x.color,d.opacity=x.fillOpacity):d&&(b.removeChild(d),t._fill=null)},_updateCircle:function(t){var l=t._point.round(),d=Math.round(t._radius),x=Math.round(t._radiusY||d);this._setPath(t,t._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+x+" 0,"+65535*360)},_setPath:function(t,l){t._path.v=l},_bringToFront:function(t){Vs(t._container)},_bringToBack:function(t){kr(t._container)}},Gn=Ce.vml?oi:Ve,Ds=lr.extend({_initContainer:function(){this._container=Gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){lr.prototype._update.call(this);var t=this._bounds,l=t.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),Ct(d,t.min),d.setAttribute("viewBox",[t.min.x,t.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(t){var l=t._path=Gn("path");t.options.className&&Be(l,t.options.className),t.options.interactive&&Be(l,"leaflet-interactive"),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ft(t._path),t.removeInteractiveTarget(t._path),delete this._layers[g(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var l=t._path,d=t.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(t,l){this._setPath(t,st(t._parts,l))},_updateCircle:function(t){var l=t._point,d=Math.max(Math.round(t._radius),1),x=Math.max(Math.round(t._radiusY),1)||d,b="a"+d+","+x+" 0 1,0 ",j=t._empty()?"M0 0":"M"+(l.x-d)+","+l.y+b+d*2+",0 "+b+-d*2+",0 ";this._setPath(t,j)},_setPath:function(t,l){t._path.setAttribute("d",l)},_bringToFront:function(t){Vs(t._path)},_bringToBack:function(t){kr(t._path)}});Ce.vml&&Ds.include(xc);function lo(t){return Ce.svg||Ce.vml?new Ds(t):null}Ze.include({getRenderer:function(t){var l=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var l=this._paneRenderers[t];return l===void 0&&(l=this._createRenderer({pane:t}),this._paneRenderers[t]=l),l},_createRenderer:function(t){return this.options.preferCanvas&&ll(t)||lo(t)}});var vc=Pr.extend({initialize:function(t,l){Pr.prototype.initialize.call(this,this._boundsToLatLngs(t),l)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=be(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function bd(t,l){return new vc(t,l)}Ds.create=Gn,Ds.pointsToPath=st,ar.geometryToLayer=ni,ar.coordsToLatLng=no,ar.coordsToLatLngs=sa,ar.latLngToCoords=ro,ar.latLngsToCoords=so,ar.getFeature=ri,ar.asFeature=io,Ze.mergeOptions({boxZoom:!0});var li=Mn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qe(),$a(),this._startPoint=this._map.mouseEventToContainerPoint(t),Re(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var l=new B(this._point,this._startPoint),d=l.getSize();Ct(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ft(this._box),dt(this._container,"leaflet-crosshair")),Ks(),Ua(),ct(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(p(this._resetState,this),0);var l=new ve(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ze.addInitHook("addHandler","boxZoom",li),Ze.mergeOptions({doubleClickZoom:!0});var yc=Mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var l=this._map,d=l.getZoom(),x=l.options.zoomDelta,b=t.originalEvent.shiftKey?d-x:d+x;l.options.doubleClickZoom==="center"?l.setZoom(b):l.setZoomAround(t.containerPoint,b)}});Ze.addInitHook("addHandler","doubleClickZoom",yc),Ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var cl=Mn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Zn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=be(this._map.options.maxBounds);this._offsetLimit=se(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,l){return t-(t-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;t.x<l.min.x&&(t.x=this._viscousLimit(t.x,l.min.x)),t.y<l.min.y&&(t.y=this._viscousLimit(t.y,l.min.y)),t.x>l.max.x&&(t.x=this._viscousLimit(t.x,l.max.x)),t.y>l.max.y&&(t.y=this._viscousLimit(t.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,l=Math.round(t/2),d=this._initialWorldOffset,x=this._draggable._newPos.x,b=(x-l+d)%t+l-d,j=(x+l+d)%t-l-d,F=Math.abs(b+d)<Math.abs(j+d)?b:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=F},_onDragEnd:function(t){var l=this._map,d=l.options,x=!d.inertia||t.noInertia||this._times.length<2;if(l.fire("dragend",t),x)l.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,F=d.easeLinearity,K=b.multiplyBy(F/j),ne=K.distanceTo([0,0]),ue=Math.min(d.inertiaMaxSpeed,ne),_e=K.multiplyBy(ue/ne),Ee=ue/(d.inertiaDeceleration*F),Ye=_e.multiplyBy(-Ee/2).round();!Ye.x&&!Ye.y?l.fire("moveend"):(Ye=l._limitOffset(Ye,l.options.maxBounds),xe(function(){l.panBy(Ye,{duration:Ee,easeLinearity:F,noMoveStart:!0,animate:!0})}))}}});Ze.addInitHook("addHandler","dragging",cl),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ul=Mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Re(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,l=document.documentElement,d=t.scrollTop||l.scrollTop,x=t.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(x,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var l=this._panKeys={},d=this.keyCodes,x,b;for(x=0,b=d.left.length;x<b;x++)l[d.left[x]]=[-1*t,0];for(x=0,b=d.right.length;x<b;x++)l[d.right[x]]=[t,0];for(x=0,b=d.down.length;x<b;x++)l[d.down[x]]=[0,t];for(x=0,b=d.up.length;x<b;x++)l[d.up[x]]=[0,-1*t]},_setZoomDelta:function(t){var l=this._zoomKeys={},d=this.keyCodes,x,b;for(x=0,b=d.zoomIn.length;x<b;x++)l[d.zoomIn[x]]=t;for(x=0,b=d.zoomOut.length;x<b;x++)l[d.zoomOut[x]]=-t},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var l=t.keyCode,d=this._map,x;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(x=this._panKeys[l],t.shiftKey&&(x=X(x).multiplyBy(3)),d.options.maxBounds&&(x=d._limitOffset(X(x),d.options.maxBounds)),d.options.worldCopyJump){var b=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(x)));d.panTo(b)}else d.panBy(x)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Un(t)}}});Ze.addInitHook("addHandler","keyboard",ul),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ut=Mn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var l=ec(t),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var x=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(p(this._performZoom,this),x),Un(t)},_performZoom:function(){var t=this._map,l=t.getZoom(),d=this._map.options.zoomSnap||0;t._stop();var x=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(x))))/Math.LN2,j=d?Math.ceil(b/d)*d:b,F=t._limitZoom(l+(this._delta>0?j:-j))-l;this._delta=0,this._startTime=null,F&&(t.options.scrollWheelZoom==="center"?t.setZoom(l+F):t.setZoomAround(this._lastMousePos,l+F))}});Ze.addInitHook("addHandler","scrollWheelZoom",ut);var dl=600;Ze.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var oa=Mn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var l=t.touches[0];this._startPos=this._newPos=new z(l.clientX,l.clientY),this._holdTimeout=setTimeout(p(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",_t),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),dl),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){ct(document,"touchend",_t),ct(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)},_onMove:function(t){var l=t.touches[0];this._newPos=new z(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,l){var d=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Ze.addInitHook("addHandler","tapHold",oa),Ze.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var ci=Mn.extend({addHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var l=this._map;if(!(!t.touches||t.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(t.touches[0]),x=l.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(x)._divideBy(2))),this._startDist=d.distanceTo(x),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),_t(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(t.touches[0]),x=l.mouseEventToContainerPoint(t.touches[1]),b=d.distanceTo(x)/this._startDist;if(this._zoom=l.getScaleZoom(b,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&b<1||this._zoom>l.getMaxZoom()&&b>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var j=d._add(x)._divideBy(2)._subtract(this._centerPoint);if(b===1&&j.x===0&&j.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var F=p(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=xe(F,this,!0),_t(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,M(this._animRequest),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ze.addInitHook("addHandler","touchZoom",ci),Ze.BoxZoom=li,Ze.DoubleClickZoom=yc,Ze.Drag=cl,Ze.Keyboard=ul,Ze.ScrollWheelZoom=ut,Ze.TapHold=oa,Ze.TouchZoom=ci,n.Bounds=B,n.Browser=Ce,n.CRS=Ie,n.Canvas=ol,n.Circle=eo,n.CircleMarker=Ja,n.Class=Z,n.Control=yn,n.DivIcon=oo,n.DivOverlay=or,n.DomEvent=qa,n.DomUtil=Xi,n.Draggable=Zn,n.Evented=le,n.FeatureGroup=Sr,n.GeoJSON=ar,n.GridLayer=qr,n.Handler=Mn,n.Icon=Ps,n.ImageOverlay=Vr,n.LatLng=we,n.LatLngBounds=ve,n.Layer=Vn,n.LayerGroup=Ur,n.LineUtil=oc,n.Map=Ze,n.Marker=Cr,n.Mixin=qo,n.Path=Zr,n.Point=z,n.PolyUtil=cd,n.Polygon=Pr,n.Polyline=bn,n.Popup=ao,n.PosAnimation=Ga,n.Projection=fd,n.Rectangle=vc,n.Renderer=lr,n.SVG=Ds,n.SVGOverlay=sl,n.TileLayer=Gr,n.Tooltip=ii,n.Transformation=mn,n.Util=H,n.VideoOverlay=rl,n.bind=p,n.bounds=se,n.canvas=ll,n.circle=ra,n.circleMarker=dc,n.control=$r,n.divIcon=mc,n.extend=u,n.featureGroup=cc,n.geoJSON=hc,n.geoJson=qn,n.gridLayer=ai,n.icon=uc,n.imageOverlay=pc,n.latLng=ye,n.latLngBounds=be,n.layerGroup=na,n.map=Hr,n.marker=xd,n.point=X,n.polygon=yd,n.polyline=vd,n.popup=si,n.rectangle=bd,n.setOptions=S,n.stamp=g,n.svg=lo,n.svgOverlay=il,n.tileLayer=al,n.tooltip=ia,n.transformation=rn,n.version=r,n.videoOverlay=fc;var bc=window.L;n.noConflict=function(){return window.L=bc,this},window.L=n}))})(Ol,Ol.exports)),Ol.exports}var Ql=Ek();const ad=Ul(Ql);function zp(i,o,n){return Object.freeze({instance:i,context:o,container:n})}function Wp(i,o){return o==null?function(r,u){const f=C.useRef();return f.current||(f.current=i(r,u)),f}:function(r,u){const f=C.useRef();f.current||(f.current=i(r,u));const p=C.useRef(r),{instance:m}=f.current;return C.useEffect(function(){p.current!==r&&(o(m,r,p.current),p.current=r)},[m,r,u]),f}}function Lk(i,o){C.useEffect(function(){return(o.layerContainer??o.map).addLayer(i.instance),function(){o.layerContainer?.removeLayer(i.instance),o.map.removeLayer(i.instance)}},[o,i])}function Jx(i){return function(n){const r=Fp(),u=i(Bp(n,r),r);return Gx(r.map,n.attribution),Xx(u.current,n.eventHandlers),Lk(u.current,r),u}}function Ok(i,o){const n=Wp(i,o),r=Jx(n);return Ck(r)}function Rk(i,o){const n=Wp(i),r=Tk(n,o);return Pk(r)}function Ik(i,o){const n=Wp(i,o),r=Jx(n);return Dk(r)}function Ak(i,o,n){const{opacity:r,zIndex:u}=o;r!=null&&r!==n.opacity&&i.setOpacity(r),u!=null&&u!==n.zIndex&&i.setZIndex(u)}function Fk(){return Fp().map}function bp(){return bp=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var n=arguments[o];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},bp.apply(this,arguments)}function Bk({bounds:i,boundsOptions:o,center:n,children:r,className:u,id:f,placeholder:p,style:m,whenReady:g,zoom:w,..._},N){const[E]=C.useState({className:u,id:f,style:m}),[D,T]=C.useState(null);C.useImperativeHandle(N,()=>D?.map??null,[D]);const S=C.useCallback(U=>{if(U!==null&&D===null){const O=new Ql.Map(U,_);n!=null&&w!=null?O.setView(n,w):i!=null&&O.fitBounds(i,o),g!=null&&O.whenReady(g),T(jk(O))}},[]);C.useEffect(()=>()=>{D?.map.remove()},[D]);const P=D?te.createElement(Qx,{value:D},r):p??null;return te.createElement("div",bp({},E,{ref:S}),P)}const zk=C.forwardRef(Bk),Bg=Ok(function({position:o,...n},r){const u=new Ql.Marker(o,n);return zp(u,Sk(r,{overlayContainer:u}))},function(o,n,r){n.position!==r.position&&o.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&o.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&o.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&o.setOpacity(n.opacity),o.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?o.dragging.enable():o.dragging.disable())}),zg=Rk(function(o,n){const r=new Ql.Popup(o,n.overlayContainer);return zp(r,n)},function(o,n,{position:r},u){C.useEffect(function(){const{instance:p}=o;function m(w){w.popup===p&&(p.update(),u(!0))}function g(w){w.popup===p&&u(!1)}return n.map.on({popupopen:m,popupclose:g}),n.overlayContainer==null?(r!=null&&p.setLatLng(r),p.openOn(n.map)):n.overlayContainer.bindPopup(p),function(){n.map.off({popupopen:m,popupclose:g}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(p)}},[o,n,u,r])}),Wk=Ik(function({url:o,...n},r){const u=new Ql.TileLayer(o,Bp(n,r));return zp(u,r)},function(o,n,r){Ak(o,n,r);const{url:u}=n;u!=null&&u!==r.url&&o.setUrl(u)});delete ad.Icon.Default.prototype._getIconUrl;ad.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const Yk=new ad.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Hk=new ad.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),$k=({bounds:i})=>{const o=Fk();return C.useEffect(()=>{i&&i.length>0&&o.fitBounds(i,{padding:[50,50]})},[o,i]),null},Uk=({waterCoordinates:i,waterName:o,nearbyStays:n=[],height:r="400px"})=>{const u=[[i.lat,i.lng],...n.map(f=>[f.coordinates.lat,f.coordinates.lng])];return s.jsx("div",{className:"rounded-xl overflow-hidden border border-stone-200",style:{height:r},children:s.jsxs(zk,{center:[i.lat,i.lng],zoom:12,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[s.jsx(Wk,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx($k,{bounds:u}),s.jsx(Bg,{position:[i.lat,i.lng],icon:Yk,children:s.jsxs(zg,{children:[s.jsx("div",{className:"font-medium text-brand-700",children:o}),s.jsx("div",{className:"text-sm text-stone-500",children:"Fishing location"})]})}),n.map(f=>s.jsx(Bg,{position:[f.coordinates.lat,f.coordinates.lng],icon:Hk,children:s.jsx(zg,{children:s.jsxs("div",{className:"min-w-[200px]",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-1",children:f.name}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-500 mb-2",children:[s.jsx("span",{children:f.type}),s.jsx("span",{children:""}),s.jsx("span",{children:f.distance})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm mb-2",children:[s.jsx(vr,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),s.jsx("span",{children:f.rating}),s.jsxs("span",{className:"text-stone-400",children:["(",f.reviewCount," reviews)"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-brand-700",children:f.priceRange}),s.jsxs("a",{href:f.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-brand-600 hover:text-brand-800",children:["Book ",s.jsx(qg,{className:"w-3 h-3"})]})]})]})})},f.id))]})})},Zk=()=>s.jsxs("div",{className:"flex items-center gap-6 text-sm text-stone-600 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Fishing location"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),s.jsx("span",{children:"Accommodation"})]})]}),Vk={"B&B":ou,Hotel:Xh,Inn:Xh,"Self-catering":ou,Camping:ou,"On-site lodges":ou},qk=({accommodation:i})=>{const o=Vk[i.type]||Xh;return s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden hover:shadow-md transition",children:[s.jsxs("div",{className:"h-32 relative",style:{background:"linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)"},children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(o,{className:"w-12 h-12 text-stone-400"})}),s.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 bg-white rounded-full text-xs font-medium text-stone-600",children:i.type})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-1 line-clamp-1",children:i.name}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-stone-500 mb-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Sn,{className:"w-3 h-3"}),i.distance]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),i.rating,s.jsxs("span",{className:"text-stone-400",children:["(",i.reviewCount,")"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-semibold text-brand-700",children:[i.priceRange,s.jsx("span",{className:"text-stone-400 font-normal text-sm",children:"/night"})]}),s.jsxs("a",{href:i.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-brand-600 hover:text-brand-800",onClick:n=>n.stopPropagation(),children:["Book ",s.jsx(qg,{className:"w-3 h-3"})]})]})]})]})},Gk={parking:sv,toilets:cu,cafe:Rm,"tackle-shop":Lt,"boat-hire":Lt,"disabled-access":tv,"night-fishing":lv,showers:cu,"fishing-hut":cu,ghillie:Pi,lunch:Rm,wading:Lt,"rod-room":cu},Kk=[{id:"overview",label:"Overview"},{id:"species",label:"Species & Records"},{id:"catches",label:"Recent Catches"},{id:"facilities",label:"Facilities"},{id:"rules",label:"Rules"},{id:"reviews",label:"Reviews"},{id:"nearby",label:"Nearby Stays"}],xu={"day-tickets":{bg:"bg-brand-50",text:"text-brand-700",border:"border-brand-200",activeBg:"bg-brand-100",activeBorder:"border-brand-500"},guided:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",activeBg:"bg-amber-100",activeBorder:"border-amber-500"},accommodation:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200",activeBg:"bg-purple-100",activeBorder:"border-purple-500"},extras:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",activeBg:"bg-blue-100",activeBorder:"border-blue-500"}},Qk={"day-tickets":"Day Tickets & Passes",guided:"Guided Experiences",accommodation:"Accommodation",extras:"Extras & Add-ons"},e0=({fishery:i,onBack:o,user:n,onSignIn:r,isFavourite:u,onToggleFavourite:f})=>{const[p,m]=C.useState("overview"),[g,w]=C.useState([null,null]),[_,N]=C.useState(""),[E,D]=C.useState(!1),[T,S]=C.useState(null),[P,U]=C.useState([]),[O,Y]=g,ee=O,$=O&&Y?Math.max(1,Math.ceil((Y-O)/864e5)+1):O?1:0,A=i.bookingOptions&&i.bookingOptions.length>0,q=A?i.bookingOptions.reduce((M,H)=>{const Z=H.category||"day-tickets";return M[Z]||(M[Z]=[]),M[Z].push(H),M},{}):{},ae=A?i.bookingOptions.find(M=>M.id===T)||i.bookingOptions[0]:null,fe=()=>{if(!n){r();return}D(!0)};if(E){const M=A?ae?.bookingType==="instant":i.bookingType==="instant";return s.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center shadow-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:s.jsx(Or,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:M?"Booking Confirmed!":"Enquiry Sent!"}),s.jsx("p",{className:"text-stone-600 mb-2",children:M?`Your booking for ${i.name} has been confirmed. Check your email for details.`:`Your enquiry has been sent to ${i.name}. They'll respond within 24-48 hours.`}),A&&ae&&s.jsxs("p",{className:"text-stone-500 text-sm mb-4",children:[ae.name,"  ",$," ",$===1?"day":"days","  ",(ae.price||0)*$]}),O&&s.jsxs("p",{className:"text-stone-400 text-xs mb-4",children:[O.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"long"}),Y&&Y.getTime()!==O.getTime()&&s.jsxs(s.Fragment,{children:["  ",Y.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"long"})]})]}),s.jsx("button",{onClick:o,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Back to Search"})]})})}const de=()=>{if(A&&ae)return ae.price;if(!ee||!i.availability)return i.price;const M=ee.toISOString().split("T")[0];return i.availability[M]?.price||i.price},xe=()=>{if(!A)return i.price;const M=i.bookingOptions.map(H=>parseInt(H.price)).filter(H=>!isNaN(H));return M.length>0?Math.min(...M):i.price};return s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:o,className:"absolute top-4 left-4 z-10 px-4 py-2 bg-white/90 rounded-lg flex items-center gap-2 text-stone-700 hover:bg-white transition",children:[s.jsx(cs,{className:"w-4 h-4"})," Back"]}),f&&s.jsx("button",{onClick:()=>f(i.id),className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-white/90 flex items-center justify-center hover:bg-white transition shadow-sm",children:s.jsx(ss,{className:`w-5 h-5 transition ${u?"fill-red-500 text-red-500":"text-stone-600"}`})}),s.jsx(ix,{images:i.gallery||[i.image],alt:i.name})]}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-stone-200",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-stone-900",children:i.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[s.jsxs("span",{className:"flex items-center text-stone-500",children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),i.location,", ",i.region]}),i.rating>0||i.reviews>0?s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),s.jsx("span",{className:"font-medium",children:i.rating}),s.jsxs("span",{className:"text-stone-400",children:["(",i.reviews," reviews)"]})]}):s.jsx("span",{className:"text-stone-400 text-sm",children:"New listing"})]})]})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.species.map(M=>s.jsx("span",{className:"px-3 py-1 bg-brand-50 text-brand-700 rounded-full text-sm",children:M},M))})]}),s.jsx("div",{className:"flex border-b border-stone-200 overflow-x-auto",children:Kk.map(M=>s.jsxs("button",{onClick:()=>m(M.id),className:`flex-shrink-0 px-4 py-3 text-sm font-medium capitalize transition whitespace-nowrap ${p===M.id?"text-brand-700 border-b-2 border-brand-700":"text-stone-500 hover:text-stone-700"}`,children:[M.label,M.id==="reviews"&&i.reviewsList&&s.jsxs("span",{className:"ml-1 text-stone-400",children:["(",i.reviewsList.length,")"]})]},M.id))}),s.jsxs("div",{className:"p-6",children:[p==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"About This Water"}),s.jsx("p",{className:"text-stone-600 whitespace-pre-line",children:i.fullDescription})]}),i.season&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Season"}),s.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-2",children:[s.jsx(Oi,{className:"w-5 h-5 text-brand-600"}),s.jsxs("span",{children:["Opens: ",s.jsx("strong",{children:i.season.opens})]}),s.jsx("span",{className:"mx-2",children:""}),s.jsxs("span",{children:["Closes: ",s.jsx("strong",{children:i.season.closes})]})]}),i.season.bestMonths&&s.jsxs("p",{className:"text-stone-600",children:["Best months: ",s.jsx("strong",{children:i.season.bestMonths.join(", ")})]})]}),s.jsx(bk,{fishery:i})]}),p==="species"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Target Species"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.species.map(M=>s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-stone-50 rounded-xl",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-xl flex items-center justify-center",children:s.jsx(Lt,{className:"w-6 h-6 text-brand-700"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-stone-900",children:M}),s.jsx("p",{className:"text-sm text-stone-500",children:"Available year-round"})]})]},M))}),i.expectations?.recordFish&&s.jsxs("div",{className:"mt-6 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[s.jsx("h4",{className:"font-semibold text-amber-800 mb-1",children:"Record Fish"}),s.jsx("p",{className:"text-amber-700",children:i.expectations.recordFish})]})]}),p==="facilities"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Amenities"}),i.amenities&&i.amenities.length>0?s.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:i.amenities.map(M=>{const H=M.toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-"),Z=Gk[H]||Or;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Z,{className:"w-4 h-4 text-green-700"})}),s.jsx("span",{className:"text-stone-700",children:M})]},M)})}):s.jsx("p",{className:"text-stone-500",children:"Contact the fishery for facility information."}),i.rods>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Rod Allocation"}),s.jsxs("p",{className:"text-stone-600",children:[i.rods," rods available"]})]})]}),p==="rules"&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Fishery Rules"}),i.rules&&i.rules.length>0?s.jsx("ul",{className:"space-y-3",children:i.rules.map((M,H)=>s.jsxs("li",{className:"flex items-start gap-3 text-stone-600",children:[s.jsx("span",{className:"w-6 h-6 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx("span",{className:"text-brand-700 text-sm font-medium",children:H+1})}),M]},H))}):s.jsx("p",{className:"text-stone-500",children:"Contact the fishery for specific rules."})]}),p==="catches"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx(qx,{waterId:i.id,waterName:i.name,user:n,onSuccess:()=>{}}),s.jsx(kk,{waterId:i.id})]}),p==="reviews"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx(Vx,{waterId:i.id,user:n,onSuccess:()=>{}}),s.jsx(Zx,{reviews:i.reviewsList||[]})]}),p==="nearby"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Nearby Accommodation"}),s.jsxs("p",{className:"text-stone-600 mb-4",children:["Find places to stay within 10 miles of ",i.name,"."]}),i.coordinates&&s.jsxs(s.Fragment,{children:[s.jsx(Uk,{waterCoordinates:i.coordinates,waterName:i.name,nearbyStays:i.nearbyStays||[]}),s.jsx(Zk,{})]})]}),i.nearbyStays&&i.nearbyStays.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-4",children:"Featured Stays"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.nearbyStays.map(M=>s.jsx(qk,{accommodation:M},M.id))})]})]})]})]})}),s.jsx("div",{className:"w-full lg:w-96 flex-shrink-0",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 sticky top-24",children:[A?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center mb-2",children:[s.jsx("span",{className:"text-sm text-stone-500",children:"From"}),s.jsxs("span",{className:"text-3xl font-bold text-stone-900 ml-2",children:["",xe()]}),s.jsxs("span",{className:"text-stone-500 ml-1",children:["/",i.bookingOptions.find(M=>parseInt(M.price)===xe())?.priceType||"day"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm font-medium text-stone-700",children:"Choose an option:"}),Object.entries(q).map(([M,H])=>{const Z=M==="extras";return s.jsxs("div",{children:[s.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide mb-1.5 ${(xu[M]||xu["day-tickets"]).text}`,children:Qk[M]||M}),s.jsx("div",{className:"space-y-2",children:H.map(G=>{const ie=xu[G.category]||xu["day-tickets"];if(Z){const le=P.includes(G.id);return s.jsxs("button",{onClick:()=>{U(le?P.filter(z=>z!==G.id):[...P,G.id])},className:`w-full text-left p-3 rounded-xl border-2 transition-all ${le?`${ie.activeBg} ${ie.activeBorder} shadow-sm`:`bg-white border-stone-200 hover:${ie.bg} hover:border-stone-300`}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-stone-900 text-sm",children:G.name}),s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${G.bookingType==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:G.bookingType==="instant"?"Book":"Enquire"})]}),G.description&&s.jsx("p",{className:"text-xs text-stone-500 mt-0.5 truncate",children:G.description})]}),s.jsxs("div",{className:"text-right flex-shrink-0 ml-3",children:[s.jsxs("span",{className:"font-bold text-stone-900",children:["",G.price]}),s.jsxs("span",{className:"text-stone-500 text-xs ml-0.5",children:["/",G.priceType]})]})]}),le&&s.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5 text-brand-600"}),s.jsx("span",{className:"text-xs text-brand-600 font-medium",children:"Added"})]})]},G.id)}else{const le=T===G.id||!T&&i.bookingOptions[0]?.id===G.id;return s.jsxs("button",{onClick:()=>S(G.id),className:`w-full text-left p-3 rounded-xl border-2 transition-all ${le?`${ie.activeBg} ${ie.activeBorder} shadow-sm`:`bg-white border-stone-200 hover:${ie.bg} hover:border-stone-300`}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-semibold text-stone-900 text-sm",children:G.name}),s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${G.bookingType==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:G.bookingType==="instant"?"Book":"Enquire"})]}),G.description&&s.jsx("p",{className:"text-xs text-stone-500 mt-0.5 truncate",children:G.description})]}),s.jsxs("div",{className:"text-right flex-shrink-0 ml-3",children:[s.jsxs("span",{className:"font-bold text-stone-900",children:["",G.price]}),s.jsxs("span",{className:"text-stone-500 text-xs ml-0.5",children:["/",G.priceType]})]})]}),le&&s.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[s.jsx(Or,{className:"w-3.5 h-3.5 text-brand-600"}),s.jsx("span",{className:"text-xs text-brand-600 font-medium",children:"Selected"})]})]},G.id)}})})]},M)})]}),(T||ae)&&P.length>0&&s.jsx("div",{className:"pt-3 border-t border-stone-200",children:s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex justify-between text-stone-600",children:[s.jsx("span",{children:"Primary option:"}),s.jsxs("span",{className:"font-medium",children:["",ae?.price||0]})]}),P.map(M=>{const H=i.bookingOptions.find(Z=>Z.id===M);return s.jsxs("div",{className:"flex justify-between text-stone-600",children:[s.jsxs("span",{className:"ml-2",children:[H?.name,":"]}),s.jsxs("span",{className:"font-medium",children:["",H?.price||0]})]},M)}),s.jsxs("div",{className:"flex justify-between font-semibold text-stone-900 pt-2 border-t border-stone-200",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["",(ae?.price||0)+P.reduce((M,H)=>{const Z=i.bookingOptions.find(G=>G.id===H);return M+(parseInt(Z?.price)||0)},0)]})]})]})}),ae&&s.jsxs("div",{className:"space-y-3 pt-2",children:[s.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-200 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Select Dates"}),s.jsx("p",{className:"text-xs text-stone-500 mb-2",children:O?Y?`${$} ${$===1?"day":"days"} selected`:"Now click an end date":"Click a start date"}),s.jsx(yp,{selected:O,onChange:M=>w(M),availability:i.availability||{},selectsRange:!0,startDate:O,endDate:Y,inline:!0,showPrice:!1})]}),O&&s.jsxs("div",{className:"pt-3 border-t border-stone-300",children:[s.jsxs("div",{className:"flex justify-between text-sm text-stone-600",children:[s.jsxs("span",{children:[ae.name," x ",$," ",$===1?"day":"days"]}),s.jsxs("span",{className:"font-medium",children:["",(ae.price||0)*$]})]}),P.length>0&&P.map(M=>{const H=i.bookingOptions.find(Z=>Z.id===M);return s.jsxs("div",{className:"flex justify-between text-sm text-stone-600 mt-1",children:[s.jsxs("span",{children:[H?.name," x ",$]}),s.jsxs("span",{className:"font-medium",children:["",(H?.price||0)*$]})]},M)}),s.jsxs("div",{className:"flex justify-between font-bold text-stone-900 mt-2 pt-2 border-t border-stone-300",children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{children:["",((ae.price||0)+P.reduce((M,H)=>{const Z=i.bookingOptions.find(G=>G.id===H);return M+(parseInt(Z?.price)||0)},0))*$]})]})]})]}),ae.bookingType==="enquiry"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message (optional)"}),s.jsx("textarea",{rows:3,value:_,onChange:M=>N(M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl bg-white",placeholder:"Tell them about your experience, number in party, etc."})]}),s.jsx("button",{onClick:fe,disabled:!ee,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:n?ae.bookingType==="instant"?`Book ${ae.name}`:`Enquire About ${ae.name}`:"Sign In to Book"}),ae.bookingType==="instant"&&s.jsxs("p",{className:"text-center text-sm text-stone-500",children:[s.jsx(Or,{className:"w-4 h-4 inline mr-1"}),"Instant confirmation"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-center mb-6",children:i.price===0?s.jsx("span",{className:"text-3xl font-bold text-green-600",children:"Free Access"}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-3xl font-bold text-stone-900",children:["",ee?de():i.price]}),s.jsxs("span",{className:"text-stone-500 ml-1",children:["/",i.priceType]})]})}),i.bookingType==="instant"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Select Date"}),s.jsx(yp,{selected:O,onChange:M=>w(M),availability:i.availability||{},selectsRange:!0,startDate:O,endDate:Y,inline:!0,showPrice:!1})]}),s.jsx("button",{onClick:fe,disabled:!ee,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:n?"Book Now":"Sign In to Book"}),s.jsxs("p",{className:"text-center text-sm text-stone-500",children:[s.jsx(Or,{className:"w-4 h-4 inline mr-1"}),"Instant confirmation"]})]}),i.bookingType==="enquiry"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-stone-600 text-center",children:"This is a premium beat with limited availability. Send an enquiry to check dates."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Preferred Date(s)"}),s.jsx(gk,{startDate:g[0],endDate:g[1],onChange:M=>w(M),placeholder:"Select preferred dates"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message"}),s.jsx("textarea",{rows:3,value:_,onChange:M=>N(M.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Tell them about your experience, number in party, etc."})]}),s.jsx("button",{onClick:fe,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition",children:n?"Send Enquiry":"Sign In to Enquire"})]}),i.bookingType==="free"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[s.jsx(Or,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"No Booking Required"}),s.jsx("p",{className:"text-sm text-green-700",children:"This water is freely accessible with a valid EA rod licence."})]}),i.openingHours&&s.jsxs("div",{className:"text-sm text-stone-600",children:[s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("strong",{children:"Opening times:"})]}),s.jsxs("p",{className:"ml-6",children:["Weekdays: ",i.openingHours.weekday]}),s.jsxs("p",{className:"ml-6",children:["Weekends: ",i.openingHours.weekend]})]})]})]}),i.contact&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-stone-200",children:[s.jsx("p",{className:"text-sm text-stone-500 mb-2",children:"Questions? Contact"}),s.jsx("p",{className:"font-medium text-stone-800",children:i.contact.name}),i.contact.email&&s.jsxs("a",{href:`mailto:${i.contact.email}`,className:"flex items-center gap-2 text-sm text-brand-600 hover:text-brand-800 mt-1",children:[s.jsx(us,{className:"w-4 h-4"}),i.contact.email]}),i.contact.phone&&s.jsxs("a",{href:`tel:${i.contact.phone}`,className:"flex items-center gap-2 text-sm text-brand-600 hover:text-brand-800 mt-1",children:[s.jsx(_p,{className:"w-4 h-4"}),i.contact.phone]})]})]})})]})})]})},Xk=["Fly Fishing","Salmon","Trout","Sea Fishing","Bass","Shore Fishing","Carp Fishing","Coarse","Beginners","Fly Tying","Women's Courses","Kids/Juniors","Pike","Barbel"],Wg={specialties:[],region:"",priceRange:[0,500],rating:0,availability:""},Ml=({title:i,children:o,defaultOpen:n=!0})=>{const[r,u]=C.useState(n);return s.jsxs("div",{className:"border-b border-stone-200 pb-4 mb-4 last:border-0 last:pb-0 last:mb-0",children:[s.jsxs("button",{onClick:()=>u(!r),className:"flex items-center justify-between w-full text-left font-medium text-stone-800 mb-3",children:[i,r?s.jsx(Zl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Sa,{className:"w-4 h-4 text-stone-400"})]}),r&&o]})},t0=({filters:i,onFilterChange:o,onClearFilters:n})=>{const r=[i.specialties.length>0,i.region,i.priceRange[0]!==0||i.priceRange[1]!==500,i.rating>0,i.availability].filter(Boolean).length;return s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Xg,{className:"w-5 h-5 text-brand-600"}),"Filters",r>0&&s.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:r})]}),r>0&&s.jsx("button",{onClick:n,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear all"})]}),s.jsx(Ml,{title:"Specialties",children:s.jsx("div",{className:"flex flex-wrap gap-1.5",children:Xk.map(u=>s.jsx("button",{onClick:()=>{const f=i.specialties.includes(u)?i.specialties.filter(p=>p!==u):[...i.specialties,u];o({...i,specialties:f})},className:`px-2.5 py-1 rounded-full text-xs transition ${i.specialties.includes(u)?"bg-brand-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:u},u))})}),s.jsx(Ml,{title:"Region",children:s.jsxs("select",{value:i.region,onChange:u=>o({...i,region:u.target.value}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm bg-white",children:[s.jsx("option",{value:"",children:"All Regions"}),Ca.map(u=>s.jsx("option",{value:u.name,children:u.name},u.id))]})}),s.jsx(Ml,{title:"Price Range",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Min ()"}),s.jsx("input",{type:"number",min:0,max:i.priceRange[1],value:i.priceRange[0],onChange:u=>o({...i,priceRange:[parseInt(u.target.value)||0,i.priceRange[1]]}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm"})]}),s.jsx("span",{className:"text-stone-400 mt-4",children:""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Max ()"}),s.jsx("input",{type:"number",min:i.priceRange[0],value:i.priceRange[1],onChange:u=>o({...i,priceRange:[i.priceRange[0],parseInt(u.target.value)||500]}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm"})]})]}),s.jsxs("p",{className:"text-xs text-stone-400",children:["",i.priceRange[0],"  ",i.priceRange[1]," per day"]})]})}),s.jsx(Ml,{title:"Minimum Rating",defaultOpen:!1,children:s.jsx("div",{className:"flex gap-2",children:[0,4,4.5,4.8].map(u=>s.jsx("button",{onClick:()=>o({...i,rating:u}),className:`px-3 py-1.5 rounded-full text-sm transition ${i.rating===u?"bg-brand-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:u===0?"Any":`${u}+`},u))})}),s.jsx(Ml,{title:"Availability",defaultOpen:!1,children:s.jsx("div",{className:"space-y-2",children:["","Weekdays","Weekends","Evenings"].map(u=>s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"availability",checked:i.availability===u,onChange:()=>o({...i,availability:u}),className:"w-4 h-4 border-stone-300 text-brand-600 focus:ring-brand-500"}),s.jsx("span",{className:"text-sm text-stone-600",children:u||"Any"})]},u||"any"))})})]})},Jk=({isOpen:i,onClose:o,filters:n,onFilterChange:r,onClearFilters:u})=>i?s.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:o}),s.jsxs("div",{className:"absolute inset-y-0 left-0 w-full max-w-sm bg-white shadow-xl flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-stone-200",children:[s.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Zu,{className:"w-5 h-5"})," Filters"]}),s.jsx("button",{onClick:o,className:"p-2 hover:bg-stone-100 rounded-lg",children:s.jsx(Ar,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:s.jsx(t0,{filters:n,onFilterChange:r,onClearFilters:u})}),s.jsxs("div",{className:"p-4 border-t border-stone-200 flex gap-3",children:[s.jsx("button",{onClick:u,className:"flex-1 py-3 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Clear All"}),s.jsx("button",{onClick:o,className:"flex-1 py-3 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Show Results"})]})]})]}):null,eN=({onSelectInstructor:i,onBack:o,favouriteInstructors:n=[],onToggleFavouriteInstructor:r})=>{const[u,f]=C.useState([]),[p,m]=C.useState(!0),[g,w]=C.useState(Wg),[_,N]=C.useState("rating"),[E,D]=C.useState(!1),[T,S]=C.useState(""),[P,U]=C.useState(25);C.useEffect(()=>{(async()=>{try{const A=await X0.getAll();A&&A.length>0?f(A):f(tp)}catch(A){console.log("API unavailable, using local data:",A.message),f(tp)}m(!1)})()},[]);const O=u.filter($=>{if(T){const A=T.toLowerCase(),q=($.name||"").toLowerCase().includes(A),ae=($.location||$.region||"").toLowerCase().includes(A),fe=($.specialties||[]).some(xe=>xe.toLowerCase().includes(A)),de=($.title||"").toLowerCase().includes(A);if(!q&&!ae&&!fe&&!de)return!1}return!(g.specialties.length>0&&!g.specialties.some(q=>($.specialties||[]).includes(q))||g.region&&!($.region||$.location||"").toLowerCase().includes(g.region.toLowerCase())||$.price<g.priceRange[0]||$.price>g.priceRange[1]||g.rating>0&&($.rating||0)<g.rating||g.availability&&!($.availability||[]).includes(g.availability))}).sort(($,A)=>{switch(_){case"rating":return(A.rating||0)-($.rating||0);case"price-low":return($.price||0)-(A.price||0);case"price-high":return(A.price||0)-($.price||0);case"reviews":return(A.reviews||0)-($.reviews||0);default:return 0}}),Y=()=>w(Wg),ee=[g.specialties.length>0,g.region,g.priceRange[0]!==0||g.priceRange[1]!==500,g.rating>0,g.availability].filter(Boolean).length;return s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx("div",{className:"bg-white border-b border-stone-200 py-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("button",{onClick:o,className:"flex items-center text-stone-500 hover:text-stone-700 transition",children:s.jsx(cs,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Find a Fishing Instructor"}),s.jsx("p",{className:"text-stone-500 text-sm",children:p?"Loading instructors...":`${O.length} instructors found`})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),s.jsx("input",{type:"text",value:T,onChange:$=>S($.target.value),placeholder:"Search by name, location, or specialty...",className:"w-full pl-9 pr-4 py-2.5 border border-stone-200 rounded-xl text-sm focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("select",{value:P,onChange:$=>U(Number($.target.value)),className:"px-3 py-2.5 border border-stone-200 rounded-xl text-sm bg-white sm:w-40",children:[s.jsx("option",{value:5,children:"Within 5 miles"}),s.jsx("option",{value:10,children:"Within 10 miles"}),s.jsx("option",{value:25,children:"Within 25 miles"}),s.jsx("option",{value:50,children:"Within 50 miles"}),s.jsx("option",{value:100,children:"Within 100 miles"})]})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:s.jsx("div",{className:"sticky top-24 max-h-[calc(100vh-7rem)] overflow-y-auto",children:s.jsx(t0,{filters:g,onFilterChange:w,onClearFilters:Y})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between mb-5",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>D(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-white border border-stone-200 rounded-xl hover:bg-stone-50 text-sm",children:[s.jsx(Zu,{className:"w-4 h-4"}),"Filters",ee>0&&s.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:ee})]}),ee>0&&s.jsx("button",{onClick:Y,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear filters"})]}),s.jsxs("select",{value:_,onChange:$=>N($.target.value),className:"px-3 py-2 border border-stone-200 rounded-xl text-sm bg-white",children:[s.jsx("option",{value:"rating",children:"Top Rated"}),s.jsx("option",{value:"price-low",children:"Price: Low to High"}),s.jsx("option",{value:"price-high",children:"Price: High to Low"}),s.jsx("option",{value:"reviews",children:"Most Reviews"})]})]}),p?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Ri,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),s.jsx("p",{className:"text-stone-500",children:"Loading instructors..."})]}):O.length>0?s.jsx("div",{className:"space-y-4",children:O.map($=>s.jsx(Pv,{instructor:$,onClick:()=>i($),isFavourite:n.includes($.id),onToggleFavourite:r},$.id))}):s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Pi,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No instructors match your filters"}),s.jsx("p",{className:"text-stone-500 mb-4",children:"Try adjusting your search criteria"}),s.jsx("button",{onClick:Y,className:"px-4 py-2 text-brand-700 hover:bg-brand-50 rounded-lg transition",children:"Clear all filters"})]})]})]})}),s.jsx(Jk,{isOpen:E,onClose:()=>D(!1),filters:g,onFilterChange:w,onClearFilters:Y})]})},vu={"AAPGAI Master":"bg-amber-100 text-amber-800 border-amber-300",AAPGAI:"bg-amber-50 text-amber-700 border-amber-200","GAIA Advanced":"bg-blue-100 text-blue-800 border-blue-300","GAIA Level 2":"bg-blue-50 text-blue-700 border-blue-200",SGAIC:"bg-purple-100 text-purple-800 border-purple-300","Angling Trust Level 2":"bg-green-100 text-green-800 border-green-300","Angling Trust Level 3":"bg-green-100 text-green-800 border-green-300","First Aid":"bg-red-100 text-red-700 border-red-300","River Rescue":"bg-cyan-100 text-cyan-800 border-cyan-300","DBS Checked":"bg-stone-100 text-stone-700 border-stone-300",DBS:"bg-stone-100 text-stone-700 border-stone-300","Wild Trout Trust Ambassador":"bg-teal-100 text-teal-800 border-teal-300","Tenkara UK Ambassador":"bg-indigo-100 text-indigo-800 border-indigo-300","Tenkara Ambassador":"bg-indigo-100 text-indigo-800 border-indigo-300"},Yg={AAPGAI:jn,"AAPGAI Master":jn,GAIA:Mh,"GAIA Advanced":Mh,"GAIA Level 2":Mh,SGAIC:jn,"Angling Trust":Do,"Angling Trust Level 2":Do,"Angling Trust Level 3":Do,"First Aid":ss,"River Rescue":ss,DBS:Zt,"DBS Checked":Zt,Ambassador:jn,"Wild Trout Trust Ambassador":jn,"Tenkara UK Ambassador":jn,"Tenkara Ambassador":jn},tN=i=>{for(const o in Yg)if(i.toLowerCase().includes(o.toLowerCase()))return Yg[o];return jn},nN=i=>{if(vu[i])return vu[i];for(const o in vu)if(i.toLowerCase().includes(o.toLowerCase()))return vu[o];return"bg-stone-100 text-stone-700 border-stone-300"},rN=({certification:i,size:o="md"})=>{const n=tN(i),r=nN(i),u={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"},f={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return s.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full font-medium border ${r} ${u[o]}`,children:[s.jsx(n,{className:f[o]}),i]})},sN=({certifications:i=[],size:o="md"})=>!i||i.length===0?null:s.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((n,r)=>s.jsx(rN,{certification:n,size:o},r))}),iN=({itinerary:i=[]})=>!i||i.length===0?null:s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-brand-600"}),"Typical Day"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-[27px] top-4 bottom-4 w-0.5 bg-brand-200"}),s.jsx("div",{className:"space-y-4",children:i.map((o,n)=>s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"relative z-10",children:s.jsx("div",{className:"w-14 h-8 bg-brand-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-brand-700",children:o.time})})}),s.jsx("div",{className:"flex-1 bg-stone-50 rounded-xl p-4",children:s.jsx("p",{className:"text-stone-700",children:o.activity})})]},n))})]})]}),aN=[{id:"about",label:"About"},{id:"learn",label:"What You Learn"},{id:"day",label:"Typical Day"},{id:"reviews",label:"Reviews"}],Hg={"Atlantic Salmon":"","Spey Casting":"","Scottish Rivers":"",Trout:"",Stillwater:"",Beginners:"","Women's Courses":"",Carp:"",Pike:"","Wild Brown Trout":"","Small Streams":"","Dry Fly":"",Tenkara:""},oN=({instructor:i,onBack:o,user:n,onSignIn:r})=>{const[u,f]=C.useState("about"),[p,m]=C.useState(!1),[g,w]=C.useState(null),[_,N]=C.useState(""),[E,D]=C.useState(""),[T,S]=C.useState({name:"",email:"",phone:"",preferredDates:"",message:""}),P=()=>{if(!n){r();return}m(!0)};if(p)return s.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center shadow-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:s.jsx(Or,{className:"w-8 h-8"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:i.hasCalendar?"Booking Request Sent!":"Message Sent!"}),s.jsxs("p",{className:"text-stone-600 mb-6",children:[i.name," will review your request and get back to you within 24-48 hours."]}),s.jsx("button",{onClick:o,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Back to Instructors"})]})});const U={};return i.availability&&i.availability.forEach(O=>{U[O]={status:"available",price:i.price}}),s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx("div",{className:"bg-brand-700 text-white py-8",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("button",{onClick:o,className:"flex items-center text-brand-200 hover:text-white mb-4",children:[s.jsx(cs,{className:"w-4 h-4"}),s.jsx("span",{children:"Back to Instructors"})]})})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-4 pb-12",children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden",children:[s.jsxs("div",{className:"flex flex-col",children:[i.gallery&&i.gallery.length>1?s.jsx(ix,{images:i.gallery,alt:i.name}):s.jsx("div",{className:"h-48 md:h-64",style:{background:i.image}}),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:i.name}),s.jsx("p",{className:"text-brand-600 font-medium mb-2",children:i.title}),s.jsxs("div",{className:"flex items-center text-stone-500 mb-4",children:[s.jsx(Sn,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:i.location})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.specialties.map(O=>s.jsxs("span",{className:"px-3 py-1.5 bg-brand-50 text-brand-700 text-sm rounded-full flex items-center gap-1",children:[Hg[O]&&s.jsx("span",{children:Hg[O]}),O]},O))}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(vr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),s.jsx("span",{className:"font-medium",children:i.rating}),s.jsxs("span",{className:"text-stone-400",children:["(",i.reviews," reviews)"]})]}),i.website&&s.jsxs("a",{href:`https://${i.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-brand-600 hover:text-brand-800",children:[s.jsx(iv,{className:"w-4 h-4"})," Website"]})]})]})]}),s.jsx("div",{className:"flex border-b border-stone-200 overflow-x-auto",children:aN.map(O=>s.jsxs("button",{onClick:()=>f(O.id),className:`flex-shrink-0 px-4 py-3 text-sm font-medium capitalize transition whitespace-nowrap ${u===O.id?"text-brand-700 border-b-2 border-brand-700":"text-stone-500 hover:text-stone-700"}`,children:[O.label,O.id==="reviews"&&i.reviewsList&&s.jsxs("span",{className:"ml-1 text-stone-400",children:["(",i.reviewsList.length,")"]})]},O.id))}),s.jsxs("div",{className:"p-6",children:[u==="about"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg mb-3",children:["About ",i.name.split(" ")[0]]}),s.jsx("p",{className:"text-stone-600 whitespace-pre-line",children:i.fullBio})]}),i.teachingPhilosophy&&s.jsxs("div",{className:"bg-brand-50 rounded-xl p-5 border-l-4 border-brand-500",children:[s.jsx("h3",{className:"font-semibold text-brand-800 mb-2",children:"Teaching Philosophy"}),s.jsxs("p",{className:"text-brand-700 italic",children:['"',i.teachingPhilosophy,'"']})]}),i.certifications&&i.certifications.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Certifications"}),s.jsx(sN,{certifications:i.certifications})]})]}),u==="learn"&&s.jsxs("div",{className:"space-y-6",children:[i.whatYouLearn&&i.whatYouLearn.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-4",children:"What You'll Learn"}),s.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:i.whatYouLearn.map((O,Y)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-stone-50 rounded-xl",children:[s.jsx("div",{className:"w-6 h-6 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(Or,{className:"w-4 h-4 text-brand-700"})}),s.jsx("span",{className:"text-stone-700",children:O})]},Y))})]}),i.equipmentProvided&&i.equipmentProvided.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Equipment Provided"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.equipmentProvided.map(O=>s.jsx("span",{className:"px-3 py-1.5 bg-stone-100 text-stone-700 rounded-full text-sm",children:O},O))})]})]}),u==="day"&&s.jsx("div",{children:i.typicalDay&&i.typicalDay.length>0?s.jsx(iN,{itinerary:i.typicalDay}):s.jsxs("p",{className:"text-stone-500",children:["Contact ",i.name.split(" ")[0]," to discuss the structure of your session."]})}),u==="reviews"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx(Vx,{instructorId:i.id,user:n,onSuccess:()=>{}}),s.jsx(Zx,{reviews:i.reviewsList||[]})]})]})]})}),s.jsx("div",{className:"w-full lg:w-96 flex-shrink-0",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 sticky top-24",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("span",{className:"text-3xl font-bold text-stone-900",children:["",i.price]}),s.jsxs("span",{className:"text-stone-500 ml-1",children:["/",i.priceType]})]}),i.hasCalendar?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Select Date"}),s.jsx(yp,{selected:g,onChange:w,availability:U,placeholder:"Choose your session date",showPrice:!1})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Experience Level"}),s.jsxs("select",{value:E,onChange:O=>D(O.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[s.jsx("option",{value:"",children:"Select level"}),s.jsx("option",{value:"beginner",children:"Complete Beginner"}),s.jsx("option",{value:"some",children:"Some Experience"}),s.jsx("option",{value:"intermediate",children:"Intermediate"}),s.jsx("option",{value:"advanced",children:"Advanced"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message (optional)"}),s.jsx("textarea",{rows:3,value:_,onChange:O=>N(O.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Tell them what you'd like to focus on..."})]}),s.jsx("button",{onClick:P,disabled:!g,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:n?"Request Booking":"Sign In to Book"}),s.jsx("p",{className:"text-center text-sm text-stone-500",children:"You won't be charged yet"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-sm text-stone-600 text-center mb-4",children:["Contact ",i.name.split(" ")[0]," to discuss availability and book your session."]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Name *"}),s.jsx("input",{type:"text",value:T.name,onChange:O=>S({...T,name:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),s.jsx("input",{type:"email",value:T.email,onChange:O=>S({...T,email:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),s.jsx("input",{type:"tel",value:T.phone,onChange:O=>S({...T,phone:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"07123 456789"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Preferred Dates"}),s.jsx("input",{type:"text",value:T.preferredDates,onChange:O=>S({...T,preferredDates:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"e.g. Weekends in March"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message *"}),s.jsx("textarea",{rows:3,value:T.message,onChange:O=>S({...T,message:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Tell them about your experience level and what you'd like to learn..."})]}),s.jsx("button",{onClick:P,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition",children:"Send Message"})]})]})})]})})]})},lN=({onSearch:i,onListWater:o})=>s.jsxs("div",{children:[s.jsx("section",{className:"hero-gradient text-white py-16 md:py-24",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"About TightLines"}),s.jsx("p",{className:"text-lg md:text-xl text-brand-100 max-w-2xl mx-auto",children:"The UK's leading fishing booking platform  connecting anglers with the best waters, guides, and experiences across the country."})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-stone-900 mb-6",children:"Our Story"}),s.jsxs("div",{className:"prose prose-stone max-w-none space-y-4 text-stone-700 leading-relaxed",children:[s.jsx("p",{children:"TightLines was born from a simple frustration: finding and booking quality fishing in the UK was far harder than it should be. Information was scattered across outdated websites, social media groups, and word-of-mouth. We knew there had to be a better way."}),s.jsx("p",{children:"We're a team of passionate anglers who believe that whether you're casting for your first fish or chasing specimen salmon on a legendary beat, the experience of finding, comparing, and booking your fishing should be as enjoyable as the fishing itself."}),s.jsx("p",{children:"Our platform brings together game, coarse, and sea fishing venues from every corner of the UK  from the chalk streams of Hampshire to the wild lochs of Scotland, from specimen carp lakes in the Midlands to the surf-swept beaches of the South West."})]})]})}),s.jsx("section",{className:"py-16 bg-stone-50",children:s.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-12",children:"What We Stand For"}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:s.jsx(Sn,{className:"w-6 h-6"}),title:"Discovery",desc:"We make it easy to explore hundreds of waters across the UK  filter by species, region, price, or fishing type to find your perfect day out."},{icon:s.jsx(Do,{className:"w-6 h-6"}),title:"Trust & Transparency",desc:"Verified reviews, clear pricing, and honest descriptions. No hidden fees, no surprises  just great fishing."},{icon:s.jsx(ss,{className:"w-6 h-6"}),title:"Conservation",desc:"We work with fisheries that prioritise sustainable practices, catch and release policies, and the long-term health of our waterways."}].map((n,r)=>s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-brand-100 text-brand-700 rounded-xl flex items-center justify-center mx-auto mb-4",children:n.icon}),s.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:n.title}),s.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:n.desc})]},r))})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{number:"500+",label:"Waters Listed"},{number:"50+",label:"Qualified Guides"},{number:"12,000+",label:"Bookings Made"},{number:"30+",label:"UK Regions"}].map((n,r)=>s.jsxs("div",{children:[s.jsx("span",{className:"text-3xl md:text-4xl font-bold text-brand-700",children:n.number}),s.jsx("p",{className:"text-stone-600 text-sm mt-1",children:n.label})]},r))})})}),s.jsx("section",{className:"py-16 bg-stone-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-6",children:"For Fisheries & Instructors"}),s.jsx("p",{className:"text-center text-stone-600 max-w-2xl mx-auto mb-10",children:"TightLines isn't just for anglers. We help fishery owners and qualified instructors reach a wider audience, manage bookings, and grow their business."}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center mb-4",children:s.jsx(Lt,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:"List Your Water"}),s.jsx("p",{className:"text-stone-600 text-sm leading-relaxed mb-4",children:"Get your fishery in front of thousands of anglers. Set up your own booking options, manage enquiries, and track performance  all for free during our launch period."}),s.jsxs("button",{onClick:o,className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium text-sm",children:["List Your Water ",s.jsx(Rl,{className:"w-4 h-4"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 text-green-700 rounded-lg flex items-center justify-center mb-4",children:s.jsx(Pi,{className:"w-5 h-5"})}),s.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:"Become an Instructor"}),s.jsx("p",{className:"text-stone-600 text-sm leading-relaxed mb-4",children:"Showcase your skills and certifications, manage your availability, and connect with anglers looking to learn. We handle the bookings so you can focus on teaching."}),s.jsxs("button",{onClick:o,className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium text-sm",children:["Register as Instructor ",s.jsx(Rl,{className:"w-4 h-4"})]})]})]})]})}),s.jsx("section",{className:"py-16 bg-brand-700 text-white",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to Find Your Next Fishing Adventure?"}),s.jsx("p",{className:"text-brand-100 mb-8",children:"Browse waters, book day tickets, or connect with expert guides  all in one place."}),s.jsx("button",{onClick:i,className:"px-8 py-3 bg-white text-brand-700 rounded-xl font-semibold hover:bg-brand-50 transition",children:"Browse All Waters"})]})})]}),cN=()=>{const[i,o]=C.useState({name:"",email:"",subject:"",message:""}),[n,r]=C.useState(!1),[u,f]=C.useState(!1),p=async m=>{if(m.preventDefault(),!(!i.name||!i.email||!i.message)){f(!0);try{(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,email:i.email,message:`[${i.subject||"General Enquiry"}] ${i.message}`,type:"enquiry"})})).ok&&r(!0)}catch(g){console.error("Contact form error:",g)}f(!1)}};return n?s.jsxs("div",{children:[s.jsx("section",{className:"hero-gradient text-white py-16",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Contact Us"})})}),s.jsx("section",{className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-md mx-auto px-4 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Zt,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Message Sent!"}),s.jsx("p",{className:"text-stone-600 leading-relaxed",children:"Thanks for getting in touch. We'll get back to you within 24 hours."})]})})]}):s.jsxs("div",{children:[s.jsx("section",{className:"hero-gradient text-white py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-lg text-brand-100 max-w-2xl mx-auto",children:"Got a question, feedback, or need help with a booking? We'd love to hear from you."})]})}),s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"max-w-5xl mx-auto px-4",children:s.jsxs("div",{className:"grid md:grid-cols-5 gap-12",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-4",children:"Get in Touch"}),s.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:"Whether you're an angler looking for help, a fishery owner wanting to list your water, or just have a suggestion  drop us a line."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-100 text-brand-700 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(us,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-stone-900 text-sm",children:"Email"}),s.jsx("p",{className:"text-stone-600 text-sm",children:"hello@tightlines.co.uk"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-100 text-brand-700 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(tr,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-stone-900 text-sm",children:"Response Time"}),s.jsx("p",{className:"text-stone-600 text-sm",children:"We aim to reply within 24 hours"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-100 text-brand-700 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Sn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-stone-900 text-sm",children:"Based in"}),s.jsx("p",{className:"text-stone-600 text-sm",children:"United Kingdom"})]})]})]}),s.jsxs("div",{className:"bg-stone-50 rounded-xl p-5 border border-stone-200",children:[s.jsx("h3",{className:"font-medium text-stone-900 text-sm mb-2",children:"Common Questions"}),s.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Lt,{className:"w-4 h-4 text-brand-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"How do I list my fishery on TightLines?"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Lt,{className:"w-4 h-4 text-brand-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Can I cancel or change a booking?"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(Lt,{className:"w-4 h-4 text-brand-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"How do I become a verified instructor?"})]})]})]})]}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Name *"}),s.jsx("input",{type:"text",value:i.name,onChange:m=>o({...i,name:m.target.value}),className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"John Smith",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email Address *"}),s.jsx("input",{type:"email",value:i.email,onChange:m=>o({...i,email:m.target.value}),className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"john@example.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Subject"}),s.jsxs("select",{value:i.subject,onChange:m=>o({...i,subject:m.target.value}),className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-600 bg-white focus:ring-2 focus:ring-brand-500",children:[s.jsx("option",{value:"",children:"General Enquiry"}),s.jsx("option",{value:"Booking Help",children:"Booking Help"}),s.jsx("option",{value:"List My Water",children:"List My Water"}),s.jsx("option",{value:"Become an Instructor",children:"Become an Instructor"}),s.jsx("option",{value:"Report an Issue",children:"Report an Issue"}),s.jsx("option",{value:"Partnership",children:"Partnership"}),s.jsx("option",{value:"Feedback",children:"Feedback"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message *"}),s.jsx("textarea",{value:i.message,onChange:m=>o({...i,message:m.target.value}),rows:6,className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-none",placeholder:"How can we help?",required:!0})]}),s.jsxs("button",{type:"submit",disabled:u,className:"w-full md:w-auto px-8 py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition flex items-center justify-center gap-2 disabled:opacity-50",children:[s.jsx(Qg,{className:"w-4 h-4"}),u?"Sending...":"Send Message"]})]})})]})})})]})},Yp=({status:i})=>{const o={pending:"bg-amber-100 text-amber-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"};return s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${o[i]||"bg-stone-100 text-stone-600"}`,children:i})},yu=({icon:i,label:o,value:n,color:r="brand"})=>s.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-stone-200",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 bg-${r}-100 text-${r}-700 rounded-lg flex items-center justify-center`,children:s.jsx(i,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:n}),s.jsx("p",{className:"text-stone-500 text-sm",children:o})]})]})}),Uu=({text:i,color:o="stone"})=>s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium bg-${o}-100 text-${o}-700`,children:i}),$g=({water:i,onApprove:o,onReject:n,onPreview:r,actionLoading:u})=>{const[f,p]=C.useState(!1),m=i.booking_options||i.bookingOptions||[];return s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-stone-50",onClick:()=>p(!f),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg flex-shrink-0",style:{background:i.images?.[0]?`url(${i.images[0]}) center/cover`:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)"}}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h4",{className:"font-medium text-stone-900 truncate",children:i.name}),s.jsxs("p",{className:"text-sm text-stone-500 truncate",children:[i.type,"  ",i.region,"  ",i.ownerEmail||i.owner_email||"No email"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[s.jsx(Yp,{status:i.status}),f?s.jsx(Zl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Sa,{className:"w-4 h-4 text-stone-400"})]})]}),f&&s.jsxs("div",{className:"border-t border-stone-200 p-4 bg-stone-50 space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Owner"}),s.jsx("p",{className:"font-medium",children:i.ownerName||i.owner_name||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:i.ownerEmail||i.owner_email||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:i.ownerPhone||i.owner_phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Location"}),s.jsx("p",{className:"font-medium",children:i.location||i.town_city||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Type"}),s.jsx("p",{className:"font-medium",children:i.type||"Not specified"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Region"}),s.jsx("p",{className:"font-medium",children:i.region||"Not specified"})]})]}),i.description&&s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500 text-sm mb-1",children:"Description"}),s.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-line",children:i.description})]}),(i.species||[]).length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Species"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.species.map(g=>s.jsx(Uu,{text:g,color:"brand"},g))})]}),(i.amenities||i.facilities||[]).length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:(i.amenities||i.facilities||[]).map(g=>s.jsx(Uu,{text:g,color:"green"},g))})]}),m.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-stone-500 text-sm mb-1.5",children:["Booking Options (",m.length,")"]}),s.jsx("div",{className:"space-y-2",children:m.map((g,w)=>s.jsxs("div",{className:"bg-white border border-stone-200 rounded-lg p-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-stone-900",children:g.name}),s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${g.category==="guided"?"bg-amber-100 text-amber-700":g.category==="accommodation"?"bg-purple-100 text-purple-700":g.category==="extras"?"bg-blue-100 text-blue-700":"bg-brand-50 text-brand-700"}`,children:g.category||"day-tickets"}),s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${(g.booking_type||g.bookingType)==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:(g.booking_type||g.bookingType)==="instant"?"Instant":"Enquiry"})]}),s.jsxs("span",{className:"font-bold text-stone-900",children:["",g.price,"/",g.price_type||g.priceType||"day"]})]}),g.description&&s.jsx("p",{className:"text-stone-500 text-xs mt-1",children:g.description})]},g.id||w))})]}),(i.rules||[]).length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Rules"}),s.jsx("ol",{className:"list-decimal list-inside text-sm text-stone-700 space-y-1",children:i.rules.map((g,w)=>s.jsx("li",{children:g},w))})]}),(i.images||[]).length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-stone-500 text-sm mb-1.5",children:["Images (",i.images.length,")"]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto",children:i.images.map((g,w)=>s.jsx("img",{src:g,alt:`${i.name} ${w+1}`,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0 border border-stone-200"},w))})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-stone-200",children:[r&&s.jsxs("button",{onClick:()=>r(i),className:"flex items-center gap-1.5 px-4 py-2 bg-brand-50 text-brand-700 rounded-lg text-sm font-medium hover:bg-brand-100 transition",children:[s.jsx(Gg,{className:"w-4 h-4"})," Preview"]}),i.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>o(i.id),disabled:u,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[s.jsx(Zt,{className:"w-4 h-4"})," Approve"]}),s.jsxs("button",{onClick:()=>n(i.id),disabled:u,className:"flex items-center gap-1.5 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 disabled:opacity-50 transition",children:[s.jsx(ds,{className:"w-4 h-4"})," Reject"]})]}),i.status==="approved"&&s.jsxs("button",{onClick:()=>n(i.id),disabled:u,className:"flex items-center gap-1.5 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-300 disabled:opacity-50 transition",children:[s.jsx(ds,{className:"w-4 h-4"})," Unpublish"]}),i.status==="rejected"&&s.jsxs("button",{onClick:()=>o(i.id),disabled:u,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[s.jsx(Zt,{className:"w-4 h-4"})," Approve"]})]})]})]})},Ug=({instructor:i,onApprove:o,onReject:n,actionLoading:r})=>{const[u,f]=C.useState(!1);return s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-stone-50",onClick:()=>f(!u),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium flex-shrink-0",children:(i.name||"?")[0].toUpperCase()}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("h4",{className:"font-medium text-stone-900 truncate",children:i.name}),s.jsxs("p",{className:"text-sm text-stone-500 truncate",children:[(i.specialties||[]).join(", ")||"No specialties","  ",i.email||"No email"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[s.jsx(Yp,{status:i.status}),u?s.jsx(Zl,{className:"w-4 h-4 text-stone-400"}):s.jsx(Sa,{className:"w-4 h-4 text-stone-400"})]})]}),u&&s.jsxs("div",{className:"border-t border-stone-200 p-4 bg-stone-50 space-y-4",children:[s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Email"}),s.jsx("p",{className:"font-medium",children:i.email||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Phone"}),s.jsx("p",{className:"font-medium",children:i.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Region"}),s.jsx("p",{className:"font-medium",children:i.location||i.region||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Price"}),s.jsxs("p",{className:"font-medium",children:["",i.price||0]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Experience"}),s.jsx("p",{className:"font-medium",children:i.experience?`${i.experience} years`:"Not specified"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Availability"}),s.jsx("p",{className:"font-medium",children:i.availability||"Not specified"})]})]}),i.bio&&s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500 text-sm mb-1",children:"Bio"}),s.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-line",children:i.bio})]}),(i.specialties||[]).length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Specialties"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.specialties.map(p=>s.jsx(Uu,{text:p,color:"brand"},p))})]}),(i.certifications||[]).length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.certifications.map(p=>s.jsx(Uu,{text:p,color:"amber"},p))})]}),(i.images||[]).length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-stone-500 text-sm mb-1.5",children:["Images (",i.images.length,")"]}),s.jsx("div",{className:"flex gap-2 overflow-x-auto",children:i.images.map((p,m)=>s.jsx("img",{src:p,alt:`${i.name} ${m+1}`,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0 border border-stone-200"},m))})]}),s.jsxs("div",{className:"flex gap-2 pt-2 border-t border-stone-200",children:[i.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>o(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[s.jsx(Zt,{className:"w-4 h-4"})," Approve"]}),s.jsxs("button",{onClick:()=>n(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 disabled:opacity-50 transition",children:[s.jsx(ds,{className:"w-4 h-4"})," Reject"]})]}),i.status==="approved"&&s.jsxs("button",{onClick:()=>n(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-300 disabled:opacity-50 transition",children:[s.jsx(ds,{className:"w-4 h-4"})," Unpublish"]}),i.status==="rejected"&&s.jsxs("button",{onClick:()=>o(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[s.jsx(Zt,{className:"w-4 h-4"})," Approve"]})]})]})]})},uN=({user:i})=>{const[o,n]=C.useState("pending"),[r,u]=C.useState(null),[f,p]=C.useState([]),[m,g]=C.useState([]),[w,_]=C.useState([]),[N,E]=C.useState(!0),[D,T]=C.useState(!1),[S,P]=C.useState(""),[U,O]=C.useState(null),Y=async()=>{E(!0),P("");try{const[H,Z,G,ie]=await Promise.all([ji.getStats().catch(()=>null),ji.getWaters().catch(()=>({approved:[],pending:[]})),ji.getInstructors().catch(()=>({approved:[],pending:[]})),ji.getUsers().catch(()=>({users:[]}))]);H&&u(H);const le=[...(Z.pending||[]).map(oe=>({...oe,status:oe.status||"pending"})),...(Z.approved||[]).map(oe=>({...oe,status:oe.status||"approved"}))];p(le);const z=[...(G.pending||[]).map(oe=>({...oe,status:oe.status||"pending"})),...(G.approved||[]).map(oe=>({...oe,status:oe.status||"approved"}))];g(z),_(ie.users||[])}catch{P("Failed to load admin data. Make sure you have admin permissions.")}E(!1)};C.useEffect(()=>{Y()},[]);const ee=async H=>{T(!0);try{await ji.approveWater(H),await Y()}catch(Z){P(Z.message)}T(!1)},$=async H=>{T(!0);try{await ji.rejectWater(H),await Y()}catch(Z){P(Z.message)}T(!1)},A=async H=>{T(!0);try{await ji.approveInstructor(H),await Y()}catch(Z){P(Z.message)}T(!1)},q=async H=>{T(!0);try{await ji.rejectInstructor(H),await Y()}catch(Z){P(Z.message)}T(!1)},ae=f.filter(H=>H.status==="pending"),fe=m.filter(H=>H.status==="pending"),de=ae.length+fe.length,xe=[{id:"pending",label:"Pending Review",count:de},{id:"waters",label:"All Waters",count:f.length},{id:"instructors",label:"All Instructors",count:m.length},{id:"users",label:"Users",count:w.length}],M=H=>({id:H.id,name:H.name,type:H.type,region:H.region,location:H.location||H.town_city||"",species:H.species||[],amenities:H.amenities||H.facilities||[],rules:H.rules||[],description:H.description||"",fullDescription:H.description||"",price:H.price||0,priceType:H.price_type||H.priceType||"day",bookingType:H.booking_type||H.bookingType||"enquiry",image:H.images?.[0]||"",gallery:H.images||[],rating:0,reviews:0,bookingOptions:(H.booking_options||H.bookingOptions||[]).map((Z,G)=>({...Z,id:Z.id||`opt-${G}`,bookingType:Z.booking_type||Z.bookingType||"enquiry",priceType:Z.price_type||Z.priceType||"day"})),contact:{name:H.ownerName||H.owner_name||"",email:H.ownerEmail||H.owner_email||"",phone:H.ownerPhone||H.owner_phone||""},coordinates:H.coordinates||null,rods:H.rods||0});return N?s.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ri,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),s.jsx("p",{className:"text-stone-500",children:"Loading admin dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[U&&s.jsxs("div",{className:"fixed inset-0 z-50 bg-black/60 overflow-y-auto",children:[s.jsx("div",{className:"sticky top-0 z-10 flex justify-end p-4",children:s.jsx("button",{onClick:()=>O(null),className:"w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-stone-100 transition",children:s.jsx(Ar,{className:"w-5 h-5 text-stone-700"})})}),s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(e0,{fishery:M(U),onBack:()=>O(null),user:null})})]}),s.jsx("div",{className:"bg-stone-900 text-white py-6",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),s.jsx("p",{className:"text-stone-400 text-sm",children:"Manage waters, instructors, and users"})]}),s.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-stone-800 hover:bg-stone-700 rounded-lg text-sm transition",children:[s.jsx(cv,{className:"w-4 h-4"})," Refresh"]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[S&&s.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl mb-6 flex items-center gap-2",children:[s.jsx(Cu,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:S}),s.jsx("button",{onClick:()=>P(""),className:"ml-auto text-red-500 hover:text-red-700",children:s.jsx(ds,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsx(yu,{icon:Il,label:"Total Waters",value:f.length}),s.jsx(yu,{icon:Pi,label:"Total Instructors",value:m.length}),s.jsx(yu,{icon:tr,label:"Pending Review",value:de,color:"amber"}),s.jsx(yu,{icon:Pi,label:"Users",value:w.length})]}),s.jsx("div",{className:"flex gap-1 mb-6 bg-white rounded-xl p-1 border border-stone-200 overflow-x-auto",children:xe.map(H=>s.jsxs("button",{onClick:()=>n(H.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition whitespace-nowrap ${o===H.id?"bg-brand-700 text-white":"text-stone-600 hover:bg-stone-50"}`,children:[H.label,s.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${o===H.id?"bg-white/20":"bg-stone-100"}`,children:H.count})]},H.id))}),o==="pending"&&s.jsx("div",{className:"space-y-4",children:de===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Zt,{className:"w-12 h-12 text-green-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700",children:"All caught up!"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"No items pending review."})]}):s.jsxs(s.Fragment,{children:[ae.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-stone-700 mb-3",children:["Waters Pending (",ae.length,")"]}),s.jsx("div",{className:"space-y-3",children:ae.map(H=>s.jsx($g,{water:H,onApprove:ee,onReject:$,onPreview:O,actionLoading:D},H.id))})]}),fe.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("h3",{className:"font-semibold text-stone-700 mb-3",children:["Instructors Pending (",fe.length,")"]}),s.jsx("div",{className:"space-y-3",children:fe.map(H=>s.jsx(Ug,{instructor:H,onApprove:A,onReject:q,actionLoading:D},H.id))})]})]})}),o==="waters"&&s.jsx("div",{className:"space-y-3",children:f.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Il,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("p",{className:"text-stone-500",children:"No waters in the database yet."})]}):f.map(H=>s.jsx($g,{water:H,onApprove:ee,onReject:$,onPreview:O,actionLoading:D},H.id))}),o==="instructors"&&s.jsx("div",{className:"space-y-3",children:m.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Pi,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("p",{className:"text-stone-500",children:"No instructors in the database yet."})]}):m.map(H=>s.jsx(Ug,{instructor:H,onApprove:A,onReject:q,actionLoading:D},H.id))}),o==="users"&&s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden",children:w.length===0?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Pi,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("p",{className:"text-stone-500",children:"No users yet."})]}):s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-stone-50 border-b border-stone-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Name"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Email"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Role"}),s.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Joined"})]})}),s.jsx("tbody",{className:"divide-y divide-stone-100",children:w.map(H=>s.jsxs("tr",{className:"hover:bg-stone-50",children:[s.jsx("td",{className:"px-4 py-3 font-medium",children:H.name}),s.jsx("td",{className:"px-4 py-3 text-stone-600",children:H.email}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Yp,{status:H.role})}),s.jsx("td",{className:"px-4 py-3 text-stone-500",children:H.createdAt?new Date(H.createdAt).toLocaleDateString():"N/A"})]},H.id))})]})})]})]})},dN=({user:i,setUser:o,onBack:n,onSignOut:r,favouriteWaters:u=[],favouriteInstructors:f=[],onToggleFavouriteWater:p,onToggleFavouriteInstructor:m,onNavigateToWater:g,onNavigateToInstructor:w})=>{const[_,N]=C.useState("overview"),[E,D]=C.useState(!1),[T,S]=C.useState(null),[P,U]=C.useState("success"),[O,Y]=C.useState(!1),[ee,$]=C.useState(null),[A,q]=C.useState({fullName:i?.fullName||"",phone:i?.phone||"",location:i?.location||"",bio:i?.bio||"",favouriteFishSpecies:i?.favouriteFishSpecies||"",experienceLevel:i?.experienceLevel||"beginner"}),[ae,fe]=C.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[de,xe]=C.useState({emailConfirmations:!0,emailMarketing:!1,newWaterAlerts:!0,units:"metric"}),[M,H]=C.useState([]),[Z,G]=C.useState([]),[ie,le]=C.useState([]),[z,oe]=C.useState({waters:[],instructors:[]}),[X,B]=C.useState(!0),se=async(ce,ze)=>{if(ce.stopPropagation(),!!confirm("Are you sure you want to delete this catch report?"))try{const Ve=localStorage.getItem("tightlines_token");(await fetch(`/api/catches/${ze}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ve}`}})).ok?(H(St=>St.filter(It=>It.id!==ze)),ve("Catch report deleted")):ve("Failed to delete catch")}catch(Ve){console.error("Error deleting catch:",Ve),ve("Failed to delete catch")}};C.useEffect(()=>{(async()=>{if(!i)return;B(!0);const Ve={Authorization:`Bearer ${tn()}`},[st,St,It,gn]=await Promise.allSettled([fetch("/api/catches/user",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null),fetch("/api/reviews/user",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null),fetch("/api/inquiries/user",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null),fetch("/api/user/applications",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null)]);st.status==="fulfilled"&&st.value&&H(st.value.catches||[]),St.status==="fulfilled"&&St.value&&G(St.value.reviews||[]),It.status==="fulfilled"&&It.value&&le(It.value.inquiries||[]),gn.status==="fulfilled"&&gn.value&&oe({waters:gn.value.waters||[],instructors:gn.value.instructors||[]}),B(!1)})()},[i]);const ve=(ce,ze="success")=>{U(ze),S(ce),setTimeout(()=>S(null),4e3)},be=ce=>{const{name:ze,value:Ve}=ce.target;q(st=>({...st,[ze]:Ve}))},we=ce=>{const{name:ze,value:Ve}=ce.target;fe(st=>({...st,[ze]:Ve}))},ye=ce=>{const{name:ze,type:Ve,value:st,checked:St}=ce.target;xe(It=>({...It,[ze]:Ve==="checkbox"?St:st}))},Ie=async ce=>{ce.preventDefault(),D(!0);try{const ze=tn(),Ve=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ze}`},body:JSON.stringify(A)});if(!Ve.ok)throw new Error("Failed to update profile");const st=await Ve.json();o(st),ve("Profile updated successfully")}catch(ze){ve(ze.message||"Failed to update profile","error")}finally{D(!1)}},Ae=async ce=>{if(ce.preventDefault(),ae.newPassword!==ae.confirmPassword){ve("New passwords do not match","error");return}if(ae.newPassword.length<8){ve("Password must be at least 8 characters","error");return}D(!0);try{const ze=tn();if(!(await fetch("/api/auth/password",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ze}`},body:JSON.stringify({currentPassword:ae.currentPassword,newPassword:ae.newPassword})})).ok)throw new Error("Failed to change password");fe({currentPassword:"",newPassword:"",confirmPassword:""}),ve("Password changed successfully")}catch(ze){ve(ze.message||"Failed to change password","error")}finally{D(!1)}},Ge=async ce=>{p&&(await p(ce),ve("Removed from favourites"))},yt=async ce=>{m&&(await m(ce),ve("Removed from favourites"))},mn=()=>i?.createdAt?new Date(i.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"long"}):"Recently",rn=()=>(i?.fullName||i?.email||"U")[0].toUpperCase();return s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx("div",{className:"bg-white border-b border-stone-200 sticky top-0 z-10",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition",children:[s.jsx(cs,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back"})]}),s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Account"}),s.jsx("div",{className:"w-24"})]})}),T&&s.jsx("div",{className:`fixed top-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 transition ${P==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:T}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[s.jsx("div",{className:"flex gap-2 mb-8 border-b border-stone-200 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:Vu},{id:"favourites",label:"My Favourites",icon:ss},{id:"edit",label:"Edit Profile",icon:Pu},{id:"security",label:"Security",icon:Do},{id:"settings",label:"Settings",icon:uv}].map(ce=>{const ze=ce.icon;return s.jsxs("button",{onClick:()=>N(ce.id),className:`flex items-center gap-2 px-4 py-3 font-medium whitespace-nowrap transition border-b-2 ${_===ce.id?"text-brand-700 border-brand-700":"text-stone-600 border-transparent hover:text-stone-900"}`,children:[s.jsx(ze,{className:"w-4 h-4"}),ce.label]},ce.id)})}),_==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-r from-brand-700 to-brand-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-5xl font-bold text-white",children:rn()})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold mb-1",children:i?.fullName||"User Account"}),s.jsx("p",{className:"text-white text-opacity-90",children:i?.email}),s.jsxs("p",{className:"text-white text-opacity-75 text-sm mt-2",children:["Member since ",mn()]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Catches Reported"}),s.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:M.length})]}),s.jsx(Lt,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Reviews Written"}),s.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:Z.length})]}),s.jsx(Al,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Favourite Waters"}),s.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:u?.length||0})]}),s.jsx(lu,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Favourite Instructors"}),s.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:f?.length||0})]}),s.jsx(jn,{className:"w-10 h-10 text-brand-700 opacity-20"})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-stone-900 flex items-center gap-2",children:[s.jsx(Lt,{className:"w-5 h-5 text-brand-700"}),"Recent Catches (",M.length,")"]}),s.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition text-sm font-medium",children:[s.jsx(Du,{className:"w-4 h-4"}),"Report Catch"]})]}),X?s.jsx("p",{className:"text-stone-500",children:"Loading..."}):M.length>0?s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:M.slice(0,4).map(ce=>{const ze=ee===ce.id;return s.jsx("div",{className:"bg-stone-50 rounded-lg p-4 border border-stone-200 cursor-pointer hover:border-brand-700 transition",onClick:()=>$(ze?null:ce.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Lt,{className:"w-5 h-5 text-brand-700"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-stone-900",children:ce.species}),ce.verified&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded",children:"Verified"}),!ce.isPublic&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium bg-stone-300 text-stone-700 rounded",children:"Private"})]}),ce.weight&&s.jsxs("p",{className:"text-sm text-stone-600",children:[ce.weight," lbs"]}),s.jsx("p",{className:"text-xs text-stone-500 mt-1",children:new Date(ce.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})}),ze&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-stone-300 space-y-2",children:[ce.method&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-semibold text-stone-700",children:"Method: "}),s.jsx("span",{className:"text-xs text-stone-600",children:ce.method})]}),ce.comment&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-semibold text-stone-700 block mb-1",children:"Comment:"}),s.jsx("p",{className:"text-sm text-stone-600 bg-white rounded p-2",children:ce.comment})]}),s.jsxs("button",{onClick:Ve=>se(Ve,ce.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition mt-1",children:[s.jsx(Fl,{className:"w-3.5 h-3.5"}),"Delete Catch"]})]}),!ze&&(ce.method||ce.comment)&&s.jsx("p",{className:"text-xs text-brand-700 mt-2",children:"Click to view details "})]})]})},ce.id)})}):s.jsx("p",{className:"text-stone-600",children:"No catches reported yet. Report your catches to track your success!"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-4 flex items-center gap-2",children:[s.jsx(Al,{className:"w-5 h-5 text-brand-700"}),"Recent Reviews (",Z.length,")"]}),X?s.jsx("p",{className:"text-stone-500",children:"Loading..."}):Z.length>0?s.jsx("div",{className:"space-y-4",children:Z.slice(0,3).map(ce=>s.jsxs("div",{className:"bg-stone-50 rounded-lg p-4 border border-stone-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(ze=>s.jsx(vr,{className:`w-4 h-4 ${ze<=ce.rating?"fill-amber-400 text-amber-400":"fill-stone-200 text-stone-200"}`},ze))}),ce.verified&&s.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[s.jsx(Zt,{className:"w-3 h-3"}),"Verified"]})]}),ce.title&&s.jsx("h4",{className:"font-medium text-stone-900 mb-1",children:ce.title}),s.jsx("p",{className:"text-sm text-stone-600 mb-2",children:ce.text}),s.jsx("p",{className:"text-xs text-stone-400",children:new Date(ce.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]},ce.id))}):s.jsx("p",{className:"text-stone-600",children:"No reviews written yet. Share your experiences with the community!"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-4 flex items-center gap-2",children:[s.jsx(Oi,{className:"w-5 h-5 text-brand-700"}),"Recent Bookings (",ie.length,")"]}),X?s.jsx("p",{className:"text-stone-500",children:"Loading..."}):ie.length>0?s.jsx("div",{className:"space-y-3",children:ie.slice(0,5).map(ce=>s.jsx("div",{className:"bg-stone-50 rounded-lg p-4 border border-stone-200 flex items-center justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-medium text-stone-900",children:ce.waterName||ce.instructorName||"Booking"}),s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${ce.status==="confirmed"?"bg-green-100 text-green-700":ce.status==="pending"?"bg-amber-100 text-amber-700":ce.status==="cancelled"?"bg-red-100 text-red-700":"bg-stone-100 text-stone-700"}`,children:ce.status})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-stone-600",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Oi,{className:"w-3.5 h-3.5"}),new Date(ce.preferredDate||ce.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})]}),ce.numberOfPeople&&s.jsxs("span",{children:[ce.numberOfPeople," people"]})]})]})},ce.id))}):s.jsx("p",{className:"text-stone-600",children:"No bookings yet. Explore waters and instructors to make your first booking!"})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(lu,{className:"w-5 h-5 text-brand-700"}),s.jsxs("h3",{className:"text-lg font-bold text-stone-900",children:["My Applications (",z.waters.length+z.instructors.length,")"]})]}),z.waters.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-stone-700 mb-2",children:"Water Listings"}),s.jsx("div",{className:"space-y-2",children:z.waters.map(ce=>s.jsx("div",{className:"bg-stone-50 rounded-lg p-3 border border-stone-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-stone-900",children:ce.name}),s.jsxs("p",{className:"text-xs text-stone-500",children:[ce.type,"  ",ce.region]}),ce.email&&s.jsxs("p",{className:"text-xs text-stone-400 mt-0.5",children:["Submitted as: ",ce.email]}),s.jsx("p",{className:"text-xs text-stone-400",children:new Date(ce.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),s.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${ce.status==="approved"?"bg-green-100 text-green-700":ce.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:ce.status==="approved"?"Approved":ce.status==="rejected"?"Rejected":"Pending Review"})]})},ce.id))})]}),z.instructors.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-stone-700 mb-2",children:"Instructor Profiles"}),s.jsx("div",{className:"space-y-2",children:z.instructors.map(ce=>s.jsx("div",{className:"bg-stone-50 rounded-lg p-3 border border-stone-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-semibold text-stone-900",children:ce.name}),s.jsx("p",{className:"text-xs text-stone-500",children:ce.region}),ce.email&&s.jsxs("p",{className:"text-xs text-stone-400 mt-0.5",children:["Submitted as: ",ce.email]}),s.jsx("p",{className:"text-xs text-stone-400",children:new Date(ce.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),s.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${ce.status==="approved"?"bg-green-100 text-green-700":ce.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:ce.status==="approved"?"Approved":ce.status==="rejected"?"Rejected":"Pending Review"})]})},ce.id))})]}),z.waters.length===0&&z.instructors.length===0&&s.jsx("p",{className:"text-stone-500 text-sm",children:"No applications yet. List a water or register as an instructor to see your submissions here."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>g?.(),className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:border-brand-700 hover:shadow-md transition text-center",children:[s.jsx(Sn,{className:"w-8 h-8 text-brand-700 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold text-stone-900",children:"Find Waters"}),s.jsx("p",{className:"text-sm text-stone-600 mt-1",children:"Explore fishing locations"})]}),s.jsxs("button",{onClick:()=>w?.(),className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:border-brand-700 hover:shadow-md transition text-center",children:[s.jsx(jn,{className:"w-8 h-8 text-brand-700 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold text-stone-900",children:"Find Instructors"}),s.jsx("p",{className:"text-sm text-stone-600 mt-1",children:"Book expert guidance"})]}),s.jsxs("button",{onClick:()=>N("edit"),className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:border-brand-700 hover:shadow-md transition text-center",children:[s.jsx(Pu,{className:"w-8 h-8 text-brand-700 mx-auto mb-3"}),s.jsx("p",{className:"font-semibold text-stone-900",children:"Edit Profile"}),s.jsx("p",{className:"text-sm text-stone-600 mt-1",children:"Update your details"})]})]})]}),_==="favourites"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[s.jsx(lu,{className:"w-5 h-5 text-brand-700"}),"Favourite Waters"]}),u&&u.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(ce=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:shadow-md transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-stone-900",children:["Water #",ce]}),s.jsx("button",{onClick:()=>Ge(ce),className:"text-red-500 hover:text-red-700 transition",children:s.jsx(ss,{className:"w-5 h-5 fill-current"})})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:[s.jsx(Sn,{className:"w-4 h-4 inline mr-2"}),"Region: TBD"]}),s.jsx("p",{className:"text-sm text-stone-600",children:"Price: 0.00 per day"})]}),s.jsx("button",{onClick:()=>g?.(ce),className:"w-full text-center py-2 px-4 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition text-sm font-medium",children:"View Water"})]},ce))}):s.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm border border-stone-100 text-center",children:[s.jsx(lu,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("p",{className:"text-stone-600 mb-4",children:"No favourite waters yet"}),s.jsxs("button",{onClick:()=>g?.(),className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[s.jsx(Sn,{className:"w-4 h-4"}),"Start Exploring"]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[s.jsx(jn,{className:"w-5 h-5 text-brand-700"}),"Favourite Instructors"]}),f&&f.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(ce=>s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:shadow-md transition",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("h4",{className:"font-semibold text-stone-900",children:["Instructor #",ce]}),s.jsx("button",{onClick:()=>yt(ce),className:"text-red-500 hover:text-red-700 transition",children:s.jsx(ss,{className:"w-5 h-5 fill-current"})})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("p",{className:"text-sm text-stone-600",children:[s.jsx(Sn,{className:"w-4 h-4 inline mr-2"}),"Location: TBD"]}),s.jsx("p",{className:"text-sm text-stone-600",children:"Specialties: TBD"}),s.jsx("p",{className:"text-sm text-stone-600",children:"Price: 0.00 per hour"})]}),s.jsx("button",{onClick:()=>w?.(ce),className:"w-full text-center py-2 px-4 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition text-sm font-medium",children:"View Instructor"})]},ce))}):s.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm border border-stone-100 text-center",children:[s.jsx(jn,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("p",{className:"text-stone-600 mb-4",children:"No favourite instructors yet"}),s.jsxs("button",{onClick:()=>w?.(),className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[s.jsx(jn,{className:"w-4 h-4"}),"Find Instructors"]})]})]})]}),_==="edit"&&s.jsx("div",{className:"max-w-2xl",children:s.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:s.jsxs("form",{onSubmit:Ie,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"fullName",value:A.fullName,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"Your full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",name:"phone",value:A.phone,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"+44 (0) 20 7946 0958"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Location"}),s.jsx("input",{type:"text",name:"location",value:A.location,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"City, Region"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Bio"}),s.jsx("textarea",{name:"bio",value:A.bio,onChange:be,rows:"4",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent resize-none",placeholder:"Tell us about yourself and your fishing experience..."})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:[s.jsx(Lt,{className:"w-4 h-4 inline mr-2"}),"Favourite Fish Species"]}),s.jsx("input",{type:"text",name:"favouriteFishSpecies",value:A.favouriteFishSpecies,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"e.g. Trout, Pike, Salmon"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Experience Level"}),s.jsxs("select",{name:"experienceLevel",value:A.experienceLevel,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",children:[s.jsx("option",{value:"beginner",children:"Beginner"}),s.jsx("option",{value:"intermediate",children:"Intermediate"}),s.jsx("option",{value:"advanced",children:"Advanced"}),s.jsx("option",{value:"expert",children:"Expert"})]})]}),s.jsxs("button",{type:"submit",disabled:E,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Tu,{className:"w-5 h-5"}),E?"Saving...":"Save Profile"]})]})})}),_==="security"&&s.jsxs("div",{className:"max-w-2xl space-y-6",children:[s.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(us,{className:"w-8 h-8 text-brand-700"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-stone-600 mb-1",children:"Email Address"}),s.jsx("p",{className:"font-semibold text-stone-900",children:i?.email})]})]})}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[s.jsx(Im,{className:"w-5 h-5 text-brand-700"}),"Change Password"]}),s.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Current Password"}),s.jsx("input",{type:"password",name:"currentPassword",value:ae.currentPassword,onChange:we,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"New Password"}),s.jsx("input",{type:"password",name:"newPassword",value:ae.newPassword,onChange:we,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:""}),s.jsx("p",{className:"text-xs text-stone-600 mt-2",children:"Must be at least 8 characters"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Confirm New Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:ae.confirmPassword,onChange:we,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:""})]}),s.jsxs("button",{type:"submit",disabled:E,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Im,{className:"w-5 h-5"}),E?"Updating...":"Update Password"]})]})]})]}),_==="settings"&&s.jsxs("div",{className:"max-w-2xl space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[s.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[s.jsx(rv,{className:"w-5 h-5 text-brand-700"}),"Notification Preferences"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"emailConfirmations",checked:de.emailConfirmations,onChange:ye,className:"w-5 h-5 border-stone-300 rounded focus:ring-2 focus:ring-brand-700 cursor-pointer"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-stone-900",children:"Booking Confirmations"}),s.jsx("p",{className:"text-sm text-stone-600",children:"Email confirmation for each booking"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"emailMarketing",checked:de.emailMarketing,onChange:ye,className:"w-5 h-5 border-stone-300 rounded focus:ring-2 focus:ring-brand-700 cursor-pointer"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-stone-900",children:"Marketing Emails"}),s.jsx("p",{className:"text-sm text-stone-600",children:"Special offers and promotions"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:"newWaterAlerts",checked:de.newWaterAlerts,onChange:ye,className:"w-5 h-5 border-stone-300 rounded focus:ring-2 focus:ring-brand-700 cursor-pointer"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-stone-900",children:"New Water Alerts"}),s.jsx("p",{className:"text-sm text-stone-600",children:"Notifications when new waters are added"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[s.jsx("h3",{className:"text-lg font-bold text-stone-900 mb-6",children:"Display Preferences"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-3",children:"Measurement Units"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"units",value:"metric",checked:de.units==="metric",onChange:ye,className:"w-4 h-4 border-stone-300 cursor-pointer"}),s.jsx("span",{className:"text-stone-700",children:"Metric (m, km)"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"units",value:"imperial",checked:de.units==="imperial",onChange:ye,className:"w-4 h-4 border-stone-300 cursor-pointer"}),s.jsx("span",{className:"text-stone-700",children:"Imperial (ft, mi)"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100 space-y-4",children:[s.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-semibold",children:[s.jsx(Kg,{className:"w-5 h-5"}),"Sign Out"]}),s.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-stone-200 text-stone-600 rounded-lg cursor-not-allowed font-semibold",children:[s.jsx(Fl,{className:"w-5 h-5"}),"Delete Account"]}),s.jsx("p",{className:"text-xs text-stone-600 text-center",children:"To delete your account, please contact support"})]})]})]}),O&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:s.jsx(qx,{user:i,onClose:()=>Y(!1),onSuccess:()=>{Y(!1),ve("Catch reported successfully!"),(async()=>{try{const ze=tn(),Ve=await fetch("/api/catches/user",{headers:{Authorization:`Bearer ${ze}`}});if(Ve.ok){const st=await Ve.json();H(st.catches||[])}}catch(ze){console.log("Failed to refresh catches:",ze)}})()}})})})]})},hN=["Brown Trout","Rainbow Trout","Salmon","Sea Trout","Grayling","Carp","Pike","Perch","Roach","Tench","Barbel","Bream","Chub","Bass","Cod","Mackerel"],pN=["Parking","Toilets","Cafe","Tackle Shop","Boat Hire","Disabled Access","Night Fishing","Showers","Fishing Hut","Ghillie","Lunch","Wading","Rod Room"],fN=["Scottish Highlands","Scottish Lowlands","North East England","North West England","Yorkshire","East Midlands","West Midlands","East of England","South East England","South West England","Wales","Northern Ireland","Ireland"],mN=({status:i})=>{const o={pending:"bg-amber-100 text-amber-700 border-amber-200",approved:"bg-green-100 text-green-700 border-green-200",rejected:"bg-red-100 text-red-700 border-red-200"},r={pending:tr,approved:Zt,rejected:ds}[i]||tr;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${o[i]||"bg-stone-100 text-stone-600"}`,children:[s.jsx(r,{className:"w-3.5 h-3.5"}),i==="pending"&&"Pending Approval",i==="approved"&&"Live",i==="rejected"&&"Rejected"]})},qh=({water:i,onView:o,onEdit:n})=>s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden hover:shadow-md transition",children:s.jsxs("div",{className:"flex items-start gap-4 p-4",children:[s.jsx("div",{className:"w-20 h-20 rounded-lg flex-shrink-0",style:{background:i.images?.[0]?`url(${i.images[0]}) center/cover`:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)"}}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:i.name}),s.jsxs("p",{className:"text-sm text-stone-500",children:[i.type,"  ",i.region,"  ",i.price,"/",i.priceType||"day"]})]}),s.jsx(mN,{status:i.status})]}),i.status==="pending"&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-amber-800 flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"Awaiting admin approval. You'll be notified once your water is reviewed."]})}),i.status==="rejected"&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-3",children:s.jsxs("p",{className:"text-sm text-red-800 flex items-center gap-2",children:[s.jsx(ds,{className:"w-4 h-4"}),"This submission was not approved. Please contact support for details."]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Species"}),s.jsxs("p",{className:"font-medium text-stone-900",children:[(i.species||[]).slice(0,2).join(", ")||"None listed",i.species?.length>2&&` +${i.species.length-2}`]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-500",children:"Rating"}),s.jsxs("p",{className:"font-medium text-stone-900",children:[" ",i.rating||0," (",i.reviewCount||0," reviews)"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:()=>o(i),className:"flex items-center gap-1.5 px-4 py-2 bg-brand-700 text-white rounded-lg text-sm font-medium hover:bg-brand-800 transition",children:[s.jsx(Gg,{className:"w-4 h-4"})," View Details"]}),i.status==="approved"&&n&&s.jsxs("button",{onClick:()=>n(i),className:"flex items-center gap-1.5 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-200 transition",children:[s.jsx(Pu,{className:"w-4 h-4"})," Edit"]})]})]})]})}),gN=({inquiry:i})=>s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-stone-900",children:i.userName||"Guest"}),s.jsx("p",{className:"text-sm text-stone-500",children:new Date(i.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${i.status==="confirmed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:i.status})]}),s.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[i.userEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(us,{className:"w-4 h-4"}),s.jsx("a",{href:`mailto:${i.userEmail}`,className:"hover:text-brand-700",children:i.userEmail})]}),i.userPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(_p,{className:"w-4 h-4"}),s.jsx("a",{href:`tel:${i.userPhone}`,className:"hover:text-brand-700",children:i.userPhone})]}),i.date&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Oi,{className:"w-4 h-4"}),"Requested date: ",new Date(i.date).toLocaleDateString("en-GB")]})]}),i.message&&s.jsx("div",{className:"bg-stone-50 rounded-lg p-3 text-sm text-stone-700",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Al,{className:"w-4 h-4 text-stone-400 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:i.message})]})})]}),xN=({user:i,onBack:o,onListWater:n})=>{const[r,u]=C.useState("waters"),[f,p]=C.useState([]),[m,g]=C.useState([]),[w,_]=C.useState(!0),[N,E]=C.useState(""),[D,T]=C.useState(null),[S,P]=C.useState({}),[U,O]=C.useState(!1);C.useEffect(()=>{Y()},[]);const Y=async()=>{_(!0),E("");try{const Z=tn(),G=await fetch("/api/owner/waters",{headers:{Authorization:`Bearer ${Z}`}});if(G.ok){const le=await G.json();p(le.waters||[])}const ie=await fetch("/api/owner/inquiries",{headers:{Authorization:`Bearer ${Z}`}});if(ie.ok){const le=await ie.json();g(le.inquiries||[])}}catch{E("Failed to load dashboard data")}_(!1)},ee=Z=>{P({name:Z.name||"",description:Z.description||"",type:Z.type||"",region:Z.region||"",species:Z.species||[],amenities:Z.amenities||Z.facilities||[],rules:Z.rules||[],booking_options:(Z.booking_options||Z.bookingOptions||[]).map(G=>({name:G.name||"",price:G.price||"",priceType:G.price_type||G.priceType||"day",category:G.category||"day-tickets",bookingType:G.booking_type||G.bookingType||"enquiry",description:G.description||""}))}),T(Z),u("edit")},$=async()=>{O(!0),E("");try{const Z=tn(),G={name:S.name,description:S.description,type:S.type,region:S.region,species:S.species,amenities:S.amenities,rules:S.rules.filter(le=>le.trim()),booking_options:S.booking_options};if(!(await fetch(`/api/owner/waters/${D.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify(G)})).ok)throw new Error("Failed to save");await Y(),T(null),u("waters")}catch(Z){E(Z.message)}O(!1)},A=(Z,G)=>{P(ie=>({...ie,[Z]:ie[Z].includes(G)?ie[Z].filter(le=>le!==G):[...ie[Z],G]}))},q=(Z,G,ie)=>{P(le=>{const z=[...le.booking_options];return z[Z]={...z[Z],[G]:ie},{...le,booking_options:z}})},ae=()=>{P(Z=>({...Z,booking_options:[...Z.booking_options,{name:"",price:"",priceType:"day",category:"day-tickets",bookingType:"enquiry",description:""}]}))},fe=Z=>{P(G=>({...G,booking_options:G.booking_options.filter((ie,le)=>le!==Z)}))},de=f.filter(Z=>Z.status==="pending"),xe=f.filter(Z=>Z.status==="approved"),M=f.filter(Z=>Z.status==="rejected"),H=[{id:"waters",label:"My Waters",count:f.length},{id:"inquiries",label:"Inquiries",count:m.length},...D?[{id:"edit",label:`Edit: ${D.name}`}]:[]];return w?s.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ri,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),s.jsx("p",{className:"text-stone-500",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx("div",{className:"bg-white border-b border-stone-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition",children:[s.jsx(cs,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back"})]}),s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Water Owner Dashboard"}),s.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[s.jsx(Du,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:"List Water"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[N&&s.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl mb-6 flex items-center gap-2",children:[s.jsx(Cu,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:N})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Total Waters"}),s.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:f.length})]}),s.jsx(Il,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Live"}),s.jsx("p",{className:"text-4xl font-bold text-green-600 mt-2",children:xe.length})]}),s.jsx(Zt,{className:"w-10 h-10 text-green-600 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Pending"}),s.jsx("p",{className:"text-4xl font-bold text-amber-600 mt-2",children:de.length})]}),s.jsx(tr,{className:"w-10 h-10 text-amber-600 opacity-20"})]})}),s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Inquiries"}),s.jsx("p",{className:"text-4xl font-bold text-brand-700 mt-2",children:m.length})]}),s.jsx(us,{className:"w-10 h-10 text-brand-700 opacity-20"})]})})]}),s.jsx("div",{className:"flex gap-1 mb-6 bg-white rounded-xl p-1 border border-stone-200",children:H.map(Z=>s.jsxs("button",{onClick:()=>u(Z.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition flex-1 ${r===Z.id?"bg-brand-700 text-white":"text-stone-600 hover:bg-stone-50"}`,children:[Z.label,s.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${r===Z.id?"bg-white/20":"bg-stone-100"}`,children:Z.count})]},Z.id))}),r==="waters"&&s.jsx("div",{className:"space-y-4",children:f.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(Il,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No waters listed yet"}),s.jsx("p",{className:"text-stone-500 text-sm mb-4",children:"List your first water to start receiving bookings"}),s.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[s.jsx(Du,{className:"w-4 h-4"}),"List Your Water"]})]}):s.jsxs(s.Fragment,{children:[de.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-amber-600"}),"Pending Approval (",de.length,")"]}),s.jsx("div",{className:"space-y-3",children:de.map(Z=>s.jsx(qh,{water:Z,onView:()=>{},onEdit:ee},Z.id))})]}),xe.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[s.jsx(Zt,{className:"w-5 h-5 text-green-600"}),"Live Waters (",xe.length,")"]}),s.jsx("div",{className:"space-y-3",children:xe.map(Z=>s.jsx(qh,{water:Z,onView:()=>{},onEdit:ee},Z.id))})]}),M.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[s.jsx(ds,{className:"w-5 h-5 text-red-600"}),"Rejected (",M.length,")"]}),s.jsx("div",{className:"space-y-3",children:M.map(Z=>s.jsx(qh,{water:Z,onView:()=>{},onEdit:ee},Z.id))})]})]})}),r==="inquiries"&&s.jsx("div",{className:"space-y-4",children:m.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(us,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No inquiries yet"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"When anglers contact you, their inquiries will appear here"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(Z=>s.jsx(gN,{inquiry:Z},Z.id))})}),r==="edit"&&D&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl border border-stone-200 p-4",children:[s.jsxs("h3",{className:"font-semibold text-stone-900",children:["Editing: ",D.name]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:$,disabled:U,className:"flex items-center gap-1.5 px-4 py-2 bg-brand-700 text-white rounded-lg text-sm font-medium hover:bg-brand-800 disabled:opacity-50 transition",children:[s.jsx(Tu,{className:"w-4 h-4"}),U?"Saving...":"Save Changes"]}),s.jsxs("button",{onClick:()=>{T(null),u("waters")},className:"flex items-center gap-1.5 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-200 transition",children:[s.jsx(Ar,{className:"w-4 h-4"})," Cancel"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-4",children:"Basic Details"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Water Name"}),s.jsx("input",{type:"text",value:S.name,onChange:Z=>P({...S,name:Z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Type"}),s.jsxs("select",{value:S.type,onChange:Z=>P({...S,type:Z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",children:[s.jsx("option",{value:"",children:"Select type"}),s.jsx("option",{value:"River",children:"River"}),s.jsx("option",{value:"Lake",children:"Lake"}),s.jsx("option",{value:"Reservoir",children:"Reservoir"}),s.jsx("option",{value:"Loch",children:"Loch"}),s.jsx("option",{value:"Canal",children:"Canal"}),s.jsx("option",{value:"Pond",children:"Pond"}),s.jsx("option",{value:"Coastal",children:"Coastal"}),s.jsx("option",{value:"Chalk Stream",children:"Chalk Stream"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region"}),s.jsxs("select",{value:S.region,onChange:Z=>P({...S,region:Z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",children:[s.jsx("option",{value:"",children:"Select region"}),fN.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Description"}),s.jsx("textarea",{rows:4,value:S.description,onChange:Z=>P({...S,description:Z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Describe your water..."})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Species"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:hN.map(Z=>s.jsx("button",{type:"button",onClick:()=>A("species",Z),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition ${S.species.includes(Z)?"bg-brand-100 text-brand-700 border-brand-300":"bg-stone-50 text-stone-600 border-stone-200 hover:border-stone-300"}`,children:Z},Z))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Amenities"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:pN.map(Z=>s.jsx("button",{type:"button",onClick:()=>A("amenities",Z),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition ${S.amenities.includes(Z)?"bg-green-100 text-green-700 border-green-300":"bg-stone-50 text-stone-600 border-stone-200 hover:border-stone-300"}`,children:Z},Z))})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Rules"}),s.jsxs("div",{className:"space-y-2",children:[S.rules.map((Z,G)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-stone-400 text-sm w-6",children:[G+1,"."]}),s.jsx("input",{type:"text",value:Z,onChange:ie=>{const le=[...S.rules];le[G]=ie.target.value,P({...S,rules:le})},className:"flex-1 px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 text-sm"}),s.jsx("button",{onClick:()=>P({...S,rules:S.rules.filter((ie,le)=>le!==G)}),className:"p-1.5 text-stone-400 hover:text-red-500 transition",children:s.jsx(Fl,{className:"w-4 h-4"})})]},G)),s.jsx("button",{onClick:()=>P({...S,rules:[...S.rules,""]}),className:"text-sm text-brand-700 hover:text-brand-800 font-medium",children:"+ Add Rule"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Booking Options"}),s.jsxs("div",{className:"space-y-4",children:[S.booking_options.map((Z,G)=>s.jsxs("div",{className:"border border-stone-200 rounded-lg p-4 bg-stone-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-stone-700",children:["Option ",G+1]}),s.jsx("button",{onClick:()=>fe(G),className:"p-1 text-stone-400 hover:text-red-500 transition",children:s.jsx(Fl,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:Z.name,onChange:ie=>q(G,"name",ie.target.value),placeholder:"e.g. Full Day Ticket",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Price ()"}),s.jsx("input",{type:"number",value:Z.price,onChange:ie=>q(G,"price",ie.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Category"}),s.jsxs("select",{value:Z.category,onChange:ie=>q(G,"category",ie.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500",children:[s.jsx("option",{value:"day-tickets",children:"Day Tickets"}),s.jsx("option",{value:"guided",children:"Guided"}),s.jsx("option",{value:"accommodation",children:"Accommodation"}),s.jsx("option",{value:"extras",children:"Extras"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Booking Type"}),s.jsxs("select",{value:Z.bookingType,onChange:ie=>q(G,"bookingType",ie.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500",children:[s.jsx("option",{value:"instant",children:"Instant Book"}),s.jsx("option",{value:"enquiry",children:"Enquiry"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Price Type"}),s.jsxs("select",{value:Z.priceType,onChange:ie=>q(G,"priceType",ie.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500",children:[s.jsx("option",{value:"day",children:"Per Day"}),s.jsx("option",{value:"session",children:"Per Session"}),s.jsx("option",{value:"rod",children:"Per Rod"}),s.jsx("option",{value:"night",children:"Per Night"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Description"}),s.jsx("input",{type:"text",value:Z.description,onChange:ie=>q(G,"description",ie.target.value),placeholder:"Brief description",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]})]})]},G)),s.jsx("button",{onClick:ae,className:"w-full py-2.5 border-2 border-dashed border-stone-300 rounded-lg text-sm font-medium text-stone-600 hover:border-brand-400 hover:text-brand-700 transition",children:"+ Add Booking Option"})]})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx("button",{onClick:()=>{T(null),u("waters")},className:"px-6 py-2.5 bg-stone-100 text-stone-700 rounded-lg font-medium hover:bg-stone-200 transition",children:"Cancel"}),s.jsxs("button",{onClick:$,disabled:U,className:"flex items-center gap-2 px-6 py-2.5 bg-brand-700 text-white rounded-lg font-medium hover:bg-brand-800 disabled:opacity-50 transition",children:[s.jsx(Tu,{className:"w-4 h-4"}),U?"Saving...":"Save Changes"]})]})]})]})]})},vN=["Fly Fishing","Salmon","Trout","Sea Fishing","Bass","Shore Fishing","Carp Fishing","Coarse","Beginners","Fly Tying","Women's Courses","Kids/Juniors","Pike","Barbel"],yN=({status:i})=>{const o={pending:"bg-amber-100 text-amber-700 border-amber-200",approved:"bg-green-100 text-green-700 border-green-200",rejected:"bg-red-100 text-red-700 border-red-200"},r={pending:tr,approved:Zt,rejected:ds}[i]||tr;return s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${o[i]||"bg-stone-100 text-stone-600"}`,children:[s.jsx(r,{className:"w-3.5 h-3.5"}),i==="pending"&&"Pending Approval",i==="approved"&&"Active",i==="rejected"&&"Rejected"]})},bN=({inquiry:i})=>s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-stone-900",children:i.userName||"Guest"}),s.jsx("p",{className:"text-sm text-stone-500",children:new Date(i.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),s.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${i.status==="confirmed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:i.status})]}),s.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[i.userEmail&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(us,{className:"w-4 h-4"}),s.jsx("a",{href:`mailto:${i.userEmail}`,className:"hover:text-brand-700",children:i.userEmail})]}),i.userPhone&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(_p,{className:"w-4 h-4"}),s.jsx("a",{href:`tel:${i.userPhone}`,className:"hover:text-brand-700",children:i.userPhone})]}),i.date&&s.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[s.jsx(Oi,{className:"w-4 h-4"}),"Requested date: ",new Date(i.date).toLocaleDateString("en-GB")]})]}),i.message&&s.jsx("div",{className:"bg-stone-50 rounded-lg p-3 text-sm text-stone-700",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Al,{className:"w-4 h-4 text-stone-400 mt-0.5 flex-shrink-0"}),s.jsx("p",{children:i.message})]})})]}),wN=({user:i,onBack:o})=>{const[n,r]=C.useState("overview"),[u,f]=C.useState(null),[p,m]=C.useState([]),[g,w]=C.useState(!0),[_,N]=C.useState(""),[E,D]=C.useState(!1),[T,S]=C.useState({}),[P,U]=C.useState(!1);C.useEffect(()=>{O()},[]);const O=async()=>{w(!0),N("");try{const q=tn(),ae=await fetch("/api/instructor/profile",{headers:{Authorization:`Bearer ${q}`}});if(ae.ok){const de=await ae.json();f(de.instructor)}const fe=await fetch("/api/instructor/inquiries",{headers:{Authorization:`Bearer ${q}`}});if(fe.ok){const de=await fe.json();m(de.inquiries||[])}}catch{N("Failed to load dashboard data")}w(!1)},Y=()=>{S({name:u.name||"",bio:u.bio||"",price:u.price||"",phone:u.phone||"",region:u.region||u.location||"",specialties:u.specialties||[],certifications:(u.certifications||[]).join(", "),experience:u.experience||""}),D(!0)},ee=async()=>{U(!0),N("");try{const q=tn(),ae={...T,price:parseFloat(T.price)||0,certifications:T.certifications?T.certifications.split(",").map(xe=>xe.trim()).filter(Boolean):[]},fe=await fetch("/api/instructor/profile",{method:"PUT",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify(ae)});if(!fe.ok)throw new Error("Failed to save");const de=await fe.json();f(de.instructor),D(!1)}catch(q){N(q.message)}U(!1)},$=q=>{S(ae=>({...ae,specialties:ae.specialties.includes(q)?ae.specialties.filter(fe=>fe!==q):[...ae.specialties,q]}))},A=[{id:"overview",label:"Overview"},{id:"inquiries",label:"Inquiries",count:p.length}];return g?s.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ri,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),s.jsx("p",{className:"text-stone-500",children:"Loading dashboard..."})]})}):u?s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx("div",{className:"bg-white border-b border-stone-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition",children:[s.jsx(cs,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Back"})]}),s.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Instructor Dashboard"}),s.jsx("div",{className:"w-24"})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[_&&s.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl mb-6 flex items-center gap-2",children:[s.jsx(Cu,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"text-sm",children:_})]}),s.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-6 mb-8",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-20 h-20 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium flex-shrink-0 text-2xl",children:u.name[0].toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:u.name}),s.jsx("p",{className:"text-stone-600 mt-1",children:(u.specialties||[]).join("  ")})]}),s.jsx(yN,{status:u.status})]}),u.status==="pending"&&s.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-4",children:s.jsxs("p",{className:"text-sm text-amber-800 flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),"Your instructor profile is pending approval. You'll be notified once it's reviewed by our team."]})}),u.status==="rejected"&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4",children:s.jsxs("p",{className:"text-sm text-red-800 flex items-center gap-2",children:[s.jsx(ds,{className:"w-4 h-4"}),"Your profile was not approved. Please contact support for more details."]})}),u.status==="approved"&&s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-1",children:[s.jsx(vr,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Rating"})]}),s.jsxs("p",{className:"text-2xl font-bold text-stone-900",children:[u.rating||0," "]}),s.jsxs("p",{className:"text-xs text-stone-500",children:[u.reviewCount||0," reviews"]})]}),s.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-1",children:[s.jsx(jn,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Experience"})]}),s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:u.experience||"N/A"})]}),s.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-1",children:[s.jsx(Al,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Inquiries"})]}),s.jsx("p",{className:"text-2xl font-bold text-stone-900",children:p.length})]})]}),u.status==="approved"&&!E&&s.jsx("div",{className:"mt-4",children:s.jsxs("button",{onClick:Y,className:"flex items-center gap-2 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition",children:[s.jsx(Pu,{className:"w-4 h-4"}),"Edit Profile"]})}),E&&s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsxs("button",{onClick:ee,disabled:P,className:"flex items-center gap-2 px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 disabled:opacity-50 transition",children:[s.jsx(Tu,{className:"w-4 h-4"}),P?"Saving...":"Save Changes"]}),s.jsxs("button",{onClick:()=>D(!1),className:"flex items-center gap-2 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition",children:[s.jsx(Ar,{className:"w-4 h-4"}),"Cancel"]})]})]})]})}),s.jsx("div",{className:"flex gap-1 mb-6 bg-white rounded-xl p-1 border border-stone-200",children:A.map(q=>s.jsxs("button",{onClick:()=>r(q.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition flex-1 ${n===q.id?"bg-brand-700 text-white":"text-stone-600 hover:bg-stone-50"}`,children:[q.label,q.count!==void 0&&s.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${n===q.id?"bg-white/20":"bg-stone-100"}`,children:q.count})]},q.id))}),n==="overview"&&!E&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Profile Information"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Email"}),s.jsx("p",{className:"font-medium text-stone-900",children:u.email||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Phone"}),s.jsx("p",{className:"font-medium text-stone-900",children:u.phone||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Location"}),s.jsx("p",{className:"font-medium text-stone-900",children:u.location||u.region||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Price"}),s.jsxs("p",{className:"font-medium text-stone-900",children:["",u.price||0,"/day"]})]})]}),u.bio&&s.jsxs("div",{className:"mt-6",children:[s.jsx("p",{className:"text-sm text-stone-500 mb-2",children:"Bio"}),s.jsx("p",{className:"text-stone-700",children:u.bio})]}),u.certifications&&u.certifications.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("p",{className:"text-sm text-stone-500 mb-2",children:"Certifications"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.certifications.map((q,ae)=>s.jsx("span",{className:"px-3 py-1 bg-brand-100 text-brand-700 rounded-full text-sm font-medium",children:q},ae))})]})]})}),n==="overview"&&E&&s.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[s.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Edit Profile"}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",value:T.name,onChange:q=>S({...T,name:q.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),s.jsx("input",{type:"text",value:T.phone,onChange:q=>S({...T,phone:q.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region"}),s.jsx("input",{type:"text",value:T.region,onChange:q=>S({...T,region:q.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Price (/day)"}),s.jsx("input",{type:"number",value:T.price,onChange:q=>S({...T,price:q.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Experience (years)"}),s.jsx("input",{type:"text",value:T.experience,onChange:q=>S({...T,experience:q.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Certifications"}),s.jsx("input",{type:"text",value:T.certifications,onChange:q=>S({...T,certifications:q.target.value}),placeholder:"AAPGAI, Level 2 Coach (comma separated)",className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Bio"}),s.jsx("textarea",{rows:4,value:T.bio,onChange:q=>S({...T,bio:q.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Tell potential students about yourself..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Specialties"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:vN.map(q=>s.jsx("button",{type:"button",onClick:()=>$(q),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition ${T.specialties.includes(q)?"bg-brand-100 text-brand-700 border-brand-300":"bg-stone-50 text-stone-600 border-stone-200 hover:border-stone-300"}`,children:q},q))})]})]})]}),n==="inquiries"&&s.jsx("div",{className:"space-y-4",children:p.length===0?s.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[s.jsx(us,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No inquiries yet"}),s.jsx("p",{className:"text-stone-500 text-sm",children:"When students contact you, their inquiries will appear here"})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map(q=>s.jsx(bN,{inquiry:q},q.id))})})]})]}):s.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Cu,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-2",children:"No Instructor Profile Found"}),s.jsx("p",{className:"text-stone-500",children:"Your instructor profile is still being set up."}),s.jsx("button",{onClick:o,className:"mt-4 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:"Go Back"})]})})},_N=()=>{const[i,o]=C.useState("home"),[n,r]=C.useState("waters"),[u,f]=C.useState(null),[p,m]=C.useState(null),[g,w]=C.useState(null),[_,N]=C.useState(!0),[E,D]=C.useState(!1),[T,S]=C.useState(!1),[P,U]=C.useState(!1),[O,Y]=C.useState(()=>{try{const G=localStorage.getItem("tightlines_guest_fav_waters");return G?JSON.parse(G):[]}catch{return[]}}),[ee,$]=C.useState(()=>{try{const G=localStorage.getItem("tightlines_guest_fav_instructors");return G?JSON.parse(G):[]}catch{return[]}});C.useEffect(()=>{g||(localStorage.setItem("tightlines_guest_fav_waters",JSON.stringify(O)),localStorage.setItem("tightlines_guest_fav_instructors",JSON.stringify(ee)))},[O,ee,g]);const A=C.useCallback(async()=>{const G=tn();if(!G){console.log("[Favorites] No token available, skipping sync");return}let ie=[],le=[];try{const X=localStorage.getItem("tightlines_guest_fav_waters");ie=X?JSON.parse(X):[]}catch(X){console.error("[Favorites] Failed to read guest waters from localStorage:",X)}try{const X=localStorage.getItem("tightlines_guest_fav_instructors");le=X?JSON.parse(X):[]}catch(X){console.error("[Favorites] Failed to read guest instructors from localStorage:",X)}console.log("[Favorites] Syncing guest favorites:",{waters:ie.length,instructors:le.length});let z=0,oe=0;for(const X of ie)try{const B=await fetch("/api/favourites/waters",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({waterId:X})});B.ok?(z++,console.log("[Favorites] Synced water:",X)):console.error("[Favorites] Failed to sync water:",X,await B.text())}catch(B){console.error("[Favorites] Error syncing water:",X,B)}for(const X of le)try{const B=await fetch("/api/favourites/instructors",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({instructorId:X})});B.ok?(oe++,console.log("[Favorites] Synced instructor:",X)):console.error("[Favorites] Failed to sync instructor:",X,await B.text())}catch(B){console.error("[Favorites] Error syncing instructor:",X,B)}console.log("[Favorites] Sync complete:",{watersSynced:z,instructorsSynced:oe,totalWaters:ie.length,totalInstructors:le.length}),z===ie.length&&oe===le.length?(localStorage.removeItem("tightlines_guest_fav_waters"),localStorage.removeItem("tightlines_guest_fav_instructors"),console.log("[Favorites] Cleared guest favorites from localStorage")):console.warn("[Favorites] Not all favorites synced successfully, keeping localStorage data")},[]),q=C.useCallback(async()=>{if(g)try{const G=tn();if(!G){console.log("[Favorites] No token available when fetching favorites");return}console.log("[Favorites] Fetching favorites for user:",g.id),await A();const ie=await fetch("/api/user/favourites",{headers:{Authorization:`Bearer ${G}`}});if(ie.ok){const le=await ie.json();console.log("[Favorites] Loaded from database:",{waters:le.waters?.length||0,instructors:le.instructors?.length||0}),Y(le.waters||[]),$(le.instructors||[])}else console.error("[Favorites] Failed to fetch favorites:",await ie.text())}catch(G){console.error("[Favorites] Error fetching favorites:",G)}},[g,A]);C.useEffect(()=>{q()},[q]);const ae=async G=>{const ie=O.includes(G);if(console.log(`[Favorites] Toggle water ${G}:`,ie?"REMOVING":"ADDING",`(User: ${g?"logged in":"guest"})`),Y(ie?z=>z.filter(oe=>oe!==G):z=>[...z,G]),!g){console.log("[Favorites] Guest mode - will sync after login");return}const le=tn();if(!le){console.error("[Favorites] No token available!");return}try{if(ie){const z=await fetch(`/api/favourites/waters/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${le}`}});if(console.log("[Favorites] DELETE response:",z.status,z.ok),!z.ok){const oe=await z.text();console.error("[Favorites] DELETE failed:",oe)}}else{const z=await fetch("/api/favourites/waters",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify({waterId:G})});if(console.log("[Favorites] POST response:",z.status,z.ok),!z.ok){const oe=await z.text();console.error("[Favorites] POST failed:",oe)}}}catch(z){console.error("[Favorites] API error:",z),Y(ie?oe=>[...oe,G]:oe=>oe.filter(X=>X!==G))}},fe=async G=>{const ie=ee.includes(G);if(console.log(`[Favorites] Toggle instructor ${G}:`,ie?"REMOVING":"ADDING",`(User: ${g?"logged in":"guest"})`),$(ie?z=>z.filter(oe=>oe!==G):z=>[...z,G]),!g){console.log("[Favorites] Guest mode - will sync after login");return}const le=tn();if(!le){console.error("[Favorites] No token available!");return}try{if(ie){const z=await fetch(`/api/favourites/instructors/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${le}`}});if(console.log("[Favorites] DELETE response:",z.status,z.ok),!z.ok){const oe=await z.text();console.error("[Favorites] DELETE failed:",oe)}}else{const z=await fetch("/api/favourites/instructors",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify({instructorId:G})});if(console.log("[Favorites] POST response:",z.status,z.ok),!z.ok){const oe=await z.text();console.error("[Favorites] POST failed:",oe)}}}catch(z){console.error("[Favorites] API error:",z),$(ie?oe=>[...oe,G]:oe=>oe.filter(X=>X!==G))}};C.useEffect(()=>{const G=async()=>{if(tn())try{const z=await wu.me();w(z.user)}catch(z){console.error("[TightLines] Auth failed:",z.message),Kh()}finally{N(!1)}else N(!1)},ie=setTimeout(()=>{N(!1)},5e3);G().finally(()=>clearTimeout(ie))},[]);const de=G=>{f(G),o("venue")},xe=G=>{G?(m(G),o("instructor-detail")):(o("instructors"),r("instructors"))},M=G=>{o("search")},H=G=>{w(G)},Z=()=>{Kh(),w(null),Y([]),$([]),o("home")};return C.useEffect(()=>{window.scrollTo(0,0),i==="search"||i==="venue"?r("waters"):i==="instructors"||i==="instructor-detail"?r("instructors"):i==="about"?r("about"):i==="contact"?r("contact"):i==="home"&&r("")},[i]),s.jsxs("div",{className:"min-h-screen bg-stone-50",children:[s.jsx(xv,{currentTab:n,setCurrentTab:r,setCurrentPage:o,user:g,setUser:Z,onSignIn:()=>D(!0),onListWater:()=>S(!0),onListInstructor:()=>U(!0),onProfile:()=>o("profile")}),i==="home"&&s.jsx(Mv,{onSearch:()=>o("search"),onSelectFishery:de,onSelectInstructor:xe,onSelectRegion:M,onNavigate:G=>o(G),favouriteWaters:O,onToggleFavouriteWater:ae,favouriteInstructors:ee,onToggleFavouriteInstructor:fe}),i==="search"&&s.jsx(xy,{onSelectFishery:de,onBack:()=>o("home"),favouriteWaters:O,onToggleFavouriteWater:ae}),i==="venue"&&u&&s.jsx(e0,{fishery:u,onBack:()=>o("search"),user:g,onSignIn:()=>D(!0),isFavourite:O.includes(u.id),onToggleFavourite:ae}),i==="instructors"&&s.jsx(eN,{onSelectInstructor:xe,onBack:()=>o("home"),favouriteInstructors:ee,onToggleFavouriteInstructor:fe}),i==="instructor-detail"&&p&&s.jsx(oN,{instructor:p,onBack:()=>{o("instructors"),r("instructors")},user:g,onSignIn:()=>D(!0)}),i==="about"&&s.jsx(lN,{onSearch:()=>o("search"),onListWater:()=>S(!0)}),i==="contact"&&s.jsx(cN,{}),i==="admin"&&g?.role==="admin"&&s.jsx(uN,{user:g}),i==="profile"&&g&&s.jsx(dN,{user:g,setUser:w,onBack:()=>o("home"),onSignOut:Z,favouriteWaters:O,favouriteInstructors:ee,onToggleFavouriteWater:ae,onToggleFavouriteInstructor:fe,onNavigateToWater:()=>o("search"),onNavigateToInstructor:()=>{o("instructors"),r("instructors")}}),i==="water-dashboard"&&g&&(g.role==="water_owner"||g.role==="pending_water_owner"||g.hasWaters)&&s.jsx(xN,{user:g,onBack:()=>o("home"),onListWater:()=>S(!0)}),i==="instructor-dashboard"&&g&&(g.role==="instructor"||g.role==="pending_instructor"||g.hasInstructorProfile)&&s.jsx(wN,{user:g,onBack:()=>o("home")}),s.jsx(vv,{isOpen:E,onClose:()=>D(!1),onSignIn:H}),s.jsx(wv,{isOpen:T,onClose:()=>S(!1)}),s.jsx(jv,{isOpen:P,onClose:()=>U(!1)})]})};V0.createRoot(document.getElementById("root")).render(s.jsx(te.StrictMode,{children:s.jsx(_N,{})}));
