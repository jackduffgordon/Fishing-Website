function F0(i,o){for(var s=0;s<o.length;s++){const r=o[s];if(typeof r!="string"&&!Array.isArray(r)){for(const u in r)if(u!=="default"&&!(u in i)){const h=Object.getOwnPropertyDescriptor(r,u);h&&Object.defineProperty(i,u,h.get?h:{enumerable:!0,get:()=>r[u]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();function Zl(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ch={exports:{}},Dl={},Ph={exports:{}},He={};var km;function B0(){if(km)return He;km=1;var i=Symbol.for("react.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.iterator;function M(E){return E===null||typeof E!="object"?null:(E=N&&E[N]||E["@@iterator"],typeof E=="function"?E:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,S={};function C(E,X,ge){this.props=E,this.context=X,this.refs=S,this.updater=ge||D}C.prototype.isReactComponent={},C.prototype.setState=function(E,X){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,X,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function V(){}V.prototype=C.prototype;function O(E,X,ge){this.props=E,this.context=X,this.refs=S,this.updater=ge||D}var B=O.prototype=new V;B.constructor=O,T(B,C.prototype),B.isPureReactComponent=!0;var te=Array.isArray,Z=Object.prototype.hasOwnProperty,K={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function le(E,X,ge){var be,we={},ye=null,Ie=null;if(X!=null)for(be in X.ref!==void 0&&(Ie=X.ref),X.key!==void 0&&(ye=""+X.key),X)Z.call(X,be)&&!q.hasOwnProperty(be)&&(we[be]=X[be]);var Ae=arguments.length-2;if(Ae===1)we.children=ge;else if(1<Ae){for(var Ge=Array(Ae),yt=0;yt<Ae;yt++)Ge[yt]=arguments[yt+2];we.children=Ge}if(E&&E.defaultProps)for(be in Ae=E.defaultProps,Ae)we[be]===void 0&&(we[be]=Ae[be]);return{$$typeof:i,type:E,key:ye,ref:Ie,props:we,_owner:K.current}}function xe(E,X){return{$$typeof:i,type:E.type,key:X,ref:E.ref,props:E.props,_owner:E._owner}}function ne(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function ue(E){var X={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(ge){return X[ge]})}var U=/\/+/g;function H(E,X){return typeof E=="object"&&E!==null&&E.key!=null?ue(""+E.key):X.toString(36)}function ae(E,X,ge,be,we){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var Ie=!1;if(E===null)Ie=!0;else switch(ye){case"string":case"number":Ie=!0;break;case"object":switch(E.$$typeof){case i:case o:Ie=!0}}if(Ie)return Ie=E,we=we(Ie),E=be===""?"."+H(Ie,0):be,te(we)?(ge="",E!=null&&(ge=E.replace(U,"$&/")+"/"),ae(we,X,ge,"",function(yt){return yt})):we!=null&&(ne(we)&&(we=xe(we,ge+(!we.key||Ie&&Ie.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+E)),X.push(we)),1;if(Ie=0,be=be===""?".":be+":",te(E))for(var Ae=0;Ae<E.length;Ae++){ye=E[Ae];var Ge=be+H(ye,Ae);Ie+=ae(ye,X,ge,Ge,we)}else if(Ge=M(E),typeof Ge=="function")for(E=Ge.call(E),Ae=0;!(ye=E.next()).done;)ye=ye.value,Ge=be+H(ye,Ae++),Ie+=ae(ye,X,ge,Ge,we);else if(ye==="object")throw X=String(E),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ie}function F(E,X,ge){if(E==null)return E;var be=[],we=0;return ae(E,be,"","",function(ye){return X.call(ge,ye,we++)}),be}function oe(E){if(E._status===-1){var X=E._result;X=X(),X.then(function(ge){(E._status===0||E._status===-1)&&(E._status=1,E._result=ge)},function(ge){(E._status===0||E._status===-1)&&(E._status=2,E._result=ge)}),E._status===-1&&(E._status=0,E._result=X)}if(E._status===1)return E._result.default;throw E._result}var ce={current:null},W={transition:null},z={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function Y(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:F,forEach:function(E,X,ge){F(E,function(){X.apply(this,arguments)},ge)},count:function(E){var X=0;return F(E,function(){X++}),X},toArray:function(E){return F(E,function(X){return X})||[]},only:function(E){if(!ne(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},He.Component=C,He.Fragment=s,He.Profiler=u,He.PureComponent=O,He.StrictMode=r,He.Suspense=v,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,He.act=Y,He.cloneElement=function(E,X,ge){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var be=T({},E.props),we=E.key,ye=E.ref,Ie=E._owner;if(X!=null){if(X.ref!==void 0&&(ye=X.ref,Ie=K.current),X.key!==void 0&&(we=""+X.key),E.type&&E.type.defaultProps)var Ae=E.type.defaultProps;for(Ge in X)Z.call(X,Ge)&&!q.hasOwnProperty(Ge)&&(be[Ge]=X[Ge]===void 0&&Ae!==void 0?Ae[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)be.children=ge;else if(1<Ge){Ae=Array(Ge);for(var yt=0;yt<Ge;yt++)Ae[yt]=arguments[yt+2];be.children=Ae}return{$$typeof:i,type:E.type,key:we,ref:ye,props:be,_owner:Ie}},He.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:h,_context:E},E.Consumer=E},He.createElement=le,He.createFactory=function(E){var X=le.bind(null,E);return X.type=E,X},He.createRef=function(){return{current:null}},He.forwardRef=function(E){return{$$typeof:m,render:E}},He.isValidElement=ne,He.lazy=function(E){return{$$typeof:_,_payload:{_status:-1,_result:E},_init:oe}},He.memo=function(E,X){return{$$typeof:w,type:E,compare:X===void 0?null:X}},He.startTransition=function(E){var X=W.transition;W.transition={};try{E()}finally{W.transition=X}},He.unstable_act=Y,He.useCallback=function(E,X){return ce.current.useCallback(E,X)},He.useContext=function(E){return ce.current.useContext(E)},He.useDebugValue=function(){},He.useDeferredValue=function(E){return ce.current.useDeferredValue(E)},He.useEffect=function(E,X){return ce.current.useEffect(E,X)},He.useId=function(){return ce.current.useId()},He.useImperativeHandle=function(E,X,ge){return ce.current.useImperativeHandle(E,X,ge)},He.useInsertionEffect=function(E,X){return ce.current.useInsertionEffect(E,X)},He.useLayoutEffect=function(E,X){return ce.current.useLayoutEffect(E,X)},He.useMemo=function(E,X){return ce.current.useMemo(E,X)},He.useReducer=function(E,X,ge){return ce.current.useReducer(E,X,ge)},He.useRef=function(E){return ce.current.useRef(E)},He.useState=function(E){return ce.current.useState(E)},He.useSyncExternalStore=function(E,X,ge){return ce.current.useSyncExternalStore(E,X,ge)},He.useTransition=function(){return ce.current.useTransition()},He.version="18.3.1",He}var Nm;function _p(){return Nm||(Nm=1,Ph.exports=B0()),Ph.exports}var jm;function z0(){if(jm)return Dl;jm=1;var i=_p(),o=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function f(m,v,w){var _,N={},M=null,D=null;w!==void 0&&(M=""+w),v.key!==void 0&&(M=""+v.key),v.ref!==void 0&&(D=v.ref);for(_ in v)r.call(v,_)&&!h.hasOwnProperty(_)&&(N[_]=v[_]);if(m&&m.defaultProps)for(_ in v=m.defaultProps,v)N[_]===void 0&&(N[_]=v[_]);return{$$typeof:o,type:m,key:M,ref:D,props:N,_owner:u.current}}return Dl.Fragment=s,Dl.jsx=f,Dl.jsxs=f,Dl}var Sm;function W0(){return Sm||(Sm=1,Ch.exports=z0()),Ch.exports}var t=W0(),P=_p();const re=Zl(P),Y0=F0({__proto__:null,default:re},[P]);var ou={},Dh={exports:{}},Fn={},Th={exports:{}},Mh={};var Cm;function H0(){return Cm||(Cm=1,(function(i){function o(W,z){var Y=W.length;W.push(z);e:for(;0<Y;){var E=Y-1>>>1,X=W[E];if(0<u(X,z))W[E]=z,W[Y]=X,Y=E;else break e}}function s(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var z=W[0],Y=W.pop();if(Y!==z){W[0]=Y;e:for(var E=0,X=W.length,ge=X>>>1;E<ge;){var be=2*(E+1)-1,we=W[be],ye=be+1,Ie=W[ye];if(0>u(we,Y))ye<X&&0>u(Ie,we)?(W[E]=Ie,W[ye]=Y,E=ye):(W[E]=we,W[be]=Y,E=be);else if(ye<X&&0>u(Ie,Y))W[E]=Ie,W[ye]=Y,E=ye;else break e}}return z}function u(W,z){var Y=W.sortIndex-z.sortIndex;return Y!==0?Y:W.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var v=[],w=[],_=1,N=null,M=3,D=!1,T=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(W){for(var z=s(w);z!==null;){if(z.callback===null)r(w);else if(z.startTime<=W)r(w),z.sortIndex=z.expirationTime,o(v,z);else break;z=s(w)}}function te(W){if(S=!1,B(W),!T)if(s(v)!==null)T=!0,oe(Z);else{var z=s(w);z!==null&&ce(te,z.startTime-W)}}function Z(W,z){T=!1,S&&(S=!1,V(le),le=-1),D=!0;var Y=M;try{for(B(z),N=s(v);N!==null&&(!(N.expirationTime>z)||W&&!ue());){var E=N.callback;if(typeof E=="function"){N.callback=null,M=N.priorityLevel;var X=E(N.expirationTime<=z);z=i.unstable_now(),typeof X=="function"?N.callback=X:N===s(v)&&r(v),B(z)}else r(v);N=s(v)}if(N!==null)var ge=!0;else{var be=s(w);be!==null&&ce(te,be.startTime-z),ge=!1}return ge}finally{N=null,M=Y,D=!1}}var K=!1,q=null,le=-1,xe=5,ne=-1;function ue(){return!(i.unstable_now()-ne<xe)}function U(){if(q!==null){var W=i.unstable_now();ne=W;var z=!0;try{z=q(!0,W)}finally{z?H():(K=!1,q=null)}}else K=!1}var H;if(typeof O=="function")H=function(){O(U)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,F=ae.port2;ae.port1.onmessage=U,H=function(){F.postMessage(null)}}else H=function(){C(U,0)};function oe(W){q=W,K||(K=!0,H())}function ce(W,z){le=C(function(){W(i.unstable_now())},z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_continueExecution=function(){T||D||(T=!0,oe(Z))},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return M},i.unstable_getFirstCallbackNode=function(){return s(v)},i.unstable_next=function(W){switch(M){case 1:case 2:case 3:var z=3;break;default:z=M}var Y=M;M=z;try{return W()}finally{M=Y}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(W,z){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var Y=M;M=W;try{return z()}finally{M=Y}},i.unstable_scheduleCallback=function(W,z,Y){var E=i.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?E+Y:E):Y=E,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,W={id:_++,callback:z,priorityLevel:W,startTime:Y,expirationTime:X,sortIndex:-1},Y>E?(W.sortIndex=Y,o(w,W),s(v)===null&&W===s(w)&&(S?(V(le),le=-1):S=!0,ce(te,Y-E))):(W.sortIndex=X,o(v,W),T||D||(T=!0,oe(Z))),W},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(W){var z=M;return function(){var Y=M;M=z;try{return W.apply(this,arguments)}finally{M=Y}}}})(Mh)),Mh}var Pm;function $0(){return Pm||(Pm=1,Th.exports=H0()),Th.exports}var Dm;function U0(){if(Dm)return Fn;Dm=1;var i=_p(),o=$0();function s(e){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+e,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+e+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,u={};function h(e,a){f(e,a),f(e+"Capture",a)}function f(e,a){for(u[e]=a,e=0;e<a.length;e++)r.add(a[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},N={};function M(e){return v.call(N,e)?!0:v.call(_,e)?!1:w.test(e)?N[e]=!0:(_[e]=!0,!1)}function D(e,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,a,c,p){if(a===null||typeof a>"u"||D(e,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function S(e,a,c,p,x,y,k){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=e,this.type=a,this.sanitizeURL=y,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var a=e[0];C[a]=new S(a,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var a=e.replace(V,O);C[a]=new S(a,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var a=e.replace(V,O);C[a]=new S(a,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var a=e.replace(V,O);C[a]=new S(a,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function B(e,a,c,p){var x=C.hasOwnProperty(a)?C[a]:null;(x!==null?x.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,c,x,p)&&(c=null),p||x===null?M(a)&&(c===null?e.removeAttribute(a):e.setAttribute(a,""+c)):x.mustUseProperty?e[x.propertyName]=c===null?x.type===3?!1:"":c:(a=x.attributeName,p=x.attributeNamespace,c===null?e.removeAttribute(a):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,p?e.setAttributeNS(p,a,c):e.setAttribute(a,c))))}var te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),K=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),ue=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),W=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,E;function X(e){if(E===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);E=a&&a[1]||""}return`
`+E+e}var ge=!1;function be(e,a){if(!e||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ie){var p=ie}Reflect.construct(e,[],a)}else{try{a.call()}catch(ie){p=ie}e.call(a.prototype)}else{try{throw Error()}catch(ie){p=ie}e()}}catch(ie){if(ie&&p&&typeof ie.stack=="string"){for(var x=ie.stack.split(`
`),y=p.stack.split(`
`),k=x.length-1,I=y.length-1;1<=k&&0<=I&&x[k]!==y[I];)I--;for(;1<=k&&0<=I;k--,I--)if(x[k]!==y[I]){if(k!==1||I!==1)do if(k--,I--,0>I||x[k]!==y[I]){var $=`
`+x[k].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=k&&0<=I);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(e=e?e.displayName||e.name:"")?X(e):""}function we(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=be(e.type,!1),e;case 11:return e=be(e.type.render,!1),e;case 1:return e=be(e.type,!0),e;default:return""}}function ye(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case K:return"Portal";case xe:return"Profiler";case le:return"StrictMode";case H:return"Suspense";case ae:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ue:return(e.displayName||"Context")+".Consumer";case ne:return(e._context.displayName||"Context")+".Provider";case U:var a=e.render;return e=e.displayName,e||(e=a.displayName||a.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return a=e.displayName||null,a!==null?a:ye(e.type)||"Memo";case oe:a=e._payload,e=e._init;try{return ye(e(a))}catch{}}return null}function Ie(e){var a=e.type;switch(e.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=a.render,e=e.displayName||e.name||"",a.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(a);case 8:return a===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ae(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ge(e){var a=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yt(e){var a=Ge(e)?"checked":"value",c=Object.getOwnPropertyDescriptor(e.constructor.prototype,a),p=""+e[a];if(!e.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,y=c.set;return Object.defineProperty(e,a,{configurable:!0,get:function(){return x.call(this)},set:function(k){p=""+k,y.call(this,k)}}),Object.defineProperty(e,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(k){p=""+k},stopTracking:function(){e._valueTracker=null,delete e[a]}}}}function mn(e){e._valueTracker||(e._valueTracker=yt(e))}function rn(e){if(!e)return!1;var a=e._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return e&&(p=Ge(e)?e.checked?"true":"false":e.value),e=p,e!==c?(a.setValue(e),!0):!1}function de(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ze(e,a){var c=a.checked;return Y({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??e._wrapperState.initialChecked})}function Ve(e,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Ae(a.value!=null?a.value:c),e._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function st(e,a){a=a.checked,a!=null&&B(e,"checked",a,!1)}function St(e,a){st(e,a);var c=Ae(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&e.value===""||e.value!=c)&&(e.value=""+c):e.value!==""+c&&(e.value=""+c);else if(p==="submit"||p==="reset"){e.removeAttribute("value");return}a.hasOwnProperty("value")?gn(e,a.type,c):a.hasOwnProperty("defaultValue")&&gn(e,a.type,Ae(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(e.defaultChecked=!!a.defaultChecked)}function It(e,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+e._wrapperState.initialValue,c||a===e.value||(e.value=a),e.defaultValue=a}c=e.name,c!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,c!==""&&(e.name=c)}function gn(e,a,c){(a!=="number"||de(e.ownerDocument)!==e)&&(c==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+c&&(e.defaultValue=""+c))}var Ke=Array.isArray;function Xt(e,a,c,p){if(e=e.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<e.length;c++)x=a.hasOwnProperty("$"+e[c].value),e[c].selected!==x&&(e[c].selected=x),x&&p&&(e[c].defaultSelected=!0)}else{for(c=""+Ae(c),a=null,x=0;x<e.length;x++){if(e[x].value===c){e[x].selected=!0,p&&(e[x].defaultSelected=!0);return}a!==null||e[x].disabled||(a=e[x])}a!==null&&(a.selected=!0)}}function Dn(e,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return Y({},a,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yi(e,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(s(92));if(Ke(c)){if(1<c.length)throw Error(s(93));c=c[0]}a=c}a==null&&(a=""),c=a}e._wrapperState={initialValue:Ae(c)}}function ms(e,a){var c=Ae(a.value),p=Ae(a.defaultValue);c!=null&&(c=""+c,c!==e.value&&(e.value=c),a.defaultValue==null&&e.defaultValue!==c&&(e.defaultValue=c)),p!=null&&(e.defaultValue=""+p)}function Ra(e){var a=e.textContent;a===e._wrapperState.initialValue&&a!==""&&a!==null&&(e.value=a)}function gs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function br(e,a){return e==null||e==="http://www.w3.org/1999/xhtml"?gs(a):e==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Br,Ia=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,x){MSApp.execUnsafeLocalFunction(function(){return e(a,c,p,x)})}:e})(function(e,a){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=a;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Br.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;a.firstChild;)e.appendChild(a.firstChild)}});function wr(e,a){if(a){var c=e.firstChild;if(c&&c===e.lastChild&&c.nodeType===3){c.nodeValue=a;return}}e.textContent=a}var Jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wo=["Webkit","ms","Moz","O"];Object.keys(Jt).forEach(function(e){Wo.forEach(function(a){a=a+e.charAt(0).toUpperCase()+e.substring(1),Jt[a]=Jt[e]})});function sn(e,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Jt.hasOwnProperty(e)&&Jt[e]?(""+a).trim():a+"px"}function _r(e,a){e=e.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,x=sn(c,a[c],p);c==="float"&&(c="cssFloat"),p?e.setProperty(c,x):e[c]=x}}var zr=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xs(e,a){if(a){if(zr[e]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function rr(e,a){if(e.indexOf("-")===-1)return typeof a.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hi=null;function Wr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,kr=null,zn=null;function $i(e){if(e=Ls(e)){if(typeof vs!="function")throw Error(s(280));var a=e.stateNode;a&&(a=uo(a),vs(e.stateNode,e.type,a))}}function Ui(e){kr?zn?zn.push(e):zn=[e]:kr=e}function Aa(){if(kr){var e=kr,a=zn;if(zn=kr=null,$i(e),a)for(e=0;e<a.length;e++)$i(a[e])}}function Fa(e,a){return e(a)}function Zi(){}var ys=!1;function bs(e,a,c){if(ys)return e(a,c);ys=!0;try{return Fa(e,a,c)}finally{ys=!1,(kr!==null||zn!==null)&&(Zi(),Aa())}}function ws(e,a){var c=e.stateNode;if(c===null)return null;var p=uo(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(e=e.type,p=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!p;break e;default:e=!1}if(e)return null;if(c&&typeof c!="function")throw Error(s(231,a,typeof c));return c}var Vi=!1;if(m)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Vi=!1}function Ba(e,a,c,p,x,y,k,I,$){var ie=Array.prototype.slice.call(arguments,3);try{a.apply(c,ie)}catch(fe){this.onError(fe)}}var bt=!1,Ce=null,Hr=!1,_s=null,qi={onError:function(e){bt=!0,Ce=e}};function za(e,a,c,p,x,y,k,I,$){bt=!1,Ce=null,Ba.apply(qi,arguments)}function Je(e,a,c,p,x,y,k,I,$){if(za.apply(this,arguments),bt){if(bt){var ie=Ce;bt=!1,Ce=null}else throw Error(s(198));Hr||(Hr=!0,_s=ie)}}function Me(e){var a=e,c=e;if(e.alternate)for(;a.return;)a=a.return;else{e=a;do a=e,(a.flags&4098)!==0&&(c=a.return),e=a.return;while(e)}return a.tag===3?c:null}function Ue(e){if(e.tag===13){var a=e.memoizedState;if(a===null&&(e=e.alternate,e!==null&&(a=e.memoizedState)),a!==null)return a.dehydrated}return null}function pt(e){if(Me(e)!==e)throw Error(s(188))}function wt(e){var a=e.alternate;if(!a){if(a=Me(e),a===null)throw Error(s(188));return a!==e?null:e}for(var c=e,p=a;;){var x=c.return;if(x===null)break;var y=x.alternate;if(y===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===y.child){for(y=x.child;y;){if(y===c)return pt(x),e;if(y===p)return pt(x),a;y=y.sibling}throw Error(s(188))}if(c.return!==p.return)c=x,p=y;else{for(var k=!1,I=x.child;I;){if(I===c){k=!0,c=x,p=y;break}if(I===p){k=!0,p=x,c=y;break}I=I.sibling}if(!k){for(I=y.child;I;){if(I===c){k=!0,c=y,p=x;break}if(I===p){k=!0,p=y,c=x;break}I=I.sibling}if(!k)throw Error(s(189))}}if(c.alternate!==p)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?e:a}function xn(e){return e=wt(e),e!==null?vn(e):null}function vn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var a=vn(e);if(a!==null)return a;e=e.sibling}return null}var Tn=o.unstable_scheduleCallback,Wn=o.unstable_cancelCallback,Vs=o.unstable_shouldYield,sr=o.unstable_requestPaint,it=o.unstable_now,Yo=o.unstable_getCurrentPriorityLevel,Ho=o.unstable_ImmediatePriority,Jl=o.unstable_UserBlockingPriority,Wa=o.unstable_NormalPriority,$o=o.unstable_LowPriority,qs=o.unstable_IdlePriority,Gi=null,Yn=null;function Ki(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Gi,e,void 0,(e.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:Gs,ft=Math.log,Ya=Math.LN2;function Gs(e){return e>>>=0,e===0?32:31-(ft(e)/Ya|0)|0}var Nr=64,Ks=4194304;function Be(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,a){var c=e.pendingLanes;if(c===0)return 0;var p=0,x=e.suspendedLanes,y=e.pingedLanes,k=c&268435455;if(k!==0){var I=k&~x;I!==0?p=Be(I):(y&=k,y!==0&&(p=Be(y)))}else k=c&~x,k!==0?p=Be(k):y!==0&&(p=Be(y));if(p===0)return 0;if(a!==0&&a!==p&&(a&x)===0&&(x=p&-p,y=a&-a,x>=y||x===16&&(y&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=e.entangledLanes,a!==0)for(e=e.entanglements,a&=p;0<a;)c=31-We(a),x=1<<c,p|=e[c],a&=~x;return p}function Uo(e,a){switch(e){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ha(e,a){for(var c=e.suspendedLanes,p=e.pingedLanes,x=e.expirationTimes,y=e.pendingLanes;0<y;){var k=31-We(y),I=1<<k,$=x[k];$===-1?((I&c)===0||(I&p)!==0)&&(x[k]=Uo(I,a)):$<=a&&(e.expiredLanes|=I),y&=~I}}function an(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ec(){var e=Nr;return Nr<<=1,(Nr&4194240)===0&&(Nr=64),e}function Qs(e){for(var a=[],c=0;31>c;c++)a.push(e);return a}function Hn(e,a,c){e.pendingLanes|=a,a!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,a=31-We(a),e[a]=c}function Ct(e,a){var c=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;var p=e.eventTimes;for(e=e.expirationTimes;0<c;){var x=31-We(c),y=1<<x;a[x]=0,p[x]=-1,e[x]=-1,c&=~y}}function jr(e,a){var c=e.entangledLanes|=a;for(e=e.entanglements;c;){var p=31-We(c),x=1<<p;x&a|e[p]&a&&(e[p]|=a),c&=~x}}var qe=0;function Xs(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $a,ks,Ua,Za,Qi,Xi=!1,Js=[],$n=null,Sr=null,ir=null,Ji=new Map,Re=new Map,zt=[],ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zo(e,a){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Ji.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Re.delete(a.pointerId)}}function Ns(e,a,c,p,x,y){return e===null||e.nativeEvent!==y?(e={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:y,targetContainers:[x]},a!==null&&(a=Ls(a),a!==null&&ks(a)),e):(e.eventSystemFlags|=p,a=e.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),e)}function Vo(e,a,c,p,x){switch(a){case"focusin":return $n=Ns($n,e,a,c,p,x),!0;case"dragenter":return Sr=Ns(Sr,e,a,c,p,x),!0;case"mouseover":return ir=Ns(ir,e,a,c,p,x),!0;case"pointerover":var y=x.pointerId;return Ji.set(y,Ns(Ji.get(y)||null,e,a,c,p,x)),!0;case"gotpointercapture":return y=x.pointerId,Re.set(y,Ns(Re.get(y)||null,e,a,c,p,x)),!0}return!1}function Va(e){var a=Es(e.target);if(a!==null){var c=Me(a);if(c!==null){if(a=c.tag,a===13){if(a=Ue(c),a!==null){e.blockedOn=a,Qi(e.priority,function(){Ua(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){e.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ar(e){if(e.blockedOn!==null)return!1;for(var a=e.targetContainers;0<a.length;){var c=Ka(e.domEventName,e.eventSystemFlags,a[0],e.nativeEvent);if(c===null){c=e.nativeEvent;var p=new c.constructor(c.type,c);Hi=p,c.target.dispatchEvent(p),Hi=null}else return a=Ls(c),a!==null&&ks(a),e.blockedOn=c,!1;a.shift()}return!0}function qa(e,a,c){ar(e)&&c.delete(a)}function ea(){Xi=!1,$n!==null&&ar($n)&&($n=null),Sr!==null&&ar(Sr)&&(Sr=null),ir!==null&&ar(ir)&&(ir=null),Ji.forEach(qa),Re.forEach(qa)}function _t(e,a){e.blockedOn===a&&(e.blockedOn=null,Xi||(Xi=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,ea)))}function Un(e){function a(x){return _t(x,e)}if(0<Js.length){_t(Js[0],e);for(var c=1;c<Js.length;c++){var p=Js[c];p.blockedOn===e&&(p.blockedOn=null)}}for($n!==null&&_t($n,e),Sr!==null&&_t(Sr,e),ir!==null&&_t(ir,e),Ji.forEach(a),Re.forEach(a),c=0;c<zt.length;c++)p=zt[c],p.blockedOn===e&&(p.blockedOn=null);for(;0<zt.length&&(c=zt[0],c.blockedOn===null);)Va(c),c.blockedOn===null&&zt.shift()}var js=te.ReactCurrentBatchConfig,ta=!0;function ld(e,a,c,p){var x=qe,y=js.transition;js.transition=null;try{qe=1,na(e,a,c,p)}finally{qe=x,js.transition=y}}function tc(e,a,c,p){var x=qe,y=js.transition;js.transition=null;try{qe=4,na(e,a,c,p)}finally{qe=x,js.transition=y}}function na(e,a,c,p){if(ta){var x=Ka(e,a,c,p);if(x===null)n(e,a,p,Ga,c),Zo(e,p);else if(Vo(x,e,a,c,p))p.stopPropagation();else if(Zo(e,p),a&4&&-1<ct.indexOf(e)){for(;x!==null;){var y=Ls(x);if(y!==null&&$a(y),y=Ka(e,a,c,p),y===null&&n(e,a,p,Ga,c),y===x)break;x=y}x!==null&&p.stopPropagation()}else n(e,a,p,null,c)}}var Ga=null;function Ka(e,a,c,p){if(Ga=null,e=Wr(p),e=Es(e),e!==null)if(a=Me(e),a===null)e=null;else if(c=a.tag,c===13){if(e=Ue(a),e!==null)return e;e=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;e=null}else a!==e&&(e=null);return Ga=e,null}function Ze(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yo()){case Ho:return 1;case Jl:return 4;case Wa:case $o:return 16;case qs:return 536870912;default:return 16}default:return 16}}var $r=null,yn=null,Ur=null;function qo(){if(Ur)return Ur;var e,a=yn,c=a.length,p,x="value"in $r?$r.value:$r.textContent,y=x.length;for(e=0;e<c&&a[e]===x[e];e++);var k=c-e;for(p=1;p<=k&&a[c-p]===x[y-p];p++);return Ur=x.slice(e,1<p?1-p:void 0)}function Qa(e){var a=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&a===13&&(e=13)):e=a,e===10&&(e=13),32<=e||e===13?e:0}function ei(){return!0}function nc(){return!1}function on(e){function a(c,p,x,y,k){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var I in e)e.hasOwnProperty(I)&&(c=e[I],this[I]=c?c(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ei:nc,this.isPropagationStopped=nc,this}return Y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ei)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ei)},persist:function(){},isPersistent:ei}),a}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=on(ti),Ss=Y({},ti,{view:0,detail:0}),cd=on(Ss),Mn,Ko,ni,Zn=Y({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(Mn=e.screenX-ni.screenX,Ko=e.screenY-ni.screenY):Ko=Mn=0,ni=e),Mn)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),Qo=on(Zn),rc=Y({},Zn,{dataTransfer:0}),Xo=on(rc),ud=Y({},Ss,{relatedTarget:0}),Xa=on(ud),sc=Y({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),dd=on(sc),hd=Y({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jo=on(hd),pd=Y({},ti,{data:0}),el=on(pd),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ja={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fd(e){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(e):(e=Cs[e])?!!a[e]:!1}function Ps(){return fd}var En=Y({},Ss,{key:function(e){if(e.key){var a=ic[e.key]||e.key;if(a!=="Unidentified")return a}return e.type==="keypress"?(e=Qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ja[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?Qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ac=on(En),oc=Y({},Zn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=on(oc),tl=Y({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),nl=on(tl),md=Y({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),gd=on(md),cc=Y({},Zn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xd=on(cc),Vn=[9,13,27,32],Zr=m&&"CompositionEvent"in window,ra=null;m&&"documentMode"in document&&(ra=document.documentMode);var Cr=m&&"TextEvent"in window&&!ra,uc=m&&(!Zr||ra&&8<ra&&11>=ra),Ds=" ",dc=!1;function ri(e,a){switch(e){case"keyup":return Vn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pr=!1;function vd(e,a){switch(e){case"compositionend":return rl(a);case"keypress":return a.which!==32?null:(dc=!0,Ds);case"textInput":return e=a.data,e===Ds&&dc?null:e;default:return null}}function Vr(e,a){if(Pr)return e==="compositionend"||!Zr&&ri(e,a)?(e=qo(),Ur=yn=$r=null,Pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return uc&&a.locale!=="ko"?null:a.data;default:return null}}var eo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a==="input"?!!eo[e.type]:a==="textarea"}function to(e,a,c,p){Ui(p),a=d(a,"onChange"),0<a.length&&(c=new Go("onChange","change",null,c,p),e.push({event:c,listeners:a}))}var sa=null,bn=null;function yd(e){hl(e,0)}function Dr(e){var a=Os(e);if(rn(a))return e}function bd(e,a){if(e==="change")return a}var or=!1;if(m){var si;if(m){var no="oninput"in document;if(!no){var ro=document.createElement("div");ro.setAttribute("oninput","return;"),no=typeof ro.oninput=="function"}si=no}else si=!1;or=si&&(!document.documentMode||9<document.documentMode)}function ia(){sa&&(sa.detachEvent("onpropertychange",so),bn=sa=null)}function so(e){if(e.propertyName==="value"&&Dr(bn)){var a=[];to(a,bn,e,Wr(e)),bs(yd,a)}}function io(e,a,c){e==="focusin"?(ia(),sa=a,bn=c,sa.attachEvent("onpropertychange",so)):e==="focusout"&&ia()}function ii(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dr(bn)}function ao(e,a){if(e==="click")return Dr(a)}function sl(e,a){if(e==="input"||e==="change")return Dr(a)}function pc(e,a){return e===a&&(e!==0||1/e===1/a)||e!==e&&a!==a}var qn=typeof Object.is=="function"?Object.is:pc;function qr(e,a){if(qn(e,a))return!0;if(typeof e!="object"||e===null||typeof a!="object"||a===null)return!1;var c=Object.keys(e),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!v.call(a,x)||!qn(e[x],a[x]))return!1}return!0}function fc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function il(e,a){var c=fc(e);e=0;for(var p;c;){if(c.nodeType===3){if(p=e+c.textContent.length,e<=a&&p>=a)return{node:c,offset:a-e};e=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=fc(c)}}function mc(e,a){return e&&a?e===a?!0:e&&e.nodeType===3?!1:a&&a.nodeType===3?mc(e,a.parentNode):"contains"in e?e.contains(a):e.compareDocumentPosition?!!(e.compareDocumentPosition(a)&16):!1:!1}function al(){for(var e=window,a=de();a instanceof e.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)e=a.contentWindow;else break;a=de(e.document)}return a}function ol(e){var a=e&&e.nodeName&&e.nodeName.toLowerCase();return a&&(a==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||a==="textarea"||e.contentEditable==="true")}function lr(e){var a=al(),c=e.focusedElem,p=e.selectionRange;if(a!==c&&c&&c.ownerDocument&&mc(c.ownerDocument.documentElement,c)){if(p!==null&&ol(c)){if(a=p.start,e=p.end,e===void 0&&(e=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(e,c.value.length);else if(e=(a=c.ownerDocument||document)&&a.defaultView||window,e.getSelection){e=e.getSelection();var x=c.textContent.length,y=Math.min(p.start,x);p=p.end===void 0?y:Math.min(p.end,x),!e.extend&&y>p&&(x=p,p=y,y=x),x=il(c,y);var k=il(c,p);x&&k&&(e.rangeCount!==1||e.anchorNode!==x.node||e.anchorOffset!==x.offset||e.focusNode!==k.node||e.focusOffset!==k.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),e.removeAllRanges(),y>p?(e.addRange(a),e.extend(k.node,k.offset)):(a.setEnd(k.node,k.offset),e.addRange(a)))}}for(a=[],e=c;e=e.parentNode;)e.nodeType===1&&a.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)e=a[c],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var oo=m&&"documentMode"in document&&11>=document.documentMode,ai=null,oi=null,aa=null,lo=!1;function gc(e,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;lo||ai==null||ai!==de(p)||(p=ai,"selectionStart"in p&&ol(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),aa&&qr(aa,p)||(aa=p,p=d(oi,"onSelect"),0<p.length&&(a=new Go("onSelect","select",null,a,c),e.push({event:a,listeners:p}),a.target=ai)))}function Gr(e,a){var c={};return c[e.toLowerCase()]=a.toLowerCase(),c["Webkit"+e]="webkit"+a,c["Moz"+e]="moz"+a,c}var li={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionend:Gr("Transition","TransitionEnd")},Kr={},ll={};m&&(ll=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function oa(e){if(Kr[e])return Kr[e];if(!li[e])return e;var a=li[e],c;for(c in a)if(a.hasOwnProperty(c)&&c in ll)return Kr[e]=a[c];return e}var xc=oa("animationend"),cr=oa("animationiteration"),cl=oa("animationstart"),ul=oa("transitionend"),ci=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gn(e,a){ci.set(e,a),h(a,[e])}for(var Ts=0;Ts<vc.length;Ts++){var co=vc[Ts],yc=co.toLowerCase(),wd=co[0].toUpperCase()+co.slice(1);Gn(yc,"on"+wd)}Gn(xc,"onAnimationEnd"),Gn(cr,"onAnimationIteration"),Gn(cl,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(ul,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bc=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function dl(e,a,c){var p=e.type||"unknown-event";e.currentTarget=c,Je(p,a,void 0,e),e.currentTarget=null}function hl(e,a){a=(a&4)!==0;for(var c=0;c<e.length;c++){var p=e[c],x=p.event;p=p.listeners;e:{var y=void 0;if(a)for(var k=p.length-1;0<=k;k--){var I=p[k],$=I.instance,ie=I.currentTarget;if(I=I.listener,$!==y&&x.isPropagationStopped())break e;dl(x,I,ie),y=$}else for(k=0;k<p.length;k++){if(I=p[k],$=I.instance,ie=I.currentTarget,I=I.listener,$!==y&&x.isPropagationStopped())break e;dl(x,I,ie),y=$}}}if(Hr)throw e=_s,Hr=!1,_s=null,e}function ut(e,a){var c=a[fi];c===void 0&&(c=a[fi]=new Set);var p=e+"__bubble";c.has(p)||(wc(a,e,2,!1),c.add(p))}function pl(e,a,c){var p=0;a&&(p|=4),wc(c,e,p,a)}var la="_reactListening"+Math.random().toString(36).slice(2);function di(e){if(!e[la]){e[la]=!0,r.forEach(function(c){c!=="selectionchange"&&(bc.has(c)||pl(c,!1,e),pl(c,!0,e))});var a=e.nodeType===9?e:e.ownerDocument;a===null||a[la]||(a[la]=!0,pl("selectionchange",!1,a))}}function wc(e,a,c,p){switch(Ze(a)){case 1:var x=ld;break;case 4:x=tc;break;default:x=na}c=x.bind(null,a,c,e),x=void 0,!Vi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),p?x!==void 0?e.addEventListener(a,c,{capture:!0,passive:x}):e.addEventListener(a,c,!0):x!==void 0?e.addEventListener(a,c,{passive:x}):e.addEventListener(a,c,!1)}function n(e,a,c,p,x){var y=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var k=p.tag;if(k===3||k===4){var I=p.stateNode.containerInfo;if(I===x||I.nodeType===8&&I.parentNode===x)break;if(k===4)for(k=p.return;k!==null;){var $=k.tag;if(($===3||$===4)&&($=k.stateNode.containerInfo,$===x||$.nodeType===8&&$.parentNode===x))return;k=k.return}for(;I!==null;){if(k=Es(I),k===null)return;if($=k.tag,$===5||$===6){p=y=k;continue e}I=I.parentNode}}p=p.return}bs(function(){var ie=y,fe=Wr(c),me=[];e:{var pe=ci.get(e);if(pe!==void 0){var ke=Go,Se=e;switch(e){case"keypress":if(Qa(c)===0)break e;case"keydown":case"keyup":ke=ac;break;case"focusin":Se="focus",ke=Xa;break;case"focusout":Se="blur",ke=Xa;break;case"beforeblur":case"afterblur":ke=Xa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=nl;break;case xc:case cr:case cl:ke=dd;break;case ul:ke=gd;break;case"scroll":ke=cd;break;case"wheel":ke=xd;break;case"copy":case"cut":case"paste":ke=Jo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=lc}var Pe=(a&4)!==0,Et=!Pe&&e==="scroll",J=Pe?pe!==null?pe+"Capture":null:pe;Pe=[];for(var G=ie,ee;G!==null;){ee=G;var ve=ee.stateNode;if(ee.tag===5&&ve!==null&&(ee=ve,J!==null&&(ve=ws(G,J),ve!=null&&Pe.push(l(G,ve,ee)))),Et)break;G=G.return}0<Pe.length&&(pe=new ke(pe,Se,null,c,fe),me.push({event:pe,listeners:Pe}))}}if((a&7)===0){e:{if(pe=e==="mouseover"||e==="pointerover",ke=e==="mouseout"||e==="pointerout",pe&&c!==Hi&&(Se=c.relatedTarget||c.fromElement)&&(Es(Se)||Se[nt]))break e;if((ke||pe)&&(pe=fe.window===fe?fe:(pe=fe.ownerDocument)?pe.defaultView||pe.parentWindow:window,ke?(Se=c.relatedTarget||c.toElement,ke=ie,Se=Se?Es(Se):null,Se!==null&&(Et=Me(Se),Se!==Et||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ke=null,Se=ie),ke!==Se)){if(Pe=Qo,ve="onMouseLeave",J="onMouseEnter",G="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=lc,ve="onPointerLeave",J="onPointerEnter",G="pointer"),Et=ke==null?pe:Os(ke),ee=Se==null?pe:Os(Se),pe=new Pe(ve,G+"leave",ke,c,fe),pe.target=Et,pe.relatedTarget=ee,ve=null,Es(fe)===ie&&(Pe=new Pe(J,G+"enter",Se,c,fe),Pe.target=ee,Pe.relatedTarget=Et,ve=Pe),Et=ve,ke&&Se)t:{for(Pe=ke,J=Se,G=0,ee=Pe;ee;ee=g(ee))G++;for(ee=0,ve=J;ve;ve=g(ve))ee++;for(;0<G-ee;)Pe=g(Pe),G--;for(;0<ee-G;)J=g(J),ee--;for(;G--;){if(Pe===J||J!==null&&Pe===J.alternate)break t;Pe=g(Pe),J=g(J)}Pe=null}else Pe=null;ke!==null&&b(me,pe,ke,Pe,!1),Se!==null&&Et!==null&&b(me,Et,Se,Pe,!0)}}e:{if(pe=ie?Os(ie):window,ke=pe.nodeName&&pe.nodeName.toLowerCase(),ke==="select"||ke==="input"&&pe.type==="file")var De=bd;else if(hc(pe))if(or)De=sl;else{De=ii;var Le=io}else(ke=pe.nodeName)&&ke.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(De=ao);if(De&&(De=De(e,ie))){to(me,De,c,fe);break e}Le&&Le(e,pe,ie),e==="focusout"&&(Le=pe._wrapperState)&&Le.controlled&&pe.type==="number"&&gn(pe,"number",pe.value)}switch(Le=ie?Os(ie):window,e){case"focusin":(hc(Le)||Le.contentEditable==="true")&&(ai=Le,oi=ie,aa=null);break;case"focusout":aa=oi=ai=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,gc(me,c,fe);break;case"selectionchange":if(oo)break;case"keydown":case"keyup":gc(me,c,fe)}var Oe;if(Zr)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Pr?ri(e,c)&&(Fe="onCompositionEnd"):e==="keydown"&&c.keyCode===229&&(Fe="onCompositionStart");Fe&&(uc&&c.locale!=="ko"&&(Pr||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Pr&&(Oe=qo()):($r=fe,yn="value"in $r?$r.value:$r.textContent,Pr=!0)),Le=d(ie,Fe),0<Le.length&&(Fe=new el(Fe,e,null,c,fe),me.push({event:Fe,listeners:Le}),Oe?Fe.data=Oe:(Oe=rl(c),Oe!==null&&(Fe.data=Oe)))),(Oe=Cr?vd(e,c):Vr(e,c))&&(ie=d(ie,"onBeforeInput"),0<ie.length&&(fe=new el("onBeforeInput","beforeinput",null,c,fe),me.push({event:fe,listeners:ie}),fe.data=Oe))}hl(me,a)})}function l(e,a,c){return{instance:e,listener:a,currentTarget:c}}function d(e,a){for(var c=a+"Capture",p=[];e!==null;){var x=e,y=x.stateNode;x.tag===5&&y!==null&&(x=y,y=ws(e,c),y!=null&&p.unshift(l(e,y,x)),y=ws(e,a),y!=null&&p.push(l(e,y,x))),e=e.return}return p}function g(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function b(e,a,c,p,x){for(var y=a._reactName,k=[];c!==null&&c!==p;){var I=c,$=I.alternate,ie=I.stateNode;if($!==null&&$===p)break;I.tag===5&&ie!==null&&(I=ie,x?($=ws(c,y),$!=null&&k.unshift(l(c,$,I))):x||($=ws(c,y),$!=null&&k.push(l(c,$,I)))),c=c.return}k.length!==0&&e.push({event:a,listeners:k})}var j=/\r\n?/g,A=/\u0000|\uFFFD/g;function Q(e){return(typeof e=="string"?e:""+e).replace(j,`
`).replace(A,"")}function se(e,a,c){if(a=Q(a),Q(e)!==a&&c)throw Error(s(425))}function he(){}var _e=null,Ee=null;function Ye(e,a){return e==="textarea"||e==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Wt=typeof setTimeout=="function"?setTimeout:void 0,At=typeof clearTimeout=="function"?clearTimeout:void 0,wn=typeof Promise=="function"?Promise:void 0,ln=typeof queueMicrotask=="function"?queueMicrotask:typeof wn<"u"?function(e){return wn.resolve(null).then(e).catch(hi)}:Wt;function hi(e){setTimeout(function(){throw e})}function fl(e,a){var c=a,p=0;do{var x=c.nextSibling;if(e.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(p===0){e.removeChild(x),Un(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=x}while(c);Un(a)}function Qr(e){for(;e!=null;e=e.nextSibling){var a=e.nodeType;if(a===1||a===3)break;if(a===8){if(a=e.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return e}function _c(e){e=e.previousSibling;for(var a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return e;a--}else c==="/$"&&a++}e=e.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),ur="__reactFiber$"+Ms,pi="__reactProps$"+Ms,nt="__reactContainer$"+Ms,fi="__reactEvents$"+Ms,_d="__reactListeners$"+Ms,kd="__reactHandles$"+Ms;function Es(e){var a=e[ur];if(a)return a;for(var c=e.parentNode;c;){if(a=c[nt]||c[ur]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(e=_c(e);e!==null;){if(c=e[ur])return c;e=_c(e)}return a}e=c,c=e.parentNode}return null}function Ls(e){return e=e[ur]||e[nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Os(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function uo(e){return e[pi]||null}var Nd=[],ho=-1;function mi(e){return{current:e}}function mt(e){0>ho||(e.current=Nd[ho],Nd[ho]=null,ho--)}function ht(e,a){ho++,Nd[ho]=e.current,e.current=a}var gi={},cn=mi(gi),Ln=mi(!1),ca=gi;function po(e,a){var c=e.type.contextTypes;if(!c)return gi;var p=e.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var x={},y;for(y in c)x[y]=a[y];return p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=x),x}function On(e){return e=e.childContextTypes,e!=null}function kc(){mt(Ln),mt(cn)}function $p(e,a,c){if(cn.current!==gi)throw Error(s(168));ht(cn,a),ht(Ln,c)}function Up(e,a,c){var p=e.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var x in p)if(!(x in a))throw Error(s(108,Ie(e)||"Unknown",x));return Y({},c,p)}function Nc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,ca=cn.current,ht(cn,e),ht(Ln,Ln.current),!0}function Zp(e,a,c){var p=e.stateNode;if(!p)throw Error(s(169));c?(e=Up(e,a,ca),p.__reactInternalMemoizedMergedChildContext=e,mt(Ln),mt(cn),ht(cn,e)):mt(Ln),ht(Ln,c)}var Rs=null,jc=!1,jd=!1;function Vp(e){Rs===null?Rs=[e]:Rs.push(e)}function r0(e){jc=!0,Vp(e)}function xi(){if(!jd&&Rs!==null){jd=!0;var e=0,a=qe;try{var c=Rs;for(qe=1;e<c.length;e++){var p=c[e];do p=p(!0);while(p!==null)}Rs=null,jc=!1}catch(x){throw Rs!==null&&(Rs=Rs.slice(e+1)),Tn(Ho,xi),x}finally{qe=a,jd=!1}}return null}var fo=[],mo=0,Sc=null,Cc=0,dr=[],hr=0,ua=null,Is=1,As="";function da(e,a){fo[mo++]=Cc,fo[mo++]=Sc,Sc=e,Cc=a}function qp(e,a,c){dr[hr++]=Is,dr[hr++]=As,dr[hr++]=ua,ua=e;var p=Is;e=As;var x=32-We(p)-1;p&=~(1<<x),c+=1;var y=32-We(a)+x;if(30<y){var k=x-x%5;y=(p&(1<<k)-1).toString(32),p>>=k,x-=k,Is=1<<32-We(a)+x|c<<x|p,As=y+e}else Is=1<<y|c<<x|p,As=e}function Sd(e){e.return!==null&&(da(e,1),qp(e,1,0))}function Cd(e){for(;e===Sc;)Sc=fo[--mo],fo[mo]=null,Cc=fo[--mo],fo[mo]=null;for(;e===ua;)ua=dr[--hr],dr[hr]=null,As=dr[--hr],dr[hr]=null,Is=dr[--hr],dr[hr]=null}var Kn=null,Qn=null,xt=!1,Tr=null;function Gp(e,a){var c=gr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=e,a=e.deletions,a===null?(e.deletions=[c],e.flags|=16):a.push(c)}function Kp(e,a){switch(e.tag){case 5:var c=e.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(e.stateNode=a,Kn=e,Qn=Qr(a.firstChild),!0):!1;case 6:return a=e.pendingProps===""||a.nodeType!==3?null:a,a!==null?(e.stateNode=a,Kn=e,Qn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ua!==null?{id:Is,overflow:As}:null,e.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=gr(18,null,null,0),c.stateNode=a,c.return=e,e.child=c,Kn=e,Qn=null,!0):!1;default:return!1}}function Pd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dd(e){if(xt){var a=Qn;if(a){var c=a;if(!Kp(e,a)){if(Pd(e))throw Error(s(418));a=Qr(c.nextSibling);var p=Kn;a&&Kp(e,a)?Gp(p,c):(e.flags=e.flags&-4097|2,xt=!1,Kn=e)}}else{if(Pd(e))throw Error(s(418));e.flags=e.flags&-4097|2,xt=!1,Kn=e}}}function Qp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kn=e}function Pc(e){if(e!==Kn)return!1;if(!xt)return Qp(e),xt=!0,!1;var a;if((a=e.tag!==3)&&!(a=e.tag!==5)&&(a=e.type,a=a!=="head"&&a!=="body"&&!Ye(e.type,e.memoizedProps)),a&&(a=Qn)){if(Pd(e))throw Xp(),Error(s(418));for(;a;)Gp(e,a),a=Qr(a.nextSibling)}if(Qp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,a=0;e;){if(e.nodeType===8){var c=e.data;if(c==="/$"){if(a===0){Qn=Qr(e.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}e=e.nextSibling}Qn=null}}else Qn=Kn?Qr(e.stateNode.nextSibling):null;return!0}function Xp(){for(var e=Qn;e;)e=Qr(e.nextSibling)}function go(){Qn=Kn=null,xt=!1}function Td(e){Tr===null?Tr=[e]:Tr.push(e)}var s0=te.ReactCurrentBatchConfig;function ml(e,a,c){if(e=c.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(s(309));var p=c.stateNode}if(!p)throw Error(s(147,e));var x=p,y=""+e;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(k){var I=x.refs;k===null?delete I[y]:I[y]=k},a._stringRef=y,a)}if(typeof e!="string")throw Error(s(284));if(!c._owner)throw Error(s(290,e))}return e}function Dc(e,a){throw e=Object.prototype.toString.call(a),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":e))}function Jp(e){var a=e._init;return a(e._payload)}function ef(e){function a(J,G){if(e){var ee=J.deletions;ee===null?(J.deletions=[G],J.flags|=16):ee.push(G)}}function c(J,G){if(!e)return null;for(;G!==null;)a(J,G),G=G.sibling;return null}function p(J,G){for(J=new Map;G!==null;)G.key!==null?J.set(G.key,G):J.set(G.index,G),G=G.sibling;return J}function x(J,G){return J=ji(J,G),J.index=0,J.sibling=null,J}function y(J,G,ee){return J.index=ee,e?(ee=J.alternate,ee!==null?(ee=ee.index,ee<G?(J.flags|=2,G):ee):(J.flags|=2,G)):(J.flags|=1048576,G)}function k(J){return e&&J.alternate===null&&(J.flags|=2),J}function I(J,G,ee,ve){return G===null||G.tag!==6?(G=wh(ee,J.mode,ve),G.return=J,G):(G=x(G,ee),G.return=J,G)}function $(J,G,ee,ve){var De=ee.type;return De===q?fe(J,G,ee.props.children,ve,ee.key):G!==null&&(G.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===oe&&Jp(De)===G.type)?(ve=x(G,ee.props),ve.ref=ml(J,G,ee),ve.return=J,ve):(ve=Jc(ee.type,ee.key,ee.props,null,J.mode,ve),ve.ref=ml(J,G,ee),ve.return=J,ve)}function ie(J,G,ee,ve){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=_h(ee,J.mode,ve),G.return=J,G):(G=x(G,ee.children||[]),G.return=J,G)}function fe(J,G,ee,ve,De){return G===null||G.tag!==7?(G=ya(ee,J.mode,ve,De),G.return=J,G):(G=x(G,ee),G.return=J,G)}function me(J,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number")return G=wh(""+G,J.mode,ee),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Z:return ee=Jc(G.type,G.key,G.props,null,J.mode,ee),ee.ref=ml(J,null,G),ee.return=J,ee;case K:return G=_h(G,J.mode,ee),G.return=J,G;case oe:var ve=G._init;return me(J,ve(G._payload),ee)}if(Ke(G)||z(G))return G=ya(G,J.mode,ee,null),G.return=J,G;Dc(J,G)}return null}function pe(J,G,ee,ve){var De=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return De!==null?null:I(J,G,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Z:return ee.key===De?$(J,G,ee,ve):null;case K:return ee.key===De?ie(J,G,ee,ve):null;case oe:return De=ee._init,pe(J,G,De(ee._payload),ve)}if(Ke(ee)||z(ee))return De!==null?null:fe(J,G,ee,ve,null);Dc(J,ee)}return null}function ke(J,G,ee,ve,De){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return J=J.get(ee)||null,I(G,J,""+ve,De);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Z:return J=J.get(ve.key===null?ee:ve.key)||null,$(G,J,ve,De);case K:return J=J.get(ve.key===null?ee:ve.key)||null,ie(G,J,ve,De);case oe:var Le=ve._init;return ke(J,G,ee,Le(ve._payload),De)}if(Ke(ve)||z(ve))return J=J.get(ee)||null,fe(G,J,ve,De,null);Dc(G,ve)}return null}function Se(J,G,ee,ve){for(var De=null,Le=null,Oe=G,Fe=G=0,Vt=null;Oe!==null&&Fe<ee.length;Fe++){Oe.index>Fe?(Vt=Oe,Oe=null):Vt=Oe.sibling;var Xe=pe(J,Oe,ee[Fe],ve);if(Xe===null){Oe===null&&(Oe=Vt);break}e&&Oe&&Xe.alternate===null&&a(J,Oe),G=y(Xe,G,Fe),Le===null?De=Xe:Le.sibling=Xe,Le=Xe,Oe=Vt}if(Fe===ee.length)return c(J,Oe),xt&&da(J,Fe),De;if(Oe===null){for(;Fe<ee.length;Fe++)Oe=me(J,ee[Fe],ve),Oe!==null&&(G=y(Oe,G,Fe),Le===null?De=Oe:Le.sibling=Oe,Le=Oe);return xt&&da(J,Fe),De}for(Oe=p(J,Oe);Fe<ee.length;Fe++)Vt=ke(Oe,J,Fe,ee[Fe],ve),Vt!==null&&(e&&Vt.alternate!==null&&Oe.delete(Vt.key===null?Fe:Vt.key),G=y(Vt,G,Fe),Le===null?De=Vt:Le.sibling=Vt,Le=Vt);return e&&Oe.forEach(function(Si){return a(J,Si)}),xt&&da(J,Fe),De}function Pe(J,G,ee,ve){var De=z(ee);if(typeof De!="function")throw Error(s(150));if(ee=De.call(ee),ee==null)throw Error(s(151));for(var Le=De=null,Oe=G,Fe=G=0,Vt=null,Xe=ee.next();Oe!==null&&!Xe.done;Fe++,Xe=ee.next()){Oe.index>Fe?(Vt=Oe,Oe=null):Vt=Oe.sibling;var Si=pe(J,Oe,Xe.value,ve);if(Si===null){Oe===null&&(Oe=Vt);break}e&&Oe&&Si.alternate===null&&a(J,Oe),G=y(Si,G,Fe),Le===null?De=Si:Le.sibling=Si,Le=Si,Oe=Vt}if(Xe.done)return c(J,Oe),xt&&da(J,Fe),De;if(Oe===null){for(;!Xe.done;Fe++,Xe=ee.next())Xe=me(J,Xe.value,ve),Xe!==null&&(G=y(Xe,G,Fe),Le===null?De=Xe:Le.sibling=Xe,Le=Xe);return xt&&da(J,Fe),De}for(Oe=p(J,Oe);!Xe.done;Fe++,Xe=ee.next())Xe=ke(Oe,J,Fe,Xe.value,ve),Xe!==null&&(e&&Xe.alternate!==null&&Oe.delete(Xe.key===null?Fe:Xe.key),G=y(Xe,G,Fe),Le===null?De=Xe:Le.sibling=Xe,Le=Xe);return e&&Oe.forEach(function(A0){return a(J,A0)}),xt&&da(J,Fe),De}function Et(J,G,ee,ve){if(typeof ee=="object"&&ee!==null&&ee.type===q&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case Z:e:{for(var De=ee.key,Le=G;Le!==null;){if(Le.key===De){if(De=ee.type,De===q){if(Le.tag===7){c(J,Le.sibling),G=x(Le,ee.props.children),G.return=J,J=G;break e}}else if(Le.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===oe&&Jp(De)===Le.type){c(J,Le.sibling),G=x(Le,ee.props),G.ref=ml(J,Le,ee),G.return=J,J=G;break e}c(J,Le);break}else a(J,Le);Le=Le.sibling}ee.type===q?(G=ya(ee.props.children,J.mode,ve,ee.key),G.return=J,J=G):(ve=Jc(ee.type,ee.key,ee.props,null,J.mode,ve),ve.ref=ml(J,G,ee),ve.return=J,J=ve)}return k(J);case K:e:{for(Le=ee.key;G!==null;){if(G.key===Le)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){c(J,G.sibling),G=x(G,ee.children||[]),G.return=J,J=G;break e}else{c(J,G);break}else a(J,G);G=G.sibling}G=_h(ee,J.mode,ve),G.return=J,J=G}return k(J);case oe:return Le=ee._init,Et(J,G,Le(ee._payload),ve)}if(Ke(ee))return Se(J,G,ee,ve);if(z(ee))return Pe(J,G,ee,ve);Dc(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,G!==null&&G.tag===6?(c(J,G.sibling),G=x(G,ee),G.return=J,J=G):(c(J,G),G=wh(ee,J.mode,ve),G.return=J,J=G),k(J)):c(J,G)}return Et}var xo=ef(!0),tf=ef(!1),Tc=mi(null),Mc=null,vo=null,Md=null;function Ed(){Md=vo=Mc=null}function Ld(e){var a=Tc.current;mt(Tc),e._currentValue=a}function Od(e,a,c){for(;e!==null;){var p=e.alternate;if((e.childLanes&a)!==a?(e.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),e===c)break;e=e.return}}function yo(e,a){Mc=e,Md=vo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&a)!==0&&(Rn=!0),e.firstContext=null)}function pr(e){var a=e._currentValue;if(Md!==e)if(e={context:e,memoizedValue:a,next:null},vo===null){if(Mc===null)throw Error(s(308));vo=e,Mc.dependencies={lanes:0,firstContext:e}}else vo=vo.next=e;return a}var ha=null;function Rd(e){ha===null?ha=[e]:ha.push(e)}function nf(e,a,c,p){var x=a.interleaved;return x===null?(c.next=c,Rd(a)):(c.next=x.next,x.next=c),a.interleaved=c,Fs(e,p)}function Fs(e,a){e.lanes|=a;var c=e.alternate;for(c!==null&&(c.lanes|=a),c=e,e=e.return;e!==null;)e.childLanes|=a,c=e.alternate,c!==null&&(c.childLanes|=a),c=e,e=e.return;return c.tag===3?c.stateNode:null}var vi=!1;function Id(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rf(e,a){e=e.updateQueue,a.updateQueue===e&&(a.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,a){return{eventTime:e,lane:a,tag:0,payload:null,callback:null,next:null}}function yi(e,a,c){var p=e.updateQueue;if(p===null)return null;if(p=p.shared,(Qe&2)!==0){var x=p.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),p.pending=a,Fs(e,c)}return x=p.interleaved,x===null?(a.next=a,Rd(p)):(a.next=x.next,x.next=a),p.interleaved=a,Fs(e,c)}function Ec(e,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=e.pendingLanes,c|=p,a.lanes=c,jr(e,c)}}function sf(e,a){var c=e.updateQueue,p=e.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?x=y=k:y=y.next=k,c=c.next}while(c!==null);y===null?x=y=a:y=y.next=a}else x=y=a;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:y,shared:p.shared,effects:p.effects},e.updateQueue=c;return}e=c.lastBaseUpdate,e===null?c.firstBaseUpdate=a:e.next=a,c.lastBaseUpdate=a}function Lc(e,a,c,p){var x=e.updateQueue;vi=!1;var y=x.firstBaseUpdate,k=x.lastBaseUpdate,I=x.shared.pending;if(I!==null){x.shared.pending=null;var $=I,ie=$.next;$.next=null,k===null?y=ie:k.next=ie,k=$;var fe=e.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==k&&(I===null?fe.firstBaseUpdate=ie:I.next=ie,fe.lastBaseUpdate=$))}if(y!==null){var me=x.baseState;k=0,fe=ie=$=null,I=y;do{var pe=I.lane,ke=I.eventTime;if((p&pe)===pe){fe!==null&&(fe=fe.next={eventTime:ke,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var Se=e,Pe=I;switch(pe=a,ke=c,Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){me=Se.call(ke,me,pe);break e}me=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,pe=typeof Se=="function"?Se.call(ke,me,pe):Se,pe==null)break e;me=Y({},me,pe);break e;case 2:vi=!0}}I.callback!==null&&I.lane!==0&&(e.flags|=64,pe=x.effects,pe===null?x.effects=[I]:pe.push(I))}else ke={eventTime:ke,lane:pe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(ie=fe=ke,$=me):fe=fe.next=ke,k|=pe;if(I=I.next,I===null){if(I=x.shared.pending,I===null)break;pe=I,I=pe.next,pe.next=null,x.lastBaseUpdate=pe,x.shared.pending=null}}while(!0);if(fe===null&&($=me),x.baseState=$,x.firstBaseUpdate=ie,x.lastBaseUpdate=fe,a=x.shared.interleaved,a!==null){x=a;do k|=x.lane,x=x.next;while(x!==a)}else y===null&&(x.shared.lanes=0);ma|=k,e.lanes=k,e.memoizedState=me}}function af(e,a,c){if(e=a.effects,a.effects=null,e!==null)for(a=0;a<e.length;a++){var p=e[a],x=p.callback;if(x!==null){if(p.callback=null,p=c,typeof x!="function")throw Error(s(191,x));x.call(p)}}}var gl={},Xr=mi(gl),xl=mi(gl),vl=mi(gl);function pa(e){if(e===gl)throw Error(s(174));return e}function Ad(e,a){switch(ht(vl,a),ht(xl,e),ht(Xr,gl),e=a.nodeType,e){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:br(null,"");break;default:e=e===8?a.parentNode:a,a=e.namespaceURI||null,e=e.tagName,a=br(a,e)}mt(Xr),ht(Xr,a)}function bo(){mt(Xr),mt(xl),mt(vl)}function of(e){pa(vl.current);var a=pa(Xr.current),c=br(a,e.type);a!==c&&(ht(xl,e),ht(Xr,c))}function Fd(e){xl.current===e&&(mt(Xr),mt(xl))}var kt=mi(0);function Oc(e){for(var a=e;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bd=[];function zd(){for(var e=0;e<Bd.length;e++)Bd[e]._workInProgressVersionPrimary=null;Bd.length=0}var Rc=te.ReactCurrentDispatcher,Wd=te.ReactCurrentBatchConfig,fa=0,Nt=null,Yt=null,Ut=null,Ic=!1,yl=!1,bl=0,i0=0;function un(){throw Error(s(321))}function Yd(e,a){if(a===null)return!1;for(var c=0;c<a.length&&c<e.length;c++)if(!qn(e[c],a[c]))return!1;return!0}function Hd(e,a,c,p,x,y){if(fa=y,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Rc.current=e===null||e.memoizedState===null?c0:u0,e=c(p,x),yl){y=0;do{if(yl=!1,bl=0,25<=y)throw Error(s(301));y+=1,Ut=Yt=null,a.updateQueue=null,Rc.current=d0,e=c(p,x)}while(yl)}if(Rc.current=Bc,a=Yt!==null&&Yt.next!==null,fa=0,Ut=Yt=Nt=null,Ic=!1,a)throw Error(s(300));return e}function $d(){var e=bl!==0;return bl=0,e}function Jr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Nt.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function fr(){if(Yt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var a=Ut===null?Nt.memoizedState:Ut.next;if(a!==null)Ut=a,Yt=e;else{if(e===null)throw Error(s(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ut===null?Nt.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function wl(e,a){return typeof a=="function"?a(e):a}function Ud(e){var a=fr(),c=a.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=e;var p=Yt,x=p.baseQueue,y=c.pending;if(y!==null){if(x!==null){var k=x.next;x.next=y.next,y.next=k}p.baseQueue=x=y,c.pending=null}if(x!==null){y=x.next,p=p.baseState;var I=k=null,$=null,ie=y;do{var fe=ie.lane;if((fa&fe)===fe)$!==null&&($=$.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),p=ie.hasEagerState?ie.eagerState:e(p,ie.action);else{var me={lane:fe,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};$===null?(I=$=me,k=p):$=$.next=me,Nt.lanes|=fe,ma|=fe}ie=ie.next}while(ie!==null&&ie!==y);$===null?k=p:$.next=I,qn(p,a.memoizedState)||(Rn=!0),a.memoizedState=p,a.baseState=k,a.baseQueue=$,c.lastRenderedState=p}if(e=c.interleaved,e!==null){x=e;do y=x.lane,Nt.lanes|=y,ma|=y,x=x.next;while(x!==e)}else x===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Zd(e){var a=fr(),c=a.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=e;var p=c.dispatch,x=c.pending,y=a.memoizedState;if(x!==null){c.pending=null;var k=x=x.next;do y=e(y,k.action),k=k.next;while(k!==x);qn(y,a.memoizedState)||(Rn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,p]}function lf(){}function cf(e,a){var c=Nt,p=fr(),x=a(),y=!qn(p.memoizedState,x);if(y&&(p.memoizedState=x,Rn=!0),p=p.queue,Vd(hf.bind(null,c,p,e),[e]),p.getSnapshot!==a||y||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,_l(9,df.bind(null,c,p,x,a),void 0,null),Zt===null)throw Error(s(349));(fa&30)!==0||uf(c,a,x)}return x}function uf(e,a,c){e.flags|=16384,e={getSnapshot:a,value:c},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.stores=[e]):(c=a.stores,c===null?a.stores=[e]:c.push(e))}function df(e,a,c,p){a.value=c,a.getSnapshot=p,pf(a)&&ff(e)}function hf(e,a,c){return c(function(){pf(a)&&ff(e)})}function pf(e){var a=e.getSnapshot;e=e.value;try{var c=a();return!qn(e,c)}catch{return!0}}function ff(e){var a=Fs(e,1);a!==null&&Or(a,e,1,-1)}function mf(e){var a=Jr();return typeof e=="function"&&(e=e()),a.memoizedState=a.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wl,lastRenderedState:e},a.queue=e,e=e.dispatch=l0.bind(null,Nt,e),[a.memoizedState,e]}function _l(e,a,c,p){return e={tag:e,create:a,destroy:c,deps:p,next:null},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.lastEffect=e.next=e):(c=a.lastEffect,c===null?a.lastEffect=e.next=e:(p=c.next,c.next=e,e.next=p,a.lastEffect=e)),e}function gf(){return fr().memoizedState}function Ac(e,a,c,p){var x=Jr();Nt.flags|=e,x.memoizedState=_l(1|a,c,void 0,p===void 0?null:p)}function Fc(e,a,c,p){var x=fr();p=p===void 0?null:p;var y=void 0;if(Yt!==null){var k=Yt.memoizedState;if(y=k.destroy,p!==null&&Yd(p,k.deps)){x.memoizedState=_l(a,c,y,p);return}}Nt.flags|=e,x.memoizedState=_l(1|a,c,y,p)}function xf(e,a){return Ac(8390656,8,e,a)}function Vd(e,a){return Fc(2048,8,e,a)}function vf(e,a){return Fc(4,2,e,a)}function yf(e,a){return Fc(4,4,e,a)}function bf(e,a){if(typeof a=="function")return e=e(),a(e),function(){a(null)};if(a!=null)return e=e(),a.current=e,function(){a.current=null}}function wf(e,a,c){return c=c!=null?c.concat([e]):null,Fc(4,4,bf.bind(null,a,e),c)}function qd(){}function _f(e,a){var c=fr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Yd(a,p[1])?p[0]:(c.memoizedState=[e,a],e)}function kf(e,a){var c=fr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Yd(a,p[1])?p[0]:(e=e(),c.memoizedState=[e,a],e)}function Nf(e,a,c){return(fa&21)===0?(e.baseState&&(e.baseState=!1,Rn=!0),e.memoizedState=c):(qn(c,a)||(c=ec(),Nt.lanes|=c,ma|=c,e.baseState=!0),a)}function a0(e,a){var c=qe;qe=c!==0&&4>c?c:4,e(!0);var p=Wd.transition;Wd.transition={};try{e(!1),a()}finally{qe=c,Wd.transition=p}}function jf(){return fr().memoizedState}function o0(e,a,c){var p=ki(e);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Sf(e))Cf(a,c);else if(c=nf(e,a,c,p),c!==null){var x=kn();Or(c,e,p,x),Pf(c,a,p)}}function l0(e,a,c){var p=ki(e),x={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Sf(e))Cf(a,x);else{var y=e.alternate;if(e.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var k=a.lastRenderedState,I=y(k,c);if(x.hasEagerState=!0,x.eagerState=I,qn(I,k)){var $=a.interleaved;$===null?(x.next=x,Rd(a)):(x.next=$.next,$.next=x),a.interleaved=x;return}}catch{}c=nf(e,a,x,p),c!==null&&(x=kn(),Or(c,e,p,x),Pf(c,a,p))}}function Sf(e){var a=e.alternate;return e===Nt||a!==null&&a===Nt}function Cf(e,a){yl=Ic=!0;var c=e.pending;c===null?a.next=a:(a.next=c.next,c.next=a),e.pending=a}function Pf(e,a,c){if((c&4194240)!==0){var p=a.lanes;p&=e.pendingLanes,c|=p,a.lanes=c,jr(e,c)}}var Bc={readContext:pr,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},c0={readContext:pr,useCallback:function(e,a){return Jr().memoizedState=[e,a===void 0?null:a],e},useContext:pr,useEffect:xf,useImperativeHandle:function(e,a,c){return c=c!=null?c.concat([e]):null,Ac(4194308,4,bf.bind(null,a,e),c)},useLayoutEffect:function(e,a){return Ac(4194308,4,e,a)},useInsertionEffect:function(e,a){return Ac(4,2,e,a)},useMemo:function(e,a){var c=Jr();return a=a===void 0?null:a,e=e(),c.memoizedState=[e,a],e},useReducer:function(e,a,c){var p=Jr();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},p.queue=e,e=e.dispatch=o0.bind(null,Nt,e),[p.memoizedState,e]},useRef:function(e){var a=Jr();return e={current:e},a.memoizedState=e},useState:mf,useDebugValue:qd,useDeferredValue:function(e){return Jr().memoizedState=e},useTransition:function(){var e=mf(!1),a=e[0];return e=a0.bind(null,e[1]),Jr().memoizedState=e,[a,e]},useMutableSource:function(){},useSyncExternalStore:function(e,a,c){var p=Nt,x=Jr();if(xt){if(c===void 0)throw Error(s(407));c=c()}else{if(c=a(),Zt===null)throw Error(s(349));(fa&30)!==0||uf(p,a,c)}x.memoizedState=c;var y={value:c,getSnapshot:a};return x.queue=y,xf(hf.bind(null,p,y,e),[e]),p.flags|=2048,_l(9,df.bind(null,p,y,c,a),void 0,null),c},useId:function(){var e=Jr(),a=Zt.identifierPrefix;if(xt){var c=As,p=Is;c=(p&~(1<<32-We(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=bl++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=i0++,a=":"+a+"r"+c.toString(32)+":";return e.memoizedState=a},unstable_isNewReconciler:!1},u0={readContext:pr,useCallback:_f,useContext:pr,useEffect:Vd,useImperativeHandle:wf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:kf,useReducer:Ud,useRef:gf,useState:function(){return Ud(wl)},useDebugValue:qd,useDeferredValue:function(e){var a=fr();return Nf(a,Yt.memoizedState,e)},useTransition:function(){var e=Ud(wl)[0],a=fr().memoizedState;return[e,a]},useMutableSource:lf,useSyncExternalStore:cf,useId:jf,unstable_isNewReconciler:!1},d0={readContext:pr,useCallback:_f,useContext:pr,useEffect:Vd,useImperativeHandle:wf,useInsertionEffect:vf,useLayoutEffect:yf,useMemo:kf,useReducer:Zd,useRef:gf,useState:function(){return Zd(wl)},useDebugValue:qd,useDeferredValue:function(e){var a=fr();return Yt===null?a.memoizedState=e:Nf(a,Yt.memoizedState,e)},useTransition:function(){var e=Zd(wl)[0],a=fr().memoizedState;return[e,a]},useMutableSource:lf,useSyncExternalStore:cf,useId:jf,unstable_isNewReconciler:!1};function Mr(e,a){if(e&&e.defaultProps){a=Y({},a),e=e.defaultProps;for(var c in e)a[c]===void 0&&(a[c]=e[c]);return a}return a}function Gd(e,a,c,p){a=e.memoizedState,c=c(p,a),c=c==null?a:Y({},a,c),e.memoizedState=c,e.lanes===0&&(e.updateQueue.baseState=c)}var zc={isMounted:function(e){return(e=e._reactInternals)?Me(e)===e:!1},enqueueSetState:function(e,a,c){e=e._reactInternals;var p=kn(),x=ki(e),y=Bs(p,x);y.payload=a,c!=null&&(y.callback=c),a=yi(e,y,x),a!==null&&(Or(a,e,x,p),Ec(a,e,x))},enqueueReplaceState:function(e,a,c){e=e._reactInternals;var p=kn(),x=ki(e),y=Bs(p,x);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=yi(e,y,x),a!==null&&(Or(a,e,x,p),Ec(a,e,x))},enqueueForceUpdate:function(e,a){e=e._reactInternals;var c=kn(),p=ki(e),x=Bs(c,p);x.tag=2,a!=null&&(x.callback=a),a=yi(e,x,p),a!==null&&(Or(a,e,p,c),Ec(a,e,p))}};function Df(e,a,c,p,x,y,k){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(p,y,k):a.prototype&&a.prototype.isPureReactComponent?!qr(c,p)||!qr(x,y):!0}function Tf(e,a,c){var p=!1,x=gi,y=a.contextType;return typeof y=="object"&&y!==null?y=pr(y):(x=On(a)?ca:cn.current,p=a.contextTypes,y=(p=p!=null)?po(e,x):gi),a=new a(c,y),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=zc,e.stateNode=a,a._reactInternals=e,p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=x,e.__reactInternalMemoizedMaskedChildContext=y),a}function Mf(e,a,c,p){e=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==e&&zc.enqueueReplaceState(a,a.state,null)}function Kd(e,a,c,p){var x=e.stateNode;x.props=c,x.state=e.memoizedState,x.refs={},Id(e);var y=a.contextType;typeof y=="object"&&y!==null?x.context=pr(y):(y=On(a)?ca:cn.current,x.context=po(e,y)),x.state=e.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Gd(e,a,y,c),x.state=e.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&zc.enqueueReplaceState(x,x.state,null),Lc(e,c,x,p),x.state=e.memoizedState),typeof x.componentDidMount=="function"&&(e.flags|=4194308)}function wo(e,a){try{var c="",p=a;do c+=we(p),p=p.return;while(p);var x=c}catch(y){x=`
Error generating stack: `+y.message+`
`+y.stack}return{value:e,source:a,stack:x,digest:null}}function Qd(e,a,c){return{value:e,source:null,stack:c??null,digest:a??null}}function Xd(e,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var h0=typeof WeakMap=="function"?WeakMap:Map;function Ef(e,a,c){c=Bs(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Vc||(Vc=!0,ph=p),Xd(e,a)},c}function Lf(e,a,c){c=Bs(-1,c),c.tag=3;var p=e.type.getDerivedStateFromError;if(typeof p=="function"){var x=a.value;c.payload=function(){return p(x)},c.callback=function(){Xd(e,a)}}var y=e.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Xd(e,a),typeof p!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var k=a.stack;this.componentDidCatch(a.value,{componentStack:k!==null?k:""})}),c}function Of(e,a,c){var p=e.pingCache;if(p===null){p=e.pingCache=new h0;var x=new Set;p.set(a,x)}else x=p.get(a),x===void 0&&(x=new Set,p.set(a,x));x.has(c)||(x.add(c),e=S0.bind(null,e,a,c),a.then(e,e))}function Rf(e){do{var a;if((a=e.tag===13)&&(a=e.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return e;e=e.return}while(e!==null);return null}function If(e,a,c,p,x){return(e.mode&1)===0?(e===a?e.flags|=65536:(e.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Bs(-1,1),a.tag=2,yi(c,a,1))),c.lanes|=1),e):(e.flags|=65536,e.lanes=x,e)}var p0=te.ReactCurrentOwner,Rn=!1;function _n(e,a,c,p){a.child=e===null?tf(a,null,c,p):xo(a,e.child,c,p)}function Af(e,a,c,p,x){c=c.render;var y=a.ref;return yo(a,x),p=Hd(e,a,c,p,y,x),c=$d(),e!==null&&!Rn?(a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~x,zs(e,a,x)):(xt&&c&&Sd(a),a.flags|=1,_n(e,a,p,x),a.child)}function Ff(e,a,c,p,x){if(e===null){var y=c.type;return typeof y=="function"&&!bh(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,Bf(e,a,y,p,x)):(e=Jc(c.type,null,p,a,a.mode,x),e.ref=a.ref,e.return=a,a.child=e)}if(y=e.child,(e.lanes&x)===0){var k=y.memoizedProps;if(c=c.compare,c=c!==null?c:qr,c(k,p)&&e.ref===a.ref)return zs(e,a,x)}return a.flags|=1,e=ji(y,p),e.ref=a.ref,e.return=a,a.child=e}function Bf(e,a,c,p,x){if(e!==null){var y=e.memoizedProps;if(qr(y,p)&&e.ref===a.ref)if(Rn=!1,a.pendingProps=p=y,(e.lanes&x)!==0)(e.flags&131072)!==0&&(Rn=!0);else return a.lanes=e.lanes,zs(e,a,x)}return Jd(e,a,c,p,x)}function zf(e,a,c){var p=a.pendingProps,x=p.children,y=e!==null?e.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(ko,Xn),Xn|=c;else{if((c&1073741824)===0)return e=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:e,cachePool:null,transitions:null},a.updateQueue=null,ht(ko,Xn),Xn|=e,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=y!==null?y.baseLanes:c,ht(ko,Xn),Xn|=p}else y!==null?(p=y.baseLanes|c,a.memoizedState=null):p=c,ht(ko,Xn),Xn|=p;return _n(e,a,x,c),a.child}function Wf(e,a){var c=a.ref;(e===null&&c!==null||e!==null&&e.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Jd(e,a,c,p,x){var y=On(c)?ca:cn.current;return y=po(a,y),yo(a,x),c=Hd(e,a,c,p,y,x),p=$d(),e!==null&&!Rn?(a.updateQueue=e.updateQueue,a.flags&=-2053,e.lanes&=~x,zs(e,a,x)):(xt&&p&&Sd(a),a.flags|=1,_n(e,a,c,x),a.child)}function Yf(e,a,c,p,x){if(On(c)){var y=!0;Nc(a)}else y=!1;if(yo(a,x),a.stateNode===null)Yc(e,a),Tf(a,c,p),Kd(a,c,p,x),p=!0;else if(e===null){var k=a.stateNode,I=a.memoizedProps;k.props=I;var $=k.context,ie=c.contextType;typeof ie=="object"&&ie!==null?ie=pr(ie):(ie=On(c)?ca:cn.current,ie=po(a,ie));var fe=c.getDerivedStateFromProps,me=typeof fe=="function"||typeof k.getSnapshotBeforeUpdate=="function";me||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==p||$!==ie)&&Mf(a,k,p,ie),vi=!1;var pe=a.memoizedState;k.state=pe,Lc(a,p,k,x),$=a.memoizedState,I!==p||pe!==$||Ln.current||vi?(typeof fe=="function"&&(Gd(a,c,fe,p),$=a.memoizedState),(I=vi||Df(a,c,I,p,pe,$,ie))?(me||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(a.flags|=4194308)):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=$),k.props=p,k.state=$,k.context=ie,p=I):(typeof k.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{k=a.stateNode,rf(e,a),I=a.memoizedProps,ie=a.type===a.elementType?I:Mr(a.type,I),k.props=ie,me=a.pendingProps,pe=k.context,$=c.contextType,typeof $=="object"&&$!==null?$=pr($):($=On(c)?ca:cn.current,$=po(a,$));var ke=c.getDerivedStateFromProps;(fe=typeof ke=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(I!==me||pe!==$)&&Mf(a,k,p,$),vi=!1,pe=a.memoizedState,k.state=pe,Lc(a,p,k,x);var Se=a.memoizedState;I!==me||pe!==Se||Ln.current||vi?(typeof ke=="function"&&(Gd(a,c,ke,p),Se=a.memoizedState),(ie=vi||Df(a,c,ie,p,pe,Se,$)||!1)?(fe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(p,Se,$),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(p,Se,$)),typeof k.componentDidUpdate=="function"&&(a.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof k.componentDidUpdate!="function"||I===e.memoizedProps&&pe===e.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&pe===e.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Se),k.props=p,k.state=Se,k.context=$,p=ie):(typeof k.componentDidUpdate!="function"||I===e.memoizedProps&&pe===e.memoizedState||(a.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||I===e.memoizedProps&&pe===e.memoizedState||(a.flags|=1024),p=!1)}return eh(e,a,c,p,y,x)}function eh(e,a,c,p,x,y){Wf(e,a);var k=(a.flags&128)!==0;if(!p&&!k)return x&&Zp(a,c,!1),zs(e,a,y);p=a.stateNode,p0.current=a;var I=k&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,e!==null&&k?(a.child=xo(a,e.child,null,y),a.child=xo(a,null,I,y)):_n(e,a,I,y),a.memoizedState=p.state,x&&Zp(a,c,!0),a.child}function Hf(e){var a=e.stateNode;a.pendingContext?$p(e,a.pendingContext,a.pendingContext!==a.context):a.context&&$p(e,a.context,!1),Ad(e,a.containerInfo)}function $f(e,a,c,p,x){return go(),Td(x),a.flags|=256,_n(e,a,c,p),a.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uf(e,a,c){var p=a.pendingProps,x=kt.current,y=!1,k=(a.flags&128)!==0,I;if((I=k)||(I=e!==null&&e.memoizedState===null?!1:(x&2)!==0),I?(y=!0,a.flags&=-129):(e===null||e.memoizedState!==null)&&(x|=1),ht(kt,x&1),e===null)return Dd(a),e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((a.mode&1)===0?a.lanes=1:e.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(k=p.children,e=p.fallback,y?(p=a.mode,y=a.child,k={mode:"hidden",children:k},(p&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=eu(k,p,0,null),e=ya(e,p,c,null),y.return=a,e.return=a,y.sibling=e,a.child=y,a.child.memoizedState=nh(c),a.memoizedState=th,e):rh(a,k));if(x=e.memoizedState,x!==null&&(I=x.dehydrated,I!==null))return f0(e,a,k,p,I,x,c);if(y){y=p.fallback,k=a.mode,x=e.child,I=x.sibling;var $={mode:"hidden",children:p.children};return(k&1)===0&&a.child!==x?(p=a.child,p.childLanes=0,p.pendingProps=$,a.deletions=null):(p=ji(x,$),p.subtreeFlags=x.subtreeFlags&14680064),I!==null?y=ji(I,y):(y=ya(y,k,c,null),y.flags|=2),y.return=a,p.return=a,p.sibling=y,a.child=p,p=y,y=a.child,k=e.child.memoizedState,k=k===null?nh(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=e.childLanes&~c,a.memoizedState=th,p}return y=e.child,e=y.sibling,p=ji(y,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,e!==null&&(c=a.deletions,c===null?(a.deletions=[e],a.flags|=16):c.push(e)),a.child=p,a.memoizedState=null,p}function rh(e,a){return a=eu({mode:"visible",children:a},e.mode,0,null),a.return=e,e.child=a}function Wc(e,a,c,p){return p!==null&&Td(p),xo(a,e.child,null,c),e=rh(a,a.pendingProps.children),e.flags|=2,a.memoizedState=null,e}function f0(e,a,c,p,x,y,k){if(c)return a.flags&256?(a.flags&=-257,p=Qd(Error(s(422))),Wc(e,a,k,p)):a.memoizedState!==null?(a.child=e.child,a.flags|=128,null):(y=p.fallback,x=a.mode,p=eu({mode:"visible",children:p.children},x,0,null),y=ya(y,x,k,null),y.flags|=2,p.return=a,y.return=a,p.sibling=y,a.child=p,(a.mode&1)!==0&&xo(a,e.child,null,k),a.child.memoizedState=nh(k),a.memoizedState=th,y);if((a.mode&1)===0)return Wc(e,a,k,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var I=p.dgst;return p=I,y=Error(s(419)),p=Qd(y,p,void 0),Wc(e,a,k,p)}if(I=(k&e.childLanes)!==0,Rn||I){if(p=Zt,p!==null){switch(k&-k){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(p.suspendedLanes|k))!==0?0:x,x!==0&&x!==y.retryLane&&(y.retryLane=x,Fs(e,x),Or(p,e,x,-1))}return yh(),p=Qd(Error(s(421))),Wc(e,a,k,p)}return x.data==="$?"?(a.flags|=128,a.child=e.child,a=C0.bind(null,e),x._reactRetry=a,null):(e=y.treeContext,Qn=Qr(x.nextSibling),Kn=a,xt=!0,Tr=null,e!==null&&(dr[hr++]=Is,dr[hr++]=As,dr[hr++]=ua,Is=e.id,As=e.overflow,ua=a),a=rh(a,p.children),a.flags|=4096,a)}function Zf(e,a,c){e.lanes|=a;var p=e.alternate;p!==null&&(p.lanes|=a),Od(e.return,a,c)}function sh(e,a,c,p,x){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=p,y.tail=c,y.tailMode=x)}function Vf(e,a,c){var p=a.pendingProps,x=p.revealOrder,y=p.tail;if(_n(e,a,p.children,c),p=kt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=a.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zf(e,c,a);else if(e.tag===19)Zf(e,c,a);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===a)break e;for(;e.sibling===null;){if(e.return===null||e.return===a)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}p&=1}if(ht(kt,p),(a.mode&1)===0)a.memoizedState=null;else switch(x){case"forwards":for(c=a.child,x=null;c!==null;)e=c.alternate,e!==null&&Oc(e)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),sh(a,!1,x,c,y);break;case"backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(e=x.alternate,e!==null&&Oc(e)===null){a.child=x;break}e=x.sibling,x.sibling=c,c=x,x=e}sh(a,!0,c,null,y);break;case"together":sh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Yc(e,a){(a.mode&1)===0&&e!==null&&(e.alternate=null,a.alternate=null,a.flags|=2)}function zs(e,a,c){if(e!==null&&(a.dependencies=e.dependencies),ma|=a.lanes,(c&a.childLanes)===0)return null;if(e!==null&&a.child!==e.child)throw Error(s(153));if(a.child!==null){for(e=a.child,c=ji(e,e.pendingProps),a.child=c,c.return=a;e.sibling!==null;)e=e.sibling,c=c.sibling=ji(e,e.pendingProps),c.return=a;c.sibling=null}return a.child}function m0(e,a,c){switch(a.tag){case 3:Hf(a),go();break;case 5:of(a);break;case 1:On(a.type)&&Nc(a);break;case 4:Ad(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,x=a.memoizedProps.value;ht(Tc,p._currentValue),p._currentValue=x;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(ht(kt,kt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Uf(e,a,c):(ht(kt,kt.current&1),e=zs(e,a,c),e!==null?e.sibling:null);ht(kt,kt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(e.flags&128)!==0){if(p)return Vf(e,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ht(kt,kt.current),p)break;return null;case 22:case 23:return a.lanes=0,zf(e,a,c)}return zs(e,a,c)}var qf,ih,Gf,Kf;qf=function(e,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ih=function(){},Gf=function(e,a,c,p){var x=e.memoizedProps;if(x!==p){e=a.stateNode,pa(Xr.current);var y=null;switch(c){case"input":x=ze(e,x),p=ze(e,p),y=[];break;case"select":x=Y({},x,{value:void 0}),p=Y({},p,{value:void 0}),y=[];break;case"textarea":x=Dn(e,x),p=Dn(e,p),y=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(e.onclick=he)}xs(c,p);var k;c=null;for(ie in x)if(!p.hasOwnProperty(ie)&&x.hasOwnProperty(ie)&&x[ie]!=null)if(ie==="style"){var I=x[ie];for(k in I)I.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(u.hasOwnProperty(ie)?y||(y=[]):(y=y||[]).push(ie,null));for(ie in p){var $=p[ie];if(I=x?.[ie],p.hasOwnProperty(ie)&&$!==I&&($!=null||I!=null))if(ie==="style")if(I){for(k in I)!I.hasOwnProperty(k)||$&&$.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in $)$.hasOwnProperty(k)&&I[k]!==$[k]&&(c||(c={}),c[k]=$[k])}else c||(y||(y=[]),y.push(ie,c)),c=$;else ie==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,I=I?I.__html:void 0,$!=null&&I!==$&&(y=y||[]).push(ie,$)):ie==="children"?typeof $!="string"&&typeof $!="number"||(y=y||[]).push(ie,""+$):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(u.hasOwnProperty(ie)?($!=null&&ie==="onScroll"&&ut("scroll",e),y||I===$||(y=[])):(y=y||[]).push(ie,$))}c&&(y=y||[]).push("style",c);var ie=y;(a.updateQueue=ie)&&(a.flags|=4)}},Kf=function(e,a,c,p){c!==p&&(a.flags|=4)};function kl(e,a){if(!xt)switch(e.tailMode){case"hidden":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?e.tail=null:c.sibling=null;break;case"collapsed":c=e.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||e.tail===null?e.tail=null:e.tail.sibling=null:p.sibling=null}}function dn(e){var a=e.alternate!==null&&e.alternate.child===e.child,c=0,p=0;if(a)for(var x=e.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&14680064,p|=x.flags&14680064,x.return=e,x=x.sibling;else for(x=e.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=e,x=x.sibling;return e.subtreeFlags|=p,e.childLanes=c,a}function g0(e,a,c){var p=a.pendingProps;switch(Cd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(a),null;case 1:return On(a.type)&&kc(),dn(a),null;case 3:return p=a.stateNode,bo(),mt(Ln),mt(cn),zd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(e===null||e.child===null)&&(Pc(a)?a.flags|=4:e===null||e.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Tr!==null&&(gh(Tr),Tr=null))),ih(e,a),dn(a),null;case 5:Fd(a);var x=pa(vl.current);if(c=a.type,e!==null&&a.stateNode!=null)Gf(e,a,c,p,x),e.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(s(166));return dn(a),null}if(e=pa(Xr.current),Pc(a)){p=a.stateNode,c=a.type;var y=a.memoizedProps;switch(p[ur]=a,p[pi]=y,e=(a.mode&1)!==0,c){case"dialog":ut("cancel",p),ut("close",p);break;case"iframe":case"object":case"embed":ut("load",p);break;case"video":case"audio":for(x=0;x<ui.length;x++)ut(ui[x],p);break;case"source":ut("error",p);break;case"img":case"image":case"link":ut("error",p),ut("load",p);break;case"details":ut("toggle",p);break;case"input":Ve(p,y),ut("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!y.multiple},ut("invalid",p);break;case"textarea":Yi(p,y),ut("invalid",p)}xs(c,y),x=null;for(var k in y)if(y.hasOwnProperty(k)){var I=y[k];k==="children"?typeof I=="string"?p.textContent!==I&&(y.suppressHydrationWarning!==!0&&se(p.textContent,I,e),x=["children",I]):typeof I=="number"&&p.textContent!==""+I&&(y.suppressHydrationWarning!==!0&&se(p.textContent,I,e),x=["children",""+I]):u.hasOwnProperty(k)&&I!=null&&k==="onScroll"&&ut("scroll",p)}switch(c){case"input":mn(p),It(p,y,!0);break;case"textarea":mn(p),Ra(p);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(p.onclick=he)}p=x,a.updateQueue=p,p!==null&&(a.flags|=4)}else{k=x.nodeType===9?x:x.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gs(c)),e==="http://www.w3.org/1999/xhtml"?c==="script"?(e=k.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof p.is=="string"?e=k.createElement(c,{is:p.is}):(e=k.createElement(c),c==="select"&&(k=e,p.multiple?k.multiple=!0:p.size&&(k.size=p.size))):e=k.createElementNS(e,c),e[ur]=a,e[pi]=p,qf(e,a,!1,!1),a.stateNode=e;e:{switch(k=rr(c,p),c){case"dialog":ut("cancel",e),ut("close",e),x=p;break;case"iframe":case"object":case"embed":ut("load",e),x=p;break;case"video":case"audio":for(x=0;x<ui.length;x++)ut(ui[x],e);x=p;break;case"source":ut("error",e),x=p;break;case"img":case"image":case"link":ut("error",e),ut("load",e),x=p;break;case"details":ut("toggle",e),x=p;break;case"input":Ve(e,p),x=ze(e,p),ut("invalid",e);break;case"option":x=p;break;case"select":e._wrapperState={wasMultiple:!!p.multiple},x=Y({},p,{value:void 0}),ut("invalid",e);break;case"textarea":Yi(e,p),x=Dn(e,p),ut("invalid",e);break;default:x=p}xs(c,x),I=x;for(y in I)if(I.hasOwnProperty(y)){var $=I[y];y==="style"?_r(e,$):y==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&Ia(e,$)):y==="children"?typeof $=="string"?(c!=="textarea"||$!=="")&&wr(e,$):typeof $=="number"&&wr(e,""+$):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(u.hasOwnProperty(y)?$!=null&&y==="onScroll"&&ut("scroll",e):$!=null&&B(e,y,$,k))}switch(c){case"input":mn(e),It(e,p,!1);break;case"textarea":mn(e),Ra(e);break;case"option":p.value!=null&&e.setAttribute("value",""+Ae(p.value));break;case"select":e.multiple=!!p.multiple,y=p.value,y!=null?Xt(e,!!p.multiple,y,!1):p.defaultValue!=null&&Xt(e,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(e.onclick=he)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return dn(a),null;case 6:if(e&&a.stateNode!=null)Kf(e,a,e.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(s(166));if(c=pa(vl.current),pa(Xr.current),Pc(a)){if(p=a.stateNode,c=a.memoizedProps,p[ur]=a,(y=p.nodeValue!==c)&&(e=Kn,e!==null))switch(e.tag){case 3:se(p.nodeValue,c,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&se(p.nodeValue,c,(e.mode&1)!==0)}y&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[ur]=a,a.stateNode=p}return dn(a),null;case 13:if(mt(kt),p=a.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&Qn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Xp(),go(),a.flags|=98560,y=!1;else if(y=Pc(a),p!==null&&p.dehydrated!==null){if(e===null){if(!y)throw Error(s(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(s(317));y[ur]=a}else go(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;dn(a),y=!1}else Tr!==null&&(gh(Tr),Tr=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(e!==null&&e.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(e===null||(kt.current&1)!==0?Ht===0&&(Ht=3):yh())),a.updateQueue!==null&&(a.flags|=4),dn(a),null);case 4:return bo(),ih(e,a),e===null&&di(a.stateNode.containerInfo),dn(a),null;case 10:return Ld(a.type._context),dn(a),null;case 17:return On(a.type)&&kc(),dn(a),null;case 19:if(mt(kt),y=a.memoizedState,y===null)return dn(a),null;if(p=(a.flags&128)!==0,k=y.rendering,k===null)if(p)kl(y,!1);else{if(Ht!==0||e!==null&&(e.flags&128)!==0)for(e=a.child;e!==null;){if(k=Oc(e),k!==null){for(a.flags|=128,kl(y,!1),p=k.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)y=c,e=p,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=e,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,e=k.dependencies,y.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),c=c.sibling;return ht(kt,kt.current&1|2),a.child}e=e.sibling}y.tail!==null&&it()>No&&(a.flags|=128,p=!0,kl(y,!1),a.lanes=4194304)}else{if(!p)if(e=Oc(k),e!==null){if(a.flags|=128,p=!0,c=e.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),kl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!xt)return dn(a),null}else 2*it()-y.renderingStartTime>No&&c!==1073741824&&(a.flags|=128,p=!0,kl(y,!1),a.lanes=4194304);y.isBackwards?(k.sibling=a.child,a.child=k):(c=y.last,c!==null?c.sibling=k:a.child=k,y.last=k)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=it(),a.sibling=null,c=kt.current,ht(kt,p?c&1|2:c&1),a):(dn(a),null);case 22:case 23:return vh(),p=a.memoizedState!==null,e!==null&&e.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Xn&1073741824)!==0&&(dn(a),a.subtreeFlags&6&&(a.flags|=8192)):dn(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function x0(e,a){switch(Cd(a),a.tag){case 1:return On(a.type)&&kc(),e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 3:return bo(),mt(Ln),mt(cn),zd(),e=a.flags,(e&65536)!==0&&(e&128)===0?(a.flags=e&-65537|128,a):null;case 5:return Fd(a),null;case 13:if(mt(kt),e=a.memoizedState,e!==null&&e.dehydrated!==null){if(a.alternate===null)throw Error(s(340));go()}return e=a.flags,e&65536?(a.flags=e&-65537|128,a):null;case 19:return mt(kt),null;case 4:return bo(),null;case 10:return Ld(a.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var Hc=!1,hn=!1,v0=typeof WeakSet=="function"?WeakSet:Set,je=null;function _o(e,a){var c=e.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Pt(e,a,p)}else c.current=null}function ah(e,a,c){try{c()}catch(p){Pt(e,a,p)}}var Qf=!1;function y0(e,a){if(_e=ta,e=al(),ol(e)){if("selectionStart"in e)var c={start:e.selectionStart,end:e.selectionEnd};else e:{c=(c=e.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,y=p.focusNode;p=p.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var k=0,I=-1,$=-1,ie=0,fe=0,me=e,pe=null;t:for(;;){for(var ke;me!==c||x!==0&&me.nodeType!==3||(I=k+x),me!==y||p!==0&&me.nodeType!==3||($=k+p),me.nodeType===3&&(k+=me.nodeValue.length),(ke=me.firstChild)!==null;)pe=me,me=ke;for(;;){if(me===e)break t;if(pe===c&&++ie===x&&(I=k),pe===y&&++fe===p&&($=k),(ke=me.nextSibling)!==null)break;me=pe,pe=me.parentNode}me=ke}c=I===-1||$===-1?null:{start:I,end:$}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ee={focusedElem:e,selectionRange:c},ta=!1,je=a;je!==null;)if(a=je,e=a.child,(a.subtreeFlags&1028)!==0&&e!==null)e.return=a,je=e;else for(;je!==null;){a=je;try{var Se=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Pe=Se.memoizedProps,Et=Se.memoizedState,J=a.stateNode,G=J.getSnapshotBeforeUpdate(a.elementType===a.type?Pe:Mr(a.type,Pe),Et);J.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var ee=a.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(ve){Pt(a,a.return,ve)}if(e=a.sibling,e!==null){e.return=a.return,je=e;break}je=a.return}return Se=Qf,Qf=!1,Se}function Nl(e,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&e)===e){var y=x.destroy;x.destroy=void 0,y!==void 0&&ah(a,c,y)}x=x.next}while(x!==p)}}function $c(e,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function oh(e){var a=e.ref;if(a!==null){var c=e.stateNode;e.tag,e=c,typeof a=="function"?a(e):a.current=e}}function Xf(e){var a=e.alternate;a!==null&&(e.alternate=null,Xf(a)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(a=e.stateNode,a!==null&&(delete a[ur],delete a[pi],delete a[fi],delete a[_d],delete a[kd])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jf(e){return e.tag===5||e.tag===3||e.tag===4}function em(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lh(e,a,c){var p=e.tag;if(p===5||p===6)e=e.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(e,a):c.insertBefore(e,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(e,c)):(a=c,a.appendChild(e)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=he));else if(p!==4&&(e=e.child,e!==null))for(lh(e,a,c),e=e.sibling;e!==null;)lh(e,a,c),e=e.sibling}function ch(e,a,c){var p=e.tag;if(p===5||p===6)e=e.stateNode,a?c.insertBefore(e,a):c.appendChild(e);else if(p!==4&&(e=e.child,e!==null))for(ch(e,a,c),e=e.sibling;e!==null;)ch(e,a,c),e=e.sibling}var en=null,Er=!1;function bi(e,a,c){for(c=c.child;c!==null;)tm(e,a,c),c=c.sibling}function tm(e,a,c){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Gi,c)}catch{}switch(c.tag){case 5:hn||_o(c,a);case 6:var p=en,x=Er;en=null,bi(e,a,c),en=p,Er=x,en!==null&&(Er?(e=en,c=c.stateNode,e.nodeType===8?e.parentNode.removeChild(c):e.removeChild(c)):en.removeChild(c.stateNode));break;case 18:en!==null&&(Er?(e=en,c=c.stateNode,e.nodeType===8?fl(e.parentNode,c):e.nodeType===1&&fl(e,c),Un(e)):fl(en,c.stateNode));break;case 4:p=en,x=Er,en=c.stateNode.containerInfo,Er=!0,bi(e,a,c),en=p,Er=x;break;case 0:case 11:case 14:case 15:if(!hn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var y=x,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&ah(c,a,k),x=x.next}while(x!==p)}bi(e,a,c);break;case 1:if(!hn&&(_o(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(I){Pt(c,a,I)}bi(e,a,c);break;case 21:bi(e,a,c);break;case 22:c.mode&1?(hn=(p=hn)||c.memoizedState!==null,bi(e,a,c),hn=p):bi(e,a,c);break;default:bi(e,a,c)}}function nm(e){var a=e.updateQueue;if(a!==null){e.updateQueue=null;var c=e.stateNode;c===null&&(c=e.stateNode=new v0),a.forEach(function(p){var x=P0.bind(null,e,p);c.has(p)||(c.add(p),p.then(x,x))})}}function Lr(e,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p];try{var y=e,k=a,I=k;e:for(;I!==null;){switch(I.tag){case 5:en=I.stateNode,Er=!1;break e;case 3:en=I.stateNode.containerInfo,Er=!0;break e;case 4:en=I.stateNode.containerInfo,Er=!0;break e}I=I.return}if(en===null)throw Error(s(160));tm(y,k,x),en=null,Er=!1;var $=x.alternate;$!==null&&($.return=null),x.return=null}catch(ie){Pt(x,a,ie)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)rm(a,e),a=a.sibling}function rm(e,a){var c=e.alternate,p=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(a,e),es(e),p&4){try{Nl(3,e,e.return),$c(3,e)}catch(Pe){Pt(e,e.return,Pe)}try{Nl(5,e,e.return)}catch(Pe){Pt(e,e.return,Pe)}}break;case 1:Lr(a,e),es(e),p&512&&c!==null&&_o(c,c.return);break;case 5:if(Lr(a,e),es(e),p&512&&c!==null&&_o(c,c.return),e.flags&32){var x=e.stateNode;try{wr(x,"")}catch(Pe){Pt(e,e.return,Pe)}}if(p&4&&(x=e.stateNode,x!=null)){var y=e.memoizedProps,k=c!==null?c.memoizedProps:y,I=e.type,$=e.updateQueue;if(e.updateQueue=null,$!==null)try{I==="input"&&y.type==="radio"&&y.name!=null&&st(x,y),rr(I,k);var ie=rr(I,y);for(k=0;k<$.length;k+=2){var fe=$[k],me=$[k+1];fe==="style"?_r(x,me):fe==="dangerouslySetInnerHTML"?Ia(x,me):fe==="children"?wr(x,me):B(x,fe,me,ie)}switch(I){case"input":St(x,y);break;case"textarea":ms(x,y);break;case"select":var pe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!y.multiple;var ke=y.value;ke!=null?Xt(x,!!y.multiple,ke,!1):pe!==!!y.multiple&&(y.defaultValue!=null?Xt(x,!!y.multiple,y.defaultValue,!0):Xt(x,!!y.multiple,y.multiple?[]:"",!1))}x[pi]=y}catch(Pe){Pt(e,e.return,Pe)}}break;case 6:if(Lr(a,e),es(e),p&4){if(e.stateNode===null)throw Error(s(162));x=e.stateNode,y=e.memoizedProps;try{x.nodeValue=y}catch(Pe){Pt(e,e.return,Pe)}}break;case 3:if(Lr(a,e),es(e),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Un(a.containerInfo)}catch(Pe){Pt(e,e.return,Pe)}break;case 4:Lr(a,e),es(e);break;case 13:Lr(a,e),es(e),x=e.child,x.flags&8192&&(y=x.memoizedState!==null,x.stateNode.isHidden=y,!y||x.alternate!==null&&x.alternate.memoizedState!==null||(hh=it())),p&4&&nm(e);break;case 22:if(fe=c!==null&&c.memoizedState!==null,e.mode&1?(hn=(ie=hn)||fe,Lr(a,e),hn=ie):Lr(a,e),es(e),p&8192){if(ie=e.memoizedState!==null,(e.stateNode.isHidden=ie)&&!fe&&(e.mode&1)!==0)for(je=e,fe=e.child;fe!==null;){for(me=je=fe;je!==null;){switch(pe=je,ke=pe.child,pe.tag){case 0:case 11:case 14:case 15:Nl(4,pe,pe.return);break;case 1:_o(pe,pe.return);var Se=pe.stateNode;if(typeof Se.componentWillUnmount=="function"){p=pe,c=pe.return;try{a=p,Se.props=a.memoizedProps,Se.state=a.memoizedState,Se.componentWillUnmount()}catch(Pe){Pt(p,c,Pe)}}break;case 5:_o(pe,pe.return);break;case 22:if(pe.memoizedState!==null){am(me);continue}}ke!==null?(ke.return=pe,je=ke):am(me)}fe=fe.sibling}e:for(fe=null,me=e;;){if(me.tag===5){if(fe===null){fe=me;try{x=me.stateNode,ie?(y=x.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(I=me.stateNode,$=me.memoizedProps.style,k=$!=null&&$.hasOwnProperty("display")?$.display:null,I.style.display=sn("display",k))}catch(Pe){Pt(e,e.return,Pe)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=ie?"":me.memoizedProps}catch(Pe){Pt(e,e.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===e)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===e)break e;for(;me.sibling===null;){if(me.return===null||me.return===e)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Lr(a,e),es(e),p&4&&nm(e);break;case 21:break;default:Lr(a,e),es(e)}}function es(e){var a=e.flags;if(a&2){try{e:{for(var c=e.return;c!==null;){if(Jf(c)){var p=c;break e}c=c.return}throw Error(s(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(wr(x,""),p.flags&=-33);var y=em(e);ch(e,y,x);break;case 3:case 4:var k=p.stateNode.containerInfo,I=em(e);lh(e,I,k);break;default:throw Error(s(161))}}catch($){Pt(e,e.return,$)}e.flags&=-3}a&4096&&(e.flags&=-4097)}function b0(e,a,c){je=e,sm(e)}function sm(e,a,c){for(var p=(e.mode&1)!==0;je!==null;){var x=je,y=x.child;if(x.tag===22&&p){var k=x.memoizedState!==null||Hc;if(!k){var I=x.alternate,$=I!==null&&I.memoizedState!==null||hn;I=Hc;var ie=hn;if(Hc=k,(hn=$)&&!ie)for(je=x;je!==null;)k=je,$=k.child,k.tag===22&&k.memoizedState!==null?om(x):$!==null?($.return=k,je=$):om(x);for(;y!==null;)je=y,sm(y),y=y.sibling;je=x,Hc=I,hn=ie}im(e)}else(x.subtreeFlags&8772)!==0&&y!==null?(y.return=x,je=y):im(e)}}function im(e){for(;je!==null;){var a=je;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:hn||$c(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!hn)if(c===null)p.componentDidMount();else{var x=a.elementType===a.type?c.memoizedProps:Mr(a.type,c.memoizedProps);p.componentDidUpdate(x,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&af(a,y,p);break;case 3:var k=a.updateQueue;if(k!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}af(a,k,c)}break;case 5:var I=a.stateNode;if(c===null&&a.flags&4){c=I;var $=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&c.focus();break;case"img":$.src&&(c.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ie=a.alternate;if(ie!==null){var fe=ie.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&Un(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}hn||a.flags&512&&oh(a)}catch(pe){Pt(a,a.return,pe)}}if(a===e){je=null;break}if(c=a.sibling,c!==null){c.return=a.return,je=c;break}je=a.return}}function am(e){for(;je!==null;){var a=je;if(a===e){je=null;break}var c=a.sibling;if(c!==null){c.return=a.return,je=c;break}je=a.return}}function om(e){for(;je!==null;){var a=je;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{$c(4,a)}catch($){Pt(a,c,$)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var x=a.return;try{p.componentDidMount()}catch($){Pt(a,x,$)}}var y=a.return;try{oh(a)}catch($){Pt(a,y,$)}break;case 5:var k=a.return;try{oh(a)}catch($){Pt(a,k,$)}}}catch($){Pt(a,a.return,$)}if(a===e){je=null;break}var I=a.sibling;if(I!==null){I.return=a.return,je=I;break}je=a.return}}var w0=Math.ceil,Uc=te.ReactCurrentDispatcher,uh=te.ReactCurrentOwner,mr=te.ReactCurrentBatchConfig,Qe=0,Zt=null,Ft=null,tn=0,Xn=0,ko=mi(0),Ht=0,jl=null,ma=0,Zc=0,dh=0,Sl=null,In=null,hh=0,No=1/0,Ws=null,Vc=!1,ph=null,wi=null,qc=!1,_i=null,Gc=0,Cl=0,fh=null,Kc=-1,Qc=0;function kn(){return(Qe&6)!==0?it():Kc!==-1?Kc:Kc=it()}function ki(e){return(e.mode&1)===0?1:(Qe&2)!==0&&tn!==0?tn&-tn:s0.transition!==null?(Qc===0&&(Qc=ec()),Qc):(e=qe,e!==0||(e=window.event,e=e===void 0?16:Ze(e.type)),e)}function Or(e,a,c,p){if(50<Cl)throw Cl=0,fh=null,Error(s(185));Hn(e,c,p),((Qe&2)===0||e!==Zt)&&(e===Zt&&((Qe&2)===0&&(Zc|=c),Ht===4&&Ni(e,tn)),An(e,p),c===1&&Qe===0&&(a.mode&1)===0&&(No=it()+500,jc&&xi()))}function An(e,a){var c=e.callbackNode;Ha(e,a);var p=dt(e,e===Zt?tn:0);if(p===0)c!==null&&Wn(c),e.callbackNode=null,e.callbackPriority=0;else if(a=p&-p,e.callbackPriority!==a){if(c!=null&&Wn(c),a===1)e.tag===0?r0(cm.bind(null,e)):Vp(cm.bind(null,e)),ln(function(){(Qe&6)===0&&xi()}),c=null;else{switch(Xs(p)){case 1:c=Ho;break;case 4:c=Jl;break;case 16:c=Wa;break;case 536870912:c=qs;break;default:c=Wa}c=xm(c,lm.bind(null,e))}e.callbackPriority=a,e.callbackNode=c}}function lm(e,a){if(Kc=-1,Qc=0,(Qe&6)!==0)throw Error(s(327));var c=e.callbackNode;if(jo()&&e.callbackNode!==c)return null;var p=dt(e,e===Zt?tn:0);if(p===0)return null;if((p&30)!==0||(p&e.expiredLanes)!==0||a)a=Xc(e,p);else{a=p;var x=Qe;Qe|=2;var y=dm();(Zt!==e||tn!==a)&&(Ws=null,No=it()+500,xa(e,a));do try{N0();break}catch(I){um(e,I)}while(!0);Ed(),Uc.current=y,Qe=x,Ft!==null?a=0:(Zt=null,tn=0,a=Ht)}if(a!==0){if(a===2&&(x=an(e),x!==0&&(p=x,a=mh(e,x))),a===1)throw c=jl,xa(e,0),Ni(e,p),An(e,it()),c;if(a===6)Ni(e,p);else{if(x=e.current.alternate,(p&30)===0&&!_0(x)&&(a=Xc(e,p),a===2&&(y=an(e),y!==0&&(p=y,a=mh(e,y))),a===1))throw c=jl,xa(e,0),Ni(e,p),An(e,it()),c;switch(e.finishedWork=x,e.finishedLanes=p,a){case 0:case 1:throw Error(s(345));case 2:va(e,In,Ws);break;case 3:if(Ni(e,p),(p&130023424)===p&&(a=hh+500-it(),10<a)){if(dt(e,0)!==0)break;if(x=e.suspendedLanes,(x&p)!==p){kn(),e.pingedLanes|=e.suspendedLanes&x;break}e.timeoutHandle=Wt(va.bind(null,e,In,Ws),a);break}va(e,In,Ws);break;case 4:if(Ni(e,p),(p&4194240)===p)break;for(a=e.eventTimes,x=-1;0<p;){var k=31-We(p);y=1<<k,k=a[k],k>x&&(x=k),p&=~y}if(p=x,p=it()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*w0(p/1960))-p,10<p){e.timeoutHandle=Wt(va.bind(null,e,In,Ws),p);break}va(e,In,Ws);break;case 5:va(e,In,Ws);break;default:throw Error(s(329))}}}return An(e,it()),e.callbackNode===c?lm.bind(null,e):null}function mh(e,a){var c=Sl;return e.current.memoizedState.isDehydrated&&(xa(e,a).flags|=256),e=Xc(e,a),e!==2&&(a=In,In=c,a!==null&&gh(a)),e}function gh(e){In===null?In=e:In.push.apply(In,e)}function _0(e){for(var a=e;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var x=c[p],y=x.getSnapshot;x=x.value;try{if(!qn(y(),x))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===e)break;for(;a.sibling===null;){if(a.return===null||a.return===e)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ni(e,a){for(a&=~dh,a&=~Zc,e.suspendedLanes|=a,e.pingedLanes&=~a,e=e.expirationTimes;0<a;){var c=31-We(a),p=1<<c;e[c]=-1,a&=~p}}function cm(e){if((Qe&6)!==0)throw Error(s(327));jo();var a=dt(e,0);if((a&1)===0)return An(e,it()),null;var c=Xc(e,a);if(e.tag!==0&&c===2){var p=an(e);p!==0&&(a=p,c=mh(e,p))}if(c===1)throw c=jl,xa(e,0),Ni(e,a),An(e,it()),c;if(c===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=a,va(e,In,Ws),An(e,it()),null}function xh(e,a){var c=Qe;Qe|=1;try{return e(a)}finally{Qe=c,Qe===0&&(No=it()+500,jc&&xi())}}function ga(e){_i!==null&&_i.tag===0&&(Qe&6)===0&&jo();var a=Qe;Qe|=1;var c=mr.transition,p=qe;try{if(mr.transition=null,qe=1,e)return e()}finally{qe=p,mr.transition=c,Qe=a,(Qe&6)===0&&xi()}}function vh(){Xn=ko.current,mt(ko)}function xa(e,a){e.finishedWork=null,e.finishedLanes=0;var c=e.timeoutHandle;if(c!==-1&&(e.timeoutHandle=-1,At(c)),Ft!==null)for(c=Ft.return;c!==null;){var p=c;switch(Cd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&kc();break;case 3:bo(),mt(Ln),mt(cn),zd();break;case 5:Fd(p);break;case 4:bo();break;case 13:mt(kt);break;case 19:mt(kt);break;case 10:Ld(p.type._context);break;case 22:case 23:vh()}c=c.return}if(Zt=e,Ft=e=ji(e.current,null),tn=Xn=a,Ht=0,jl=null,dh=Zc=ma=0,In=Sl=null,ha!==null){for(a=0;a<ha.length;a++)if(c=ha[a],p=c.interleaved,p!==null){c.interleaved=null;var x=p.next,y=c.pending;if(y!==null){var k=y.next;y.next=x,p.next=k}c.pending=p}ha=null}return e}function um(e,a){do{var c=Ft;try{if(Ed(),Rc.current=Bc,Ic){for(var p=Nt.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}Ic=!1}if(fa=0,Ut=Yt=Nt=null,yl=!1,bl=0,uh.current=null,c===null||c.return===null){Ht=1,jl=a,Ft=null;break}e:{var y=e,k=c.return,I=c,$=a;if(a=tn,I.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var ie=$,fe=I,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var pe=fe.alternate;pe?(fe.updateQueue=pe.updateQueue,fe.memoizedState=pe.memoizedState,fe.lanes=pe.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ke=Rf(k);if(ke!==null){ke.flags&=-257,If(ke,k,I,y,a),ke.mode&1&&Of(y,ie,a),a=ke,$=ie;var Se=a.updateQueue;if(Se===null){var Pe=new Set;Pe.add($),a.updateQueue=Pe}else Se.add($);break e}else{if((a&1)===0){Of(y,ie,a),yh();break e}$=Error(s(426))}}else if(xt&&I.mode&1){var Et=Rf(k);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),If(Et,k,I,y,a),Td(wo($,I));break e}}y=$=wo($,I),Ht!==4&&(Ht=2),Sl===null?Sl=[y]:Sl.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var J=Ef(y,$,a);sf(y,J);break e;case 1:I=$;var G=y.type,ee=y.stateNode;if((y.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(wi===null||!wi.has(ee)))){y.flags|=65536,a&=-a,y.lanes|=a;var ve=Lf(y,I,a);sf(y,ve);break e}}y=y.return}while(y!==null)}pm(c)}catch(De){a=De,Ft===c&&c!==null&&(Ft=c=c.return);continue}break}while(!0)}function dm(){var e=Uc.current;return Uc.current=Bc,e===null?Bc:e}function yh(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Zt===null||(ma&268435455)===0&&(Zc&268435455)===0||Ni(Zt,tn)}function Xc(e,a){var c=Qe;Qe|=2;var p=dm();(Zt!==e||tn!==a)&&(Ws=null,xa(e,a));do try{k0();break}catch(x){um(e,x)}while(!0);if(Ed(),Qe=c,Uc.current=p,Ft!==null)throw Error(s(261));return Zt=null,tn=0,Ht}function k0(){for(;Ft!==null;)hm(Ft)}function N0(){for(;Ft!==null&&!Vs();)hm(Ft)}function hm(e){var a=gm(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,a===null?pm(e):Ft=a,uh.current=null}function pm(e){var a=e;do{var c=a.alternate;if(e=a.return,(a.flags&32768)===0){if(c=g0(c,a,Xn),c!==null){Ft=c;return}}else{if(c=x0(c,a),c!==null){c.flags&=32767,Ft=c;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ht=6,Ft=null;return}}if(a=a.sibling,a!==null){Ft=a;return}Ft=a=e}while(a!==null);Ht===0&&(Ht=5)}function va(e,a,c){var p=qe,x=mr.transition;try{mr.transition=null,qe=1,j0(e,a,c,p)}finally{mr.transition=x,qe=p}return null}function j0(e,a,c,p){do jo();while(_i!==null);if((Qe&6)!==0)throw Error(s(327));c=e.finishedWork;var x=e.finishedLanes;if(c===null)return null;if(e.finishedWork=null,e.finishedLanes=0,c===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var y=c.lanes|c.childLanes;if(Ct(e,y),e===Zt&&(Ft=Zt=null,tn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||qc||(qc=!0,xm(Wa,function(){return jo(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=mr.transition,mr.transition=null;var k=qe;qe=1;var I=Qe;Qe|=4,uh.current=null,y0(e,c),rm(c,e),lr(Ee),ta=!!_e,Ee=_e=null,e.current=c,b0(c),sr(),Qe=I,qe=k,mr.transition=y}else e.current=c;if(qc&&(qc=!1,_i=e,Gc=x),y=e.pendingLanes,y===0&&(wi=null),Ki(c.stateNode),An(e,it()),a!==null)for(p=e.onRecoverableError,c=0;c<a.length;c++)x=a[c],p(x.value,{componentStack:x.stack,digest:x.digest});if(Vc)throw Vc=!1,e=ph,ph=null,e;return(Gc&1)!==0&&e.tag!==0&&jo(),y=e.pendingLanes,(y&1)!==0?e===fh?Cl++:(Cl=0,fh=e):Cl=0,xi(),null}function jo(){if(_i!==null){var e=Xs(Gc),a=mr.transition,c=qe;try{if(mr.transition=null,qe=16>e?16:e,_i===null)var p=!1;else{if(e=_i,_i=null,Gc=0,(Qe&6)!==0)throw Error(s(331));var x=Qe;for(Qe|=4,je=e.current;je!==null;){var y=je,k=y.child;if((je.flags&16)!==0){var I=y.deletions;if(I!==null){for(var $=0;$<I.length;$++){var ie=I[$];for(je=ie;je!==null;){var fe=je;switch(fe.tag){case 0:case 11:case 15:Nl(8,fe,y)}var me=fe.child;if(me!==null)me.return=fe,je=me;else for(;je!==null;){fe=je;var pe=fe.sibling,ke=fe.return;if(Xf(fe),fe===ie){je=null;break}if(pe!==null){pe.return=ke,je=pe;break}je=ke}}}var Se=y.alternate;if(Se!==null){var Pe=Se.child;if(Pe!==null){Se.child=null;do{var Et=Pe.sibling;Pe.sibling=null,Pe=Et}while(Pe!==null)}}je=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,je=k;else e:for(;je!==null;){if(y=je,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Nl(9,y,y.return)}var J=y.sibling;if(J!==null){J.return=y.return,je=J;break e}je=y.return}}var G=e.current;for(je=G;je!==null;){k=je;var ee=k.child;if((k.subtreeFlags&2064)!==0&&ee!==null)ee.return=k,je=ee;else e:for(k=G;je!==null;){if(I=je,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:$c(9,I)}}catch(De){Pt(I,I.return,De)}if(I===k){je=null;break e}var ve=I.sibling;if(ve!==null){ve.return=I.return,je=ve;break e}je=I.return}}if(Qe=x,xi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Gi,e)}catch{}p=!0}return p}finally{qe=c,mr.transition=a}}return!1}function fm(e,a,c){a=wo(c,a),a=Ef(e,a,1),e=yi(e,a,1),a=kn(),e!==null&&(Hn(e,1,a),An(e,a))}function Pt(e,a,c){if(e.tag===3)fm(e,e,c);else for(;a!==null;){if(a.tag===3){fm(a,e,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(wi===null||!wi.has(p))){e=wo(c,e),e=Lf(a,e,1),a=yi(a,e,1),e=kn(),a!==null&&(Hn(a,1,e),An(a,e));break}}a=a.return}}function S0(e,a,c){var p=e.pingCache;p!==null&&p.delete(a),a=kn(),e.pingedLanes|=e.suspendedLanes&c,Zt===e&&(tn&c)===c&&(Ht===4||Ht===3&&(tn&130023424)===tn&&500>it()-hh?xa(e,0):dh|=c),An(e,a)}function mm(e,a){a===0&&((e.mode&1)===0?a=1:(a=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var c=kn();e=Fs(e,a),e!==null&&(Hn(e,a,c),An(e,c))}function C0(e){var a=e.memoizedState,c=0;a!==null&&(c=a.retryLane),mm(e,c)}function P0(e,a){var c=0;switch(e.tag){case 13:var p=e.stateNode,x=e.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=e.stateNode;break;default:throw Error(s(314))}p!==null&&p.delete(a),mm(e,c)}var gm;gm=function(e,a,c){if(e!==null)if(e.memoizedProps!==a.pendingProps||Ln.current)Rn=!0;else{if((e.lanes&c)===0&&(a.flags&128)===0)return Rn=!1,m0(e,a,c);Rn=(e.flags&131072)!==0}else Rn=!1,xt&&(a.flags&1048576)!==0&&qp(a,Cc,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Yc(e,a),e=a.pendingProps;var x=po(a,cn.current);yo(a,c),x=Hd(null,a,p,e,x,c);var y=$d();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,On(p)?(y=!0,Nc(a)):y=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Id(a),x.updater=zc,a.stateNode=x,x._reactInternals=a,Kd(a,p,e,c),a=eh(null,a,p,!0,y,c)):(a.tag=0,xt&&y&&Sd(a),_n(null,a,x,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Yc(e,a),e=a.pendingProps,x=p._init,p=x(p._payload),a.type=p,x=a.tag=T0(p),e=Mr(p,e),x){case 0:a=Jd(null,a,p,e,c);break e;case 1:a=Yf(null,a,p,e,c);break e;case 11:a=Af(null,a,p,e,c);break e;case 14:a=Ff(null,a,p,Mr(p.type,e),c);break e}throw Error(s(306,p,""))}return a;case 0:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Mr(p,x),Jd(e,a,p,x,c);case 1:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Mr(p,x),Yf(e,a,p,x,c);case 3:e:{if(Hf(a),e===null)throw Error(s(387));p=a.pendingProps,y=a.memoizedState,x=y.element,rf(e,a),Lc(a,p,null,c);var k=a.memoizedState;if(p=k.element,y.isDehydrated)if(y={element:p,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){x=wo(Error(s(423)),a),a=$f(e,a,p,c,x);break e}else if(p!==x){x=wo(Error(s(424)),a),a=$f(e,a,p,c,x);break e}else for(Qn=Qr(a.stateNode.containerInfo.firstChild),Kn=a,xt=!0,Tr=null,c=tf(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(go(),p===x){a=zs(e,a,c);break e}_n(e,a,p,c)}a=a.child}return a;case 5:return of(a),e===null&&Dd(a),p=a.type,x=a.pendingProps,y=e!==null?e.memoizedProps:null,k=x.children,Ye(p,x)?k=null:y!==null&&Ye(p,y)&&(a.flags|=32),Wf(e,a),_n(e,a,k,c),a.child;case 6:return e===null&&Dd(a),null;case 13:return Uf(e,a,c);case 4:return Ad(a,a.stateNode.containerInfo),p=a.pendingProps,e===null?a.child=xo(a,null,p,c):_n(e,a,p,c),a.child;case 11:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Mr(p,x),Af(e,a,p,x,c);case 7:return _n(e,a,a.pendingProps,c),a.child;case 8:return _n(e,a,a.pendingProps.children,c),a.child;case 12:return _n(e,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,x=a.pendingProps,y=a.memoizedProps,k=x.value,ht(Tc,p._currentValue),p._currentValue=k,y!==null)if(qn(y.value,k)){if(y.children===x.children&&!Ln.current){a=zs(e,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var I=y.dependencies;if(I!==null){k=y.child;for(var $=I.firstContext;$!==null;){if($.context===p){if(y.tag===1){$=Bs(-1,c&-c),$.tag=2;var ie=y.updateQueue;if(ie!==null){ie=ie.shared;var fe=ie.pending;fe===null?$.next=$:($.next=fe.next,fe.next=$),ie.pending=$}}y.lanes|=c,$=y.alternate,$!==null&&($.lanes|=c),Od(y.return,c,a),I.lanes|=c;break}$=$.next}}else if(y.tag===10)k=y.type===a.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(s(341));k.lanes|=c,I=k.alternate,I!==null&&(I.lanes|=c),Od(k,c,a),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}_n(e,a,x.children,c),a=a.child}return a;case 9:return x=a.type,p=a.pendingProps.children,yo(a,c),x=pr(x),p=p(x),a.flags|=1,_n(e,a,p,c),a.child;case 14:return p=a.type,x=Mr(p,a.pendingProps),x=Mr(p.type,x),Ff(e,a,p,x,c);case 15:return Bf(e,a,a.type,a.pendingProps,c);case 17:return p=a.type,x=a.pendingProps,x=a.elementType===p?x:Mr(p,x),Yc(e,a),a.tag=1,On(p)?(e=!0,Nc(a)):e=!1,yo(a,c),Tf(a,p,x),Kd(a,p,x,c),eh(null,a,p,!0,e,c);case 19:return Vf(e,a,c);case 22:return zf(e,a,c)}throw Error(s(156,a.tag))};function xm(e,a){return Tn(e,a)}function D0(e,a,c,p){this.tag=e,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(e,a,c,p){return new D0(e,a,c,p)}function bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function T0(e){if(typeof e=="function")return bh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===U)return 11;if(e===F)return 14}return 2}function ji(e,a){var c=e.alternate;return c===null?(c=gr(e.tag,a,e.key,e.mode),c.elementType=e.elementType,c.type=e.type,c.stateNode=e.stateNode,c.alternate=e,e.alternate=c):(c.pendingProps=a,c.type=e.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=e.flags&14680064,c.childLanes=e.childLanes,c.lanes=e.lanes,c.child=e.child,c.memoizedProps=e.memoizedProps,c.memoizedState=e.memoizedState,c.updateQueue=e.updateQueue,a=e.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=e.sibling,c.index=e.index,c.ref=e.ref,c}function Jc(e,a,c,p,x,y){var k=2;if(p=e,typeof e=="function")bh(e)&&(k=1);else if(typeof e=="string")k=5;else e:switch(e){case q:return ya(c.children,x,y,a);case le:k=8,x|=8;break;case xe:return e=gr(12,c,a,x|2),e.elementType=xe,e.lanes=y,e;case H:return e=gr(13,c,a,x),e.elementType=H,e.lanes=y,e;case ae:return e=gr(19,c,a,x),e.elementType=ae,e.lanes=y,e;case ce:return eu(c,x,y,a);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ne:k=10;break e;case ue:k=9;break e;case U:k=11;break e;case F:k=14;break e;case oe:k=16,p=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return a=gr(k,c,a,x),a.elementType=e,a.type=p,a.lanes=y,a}function ya(e,a,c,p){return e=gr(7,e,p,a),e.lanes=c,e}function eu(e,a,c,p){return e=gr(22,e,p,a),e.elementType=ce,e.lanes=c,e.stateNode={isHidden:!1},e}function wh(e,a,c){return e=gr(6,e,null,a),e.lanes=c,e}function _h(e,a,c){return a=gr(4,e.children!==null?e.children:[],e.key,a),a.lanes=c,a.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},a}function M0(e,a,c,p,x){this.tag=a,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function kh(e,a,c,p,x,y,k,I,$){return e=new M0(e,a,c,I,$),a===1?(a=1,y===!0&&(a|=8)):a=0,y=gr(3,null,null,a),e.current=y,y.stateNode=e,y.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Id(y),e}function E0(e,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:p==null?null:""+p,children:e,containerInfo:a,implementation:c}}function vm(e){if(!e)return gi;e=e._reactInternals;e:{if(Me(e)!==e||e.tag!==1)throw Error(s(170));var a=e;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(On(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(e.tag===1){var c=e.type;if(On(c))return Up(e,c,a)}return a}function ym(e,a,c,p,x,y,k,I,$){return e=kh(c,p,!0,e,x,y,k,I,$),e.context=vm(null),c=e.current,p=kn(),x=ki(c),y=Bs(p,x),y.callback=a??null,yi(c,y,x),e.current.lanes=x,Hn(e,x,p),An(e,p),e}function tu(e,a,c,p){var x=a.current,y=kn(),k=ki(x);return c=vm(c),a.context===null?a.context=c:a.pendingContext=c,a=Bs(y,k),a.payload={element:e},p=p===void 0?null:p,p!==null&&(a.callback=p),e=yi(x,a,k),e!==null&&(Or(e,x,k,y),Ec(e,x,k)),k}function nu(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function bm(e,a){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var c=e.retryLane;e.retryLane=c!==0&&c<a?c:a}}function Nh(e,a){bm(e,a),(e=e.alternate)&&bm(e,a)}function L0(){return null}var wm=typeof reportError=="function"?reportError:function(e){console.error(e)};function jh(e){this._internalRoot=e}ru.prototype.render=jh.prototype.render=function(e){var a=this._internalRoot;if(a===null)throw Error(s(409));tu(e,a,null,null)},ru.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var a=e.containerInfo;ga(function(){tu(null,e,null,null)}),a[nt]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var a=Za();e={blockedOn:null,target:e,priority:a};for(var c=0;c<zt.length&&a!==0&&a<zt[c].priority;c++);zt.splice(c,0,e),c===0&&Va(e)}};function Sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _m(){}function O0(e,a,c,p,x){if(x){if(typeof p=="function"){var y=p;p=function(){var ie=nu(k);y.call(ie)}}var k=ym(a,p,e,0,null,!1,!1,"",_m);return e._reactRootContainer=k,e[nt]=k.current,di(e.nodeType===8?e.parentNode:e),ga(),k}for(;x=e.lastChild;)e.removeChild(x);if(typeof p=="function"){var I=p;p=function(){var ie=nu($);I.call(ie)}}var $=kh(e,0,!1,null,null,!1,!1,"",_m);return e._reactRootContainer=$,e[nt]=$.current,di(e.nodeType===8?e.parentNode:e),ga(function(){tu(a,$,c,p)}),$}function iu(e,a,c,p,x){var y=c._reactRootContainer;if(y){var k=y;if(typeof x=="function"){var I=x;x=function(){var $=nu(k);I.call($)}}tu(a,k,e,x)}else k=O0(c,a,e,x,p);return nu(k)}$a=function(e){switch(e.tag){case 3:var a=e.stateNode;if(a.current.memoizedState.isDehydrated){var c=Be(a.pendingLanes);c!==0&&(jr(a,c|1),An(a,it()),(Qe&6)===0&&(No=it()+500,xi()))}break;case 13:ga(function(){var p=Fs(e,1);if(p!==null){var x=kn();Or(p,e,1,x)}}),Nh(e,1)}},ks=function(e){if(e.tag===13){var a=Fs(e,134217728);if(a!==null){var c=kn();Or(a,e,134217728,c)}Nh(e,134217728)}},Ua=function(e){if(e.tag===13){var a=ki(e),c=Fs(e,a);if(c!==null){var p=kn();Or(c,e,a,p)}Nh(e,a)}},Za=function(){return qe},Qi=function(e,a){var c=qe;try{return qe=e,a()}finally{qe=c}},vs=function(e,a,c){switch(a){case"input":if(St(e,c),a=c.name,c.type==="radio"&&a!=null){for(c=e;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==e&&p.form===e.form){var x=uo(p);if(!x)throw Error(s(90));rn(p),St(p,x)}}}break;case"textarea":ms(e,c);break;case"select":a=c.value,a!=null&&Xt(e,!!c.multiple,a,!1)}},Fa=xh,Zi=ga;var R0={usingClientEntryPoint:!1,Events:[Ls,Os,uo,Ui,Aa,xh]},Pl={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I0={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xn(e),e===null?null:e.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||L0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Gi=au.inject(I0),Yn=au}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R0,Fn.createPortal=function(e,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(a))throw Error(s(200));return E0(e,a,null,c)},Fn.createRoot=function(e,a){if(!Sh(e))throw Error(s(299));var c=!1,p="",x=wm;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=kh(e,1,!1,null,null,c,!1,p,x),e[nt]=a.current,di(e.nodeType===8?e.parentNode:e),new jh(a)},Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var a=e._reactInternals;if(a===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=xn(a),e=e===null?null:e.stateNode,e},Fn.flushSync=function(e){return ga(e)},Fn.hydrate=function(e,a,c){if(!su(a))throw Error(s(200));return iu(null,e,a,!0,c)},Fn.hydrateRoot=function(e,a,c){if(!Sh(e))throw Error(s(405));var p=c!=null&&c.hydratedSources||null,x=!1,y="",k=wm;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),a=ym(a,null,e,1,c??null,x,!1,y,k),e[nt]=a.current,di(e),p)for(e=0;e<p.length;e++)c=p[e],x=c._getVersion,x=x(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,x]:a.mutableSourceEagerHydrationData.push(c,x);return new ru(a)},Fn.render=function(e,a,c){if(!su(a))throw Error(s(200));return iu(null,e,a,!1,c)},Fn.unmountComponentAtNode=function(e){if(!su(e))throw Error(s(40));return e._reactRootContainer?(ga(function(){iu(null,null,e,!1,function(){e._reactRootContainer=null,e[nt]=null})}),!0):!1},Fn.unstable_batchedUpdates=xh,Fn.unstable_renderSubtreeIntoContainer=function(e,a,c,p){if(!su(c))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return iu(e,a,c,!1,p)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var Tm;function Zg(){if(Tm)return Dh.exports;Tm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}return i(),Dh.exports=U0(),Dh.exports}var Mm;function Z0(){if(Mm)return ou;Mm=1;var i=Zg();return ou.createRoot=i.createRoot,ou.hydrateRoot=i.hydrateRoot,ou}var V0=Z0();const q0=Zl(V0),vt="/api";let _u=null;const Bt=()=>(_u||(_u=localStorage.getItem("tightlines_token")),_u),Kh=i=>{_u=i,i?localStorage.setItem("tightlines_token",i):localStorage.removeItem("tightlines_token")},Qh=()=>Kh(null),G0=(i,o={},s=1e4)=>Promise.race([fetch(i,o),new Promise((r,u)=>setTimeout(()=>u(new Error("Request timeout")),s))]),Dt=(i=!1)=>{const o={"Content-Type":"application/json"};if(i){const s=Bt();s&&(o.Authorization=`Bearer ${s}`)}return o},Tt=async i=>{try{const o=await i.json();if(!i.ok)throw new Error(o.error||"Request failed");return o}catch(o){throw console.error("[API Error]",o),o}},Em=["linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)","linear-gradient(135deg, #3d6a5a 0%, #2a4a40 100%)","linear-gradient(135deg, #4a6a7a 0%, #2a4a5a 100%)","linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)","linear-gradient(135deg, #6a5a4a 0%, #4a3a2a 100%)","linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)","linear-gradient(135deg, #5a4a6a 0%, #3a2a4a 100%)"],K0={game:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)",coarse:"linear-gradient(135deg, #3a5a3a 0%, #2a4a2a 100%)",sea:"linear-gradient(135deg, #2a4a5a 0%, #1a3a4a 100%)"},Lm=["linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)","linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)","linear-gradient(135deg, #6a5a4a 0%, #4a3a2a 100%)","linear-gradient(135deg, #4a6a6a 0%, #2a4a4a 100%)"],Q0=(i,o=10)=>{const s={},r=new Date;for(let u=0;u<60;u++){const h=new Date(r);h.setDate(h.getDate()+u);const f=h.toISOString().split("T")[0],m=h.getDay(),v=m===0||m===6,w=Math.random()>.2;Math.random()<.05?s[f]={status:"closed"}:w?s[f]={status:"available",price:v?i+o:i}:s[f]={status:"booked"}}return s},Xh={wales:"Wales",scotland:"Scotland",midlands:"Midlands","south-west":"South West","south-england":"South England","south-east":"South East","north-england":"North England",east:"East England"},Om=(i,o=0)=>{if(i.image)return i;const s=K0[i.type]||Em[o%Em.length],r=i.images&&i.images.length>0;return{...i,image:r?`url(${i.images[0]})`:s,imageUrl:r?i.images[0]:null,gallery:r?i.images:i.gallery&&i.gallery.length>0?i.gallery.map(u=>typeof u=="string"?u:s):[s,s,s],shortDescription:i.shortDescription||i.description||"",fullDescription:i.fullDescription||i.description||"",location:i.location||i.townCity||i.county||Xh[i.region]||i.region||"",region:Xh[i.region]||i.region||"",reviews:i.reviews||i.reviewCount||0,reviewCount:i.reviewCount||i.reviews||0,priceType:i.priceType||"day",season:i.season||(i.seasonInfo?{info:i.seasonInfo}:null),expectations:i.expectations||{averageCatch:i.averageCatchRate||"Data not available",recordFish:i.recordFish||"Not recorded",blankRate:i.blankRate||"N/A"},amenities:i.amenities||(i.facilities||[]).map(u=>u.replace(/-/g," ").replace(/\b\w/g,h=>h.toUpperCase())),contact:i.contact||{name:i.ownerName||"Fishery Manager",email:i.ownerEmail||"",phone:i.ownerPhone||""},availability:i.availability&&Object.keys(i.availability).length>0?i.availability:Q0(i.price||0),reviewsList:i.reviewsList||[],nearbyStays:i.nearbyStays||[],bookingOptions:i.bookingOptions||[],rods:i.rods||0,coordinates:i.coordinates||null,experienceLevel:i.experienceLevel||"any",waterType:i.waterType||i.waterBodyType||(i.type==="game"?"Game Water":i.type==="coarse"?"Coarse Water":"Sea Fishing")}},Rm=(i,o=0)=>{if(i.image)return i;const s=Lm[o%Lm.length],r=i.images&&i.images.length>0;return{...i,image:r?`url(${i.images[0]})`:s,gallery:r?i.images:[s,s,s],title:i.title||(i.certifications&&i.certifications.length>0?i.certifications[0]:"Fishing Instructor"),location:i.location||Xh[i.region]||i.region||"",priceType:i.priceType||"full day",reviews:i.reviews||i.reviewCount||0,reviewCount:i.reviewCount||i.reviews||0,bio:i.bio||"",fullBio:i.fullBio||i.bio||"",specialties:i.specialties||[],certifications:i.certifications||[],hasCalendar:i.hasCalendar||!1,availability:i.availability||[],typicalDay:i.typicalDay||i.typical_day||[],reviewsList:i.reviewsList||i.reviews_list||[],whatYouLearn:i.whatYouLearn||[],equipmentProvided:i.equipmentProvided||[],teachingPhilosophy:i.teachingPhilosophy||""}},To={login:async(i,o)=>{const s=await fetch(`${vt}/auth/login`,{method:"POST",headers:Dt(),body:JSON.stringify({email:i,password:o})}),r=await Tt(s);return Kh(r.token),r},register:async(i,o,s)=>{const r=await fetch(`${vt}/auth/register`,{method:"POST",headers:Dt(),body:JSON.stringify({email:i,password:o,name:s})}),u=await Tt(r);return Kh(u.token),u},me:async()=>{const i=await G0(`${vt}/auth/me`,{headers:Dt(!0)},1e4);return Tt(i)},updateProfile:async i=>{const o=await fetch(`${vt}/auth/profile`,{method:"PUT",headers:Dt(!0),body:JSON.stringify(i)});return Tt(o)},forgotPassword:async i=>{const o=await fetch(`${vt}/auth/forgot-password`,{method:"POST",headers:Dt(),body:JSON.stringify({email:i})});return Tt(o)},logout:()=>{Qh()}},X0={getAll:async(i={})=>{const o=new URLSearchParams(i).toString(),s=o?`${vt}/waters?${o}`:`${vt}/waters`,r=await fetch(s,{headers:Dt(!0)});return((await Tt(r)).waters||[]).map((h,f)=>Om(h,f))},getById:async i=>{const o=await fetch(`${vt}/waters/${i}`,{headers:Dt()}),s=await Tt(o);return Om(s.water)}},J0={getAll:async(i={})=>{const o=new URLSearchParams(i).toString(),s=o?`${vt}/instructors?${o}`:`${vt}/instructors`,r=await fetch(s,{headers:Dt(!0)});return((await Tt(r)).instructors||[]).map((h,f)=>Rm(h,f))},getById:async i=>{const o=await fetch(`${vt}/instructors/${i}`,{headers:Dt()}),s=await Tt(o);return Rm(s.instructor)}},Vg={water:async i=>{const o=await fetch(`${vt}/register/water`,{method:"POST",headers:Dt(),body:JSON.stringify(i)});return Tt(o)},instructor:async i=>{const o=await fetch(`${vt}/register/instructor`,{method:"POST",headers:Dt(),body:JSON.stringify(i)});return Tt(o)}},Ys={getStats:async()=>{const i=await fetch(`${vt}/admin/stats`,{headers:Dt(!0)});return Tt(i)},getPending:async()=>{const i=await fetch(`${vt}/admin/pending`,{headers:Dt(!0)});return Tt(i)},getUsers:async()=>{const i=await fetch(`${vt}/admin/users`,{headers:Dt(!0)});return Tt(i)},getWaters:async()=>{const i=await fetch(`${vt}/admin/waters`,{headers:Dt(!0)});return Tt(i)},getInstructors:async()=>{const i=await fetch(`${vt}/admin/instructors`,{headers:Dt(!0)});return Tt(i)},approveWater:async i=>{const o=await fetch(`${vt}/admin/approve/water/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},rejectWater:async i=>{const o=await fetch(`${vt}/admin/reject/water/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},approveInstructor:async i=>{const o=await fetch(`${vt}/admin/approve/instructor/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},rejectInstructor:async i=>{const o=await fetch(`${vt}/admin/reject/instructor/${i}`,{method:"POST",headers:Dt(!0)});return Tt(o)},updateWater:async(i,o)=>{const s=await fetch(`${vt}/admin/waters/${i}`,{method:"PUT",headers:Dt(!0),body:JSON.stringify(o)});return Tt(s)},deleteWater:async i=>{const o=await fetch(`${vt}/admin/waters/${i}`,{method:"DELETE",headers:Dt(!0)});return Tt(o)}};var ev={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Te=(i,o)=>{const s=P.forwardRef(({color:r="currentColor",size:u=24,strokeWidth:h=2,absoluteStrokeWidth:f,className:m="",children:v,...w},_)=>P.createElement("svg",{ref:_,...ev,width:u,height:u,stroke:r,strokeWidth:f?Number(h)*24/Number(u):h,className:["lucide",`lucide-${tv(i)}`,m].join(" "),...w},[...o.map(([N,M])=>P.createElement(N,M)),...Array.isArray(v)?v:[v]]));return s.displayName=`${i}`,s};const nv=Te("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);const rv=Te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Pu=Te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Al=Te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const jn=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const lu=Te("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);const sv=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const cu=Te("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const Jh=Te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const Ri=Te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);const iv=Te("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);const $t=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Rr=Te("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ca=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const us=Te("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const ep=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Vl=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const tr=Te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Im=Te("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);const Fl=Te("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);const qg=Te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Gg=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Vu=Te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Lt=Te("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);const av=Te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Eh=Te("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);const is=Te("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const uu=Te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Am=Te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);const Ii=Te("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);const ov=Te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Kg=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ds=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Sn=Te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const lv=Te("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Bl=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const cv=Te("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Du=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const kp=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Tu=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const uv=Te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Mu=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Fm=Te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Qg=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const dv=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Mo=Te("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);const Xg=Te("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);const yr=Te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const hv=Te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const pv=Te("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);const fv=Te("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);const Ar=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const mv=Te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const gv=Te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Jg=Te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const qu=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Di=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const xv=Te("Weight",[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]]);const hs=Te("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const nr=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vv=({currentTab:i,setCurrentTab:o,setCurrentPage:s,user:r,setUser:u,onSignIn:h,onListWater:f,onListInstructor:m,onProfile:v})=>{const[w,_]=P.useState(!1),[N,M]=P.useState(!1),D=P.useRef(null);return P.useEffect(()=>{const T=S=>{D.current&&!D.current.contains(S.target)&&M(!1)};return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[]),t.jsxs("nav",{className:"bg-white border-b border-stone-200 sticky top-0 z-40 shadow-sm",children:[t.jsx("div",{className:"max-w-7xl mx-auto px-4",children:t.jsxs("div",{className:"flex justify-between h-16",children:[t.jsxs("button",{onClick:()=>{s("home"),o("waters")},className:"flex items-center space-x-2 text-brand-700 hover:text-brand-800",children:[t.jsx(Lt,{className:"w-6 h-6"}),t.jsx("span",{className:"text-xl font-bold",children:"TightLines"})]}),t.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[t.jsx("button",{onClick:()=>{s("search"),o("waters")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="waters"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"Find Waters"}),t.jsx("button",{onClick:()=>{s("instructors"),o("instructors")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="instructors"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"Instructors"}),t.jsx("div",{className:"w-px h-6 bg-stone-200 mx-2"}),t.jsx("button",{onClick:()=>{s("about"),o("about")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="about"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"About"}),t.jsx("button",{onClick:()=>{s("contact"),o("contact")},className:`px-4 py-2 rounded-lg text-sm font-medium transition ${i==="contact"?"bg-brand-50 text-brand-700":"text-stone-600 hover:bg-stone-50"}`,children:"Contact"}),t.jsx("div",{className:"w-px h-6 bg-stone-200 mx-2"}),t.jsxs("div",{className:"relative group",children:[t.jsxs("button",{className:"px-4 py-2 text-sm font-medium text-stone-600 hover:text-brand-700 transition flex items-center gap-1",children:["List Your...",t.jsx(Ca,{className:"w-3.5 h-3.5"})]}),t.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-stone-200 rounded-xl shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-150 z-50",children:[t.jsx("button",{onClick:f,className:"block w-full text-left px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 rounded-t-xl",children:"List Your Water"}),t.jsx("button",{onClick:m,className:"block w-full text-left px-4 py-3 text-sm text-stone-700 hover:bg-stone-50 rounded-b-xl border-t border-stone-100",children:"Become an Instructor"})]})]}),r?t.jsxs("div",{className:"relative ml-2",ref:D,children:[t.jsxs("button",{onClick:()=>M(!N),className:"flex items-center gap-2 px-2 py-1.5 rounded-lg hover:bg-stone-50 transition",children:[r.role==="admin"&&t.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-amber-100 text-amber-700 rounded-full",children:"Admin"}),t.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium",children:(r.name||r.email||"?")[0].toUpperCase()}),t.jsx("span",{className:"text-sm font-medium max-w-[100px] truncate",children:r.name||r.email}),t.jsx(Ca,{className:`w-3.5 h-3.5 text-stone-400 transition ${N?"rotate-180":""}`})]}),N&&t.jsxs("div",{className:"absolute right-0 top-full mt-1 w-56 bg-white border border-stone-200 rounded-xl shadow-lg z-50 py-1",children:[t.jsxs("div",{className:"px-4 py-3 border-b border-stone-100",children:[t.jsx("p",{className:"text-sm font-medium text-stone-900",children:r.name||r.email}),t.jsx("p",{className:"text-xs text-stone-500",children:r.email})]}),t.jsxs("button",{onClick:()=>{v(),M(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[t.jsx(qu,{className:"w-4 h-4 text-stone-400"}),"My Profile"]}),(r.role==="water_owner"||r.role==="pending_water_owner"||r.hasWaters)&&t.jsxs("button",{onClick:()=>{s("water-dashboard"),M(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[t.jsx(Fl,{className:"w-4 h-4 text-stone-400"}),"My Waters"]}),(r.role==="instructor"||r.role==="pending_instructor"||r.hasInstructorProfile)&&t.jsxs("button",{onClick:()=>{s("instructor-dashboard"),M(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[t.jsx(jn,{className:"w-4 h-4 text-stone-400"}),"Instructor Dashboard"]}),r.role==="admin"&&t.jsxs("button",{onClick:()=>{s("admin"),M(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-stone-700 hover:bg-stone-50",children:[t.jsx(Mo,{className:"w-4 h-4 text-stone-400"}),"Admin Dashboard"]}),t.jsx("div",{className:"border-t border-stone-100 mt-1 pt-1",children:t.jsxs("button",{onClick:()=>{u(),M(!1)},className:"flex items-center gap-3 w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50",children:[t.jsx(Kg,{className:"w-4 h-4"}),"Sign out"]})})]})]}):t.jsx("button",{onClick:h,className:"ml-2 px-4 py-2 bg-brand-700 text-white rounded-lg text-sm font-medium hover:bg-brand-800 transition",children:"Sign In"})]}),t.jsx("button",{onClick:()=>_(!w),className:"md:hidden p-2",children:w?t.jsx(nr,{className:"w-6 h-6"}):t.jsx(lv,{className:"w-6 h-6"})})]})}),w&&t.jsxs("div",{className:"md:hidden bg-white border-t border-stone-200 py-2",children:[t.jsx("button",{onClick:()=>{s("search"),o("waters"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Find Waters"}),t.jsx("button",{onClick:()=>{s("instructors"),o("instructors"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Instructors"}),t.jsx("button",{onClick:()=>{s("about"),o("about"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"About"}),t.jsx("button",{onClick:()=>{s("contact"),o("contact"),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Contact"}),t.jsxs("div",{className:"border-t border-stone-100 mt-1 pt-1",children:[t.jsx("button",{onClick:()=>{f(),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"List Your Water"}),t.jsx("button",{onClick:()=>{m(),_(!1)},className:"block w-full text-left px-4 py-3 text-stone-700 hover:bg-stone-50",children:"Become an Instructor"})]}),r?t.jsxs("div",{className:"px-4 py-3 border-t border-stone-200",children:[t.jsxs("button",{onClick:()=>{v(),_(!1)},className:"flex items-center gap-2 w-full",children:[t.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium",children:(r.name||r.email||"?")[0].toUpperCase()}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"text-sm font-medium block",children:r.name||r.email}),t.jsx("span",{className:"text-xs text-stone-500",children:"View profile"})]})]}),(r.role==="water_owner"||r.role==="pending_water_owner"||r.hasWaters)&&t.jsx("button",{onClick:()=>{s("water-dashboard"),_(!1)},className:"mt-2 block text-sm text-brand-700 font-medium",children:"My Waters"}),(r.role==="instructor"||r.role==="pending_instructor"||r.hasInstructorProfile)&&t.jsx("button",{onClick:()=>{s("instructor-dashboard"),_(!1)},className:"mt-2 block text-sm text-brand-700 font-medium",children:"Instructor Dashboard"}),r.role==="admin"&&t.jsx("button",{onClick:()=>{s("admin"),_(!1)},className:"mt-2 block text-sm text-amber-700 font-medium",children:"Admin Dashboard"}),t.jsx("button",{onClick:()=>{u(),_(!1)},className:"mt-2 text-sm text-red-500 hover:text-red-700",children:"Sign out"})]}):t.jsx("button",{onClick:()=>{h(),_(!1)},className:"block w-full text-left px-4 py-3 text-brand-700 font-medium border-t border-stone-200",children:"Sign In"})]})]})},yv=({isOpen:i,onClose:o,onSignIn:s})=>{const[r,u]=P.useState("signin"),[h,f]=P.useState(""),[m,v]=P.useState(""),[w,_]=P.useState(""),[N,M]=P.useState(!1),[D,T]=P.useState(""),[S,C]=P.useState(!1),[V,O]=P.useState("");if(!i)return null;const B=async K=>{if(K.preventDefault(),T(""),!h||!m){T("Please fill in all fields");return}if(r==="register"&&!w){T("Please enter your name");return}if(r==="register"&&m.length<6){T("Password must be at least 6 characters");return}M(!0);try{let q;r==="signin"?q=await To.login(h,m):q=await To.register(h,m,w),s(q.user),Z()}catch(q){T(q.message||"Something went wrong. Please try again.")}M(!1)},te=async K=>{if(K.preventDefault(),!h){T("Please enter your email address");return}M(!0),T("");try{const q=await To.forgotPassword(h);O(q.message||"Check your email for a new password.")}catch(q){T(q.message||"Something went wrong.")}M(!1)},Z=()=>{u("signin"),f(""),v(""),_(""),T(""),C(!1),O(""),o()};return t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[t.jsx("button",{onClick:Z,className:"absolute top-4 right-4 text-stone-400 hover:text-stone-600",children:t.jsx(nr,{className:"w-5 h-5"})}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-xl flex items-center justify-center mx-auto mb-3 text-brand-700",children:t.jsx(Lt,{className:"w-6 h-6"})}),t.jsx("h2",{className:"text-2xl font-bold",children:S?"Reset Password":r==="signin"?"Welcome back":"Create account"}),t.jsx("p",{className:"text-stone-500 text-sm mt-1",children:S?"Enter your email and we'll send a new password":r==="signin"?"Sign in to manage your bookings":"Join thousands of anglers"})]}),D&&t.jsx("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded-lg mb-4",children:D}),V&&t.jsx("div",{className:"bg-green-50 text-green-700 text-sm p-3 rounded-lg mb-4",children:V}),S?t.jsxs("form",{onSubmit:te,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:t.jsx(ds,{className:"w-5 h-5"})}),t.jsx("input",{type:"email",value:h,onChange:K=>f(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"you@example.com"})]})]}),t.jsx("button",{type:"submit",disabled:N,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 transition",children:N?"Sending...":"Reset Password"}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"button",onClick:()=>{C(!1),T(""),O("")},className:"text-sm text-brand-700 hover:underline",children:"Back to sign in"})})]}):t.jsxs(t.Fragment,{children:[t.jsxs("form",{onSubmit:B,className:"space-y-4",children:[r==="register"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:t.jsx(qu,{className:"w-5 h-5"})}),t.jsx("input",{type:"text",value:w,onChange:K=>_(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"John Smith"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:t.jsx(ds,{className:"w-5 h-5"})}),t.jsx("input",{type:"email",value:h,onChange:K=>f(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"you@example.com"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:t.jsx(ov,{className:"w-5 h-5"})}),t.jsx("input",{type:"password",value:m,onChange:K=>v(K.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-stone-300 rounded-xl focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:""})]})]}),t.jsx("button",{type:"submit",disabled:N,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 transition",children:N?"Please wait...":r==="signin"?"Sign In":"Create Account"})]}),r==="signin"&&t.jsx("div",{className:"text-center mt-3",children:t.jsx("button",{onClick:()=>{C(!0),T("")},className:"text-sm text-stone-500 hover:text-brand-700",children:"Forgot your password?"})}),t.jsx("div",{className:"mt-6 text-center text-sm",children:r==="signin"?t.jsxs("p",{className:"text-stone-600",children:["Don't have an account?"," ",t.jsx("button",{onClick:()=>{u("register"),T("")},className:"text-brand-700 font-medium hover:underline",children:"Sign up"})]}):t.jsxs("p",{className:"text-stone-600",children:["Already have an account?"," ",t.jsx("button",{onClick:()=>{u("signin"),T("")},className:"text-brand-700 font-medium hover:underline",children:"Sign in"})]})})]})]})})},Pa=[{id:"scotland",name:"Scotland",waters:156,image:"linear-gradient(135deg, #1e3a5f 0%, #0c1929 100%)",description:"Legendary salmon rivers & wild lochs"},{id:"wales",name:"Wales",waters:89,image:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)",description:"Pristine rivers & reservoir trout"},{id:"southwest",name:"South West",waters:124,image:"linear-gradient(135deg, #4a6a5a 0%, #2a4a3a 100%)",description:"Wild moorland streams & sea fishing"},{id:"south",name:"South",waters:98,image:"linear-gradient(135deg, #3a6a5a 0%, #1a4a3a 100%)",description:"Famous chalk streams"},{id:"southeast",name:"South East",waters:142,image:"linear-gradient(135deg, #5a7a6a 0%, #3a5a4a 100%)",description:"Specimen carp & commercial fisheries"},{id:"midlands",name:"Midlands",waters:167,image:"linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)",description:"Canal fishing & mixed coarse"},{id:"north",name:"North",waters:134,image:"linear-gradient(135deg, #3a5a6a 0%, #1a3a4a 100%)",description:"Wild brown trout & grayling"},{id:"eastanglia",name:"East Anglia",waters:78,image:"linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)",description:"Broads pike & specimen tench"}],ex=[{name:"Atlantic Salmon",type:"game",icon:"",waters:89},{name:"Brown Trout",type:"game",icon:"",waters:234},{name:"Rainbow Trout",type:"game",icon:"",waters:312},{name:"Grayling",type:"game",icon:"",waters:67},{name:"Common Carp",type:"coarse",icon:"",waters:445},{name:"Pike",type:"coarse",icon:"",waters:189},{name:"Tench",type:"coarse",icon:"",waters:156},{name:"Barbel",type:"coarse",icon:"",waters:78},{name:"Perch",type:"coarse",icon:"",waters:234},{name:"Bream",type:"coarse",icon:"",waters:198},{name:"Bass",type:"sea",icon:"",waters:56},{name:"Cod",type:"sea",icon:"",waters:34}],bv=[{name:"David Hughes",location:"Manchester",text:"Found my dream salmon beat through TightLines. The booking was seamless and the beat exceeded expectations. Already planning my return!",rating:5,fishery:"River Wye"},{name:"Emma Richardson",location:"Bristol",text:"As a beginner, I was nervous about booking. TightLines made it easy to find beginner-friendly waters. Now I'm hooked!",rating:5,fishery:"Chew Valley Lake"},{name:"James Cooper",location:"London",text:"The instructor booking feature is brilliant. Sarah's course transformed my casting in just one day.",rating:5,instructor:"Sarah Thornton"}],Lh=[{id:"day-tickets",label:"Day Tickets & Passes",description:"Day ticket, half-day, evening, season ticket, syndicate membership"},{id:"guided",label:"Guided Experiences",description:"Guided sessions, tuition, corporate days, group bookings"},{id:"accommodation",label:"Accommodation Packages",description:"Lodge stays, camping, cabin + fishing combos"},{id:"extras",label:"Extras & Add-ons",description:"Tackle hire, bait shop, boat hire, ghillie service"}],wv={"day-tickets":[{name:"Day Ticket",description:"Full day fishing access",suggestedPrice:""},{name:"Half-Day Ticket",description:"Morning or afternoon session",suggestedPrice:""},{name:"Evening Ticket",description:"Evening fishing session",suggestedPrice:""},{name:"Season Ticket",description:"Full season access",suggestedPrice:""},{name:"Syndicate Membership",description:"Annual membership with exclusive access",suggestedPrice:""}],guided:[{name:"Guided Session (Half Day)",description:"Half-day with an expert guide",suggestedPrice:""},{name:"Guided Session (Full Day)",description:"Full day with an expert guide",suggestedPrice:""},{name:"1-to-1 Tuition",description:"Private lesson with a qualified instructor",suggestedPrice:""},{name:"Group Booking",description:"Guided session for groups",suggestedPrice:""},{name:"Corporate Day",description:"Corporate entertainment package",suggestedPrice:""}],accommodation:[{name:"Lodge & Fishing",description:"On-site lodge with fishing included",suggestedPrice:""},{name:"Cabin Stay",description:"Lakeside cabin with fishing access",suggestedPrice:""},{name:"Camping & Fishing",description:"Camping pitch with day ticket included",suggestedPrice:""},{name:"B&B Package",description:"Nearby B&B with fishing package",suggestedPrice:""}],extras:[{name:"Tackle Hire",description:"Rod, reel and basic tackle provided",suggestedPrice:""},{name:"Boat Hire",description:"Rowing boat or punt for the day",suggestedPrice:""},{name:"Ghillie Service",description:"Personal ghillie for the day",suggestedPrice:""},{name:"Bait Package",description:"Selection of bait for the session",suggestedPrice:""}]},Bm=()=>({id:Date.now()+Math.random(),category:"day-tickets",name:"",description:"",price:"",priceType:"day",bookingType:"instant"}),_v=({isOpen:i,onClose:o,onSuccess:s})=>{const[r,u]=P.useState(1),[h,f]=P.useState({name:"",type:"game",location:"",region:"",description:"",species:[],amenities:[],bookingOptions:[],contactName:"",contactEmail:"",contactPhone:""}),[m,v]=P.useState(!1),[w,_]=P.useState(!1),[N,M]=P.useState(null),[D,T]=P.useState(null),[S,C]=P.useState(null),[V,O]=P.useState(null);if(!i)return null;const B=(H,ae)=>f({...h,[H]:ae}),te=H=>{h.species.includes(H)?B("species",h.species.filter(ae=>ae!==H)):B("species",[...h.species,H])},Z=H=>{h.amenities.includes(H)?B("amenities",h.amenities.filter(ae=>ae!==H)):B("amenities",[...h.amenities,H])},K=()=>{const H=Bm();f({...h,bookingOptions:[...h.bookingOptions,H]}),T(H.id)},q=(H,ae)=>{const F={...Bm(),category:H,name:ae.name,description:ae.description,price:ae.suggestedPrice};f({...h,bookingOptions:[...h.bookingOptions,F]}),T(F.id),C(null)},le=(H,ae,F)=>{f({...h,bookingOptions:h.bookingOptions.map(oe=>oe.id===H?{...oe,[ae]:F}:oe)})},xe=H=>{f({...h,bookingOptions:h.bookingOptions.filter(ae=>ae.id!==H)}),D===H&&T(null)},ne=async()=>{M(null),_(!0);try{const H={ownerName:h.contactName,ownerEmail:h.contactEmail,ownerPhone:h.contactPhone,waterName:h.name,waterType:h.type,region:h.region,description:h.description,species:h.species,facilities:h.amenities,bookingOptions:h.bookingOptions.map(ae=>({category:ae.category,name:ae.name,description:ae.description||"",price:ae.price,priceType:ae.priceType,bookingType:ae.bookingType||"enquiry"}))};await Vg.water(H),v(!0),s&&s()}catch(H){M(H.message||"Failed to submit listing")}finally{_(!1)}},ue=()=>{o(),v(!1),u(1),f({name:"",type:"game",location:"",region:"",description:"",species:[],amenities:[],bookingOptions:[],contactName:"",contactEmail:"",contactPhone:""}),T(null),C(null)},U=h.bookingOptions.length>0&&h.bookingOptions.every(H=>H.name&&H.price);return m?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:t.jsx(Rr,{className:"w-8 h-8"})}),t.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Submission Received!"}),t.jsxs("p",{className:"text-stone-600 mb-2",children:["Thank you for listing ",h.name,". Our team will review your submission and be in touch within 48 hours."]}),t.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:[h.bookingOptions.length," booking option",h.bookingOptions.length!==1?"s":""," submitted."]}),t.jsx("button",{onClick:ue,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Done"})]})}):t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 my-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"List Your Water"}),t.jsxs("p",{className:"text-stone-500 text-sm",children:["Step ",r," of 4"]})]}),t.jsx("button",{onClick:ue,className:"text-stone-400 hover:text-stone-600",children:t.jsx(nr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3,4].map(H=>t.jsx("div",{className:`flex-1 h-2 rounded-full ${H<=r?"bg-brand-600":"bg-stone-200"}`},H))}),r===1&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold text-lg",children:"Basic Information"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Water Name *"}),t.jsx("input",{type:"text",value:h.name,onChange:H=>B("name",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"e.g. River Test - Manor Beat"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Type *"}),t.jsxs("select",{value:h.type,onChange:H=>B("type",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[t.jsx("option",{value:"game",children:"Game Fishing"}),t.jsx("option",{value:"coarse",children:"Coarse Fishing"}),t.jsx("option",{value:"sea",children:"Sea Fishing"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region *"}),t.jsxs("select",{value:h.region,onChange:H=>B("region",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[t.jsx("option",{value:"",children:"Select region"}),Pa.map(H=>t.jsx("option",{value:H.id,children:H.name},H.id))]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Location / Nearest Town *"}),t.jsx("input",{type:"text",value:h.location,onChange:H=>B("location",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"e.g. Stockbridge, Hampshire"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Description *"}),t.jsx("textarea",{rows:4,value:h.description,onChange:H=>B("description",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Describe your water, what makes it special, what anglers can expect..."})]})]}),r===2&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold text-lg",children:"Species & Facilities"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Species Available (select all that apply)"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["Atlantic Salmon","Brown Trout","Rainbow Trout","Grayling","Carp","Pike","Tench","Barbel","Perch","Bream","Roach","Chub"].map(H=>t.jsx("button",{type:"button",onClick:()=>te(H),className:`px-3 py-1.5 rounded-full text-sm transition ${h.species.includes(H)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:H},H))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Amenities (select all that apply)"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:["Parking","Toilets","Fishing hut","Caf/Lodge","Tackle shop","Boat hire","Ghillie/Guide","Night fishing","Disabled access","Dog friendly"].map(H=>t.jsx("button",{type:"button",onClick:()=>Z(H),className:`px-3 py-1.5 rounded-full text-sm transition ${h.amenities.includes(H)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:H},H))})]})]}),r===3&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg",children:"What Can Anglers Book?"}),t.jsx("p",{className:"text-stone-500 text-sm mt-1",children:"Add all the different things anglers can book or enquire about. You need at least one option."})]}),h.bookingOptions.length>0&&t.jsx("div",{className:"space-y-3",children:h.bookingOptions.map(H=>t.jsxs("div",{className:"border border-stone-200 rounded-xl overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-stone-50 cursor-pointer hover:bg-stone-100 transition",onClick:()=>T(D===H.id?null:H.id),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${H.category==="day-tickets"?"bg-brand-100 text-brand-700":H.category==="guided"?"bg-amber-100 text-amber-700":H.category==="accommodation"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:Lh.find(ae=>ae.id===H.category)?.label||H.category}),t.jsx("span",{className:"font-medium text-stone-800",children:H.name||"Untitled option"}),H.price&&t.jsxs("span",{className:"text-stone-500 text-sm",children:["",H.price,"/",H.priceType]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${H.bookingType==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:H.bookingType==="instant"?"Instant Book":"Enquiry"}),D===H.id?t.jsx(Vl,{className:"w-4 h-4 text-stone-400"}):t.jsx(Ca,{className:"w-4 h-4 text-stone-400"})]})]}),D===H.id&&t.jsxs("div",{className:"p-4 space-y-3 border-t border-stone-200",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Category"}),t.jsx("select",{value:H.category,onChange:ae=>le(H.id,"category",ae.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",children:Lh.map(ae=>t.jsx("option",{value:ae.id,children:ae.label},ae.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Booking Type"}),t.jsxs("select",{value:H.bookingType,onChange:ae=>le(H.id,"bookingType",ae.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",children:[t.jsx("option",{value:"instant",children:"Instant Book"}),t.jsx("option",{value:"enquiry",children:"Enquiry Only"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Option Name *"}),t.jsx("input",{type:"text",value:H.name,onChange:ae=>le(H.id,"name",ae.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",placeholder:"e.g. Day Ticket, Guided Session, Lodge Stay"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Description"}),t.jsx("textarea",{rows:2,value:H.description,onChange:ae=>le(H.id,"description",ae.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",placeholder:"What's included in this option?"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Price () *"}),t.jsx("input",{type:"number",value:H.price,onChange:ae=>le(H.id,"price",ae.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",placeholder:"45"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-stone-600 mb-1",children:"Price Per"}),t.jsxs("select",{value:H.priceType,onChange:ae=>le(H.id,"priceType",ae.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm",children:[t.jsx("option",{value:"day",children:"Per Day"}),t.jsx("option",{value:"half-day",children:"Per Half Day"}),t.jsx("option",{value:"session",children:"Per Session"}),t.jsx("option",{value:"night",children:"Per Night"}),t.jsx("option",{value:"person",children:"Per Person"}),t.jsx("option",{value:"season",children:"Per Season"}),t.jsx("option",{value:"year",children:"Per Year"})]})]})]}),t.jsxs("button",{onClick:()=>xe(H.id),className:"flex items-center gap-1 text-red-500 text-sm hover:text-red-700 transition mt-2",children:[t.jsx(Ar,{className:"w-3.5 h-3.5"}),"Remove this option"]})]})]},H.id))}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"grid grid-cols-2 gap-2",children:Lh.map(H=>t.jsxs("div",{className:"relative",children:[t.jsxs("button",{type:"button",onClick:()=>C(S===H.id?null:H.id),className:`w-full text-left px-3 py-2.5 rounded-xl border text-sm transition ${S===H.id?"border-brand-300 bg-brand-50 text-brand-700":"border-stone-200 hover:border-brand-300 hover:bg-brand-50 text-stone-700"}`,children:[t.jsx("span",{className:"font-medium block",children:H.label}),t.jsx("span",{className:"text-xs text-stone-500 block mt-0.5",children:H.description})]}),S===H.id&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-stone-200 rounded-xl shadow-lg z-10 overflow-hidden",children:wv[H.id].map((ae,F)=>{const oe=h.bookingOptions.some(ce=>ce.name===ae.name&&ce.category===H.id);return t.jsxs("button",{type:"button",disabled:oe,onClick:()=>q(H.id,ae),className:`w-full text-left px-3 py-2 text-sm border-b border-stone-100 last:border-0 ${oe?"text-stone-400 bg-stone-50 cursor-not-allowed":"hover:bg-brand-50 text-stone-700"}`,children:[t.jsx("span",{className:"font-medium",children:ae.name}),oe&&t.jsx("span",{className:"text-xs ml-2 text-stone-400",children:"(added)"}),t.jsx("span",{className:"block text-xs text-stone-500",children:ae.description})]},F)})})]},H.id))}),t.jsxs("button",{type:"button",onClick:K,className:"w-full py-2.5 border-2 border-dashed border-stone-300 rounded-xl text-stone-500 hover:border-brand-400 hover:text-brand-600 transition flex items-center justify-center gap-2 text-sm",children:[t.jsx(Tu,{className:"w-4 h-4"}),"Add Custom Option"]})]}),h.bookingOptions.length===0&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 text-sm text-amber-700",children:"Choose from the categories above or add a custom option. You need at least one booking option to continue."})]}),r===4&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold text-lg",children:"Contact Details"}),t.jsx("p",{className:"text-stone-500 text-sm",children:"We'll use these details to contact you about your listing."}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Name *"}),t.jsx("input",{type:"text",value:h.contactName,onChange:H=>B("contactName",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"John Smith"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),t.jsx("input",{type:"email",value:h.contactEmail,onChange:H=>B("contactEmail",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"john@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),t.jsx("input",{type:"tel",value:h.contactPhone,onChange:H=>B("contactPhone",H.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"07123 456789"})]}),t.jsxs("div",{className:"bg-brand-50 p-4 rounded-xl",children:[t.jsx("h4",{className:"font-medium text-brand-800 mb-2",children:"Listing Summary"}),t.jsxs("div",{className:"text-sm text-brand-700 space-y-1",children:[t.jsxs("p",{children:[" ",h.name,"  ",h.region]}),t.jsxs("p",{children:[" ",h.bookingOptions.length," booking option",h.bookingOptions.length!==1?"s":""]}),h.bookingOptions.map((H,ae)=>t.jsxs("p",{className:"ml-4 text-brand-600",children:[H.name,"  ",H.price,"/",H.priceType," (",H.bookingType,")"]},ae))]})]}),t.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl",children:[t.jsx("h4",{className:"font-medium text-stone-700 mb-2",children:"What happens next?"}),t.jsxs("ul",{className:"text-sm text-stone-600 space-y-1",children:[t.jsx("li",{children:" We'll review your submission within 48 hours"}),t.jsx("li",{children:" Our team may contact you for additional details"}),t.jsx("li",{children:" Once approved, your water goes live on TightLines"}),t.jsx("li",{children:" You'll get a dashboard to manage bookings"})]})]})]}),N&&t.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl text-red-700 text-sm",children:N}),t.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t border-stone-200",children:[r>1?t.jsx("button",{onClick:()=>{u(r-1),C(null)},className:"px-6 py-2.5 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Back"}):t.jsx("div",{}),r<4?t.jsxs("div",{className:"flex flex-col items-end gap-1",children:[V&&t.jsx("p",{className:"text-xs text-red-600",children:V}),t.jsx("button",{onClick:()=>{if(r===1&&(!h.name.trim()||!h.region)){O("Please fill in the water name and region.");return}if(r===3&&!U){O("Please add at least one booking option with a name and price.");return}O(null),u(r+1),C(null)},className:`px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 ${r===3&&!U?"opacity-70":""}`,children:"Continue"})]}):t.jsx("button",{onClick:ne,disabled:w,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Submitting...":"Submit Listing"})]})]})})},kv=["Fly Fishing","Salmon","Trout","Sea Fishing","Bass","Shore Fishing","Carp Fishing","Coarse","Beginners","Fly Tying","Women's Courses","Kids/Juniors","Pike","Barbel"],Nv=["AAPGAI","AAPGAI Master","GAIA","GAIA Advanced","SGAIC","Angling Trust Level 2","Angling Trust Level 3","First Aid","DBS Checked","River Rescue"],jv=[{id:"weekdays",label:"Weekdays"},{id:"weekends",label:"Weekends"},{id:"evenings",label:"Evenings"}],Sv=({isOpen:i,onClose:o,onSuccess:s})=>{const[r,u]=P.useState(1),[h,f]=P.useState({name:"",email:"",phone:"",region:"",experience:"",specialties:[],certifications:[],availability:[],price:"",bio:"",whatYouLearn:""}),[m,v]=P.useState(!1),[w,_]=P.useState(null),[N,M]=P.useState(!1),[D,T]=P.useState(null);if(!i)return null;const S=(q,le)=>f({...h,[q]:le}),C=q=>{h.specialties.includes(q)?S("specialties",h.specialties.filter(le=>le!==q)):S("specialties",[...h.specialties,q])},V=q=>{h.certifications.includes(q)?S("certifications",h.certifications.filter(le=>le!==q)):S("certifications",[...h.certifications,q])},O=q=>{h.availability.includes(q)?S("availability",h.availability.filter(le=>le!==q)):S("availability",[...h.availability,q])},B=async()=>{_(null),M(!0);try{const q={name:h.name,email:h.email,phone:h.phone,region:h.region,experience:h.experience,specialties:h.specialties,certifications:h.certifications,availability:h.availability,price:h.price?parseFloat(h.price):null,bio:h.bio,whatYouLearn:h.whatYouLearn};await Vg.instructor(q),v(!0),s&&s()}catch(q){_(q.message||"Failed to submit registration")}finally{M(!1)}},te=()=>{o(),v(!1),u(1),_(null),f({name:"",email:"",phone:"",region:"",experience:"",specialties:[],certifications:[],availability:[],price:"",bio:"",whatYouLearn:""})},Z=h.name.trim()&&h.email.trim(),K=h.specialties.length>0;return m?t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:t.jsx(Rr,{className:"w-8 h-8"})}),t.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Submission Received!"}),t.jsx("p",{className:"text-stone-600 mb-2",children:"Thank you for registering as an instructor on TightLines. Our team will review your profile and be in touch within 48 hours."}),t.jsxs("p",{className:"text-stone-500 text-sm mb-6",children:["A confirmation email has been sent to ",h.email,"."]}),t.jsx("button",{onClick:te,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Done"})]})}):t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full p-6 my-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold",children:"Register as an Instructor"}),t.jsxs("p",{className:"text-stone-500 text-sm",children:["Step ",r," of 3"]})]}),t.jsx("button",{onClick:te,className:"text-stone-400 hover:text-stone-600",children:t.jsx(nr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex gap-2 mb-6",children:[1,2,3].map(q=>t.jsx("div",{className:`flex-1 h-2 rounded-full ${q<=r?"bg-brand-600":"bg-stone-200"}`},q))}),w&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 mb-4 text-sm text-red-700",children:w}),r===1&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold text-lg",children:"Personal Information"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Full Name *"}),t.jsx("input",{type:"text",value:h.name,onChange:q=>S("name",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"John Smith"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),t.jsx("input",{type:"email",value:h.email,onChange:q=>S("email",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"john@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),t.jsx("input",{type:"tel",value:h.phone,onChange:q=>S("phone",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"07123 456789"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region"}),t.jsxs("select",{value:h.region,onChange:q=>S("region",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[t.jsx("option",{value:"",children:"Select region"}),Pa.map(q=>t.jsx("option",{value:q.id,children:q.name},q.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Years of Experience"}),t.jsx("input",{type:"number",value:h.experience,onChange:q=>S("experience",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"10",min:"0"})]})]})]}),r===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"font-semibold text-lg",children:"Your Expertise"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Specialties (select all that apply) *"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:kv.map(q=>t.jsx("button",{type:"button",onClick:()=>C(q),className:`px-3 py-1.5 rounded-full text-sm transition ${h.specialties.includes(q)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:q},q))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Certifications (select all that apply)"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Nv.map(q=>t.jsx("button",{type:"button",onClick:()=>V(q),className:`px-3 py-1.5 rounded-full text-sm transition ${h.certifications.includes(q)?"bg-brand-600 text-white":"bg-stone-100 text-stone-700 hover:bg-stone-200"}`,children:q},q))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Availability"}),t.jsx("div",{className:"space-y-2",children:jv.map(q=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:h.availability.includes(q.id),onChange:()=>O(q.id),className:"w-4 h-4 rounded border-stone-300 text-brand-600"}),t.jsx("span",{className:"text-sm text-stone-700",children:q.label})]},q.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Price per Day ()"}),t.jsx("input",{type:"number",value:h.price,onChange:q=>S("price",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"150",min:"0",step:"0.01"})]})]}),r===3&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"font-semibold text-lg",children:"About You"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Bio"}),t.jsx("textarea",{rows:4,value:h.bio,onChange:q=>S("bio",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Describe your teaching style, background, and what makes you unique..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"What Students Will Learn"}),t.jsx("textarea",{rows:4,value:h.whatYouLearn,onChange:q=>S("whatYouLearn",q.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Outline the key skills and knowledge your students will gain from your courses..."})]}),t.jsxs("div",{className:"bg-brand-50 p-4 rounded-xl",children:[t.jsx("h4",{className:"font-medium text-brand-800 mb-2",children:"Profile Summary"}),t.jsxs("div",{className:"text-sm text-brand-700 space-y-1",children:[t.jsxs("p",{children:[" ",h.name,"  ",Pa.find(q=>q.id===h.region)?.name||"No region"]}),t.jsxs("p",{children:[" ",h.experience," years experience"]}),t.jsxs("p",{children:[" ",h.specialties.length," specialt",h.specialties.length!==1?"ies":"y"]}),t.jsxs("p",{children:[" ",h.price||"0"," per day"]}),h.certifications.length>0&&t.jsxs("p",{children:[" ",h.certifications.length," certification",h.certifications.length!==1?"s":""]})]})]}),t.jsxs("div",{className:"bg-stone-50 p-4 rounded-xl",children:[t.jsx("h4",{className:"font-medium text-stone-700 mb-2",children:"What Happens Next?"}),t.jsxs("ul",{className:"text-sm text-stone-600 space-y-1",children:[t.jsx("li",{children:" We'll review your profile within 48 hours"}),t.jsx("li",{children:" Our team may contact you for additional details"}),t.jsx("li",{children:" Once approved, your profile goes live on TightLines"}),t.jsx("li",{children:" You'll get a dashboard to manage bookings and availability"})]})]})]}),t.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t border-stone-200",children:[r>1?t.jsx("button",{onClick:()=>u(r-1),className:"px-6 py-2.5 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Back"}):t.jsx("div",{}),r<3?t.jsxs("div",{className:"flex flex-col items-end gap-1",children:[D&&t.jsx("p",{className:"text-xs text-red-600",children:D}),t.jsx("button",{onClick:()=>{if(!(r===1?Z:r===2?K:!0)){r===1&&T("Please fill in your name and email to continue."),r===2&&T("Please select at least one specialty to continue.");return}T(null),u(r+1)},className:`px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 ${(r===1?!Z:r===2&&!K)?"opacity-70":""}`,children:"Continue"})]}):t.jsx("button",{onClick:B,disabled:N,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Submitting...":"Submit Registration"})]})]})})},Cv={game:"bg-blue-50 text-blue-700",coarse:"bg-green-50 text-green-700",sea:"bg-cyan-50 text-cyan-700"},Pv={game:"Game",coarse:"Coarse",sea:"Sea"},tx=({fishery:i,onClick:o,isFavourite:s,onToggleFavourite:r})=>{const u=i.bookingOptions&&i.bookingOptions.length>0,h=()=>{if(!u)return i.price;const N=i.bookingOptions.map(M=>parseInt(M.price)).filter(M=>!isNaN(M)&&M>0);return N.length>0?Math.min(...N):i.price},f=()=>{if(!u)return i.priceType;const N=h();return i.bookingOptions.find(D=>parseInt(D.price)===N)?.priceType||"day"},m=u?i.bookingOptions.length:0,v=u?i.bookingOptions.some(N=>N.bookingType==="instant"):i.bookingType==="instant",w=!u&&i.bookingType==="free",_=h();return t.jsxs("div",{onClick:o,className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-200 hover:shadow-lg hover:border-stone-300 transition-all cursor-pointer group",children:[t.jsxs("div",{className:"h-48 relative",style:{background:i.image},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${Cv[i.type]}`,children:Pv[i.type]}),i.topRated&&t.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:"Top Rated"})]}),r&&t.jsx("button",{onClick:N=>{N.stopPropagation(),r(i.id)},className:"absolute top-3 right-3 z-10 w-9 h-9 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center hover:bg-white transition shadow-sm",children:t.jsx(is,{className:`w-5 h-5 transition ${s?"fill-red-500 text-red-500":"text-stone-600"}`})}),t.jsxs("div",{className:`absolute ${r?"top-14":"top-3"} right-3 flex flex-col gap-1 items-end`,children:[v&&t.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-brand-500 text-white",children:"Instant Book"}),w&&t.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-green-500 text-white",children:"Free Access"}),m>1&&t.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-white/90 text-stone-700",children:[m," options"]})]}),t.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:t.jsx("span",{className:"text-white/90 text-sm",children:i.waterType})})]}),t.jsxs("div",{className:"p-5",children:[t.jsx("h3",{className:"font-semibold text-lg text-stone-900 group-hover:text-brand-700 transition mb-1",children:i.name}),t.jsxs("div",{className:"flex items-center text-sm text-stone-500 mb-2",children:[t.jsx(Sn,{className:"w-4 h-4"}),t.jsxs("span",{className:"ml-1",children:[i.location,", ",i.region]})]}),t.jsx("p",{className:"text-stone-600 text-sm mb-3 line-clamp-2",children:i.shortDescription}),t.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[i.species.slice(0,3).map(N=>t.jsx("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-600 text-xs rounded-full",children:N},N)),i.species.length>3&&t.jsxs("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-500 text-xs rounded-full",children:["+",i.species.length-3]})]}),m>1&&t.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[i.bookingOptions.slice(0,3).map((N,M)=>t.jsx("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-600 text-xs rounded-full",children:N.name},M)),m>3&&t.jsxs("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-500 text-xs rounded-full",children:["+",m-3," more"]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-stone-100",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(yr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),t.jsx("span",{className:"font-medium",children:i.rating}),t.jsxs("span",{className:"text-stone-400 text-sm",children:["(",i.reviews,")"]})]}),t.jsx("div",{children:w?t.jsx("span",{className:"text-lg font-bold text-green-600",children:"Free"}):t.jsxs(t.Fragment,{children:[u&&t.jsx("span",{className:"text-stone-500 text-xs",children:"from "}),t.jsxs("span",{className:"text-lg font-bold text-stone-900",children:["",_]}),t.jsxs("span",{className:"text-stone-500 text-sm ml-1",children:["/",f()]})]})})]})]})]})},Dv=({instructor:i,onClick:o,isFavourite:s,onToggleFavourite:r})=>t.jsx("div",{onClick:o,className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-200 hover:shadow-lg transition cursor-pointer group relative",children:t.jsxs("div",{className:"flex",children:[t.jsx("div",{className:"w-32 md:w-40 h-full min-h-[200px] flex-shrink-0 relative",style:{background:i.image},children:r&&t.jsx("button",{onClick:u=>{u.stopPropagation(),r(i.id)},className:"absolute top-2 left-2 z-10 w-8 h-8 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center hover:bg-white transition shadow-sm",children:t.jsx(is,{className:`w-4 h-4 transition ${s?"fill-red-500 text-red-500":"text-stone-600"}`})})}),t.jsxs("div",{className:"flex-1 p-5",children:[t.jsx("h3",{className:"font-semibold text-lg text-stone-900 group-hover:text-brand-700 transition",children:i.name}),t.jsx("p",{className:"text-brand-600 text-sm mb-2",children:i.title}),t.jsxs("div",{className:"flex items-center text-sm text-stone-500 mb-3",children:[t.jsx(Sn,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1",children:i.location})]}),t.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[i.specialties.slice(0,3).map(u=>t.jsx("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-700 text-xs rounded-full",children:u},u)),i.specialties.length>3&&t.jsxs("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-500 text-xs rounded-full",children:["+",i.specialties.length-3]})]}),t.jsx("p",{className:"text-stone-600 text-sm mb-3 line-clamp-2",children:i.bio}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(yr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),t.jsx("span",{className:"font-medium",children:i.rating}),t.jsxs("span",{className:"text-stone-400 text-sm",children:["(",i.reviews,")"]})]}),t.jsxs("div",{children:[t.jsxs("span",{className:"text-lg font-bold",children:["",i.price]}),t.jsxs("span",{className:"text-stone-500 text-sm",children:["/",i.priceType]})]})]})]})]})}),Tv=({instructor:i,onClick:o,isFavourite:s,onToggleFavourite:r})=>t.jsxs("div",{onClick:o,className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-stone-200 hover:shadow-lg transition cursor-pointer group flex-shrink-0 w-72",children:[t.jsxs("div",{className:"h-32 relative",style:{background:i.image},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),r&&t.jsx("button",{onClick:u=>{u.stopPropagation(),r(i.id)},className:"absolute top-2 right-2 z-10 w-8 h-8 rounded-full bg-white/80 backdrop-blur-sm flex items-center justify-center hover:bg-white transition shadow-sm",children:t.jsx(is,{className:`w-4 h-4 transition ${s?"fill-red-500 text-red-500":"text-stone-600"}`})}),t.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[t.jsx("h3",{className:"font-semibold text-white",children:i.name}),t.jsx("p",{className:"text-white/80 text-sm",children:i.title})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsxs("div",{className:"flex items-center text-sm text-stone-500 mb-2",children:[t.jsx(Sn,{className:"w-4 h-4"}),t.jsx("span",{className:"ml-1",children:i.location})]}),t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:i.specialties.slice(0,2).map(u=>t.jsx("span",{className:"px-2 py-0.5 bg-brand-50 text-brand-700 text-xs rounded-full",children:u},u))}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-stone-100",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(yr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),t.jsx("span",{className:"font-medium text-sm",children:i.rating})]}),t.jsxs("span",{className:"font-semibold",children:["",i.price]})]})]})]}),So=(i,o=10)=>{const s={},r=new Date;for(let u=0;u<60;u++){const h=new Date(r);h.setDate(h.getDate()+u);const f=h.toISOString().split("T")[0],m=h.getDay(),v=m===0||m===6,w=Math.random()>.2;Math.random()<.05?s[f]={status:"closed"}:w?s[f]={status:"available",price:v?i+o:i}:s[f]={status:"booked"}}return s},tp=[{id:1,name:"River Wye - Letton Beat",type:"game",waterType:"River Beat",location:"Herefordshire",region:"Wales",species:["Atlantic Salmon","Brown Trout","Grayling"],price:150,priceType:"per rod/day",rating:4.9,reviews:47,image:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)",gallery:["linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)","linear-gradient(135deg, #3d6a5a 0%, #2a4a40 100%)","linear-gradient(135deg, #4d7a6a 0%, #3a5a50 100%)","linear-gradient(135deg, #5d8a7a 0%, #4a6a60 100%)"],bookingType:"enquiry",bookingOptions:[{id:"opt-wye-1",category:"day-tickets",name:"Day Rod",description:"Full day on the beat, 1 rod",price:150,priceType:"day",bookingType:"enquiry"},{id:"opt-wye-2",category:"day-tickets",name:"Half Day Rod",description:"Morning or afternoon session",price:90,priceType:"half-day",bookingType:"enquiry"},{id:"opt-wye-3",category:"guided",name:"Guided Day with Ghillie",description:"Expert ghillie included, all advice and assistance",price:250,priceType:"day",bookingType:"enquiry"},{id:"opt-wye-4",category:"accommodation",name:"2-Night Fishing Package",description:"2 nights at the Angler's Rest plus 2 days on the beat",price:420,priceType:"person",bookingType:"enquiry"},{id:"opt-wye-5",category:"extras",name:"Tackle Hire",description:"Salmon rod, reel, line and selection of flies",price:30,priceType:"day",bookingType:"instant"}],featured:!0,topRated:!0,shortDescription:"One of the finest salmon beats on the Wye, offering 1.5 miles of double-bank fishing.",fullDescription:`The Letton Beat represents some of the most productive salmon fishing the River Wye has to offer. Stretching for 1.5 miles of double-bank fishing, this historic beat has been managed for over a century.

The water comprises pools, glides, and faster runs. Notable lies include the Cathedral Pool and the Ash Tree Run.`,season:{opens:"1st February",closes:"17th October",bestMonths:["March","April","September","October"]},expectations:{averageCatch:"2-3 salmon per rod over 3 days",recordFish:"28lb salmon",blankRate:"30%"},amenities:["Fishing hut","Ghillie available","Wading access","Parking","Lunch available"],facilities:["parking","fishing-hut","ghillie","wading","lunch"],rules:["Barbless hooks only","Catch & release for salmon","No night fishing","Single-handed or double-handed fly rods only","No spinning except high water"],contact:{name:"Edward Williams",email:"fishing@lettonbeat.co.uk",phone:"01234 567890"},rods:4,coordinates:{lat:52.1234,lng:-3.0567},experienceLevel:"intermediate",typicalSessionHours:8,bestTimeOfDay:"Early morning & late evening",availability:So(150,25),reviewsList:[{id:1,author:"Robert Thompson",rating:5,date:"2025-10-15",title:"Exceptional salmon fishing",text:"My third visit to Letton Beat and it never disappoints. Edward is an excellent host and the ghillie's knowledge of the water is invaluable. Landed a beautiful 18lb hen salmon on day two.",verified:!0},{id:2,author:"Michael Davies",rating:5,date:"2025-09-28",title:"Worth every penny",text:"Premium pricing but premium experience. The Cathedral Pool alone is worth the trip. Fish were showing throughout our stay and we landed four between the three of us.",verified:!0},{id:3,author:"Sarah Mitchell",rating:4,date:"2025-09-10",title:"Beautiful setting, challenging fishing",text:"The beat is stunning and well-maintained. Water was a bit low during our visit which made fishing tricky, but we still managed two grilse. Would love to return when conditions are better.",verified:!0},{id:4,author:"James Wilson",rating:5,date:"2025-08-22",title:"Dream salmon beat",text:"Finally ticked this one off my bucket list. The Wye is a truly special river and this beat showcases it at its best. Can't wait to return next season.",verified:!0}],nearbyStays:[{id:1,name:"The Angler's Rest B&B",type:"B&B",distance:"1.2 miles",priceRange:"85-120",rating:4.8,reviewCount:156,coordinates:{lat:52.1254,lng:-3.0487},bookingUrl:"https://booking.com"},{id:2,name:"Riverside Lodge Hotel",type:"Hotel",distance:"2.8 miles",priceRange:"120-180",rating:4.6,reviewCount:234,coordinates:{lat:52.1334,lng:-3.0767},bookingUrl:"https://booking.com"},{id:3,name:"Wye Valley Cottages",type:"Self-catering",distance:"3.5 miles",priceRange:"150-250",rating:4.9,reviewCount:89,coordinates:{lat:52.1134,lng:-3.0867},bookingUrl:"https://booking.com"}]},{id:2,name:"Chew Valley Lake",type:"game",waterType:"Stillwater Reservoir",location:"Somerset",region:"South West",species:["Rainbow Trout","Brown Trout"],price:45,priceType:"day ticket",rating:4.7,reviews:124,image:"linear-gradient(135deg, #4a6fa5 0%, #2d4a6a 100%)",gallery:["linear-gradient(135deg, #4a6fa5 0%, #2d4a6a 100%)","linear-gradient(135deg, #5a7fb5 0%, #3d5a7a 100%)","linear-gradient(135deg, #3a5f95 0%, #1d3a5a 100%)"],bookingType:"instant",bookingOptions:[{id:"opt-chew-1",category:"day-tickets",name:"Day Ticket (Bank)",description:"Full day bank fishing",price:45,priceType:"day",bookingType:"instant"},{id:"opt-chew-2",category:"day-tickets",name:"Day Ticket (Boat)",description:"Full day boat fishing, boat included",price:65,priceType:"day",bookingType:"instant"},{id:"opt-chew-3",category:"day-tickets",name:"Evening Ticket",description:"4pm to dusk bank fishing",price:28,priceType:"session",bookingType:"instant"},{id:"opt-chew-4",category:"day-tickets",name:"Season Ticket",description:"Full season bank access",price:380,priceType:"season",bookingType:"instant"},{id:"opt-chew-5",category:"guided",name:"Beginner Lesson",description:"2-hour casting lesson with qualified instructor",price:55,priceType:"person",bookingType:"instant"},{id:"opt-chew-6",category:"extras",name:"Boat Hire (Motor)",description:"Powered boat for the day",price:30,priceType:"day",bookingType:"instant"}],featured:!0,topRated:!0,shortDescription:"A prestigious 1,200-acre reservoir renowned for quality trout and exceptional fly hatches.",fullDescription:`Chew Valley Lake is one of England's premier stillwater trout fisheries. The lake is stocked with rainbow trout averaging 2-3lbs, plus wild browns to 8lbs.

Prolific hatches of buzzers, sedges, and olives provide consistent fishing throughout the season. Bank and boat fishing available.`,season:{opens:"Mid-March",closes:"End October",bestMonths:["April","May","September"]},expectations:{averageCatch:"3-4 fish per day",recordFish:"11lb 8oz brown",blankRate:"Less than 10%"},amenities:["Lodge restaurant","Tackle shop","Boat hire","Toilets","Parking","Disabled access"],facilities:["parking","toilets","cafe","tackle-shop","boat-hire","disabled-access"],rules:["Fly only","4 fish limit","Barbless for C&R","No wading","Boats must be returned by 7pm"],contact:{name:"Fishery Office",email:"info@chewvalleylake.co.uk",phone:"01234 567891"},rods:50,coordinates:{lat:51.3456,lng:-2.6234},experienceLevel:"beginner",typicalSessionHours:8,bestTimeOfDay:"All day - varies with conditions",availability:So(45,10),reviewsList:[{id:1,author:"Emma Richardson",rating:5,date:"2025-10-01",title:"Perfect for beginners",text:"My first ever fly fishing trip and I couldn't have picked a better venue. The staff were incredibly helpful and I caught three rainbows! The lodge restaurant is excellent too.",verified:!0},{id:2,author:"Tom Baker",rating:5,date:"2025-09-15",title:"Buzzer bonanza",text:"September visit and the buzzers were hatching like crazy. Limited out by lunchtime fishing nymphs in the margins. The wild browns are getting bigger every year.",verified:!0},{id:3,author:"Linda Chen",rating:4,date:"2025-08-20",title:"Great day out",text:"Lovely setting and good fishing. Can get busy on weekends so book early if you want a boat. The tackle shop has everything you need if you forget anything.",verified:!0},{id:4,author:"Paul Johnson",rating:4,date:"2025-07-30",title:"Reliable fishery",text:"Never had a blank here in 10+ visits. The fish aren't huge but they're plentiful and fight well. Perfect venue when you want to guarantee some action.",verified:!0},{id:5,author:"Rachel Green",rating:5,date:"2025-06-12",title:"Beautiful reservoir",text:"The scenery alone is worth the trip. Caught my PB rainbow at 4lb 8oz on a damsel nymph. Will definitely be back.",verified:!0}],nearbyStays:[{id:1,name:"Chew Magna Farm B&B",type:"B&B",distance:"2.1 miles",priceRange:"75-95",rating:4.7,reviewCount:89,coordinates:{lat:51.3556,lng:-2.6134},bookingUrl:"https://booking.com"},{id:2,name:"The Bear & Swan Inn",type:"Inn",distance:"3.2 miles",priceRange:"95-130",rating:4.5,reviewCount:167,coordinates:{lat:51.3356,lng:-2.6434},bookingUrl:"https://booking.com"},{id:3,name:"Valley View Cottage",type:"Self-catering",distance:"1.8 miles",priceRange:"120-180",rating:4.8,reviewCount:45,coordinates:{lat:51.3506,lng:-2.6284},bookingUrl:"https://booking.com"}]},{id:3,name:"Linear Fisheries - Manor Farm",type:"coarse",waterType:"Specimen Lake",location:"Oxfordshire",region:"South East",species:["Carp","Tench","Bream","Pike"],price:25,priceType:"day ticket",rating:4.8,reviews:312,image:"linear-gradient(135deg, #5a7a4a 0%, #3a5a2a 100%)",gallery:["linear-gradient(135deg, #5a7a4a 0%, #3a5a2a 100%)","linear-gradient(135deg, #6a8a5a 0%, #4a6a3a 100%)","linear-gradient(135deg, #4a6a3a 0%, #2a4a1a 100%)","linear-gradient(135deg, #7a9a6a 0%, #5a7a4a 100%)"],bookingType:"instant",bookingOptions:[{id:"opt-lin-1",category:"day-tickets",name:"Day Ticket",description:"Dawn to dusk on any lake",price:25,priceType:"day",bookingType:"instant"},{id:"opt-lin-2",category:"day-tickets",name:"24hr Ticket",description:"24 hours including night fishing",price:40,priceType:"session",bookingType:"instant"},{id:"opt-lin-3",category:"day-tickets",name:"48hr Ticket",description:"Full weekend session",price:70,priceType:"session",bookingType:"instant"},{id:"opt-lin-4",category:"accommodation",name:"Lakeside Lodge",description:"Private lodge overlooking St Johns, fishing included",price:95,priceType:"night",bookingType:"enquiry"},{id:"opt-lin-5",category:"guided",name:"Carp Masterclass",description:"Full day 1-to-1 tuition with pro angler, all tackle provided",price:150,priceType:"person",bookingType:"instant"},{id:"opt-lin-6",category:"extras",name:"Bait Package",description:"Boilies, pellets and particles for your session",price:15,priceType:"session",bookingType:"instant"},{id:"opt-lin-7",category:"extras",name:"Bivvy Hire",description:"2-man bivvy with bedchair and sleeping bag",price:25,priceType:"night",bookingType:"instant"}],featured:!1,topRated:!0,shortDescription:"Well-established specimen lakes known for big carp to 40lb+ in beautiful countryside.",fullDescription:`Linear Fisheries at Manor Farm is one of the UK's most respected carp venues. Multiple lakes offer varied challenges.

St Johns has carp to 45lb, Hardwick has 30lb+ fish, Manor Farm Lake is ideal for first 20s. Immaculate swims and excellent facilities.`,season:{opens:"Year-round",closes:"N/A",bestMonths:["May","June","September"]},expectations:{averageCatch:"2-5 carp per session",recordFish:"45lb 8oz mirror",blankRate:"Rare"},amenities:["Tackle shop","Caf","Showers","Night fishing","Fish care equipment","Toilets"],facilities:["parking","toilets","cafe","tackle-shop","night-fishing","showers"],rules:["Unhooking mats mandatory","Barbless hooks","No keepnets","No zig rigs on some lakes","Minimum 15lb line","Carp care kits provided"],contact:{name:"Fishery Office",email:"info@linearfisheries.co.uk",phone:"01234 567892"},rods:30,coordinates:{lat:51.7123,lng:-1.2456},experienceLevel:"any",typicalSessionHours:24,bestTimeOfDay:"Dawn and dusk",availability:So(25,5),reviewsList:[{id:1,author:"Steve Jackson",rating:5,date:"2025-10-08",title:"Best carp venue in the UK",text:"My go-to venue for specimen carp. The fish are immaculate, the facilities are top-notch, and the bailiffs are helpful without being intrusive. Caught my PB 38lb mirror on my last visit.",verified:!0},{id:2,author:"Dan Murphy",rating:5,date:"2025-09-20",title:"Worth the drive",text:"Travelled from Manchester and it was worth every mile. The lakes are beautifully maintained and the fish are stunning. Cafe food is great too!",verified:!0},{id:3,author:"Chris Taylor",rating:4,date:"2025-08-15",title:"Challenging but rewarding",text:"St Johns is proper difficult but when you crack it, the rewards are incredible. Blanked my first session but came back and nailed a 32lb common. Persistence pays off here.",verified:!0},{id:4,author:"Mark Williams",rating:5,date:"2025-07-28",title:"Perfect for all levels",text:"Manor Farm Lake is great for building confidence. My son caught his first 20 here and now he's hooked (pun intended). Staff are brilliant with younger anglers.",verified:!0},{id:5,author:"Pete Andrews",rating:5,date:"2025-06-10",title:"Fish care first",text:"Love how seriously they take fish welfare here. Mandatory mats, carp care kits at every swim. The fish are in incredible condition because of it.",verified:!0}],nearbyStays:[{id:1,name:"The Carper's Lodge",type:"On-site lodges",distance:"On site",priceRange:"60-90",rating:4.6,reviewCount:234,coordinates:{lat:51.7133,lng:-1.2446},bookingUrl:"https://booking.com"},{id:2,name:"Witney Premier Inn",type:"Hotel",distance:"4.5 miles",priceRange:"65-85",rating:4.2,reviewCount:567,coordinates:{lat:51.7823,lng:-1.4856},bookingUrl:"https://booking.com"},{id:3,name:"Manor Farm Campsite",type:"Camping",distance:"Adjacent",priceRange:"15-25",rating:4.4,reviewCount:123,coordinates:{lat:51.7113,lng:-1.2476},bookingUrl:"https://booking.com"}]},{id:4,name:"River Tweed - Junction Beat",type:"game",waterType:"River Beat",location:"Scottish Borders",region:"Scotland",species:["Atlantic Salmon","Sea Trout"],price:350,priceType:"per rod/day",rating:5,reviews:28,image:"linear-gradient(135deg, #3a5a6a 0%, #1a3a4a 100%)",gallery:["linear-gradient(135deg, #3a5a6a 0%, #1a3a4a 100%)","linear-gradient(135deg, #4a6a7a 0%, #2a4a5a 100%)","linear-gradient(135deg, #2a4a5a 0%, #0a2a3a 100%)"],bookingType:"enquiry",featured:!0,topRated:!0,shortDescription:"The legendary Junction Pool - arguably the most famous salmon lie in Scotland.",fullDescription:`The Junction Beat encompasses one of the most storied salmon lies in the world. The Junction Pool, where the Teviot meets the Tweed, has produced countless memorable fish.

An experienced ghillie is included. This is bucket-list fishing for serious salmon anglers.`,season:{opens:"1st February",closes:"30th November",bestMonths:["October","November"]},expectations:{averageCatch:"Quality over quantity",recordFish:"30lb+ fish recorded",blankRate:"Challenging"},amenities:["Ghillie included","Fishing hut","Lunch provided","Waders available","4x4 access"],facilities:["parking","fishing-hut","ghillie","lunch","wading"],rules:["Fly only","Catch & release","Ghillie guidance required","Single-handed or Spey rods","No fishing before 9am October onwards"],contact:{name:"Alastair MacKenzie",email:"fishing@junctionbeat.com",phone:"01234 567893"},rods:2,coordinates:{lat:55.5789,lng:-2.4567},experienceLevel:"advanced",typicalSessionHours:8,bestTimeOfDay:"Mid-morning to late afternoon in autumn",availability:So(350,50),reviewsList:[{id:1,author:"Lord Richard Ashby",rating:5,date:"2025-11-02",title:"Simply the best",text:"My 15th season at Junction and it never fails to move me. Alastair's ghillies are the finest on the river. Landed a magnificent 24lb cock fish this autumn.",verified:!0},{id:2,author:"George Hamilton",rating:5,date:"2025-10-20",title:"Bucket list complete",text:"Finally got my name on the Junction Pool. The anticipation of casting into that legendary water is indescribable. Didn't land one but touched two - I'll be back.",verified:!0},{id:3,author:"William Bruce",rating:5,date:"2025-10-08",title:"Worth every penny",text:"Yes it's expensive, but where else can you fish water with this history? The ghillie made all the difference - wouldn't have landed my fish without his guidance.",verified:!0}],nearbyStays:[{id:1,name:"Ednam House Hotel",type:"Hotel",distance:"1.5 miles",priceRange:"150-220",rating:4.7,reviewCount:312,coordinates:{lat:55.5889,lng:-2.4367},bookingUrl:"https://booking.com"},{id:2,name:"The Salmon Inn B&B",type:"B&B",distance:"2.2 miles",priceRange:"95-130",rating:4.8,reviewCount:78,coordinates:{lat:55.5689,lng:-2.4767},bookingUrl:"https://booking.com"},{id:3,name:"Tweed Valley Lodges",type:"Self-catering",distance:"3.8 miles",priceRange:"180-280",rating:4.9,reviewCount:56,coordinates:{lat:55.5589,lng:-2.4967},bookingUrl:"https://booking.com"}]},{id:5,name:"River Test - Broadlands",type:"game",waterType:"Chalk Stream",location:"Hampshire",region:"South",species:["Wild Brown Trout","Rainbow Trout","Grayling"],price:295,priceType:"per rod/day",rating:4.9,reviews:52,image:"linear-gradient(135deg, #3a6a5a 0%, #1a4a3a 100%)",gallery:["linear-gradient(135deg, #3a6a5a 0%, #1a4a3a 100%)","linear-gradient(135deg, #4a7a6a 0%, #2a5a4a 100%)","linear-gradient(135deg, #2a5a4a 0%, #0a3a2a 100%)","linear-gradient(135deg, #5a8a7a 0%, #3a6a5a 100%)"],bookingType:"enquiry",featured:!0,topRated:!1,shortDescription:"Premium chalk stream fishing on one of England's most celebrated rivers.",fullDescription:`The Broadlands Estate offers some of the finest chalk stream trout fishing in the world. Crystal-clear water flows through ancient water meadows.

A river keeper is included. This is technical fishing at its finest - sight fishing to educated wild browns.`,season:{opens:"1st May",closes:"15th October",bestMonths:["May","June","September"]},expectations:{averageCatch:"4-6 fish is good",recordFish:"Wild brown to 6lb",blankRate:"Rare for experienced anglers"},amenities:["River keeper","Lunch included","Rod room","Parking","Waders available"],facilities:["parking","lunch","ghillie","wading","rod-room"],rules:["Dry fly & upstream nymph only","Catch & release wild fish","Barbless hooks","No wading except where permitted","Single fly only"],contact:{name:"James Portman",email:"fishing@broadlands.co.uk",phone:"01234 567894"},rods:4,coordinates:{lat:50.9876,lng:-1.5432},experienceLevel:"intermediate",typicalSessionHours:8,bestTimeOfDay:"Midday during mayfly, evening in summer",availability:So(295,45),reviewsList:[{id:1,author:"Charles Worthington",rating:5,date:"2025-06-15",title:"Mayfly magic",text:"Visited during the mayfly and it was everything I'd dreamed of. Sight fishing to rising browns in gin-clear water - this is what chalk stream fishing is all about.",verified:!0},{id:2,author:"Peter Hawkins",rating:5,date:"2025-09-22",title:"Autumn grayling",text:"Came for the late-season grayling and wasn't disappointed. The keeper's knowledge of the water is exceptional. Beautiful setting and impeccable presentation required.",verified:!0},{id:3,author:"Andrew Mitchell",rating:4,date:"2025-07-10",title:"Technical challenge",text:"This isn't easy fishing - these trout have seen it all. But that's what makes it so rewarding. Managed four fish including a cracking 3lb wild brown.",verified:!0},{id:4,author:"Simon Edwards",rating:5,date:"2025-05-28",title:"Quintessential English fishing",text:"The Broadlands beat is simply stunning. Wading through water meadows casting to rising fish - it doesn't get more traditional than this. Worth every penny.",verified:!0}],nearbyStays:[{id:1,name:"The White Horse Inn",type:"Inn",distance:"1.8 miles",priceRange:"110-150",rating:4.6,reviewCount:234,coordinates:{lat:50.9976,lng:-1.5232},bookingUrl:"https://booking.com"},{id:2,name:"Test Valley B&B",type:"B&B",distance:"2.5 miles",priceRange:"85-110",rating:4.7,reviewCount:89,coordinates:{lat:50.9776,lng:-1.5632},bookingUrl:"https://booking.com"},{id:3,name:"Romsey Riverside Hotel",type:"Hotel",distance:"4.2 miles",priceRange:"130-190",rating:4.5,reviewCount:456,coordinates:{lat:50.9576,lng:-1.4932},bookingUrl:"https://booking.com"}]},{id:6,name:"Grafham Water",type:"game",waterType:"Stillwater Reservoir",location:"Cambridgeshire",region:"East Anglia",species:["Rainbow Trout","Brown Trout"],price:38,priceType:"day ticket",rating:4.6,reviews:89,image:"linear-gradient(135deg, #4a5a7a 0%, #2a3a5a 100%)",gallery:["linear-gradient(135deg, #4a5a7a 0%, #2a3a5a 100%)","linear-gradient(135deg, #5a6a8a 0%, #3a4a6a 100%)","linear-gradient(135deg, #3a4a6a 0%, #1a2a4a 100%)"],bookingType:"instant",featured:!1,topRated:!1,shortDescription:"Large reservoir with excellent bank and boat fishing for quality trout.",fullDescription:`Grafham Water is one of England's premier trout reservoirs. At 1,550 acres, it offers plenty of space for both bank and boat anglers.

The fishery is known for consistent sport and good-sized fish, with rainbows averaging 2lbs and browns to 8lbs+.`,season:{opens:"April",closes:"October",bestMonths:["May","June","September"]},expectations:{averageCatch:"3-5 fish",recordFish:"9lb rainbow",blankRate:"15%"},amenities:["Lodge","Boat hire","Tackle shop","Toilets","Parking"],facilities:["parking","toilets","cafe","tackle-shop","boat-hire"],rules:["Fly only","8 fish limit","Barbless hooks recommended","Life jackets in boats","No wading"],contact:{name:"Reception",email:"info@grafham.co.uk",phone:"01234 567895"},rods:100,coordinates:{lat:52.2876,lng:-.3245},experienceLevel:"beginner",typicalSessionHours:8,bestTimeOfDay:"Early morning and evening",availability:So(38,8),reviewsList:[{id:1,author:"Neil Patterson",rating:5,date:"2025-09-05",title:"Great value fishing",text:"Excellent day out. The boats are well-maintained and the fish are in good condition. Caught 5 rainbows to 3lb on buzzers. Can't ask for more at this price.",verified:!0},{id:2,author:"Helen Wright",rating:4,date:"2025-08-18",title:"Good for groups",text:"Brought a group of work colleagues for a corporate day. Staff were brilliant at getting everyone set up and fishing. Everyone caught at least one fish!",verified:!0},{id:3,author:"David Morris",rating:4,date:"2025-07-22",title:"Reliable fishing",text:"My local water for midweek sessions. Never disappointing, always fish to be caught. The browns are getting bigger each year - had one of 5lb 4oz last month.",verified:!0}],nearbyStays:[{id:1,name:"Grafham Lodge",type:"B&B",distance:"0.5 miles",priceRange:"70-90",rating:4.5,reviewCount:123,coordinates:{lat:52.2906,lng:-.3215},bookingUrl:"https://booking.com"},{id:2,name:"Huntingdon Marriott",type:"Hotel",distance:"6.2 miles",priceRange:"95-140",rating:4.3,reviewCount:789,coordinates:{lat:52.3376,lng:-.1845},bookingUrl:"https://booking.com"}]},{id:7,name:"River Avon - Free Fishing",type:"coarse",waterType:"River",location:"Wiltshire",region:"South",species:["Roach","Chub","Barbel","Pike"],price:0,priceType:"free",rating:4.2,reviews:45,image:"linear-gradient(135deg, #5a6a4a 0%, #3a4a2a 100%)",gallery:["linear-gradient(135deg, #5a6a4a 0%, #3a4a2a 100%)","linear-gradient(135deg, #6a7a5a 0%, #4a5a3a 100%)"],bookingType:"free",featured:!1,topRated:!1,shortDescription:"Public access stretch with excellent mixed coarse fishing. Rod licence required.",fullDescription:`This public access stretch of the Bristol Avon offers free fishing for rod licence holders. The river holds good stocks of roach, chub, and barbel, with pike present in the deeper pools.

A great option for spontaneous sessions - just turn up and fish!`,season:{opens:"16th June",closes:"14th March",bestMonths:["September","October","November"]},expectations:{averageCatch:"15-20 fish",recordFish:"8lb barbel",blankRate:"10%"},amenities:["Parking nearby","Public footpath access"],facilities:["parking"],rules:["EA rod licence required","No night fishing","No keepnets for barbel","Barbless hooks recommended"],contact:{name:"Environment Agency",email:"enquiries@environment-agency.gov.uk"},rods:null,coordinates:{lat:51.3654,lng:-2.1234},experienceLevel:"any",typicalSessionHours:4,bestTimeOfDay:"Dawn and dusk",openingHours:{weekday:"Dawn to dusk",weekend:"Dawn to dusk"},availability:null,reviewsList:[{id:1,author:"Tony Green",rating:4,date:"2025-10-12",title:"Great free fishing",text:"Brilliant that this stretch is free. Caught 15 roach and 3 decent chub on trotted bread. Just remember your rod licence!",verified:!0},{id:2,author:"Gary Hunt",rating:4,date:"2025-09-28",title:"Hidden gem",text:"Don't tell everyone! Lovely stretch of river with minimal pressure. Had barbel to 6lb on the meat.",verified:!0}],nearbyStays:[{id:1,name:"The George Inn",type:"Inn",distance:"0.8 miles",priceRange:"75-95",rating:4.4,reviewCount:156,coordinates:{lat:51.3704,lng:-2.1184},bookingUrl:"https://booking.com"}]}],Oh=()=>{const i=[],o=new Date;for(let s=0;s<60;s++){const r=new Date(o);r.setDate(r.getDate()+s),r.getDay()!==0&&Math.random()>.3&&i.push(r.toISOString().split("T")[0])}return i},np=[{id:1,name:"James MacPherson",title:"AAPGAI Master Instructor",specialties:["Atlantic Salmon","Spey Casting","Scottish Rivers"],location:"Scottish Highlands",price:275,priceType:"full day",rating:5,reviews:67,image:"linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)",gallery:["linear-gradient(135deg, #4a5a6a 0%, #2a3a4a 100%)","linear-gradient(135deg, #5a6a7a 0%, #3a4a5a 100%)","linear-gradient(135deg, #3a4a5a 0%, #1a2a3a 100%)","linear-gradient(135deg, #6a7a8a 0%, #4a5a6a 100%)"],bio:"30 years guiding on Scotland's finest salmon rivers. One of the UK's most respected Spey casting instructors.",fullBio:`James MacPherson has dedicated his life to Atlantic salmon and Spey casting. Born on the banks of the River Spey, he qualified as an AAPGAI Master Instructor in 1998.

He has taught thousands of anglers from complete beginners to international competitors, and has coached several Scottish International casting team members. His patient, analytical approach breaks down the complexities of Spey casting into manageable steps.`,teachingPhilosophy:"Everyone can learn to Spey cast well - it's about understanding the mechanics, not strength. I've taught 70-year-olds who outcast 30-year-olds because they listened and trusted the process.",whatYouLearn:["Spey casting mechanics and timing","Single Spey, double Spey, snake roll, snap-T","Reading salmon water","Fly selection for Scottish rivers","Fish playing and landing techniques","Conservation-focused approach"],equipmentProvided:["Spey rods (12-15ft)","Reels and lines (Scandi & Skagit)","Full fly selection","Waders and boots"],certifications:["AAPGAI Master","SGAIC","First Aid","River Rescue"],website:"www.speymasterclasses.co.uk",hasCalendar:!0,availability:Oh(),typicalDay:[{time:"09:00",activity:"Meet at the river, introductions and safety briefing"},{time:"09:30",activity:"Casting assessment and identification of areas to improve"},{time:"10:00",activity:"Bank-side casting tuition - building the foundation"},{time:"11:30",activity:"Move onto the river - practical fishing begins"},{time:"13:00",activity:"Lunch break (packed lunch provided)"},{time:"14:00",activity:"Afternoon fishing session with ongoing instruction"},{time:"16:00",activity:"Water craft session - reading the river, finding lies"},{time:"17:00",activity:"Final hour of fishing, wrap-up and action plan"}],reviewsList:[{id:1,author:"Robert Thompson",rating:5,date:"2025-10-20",title:"Transformed my casting",text:"James completely rebuilt my Spey cast in a single day. What had been a constant struggle suddenly clicked. His understanding of the mechanics is incredible, and he explains complex concepts in simple terms.",verified:!0},{id:2,author:"Michael Davies",rating:5,date:"2025-09-15",title:"Worth every penny",text:"Saved me years of bad habits. James spotted issues with my timing that I'd had for a decade. Left feeling like a different angler. Already booked for a follow-up session.",verified:!0},{id:3,author:"Andrew Wilson",rating:5,date:"2025-08-28",title:"Patient and knowledgeable",text:"As a complete beginner to Spey casting, I was nervous about booking such a renowned instructor. James put me at ease immediately and had me making decent casts by lunchtime. Incredible teacher.",verified:!0},{id:4,author:"William Bruce",rating:5,date:"2025-07-10",title:"The real deal",text:"James knows these rivers inside out. Beyond the casting instruction, his knowledge of where the fish lie and when they move is invaluable. Landed my first Scottish salmon thanks to his guidance.",verified:!0}]},{id:2,name:"Sarah Thornton",title:"GAIA Advanced Instructor",specialties:["Trout","Stillwater","Beginners","Women's Courses"],location:"Derbyshire",price:175,priceType:"full day",rating:4.9,reviews:89,image:"linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)",gallery:["linear-gradient(135deg, #5a6a5a 0%, #3a4a3a 100%)","linear-gradient(135deg, #6a7a6a 0%, #4a5a4a 100%)","linear-gradient(135deg, #4a5a4a 0%, #2a3a2a 100%)"],bio:"Patient, encouraging instruction for newcomers. Specialist in stillwater tactics and women-only courses.",fullBio:`Sarah discovered fly fishing at 25 and immediately fell in love with the sport. Her empathy for beginners comes from being a late starter herself - she understands the frustrations and common pitfalls.

Now a GAIA Advanced Instructor with over 15 years' experience, she specialises in making fly fishing accessible and enjoyable from day one. Her women's courses have introduced hundreds of female anglers to the sport.`,teachingPhilosophy:"Fly fishing should be fun from day one. I structure courses so you catch fish quickly and build confidence. There's no point spending hours on grass casting if you leave having never felt a fish on the line.",whatYouLearn:["Casting fundamentals that actually work","Knots and setup made simple","Reading stillwater - where the fish are","Fly selection without the confusion","Playing and landing fish","Building confidence to fish independently"],equipmentProvided:["Complete rod and reel setup","Flies and leaders","Landing nets","Fishing permits"],certifications:["GAIA Advanced","Angling Trust Level 2","DBS Checked","First Aid"],website:"www.sarahthorntonfly.co.uk",hasCalendar:!0,availability:Oh(),typicalDay:[{time:"09:30",activity:"Coffee and introductions, discuss goals for the day"},{time:"10:00",activity:"Tackle setup - rods, reels, leaders, knots"},{time:"10:30",activity:"Casting practice on grass - the basics"},{time:"11:30",activity:"Move to the water - start fishing!"},{time:"13:00",activity:"Lunch break (caf on site)"},{time:"14:00",activity:"Afternoon session - building on morning skills"},{time:"15:30",activity:"Fly selection masterclass"},{time:"16:30",activity:"Final fishing hour and wrap-up"}],reviewsList:[{id:1,author:"Jennifer Kline",rating:5,date:"2025-09-28",title:"Perfect for beginners",text:"Sarah made everything so approachable. I was terrified of looking silly but she immediately put me at ease. I caught 4 trout on my first ever fly fishing trip! Can't recommend her enough.",verified:!0},{id:2,author:"Emma Richardson",rating:5,date:"2025-08-15",title:"Women's course was brilliant",text:"Signed up for Sarah's women-only course and it was exactly what I needed. No pressure, no egos, just a supportive environment to learn. The other ladies were lovely and we've stayed in touch.",verified:!0},{id:3,author:"Lisa Morgan",rating:5,date:"2025-07-20",title:"Finally got it!",text:"After struggling with casting on YouTube videos, one day with Sarah sorted everything out. She has such a patient way of explaining things. My husband couldn't believe the improvement.",verified:!0},{id:4,author:"Amanda Cross",rating:4,date:"2025-06-10",title:"Great introduction",text:"Lovely day out and caught my first trout on a fly. Sarah is wonderful - encouraging but also pushes you to improve. Would have loved a bit more time on the water but understand the need for theory.",verified:!0}]},{id:3,name:"Tom Ashworth",title:"Specimen Carp Specialist",specialties:["Carp","Pike","Rig Mechanics","Watercraft"],location:"Cambridgeshire",price:150,priceType:"full day",rating:4.8,reviews:134,image:"linear-gradient(135deg, #6a6a5a 0%, #4a4a3a 100%)",gallery:["linear-gradient(135deg, #6a6a5a 0%, #4a4a3a 100%)","linear-gradient(135deg, #7a7a6a 0%, #5a5a4a 100%)","linear-gradient(135deg, #5a5a4a 0%, #3a3a2a 100%)","linear-gradient(135deg, #8a8a7a 0%, #6a6a5a 100%)"],bio:"Former match angler turned specimen hunter. Carp to 52lb, helping anglers catch PBs.",fullBio:`Tom's practical, no-nonsense approach focuses on what actually works in modern carp fishing. A former match angler who transitioned to specimen hunting, he brings analytical precision to targeting big fish.

With carp to 52lb and multiple 40s to his name, Tom specialises in helping anglers break through plateaus and catch their target fish. He's particularly known for his watercraft - finding fish is his superpower.`,teachingPhilosophy:"Carp fishing is 70% location, 20% presentation, 10% luck. Most anglers focus on the wrong 10%. I'll teach you to find fish first, then worry about fancy rigs.",whatYouLearn:["Finding carp - visual spotting, feature finding","Rig construction that actually works","Bait strategies for different situations","Playing and landing big fish safely","Night fishing tactics","Session planning and preparation"],equipmentProvided:["Rig components and end tackle","Bait samples","Landing and retention equipment","Unhooking mats and treatment"],certifications:["Angling Trust Level 2","DBS Checked","First Aid"],website:"www.tomashworthcarp.co.uk",hasCalendar:!0,availability:Oh(),typicalDay:[{time:"06:00",activity:"Dawn start - best time to spot feeding fish"},{time:"07:00",activity:"Watercraft session - feature finding, reading the water"},{time:"08:30",activity:"Set up swims, discuss tactics for the session"},{time:"09:30",activity:"Rig tying masterclass - the rigs that catch big fish"},{time:"11:00",activity:"Cast out and fish - ongoing instruction"},{time:"13:00",activity:"Lunch (bring your own or we'll nip to the caf)"},{time:"14:00",activity:"Bait application strategies"},{time:"16:00",activity:"Recap and action plan for your fishing"}],reviewsList:[{id:1,author:"Steve Jackson",rating:5,date:"2025-10-05",title:"Changed how I approach fishing",text:"Tom transformed my carp fishing. His watercraft knowledge is incredible - he showed me fish I would have walked past. Three new PBs within a month of our session. Worth every penny.",verified:!0},{id:2,author:"Dan Murphy",rating:5,date:"2025-09-18",title:"Finally broke the 30lb barrier",text:"Been stuck at 27lb for years. One session with Tom and I had a 31lb mirror three weeks later. He simplified everything - I was over-complicating it massively.",verified:!0},{id:3,author:"Mark Williams",rating:4,date:"2025-08-22",title:"Great for intermediate anglers",text:"Tom's approach is practical and no-nonsense. He won't tell you what you want to hear, he'll tell you what you need to hear. My rig game has improved massively.",verified:!0},{id:4,author:"Chris Taylor",rating:5,date:"2025-07-15",title:"The watercraft guru",text:"Spent most of the morning just walking and watching before we even cast out. Learned more about finding fish in those hours than in years of fishing alone. Essential knowledge.",verified:!0},{id:5,author:"Pete Andrews",rating:5,date:"2025-06-28",title:"Brilliant for pike too",text:"Booked Tom for a pike session and he delivered big time. His location skills translate perfectly to predator fishing. Had two 20s in one session!",verified:!0}]},{id:4,name:"Emily Ward",title:"Wild Trout Specialist",specialties:["Wild Brown Trout","Small Streams","Dry Fly","Tenkara"],location:"Devon",price:195,priceType:"full day",rating:4.9,reviews:56,image:"linear-gradient(135deg, #5a7a6a 0%, #3a5a4a 100%)",gallery:["linear-gradient(135deg, #5a7a6a 0%, #3a5a4a 100%)","linear-gradient(135deg, #6a8a7a 0%, #4a6a5a 100%)","linear-gradient(135deg, #4a6a5a 0%, #2a4a3a 100%)"],bio:"Passionate about wild trout on Devon's small streams. Teaches traditional and tenkara techniques.",fullBio:`Emily holds permits on miles of rarely-fished Devon streams. A wildlife ecologist by training, she brings a naturalist's eye to wild trout fishing.

Her courses focus on the complete experience - understanding the river ecosystem, the insects the trout feed on, and the art of approaching wild fish in intimate settings. She's one of the UK's leading tenkara instructors.`,teachingPhilosophy:"Small stream fishing is about slowing down and becoming part of the landscape. The fish are wild, the setting is beautiful, and every trout is earned. It's the purest form of fly fishing.",whatYouLearn:["Stealth and approach - the key to small stream success","Reading small water","Dry fly selection for wild trout","Short-line nymphing techniques","Tenkara basics and beyond","Stream entomology - matching the hatch"],equipmentProvided:["Fly rod or tenkara rod (your choice)","Flies tied for local waters","Leaders and tippet","Light lunch and refreshments"],certifications:["GAIA Level 2","Wild Trout Trust Ambassador","Tenkara UK Ambassador"],website:"www.devonwildtrout.co.uk",hasCalendar:!1,availability:[],typicalDay:[{time:"09:00",activity:"Meet at a picturesque Devon village"},{time:"09:30",activity:"Short walk to the stream, discussing the environment"},{time:"10:00",activity:"Stealth and approach techniques - stalking fish"},{time:"11:00",activity:"First pool - putting skills into practice"},{time:"12:30",activity:"Streamside lunch in a beautiful spot"},{time:"13:30",activity:"Move upstream - tenkara introduction"},{time:"15:00",activity:"Dry fly session - matching the hatch"},{time:"16:30",activity:"Final pool and wrap-up"}],reviewsList:[{id:1,author:"Mark Thompson",rating:5,date:"2025-09-12",title:"What fly fishing should be",text:"This is what fly fishing should be about - wild fish in wild places. Emily's passion is infectious and her knowledge of these streams is encyclopedic. Caught a dozen wild browns in stunning surroundings.",verified:!0},{id:2,author:"Helen Wright",rating:5,date:"2025-08-25",title:"Tenkara convert",text:"Came to try tenkara and left completely hooked. Emily's teaching is gentle but effective. The simplicity of the method on these tiny streams makes so much sense. Bought my own setup the next day!",verified:!0},{id:3,author:"David Morris",rating:5,date:"2025-07-18",title:"Hidden gems of Devon",text:"Emily took me to streams I'd drive past without a second glance. The fish might be small but they're wild and beautiful, and the setting is magical. A totally different experience to reservoir fishing.",verified:!0},{id:4,author:"Neil Patterson",rating:4,date:"2025-06-30",title:"Peaceful and productive",text:"Perfect antidote to busy stillwater fishing. Emily creates such a calm atmosphere and her approach to the river is almost meditative. Caught fish all day on dry flies.",verified:!0}]}],Mv=({value:i,onChange:o,suggestions:s,onSelectSuggestion:r})=>{const[u,h]=P.useState(!1),f=P.useRef(null),m=()=>{i.length>0&&h(!0)},v=_=>{o(_.target.value),h(_.target.value.length>0)},w=s.filter(_=>_.name.toLowerCase().includes(i.toLowerCase())).slice(0,6);return t.jsxs("div",{className:"relative flex-1",children:[t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",children:t.jsx(Sn,{className:"w-5 h-5"})}),t.jsx("input",{ref:f,type:"text",value:i,onChange:v,onFocus:m,onBlur:()=>setTimeout(()=>h(!1),200),placeholder:"River, lake, or region...",className:"w-full pl-10 pr-4 py-3.5 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 text-base"})]}),u&&w.length>0&&t.jsx("div",{className:"absolute z-20 top-full left-0 right-0 mt-1 bg-white rounded-xl border border-stone-200 shadow-lg overflow-hidden",children:w.map((_,N)=>t.jsxs("button",{onClick:()=>{r(_),h(!1)},className:"w-full px-4 py-3 text-left hover:bg-stone-50 flex items-center gap-3 border-b border-stone-100 last:border-0",children:[t.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center text-xs font-medium ${_.type==="water"?"bg-blue-100 text-blue-700":_.type==="region"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:_.type==="water"?"":_.type==="region"?"":""}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-stone-800",children:_.name}),t.jsx("p",{className:"text-xs text-stone-500 capitalize",children:_.type})]})]},N))})]})},Ev=({onSearch:i,onSelectFishery:o,onSelectInstructor:s,onSelectRegion:r,onNavigate:u,favouriteWaters:h=[],onToggleFavouriteWater:f,favouriteInstructors:m=[],onToggleFavouriteInstructor:v})=>{const[w,_]=P.useState(""),[N,M]=P.useState(""),[D,T]=P.useState(25),S=P.useRef(null),[C,V]=P.useState([]),[O,B]=P.useState([]);P.useEffect(()=>{(async()=>{try{const[H,ae]=await Promise.all([fetch("/api/waters"),fetch("/api/instructors")]);if(H.ok){const F=await H.json();V(F.waters||[])}if(ae.ok){const F=await ae.json();B(F.instructors||[])}}catch(H){console.error("Failed to fetch data from API:",H)}})()},[]);const te=C.length>0?C:tp,Z=O.length>0?O:np,K=te.filter(U=>U.featured),q=te.slice(0,6),le=[...te.map(U=>({type:"water",name:U.name,id:U.id})),...Pa.map(U=>({type:"region",name:U.name,id:U.id})),...ex.slice(0,8).map(U=>({type:"species",name:U.name}))],xe=U=>{U.type==="water"||U.type,_(U.name)},ne=()=>{i()},ue=U=>{if(S.current){const H=U==="left"?-300:300;S.current.scrollBy({left:H,behavior:"smooth"})}};return t.jsxs("div",{children:[t.jsxs("section",{className:"hero-gradient text-white relative overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 opacity-10",children:[t.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-white rounded-full blur-3xl float"}),t.jsx("div",{className:"absolute bottom-20 right-20 w-96 h-96 bg-brand-400 rounded-full blur-3xl float",style:{animationDelay:"2s"}})]}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 md:py-24 relative",children:[t.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-10",children:[t.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4 leading-tight",children:"Find & Book the Best Fishing in the UK"}),t.jsx("p",{className:"text-lg md:text-xl text-brand-100 max-w-2xl mx-auto",children:"From legendary salmon beats to specimen carp lakes. Search, compare, and book  all in one place."})]}),t.jsx("div",{className:"max-w-4xl mx-auto",children:t.jsx("div",{className:"bg-white rounded-2xl p-3 shadow-2xl",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[t.jsx(Mv,{value:w,onChange:_,suggestions:le,onSelectSuggestion:xe}),t.jsxs("select",{value:D,onChange:U=>T(Number(U.target.value)),className:"px-4 py-3.5 border border-stone-200 rounded-xl text-stone-600 bg-white focus:ring-2 focus:ring-brand-500 md:w-40",children:[t.jsx("option",{value:5,children:"Within 5 miles"}),t.jsx("option",{value:10,children:"Within 10 miles"}),t.jsx("option",{value:25,children:"Within 25 miles"}),t.jsx("option",{value:50,children:"Within 50 miles"}),t.jsx("option",{value:100,children:"Within 100 miles"})]}),t.jsxs("select",{value:N,onChange:U=>M(U.target.value),className:"px-4 py-3.5 border border-stone-200 rounded-xl text-stone-600 bg-white focus:ring-2 focus:ring-brand-500 md:w-44",children:[t.jsx("option",{value:"",children:"All Types"}),t.jsx("option",{value:"game",children:"Game"}),t.jsx("option",{value:"coarse",children:"Coarse"}),t.jsx("option",{value:"sea",children:"Sea"})]}),t.jsxs("button",{onClick:ne,className:"px-8 py-3.5 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition flex items-center justify-center gap-2 whitespace-nowrap",children:[t.jsx(Fm,{className:"w-5 h-5"}),t.jsx("span",{children:"Search"})]})]})})}),t.jsxs("div",{className:"flex justify-center gap-12 mt-10 text-center",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-3xl font-bold",children:"500+"}),t.jsx("p",{className:"text-brand-200 text-sm",children:"Waters to Explore"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-3xl font-bold",children:"12,000+"}),t.jsx("p",{className:"text-brand-200 text-sm",children:"Bookings Made"})]})]})]})]}),t.jsx("section",{className:"py-16 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-end justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-stone-900",children:"Featured Waters"}),t.jsx("p",{className:"text-stone-600 mt-1",children:"Hand-picked fisheries offering exceptional sport"})]}),t.jsxs("button",{onClick:i,className:"hidden md:flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium",children:["Browse all waters ",t.jsx(Al,{className:"w-4 h-4"})]})]}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:(K.length>0?K:q).map(U=>t.jsx(tx,{fishery:U,onClick:()=>o(U),isFavourite:h.includes(U.id),onToggleFavourite:f},U.id))}),t.jsx("div",{className:"text-center mt-8 md:hidden",children:t.jsxs("button",{onClick:i,className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium",children:["Browse all waters ",t.jsx(Al,{className:"w-4 h-4"})]})})]})}),t.jsx("section",{className:"py-16 bg-stone-50",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-12",children:"How TightLines Works"}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:t.jsx(Fm,{className:"w-6 h-6"}),step:"1",title:"Search",desc:"Browse 500+ waters across the UK. Filter by species, region, price, or fishing type."},{icon:t.jsx(Ri,{className:"w-6 h-6"}),step:"2",title:"Book",desc:"Book day tickets instantly or send enquiries for premium beats. Transparent pricing, no hidden fees."},{icon:t.jsx(Lt,{className:"w-6 h-6"}),step:"3",title:"Fish",desc:"Get your confirmation, check rules and facilities, and enjoy your day on the water."}].map((U,H)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-14 h-14 bg-brand-100 text-brand-700 rounded-2xl flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:U.step}),t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:U.title}),t.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:U.desc})]},H))})]})}),t.jsx("section",{className:"py-16 bg-white",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-end justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-stone-900",children:"Fishing Guides & Instructors"}),t.jsx("p",{className:"text-stone-600 mt-1",children:"Learn from the UK's best"})]}),t.jsx("div",{className:"flex items-center gap-3",children:t.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ue("left"),className:"w-9 h-9 rounded-full bg-stone-100 border border-stone-200 flex items-center justify-center hover:bg-stone-200 transition",children:t.jsx(us,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>ue("right"),className:"w-9 h-9 rounded-full bg-stone-100 border border-stone-200 flex items-center justify-center hover:bg-stone-200 transition",children:t.jsx(ep,{className:"w-4 h-4"})})]})})]}),t.jsx("div",{ref:S,className:"flex gap-4 overflow-x-auto pb-4 -mx-4 px-4 scrollbar-hide custom-scrollbar",style:{scrollSnapType:"x mandatory"},children:Z.map(U=>t.jsx("div",{style:{scrollSnapAlign:"start"},children:t.jsx(Tv,{instructor:U,onClick:()=>s(U),isFavourite:m.includes(U.id),onToggleFavourite:v})},U.id))}),t.jsx("div",{className:"text-center mt-6",children:t.jsxs("button",{onClick:()=>s(null),className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium",children:["View All Instructors ",t.jsx(Al,{className:"w-4 h-4"})]})})]})}),t.jsx("section",{className:"py-16 bg-stone-50",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-10",children:"What Anglers Say"}),t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:bv.map((U,H)=>t.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[t.jsx("div",{className:"flex mb-3",children:[...Array(U.rating)].map((ae,F)=>t.jsx(yr,{className:"w-4 h-4 fill-amber-400 text-amber-400"},F))}),t.jsxs("p",{className:"text-stone-700 mb-4 leading-relaxed",children:['"',U.text,'"']}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-stone-900",children:U.name}),t.jsx("p",{className:"text-stone-500 text-sm",children:U.location})]})]},H))})]})}),t.jsx("footer",{className:"bg-stone-900 text-stone-400 py-12",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-white mb-4",children:[t.jsx(Lt,{className:"w-6 h-6"}),t.jsx("span",{className:"text-xl font-bold",children:"TightLines"})]}),t.jsx("p",{className:"text-sm leading-relaxed",children:"The UK's premier fishing booking platform. Find and book your perfect day on the water."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"For Anglers"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:t.jsx("button",{onClick:i,className:"hover:text-white transition",children:"Search Waters"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>s(null),className:"hover:text-white transition",children:"Find Instructors"})}),t.jsx("li",{children:t.jsx("button",{className:"hover:text-white transition",children:"Gift Vouchers"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"For Fisheries"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>u&&u("about"),className:"hover:text-white transition",children:"List Your Water"})}),t.jsx("li",{children:t.jsx("button",{className:"hover:text-white transition",children:"Pricing"})}),t.jsx("li",{children:t.jsx("button",{className:"hover:text-white transition",children:"Success Stories"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-white font-medium mb-4",children:"Company"}),t.jsxs("ul",{className:"space-y-2 text-sm",children:[t.jsx("li",{children:t.jsx("button",{onClick:()=>u&&u("about"),className:"hover:text-white transition",children:"About Us"})}),t.jsx("li",{children:t.jsx("button",{onClick:()=>u&&u("contact"),className:"hover:text-white transition",children:"Contact"})}),t.jsx("li",{children:t.jsx("button",{className:"hover:text-white transition",children:"Privacy"})})]})]})]}),t.jsx("div",{className:"border-t border-stone-800 pt-8 text-sm text-center",children:" 2026 TightLines. All rights reserved."})]})})]})};function Ai(i){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Ai(i)}function Lv(i,o){if(Ai(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,o);if(Ai(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(i)}function Ov(i){var o=Lv(i,"string");return Ai(o)=="symbol"?o:o+""}function Ir(i,o,s){return(o=Ov(o))in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function zm(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);o&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),s.push.apply(s,r)}return s}function fn(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?zm(Object(s),!0).forEach(function(r){Ir(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):zm(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}function rp(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,r=Array(o);s<o;s++)r[s]=i[s];return r}function Rv(i){if(Array.isArray(i))return rp(i)}function Iv(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function nx(i,o){if(i){if(typeof i=="string")return rp(i,o);var s={}.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?rp(i,o):void 0}}function Av(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ti(i){return Rv(i)||Iv(i)||nx(i)||Av()}function Fv(i){if(Array.isArray(i))return i}function Bv(i,o){var s=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(s!=null){var r,u,h,f,m=[],v=!0,w=!1;try{if(h=(s=s.call(i)).next,o===0){if(Object(s)!==s)return;v=!1}else for(;!(v=(r=h.call(s)).done)&&(m.push(r.value),m.length!==o);v=!0);}catch(_){w=!0,u=_}finally{try{if(!v&&s.return!=null&&(f=s.return(),Object(f)!==f))return}finally{if(w)throw u}}return m}}function zv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bn(i,o){return Fv(i)||Bv(i,o)||nx(i,o)||zv()}var Rh={exports:{}};var Wm;function Wv(){return Wm||(Wm=1,(function(i){(function(){var o={}.hasOwnProperty;function s(){for(var h="",f=0;f<arguments.length;f++){var m=arguments[f];m&&(h=u(h,r(m)))}return h}function r(h){if(typeof h=="string"||typeof h=="number")return h;if(typeof h!="object")return"";if(Array.isArray(h))return s.apply(null,h);if(h.toString!==Object.prototype.toString&&!h.toString.toString().includes("[native code]"))return h.toString();var f="";for(var m in h)o.call(h,m)&&h[m]&&(f=u(f,m));return f}function u(h,f){return f?h?h+" "+f:h+f:h}i.exports?(s.default=s,i.exports=s):window.classNames=s})()})(Rh)),Rh.exports}var Yv=Wv();const Da=Zl(Yv);function sp(i){var o=P.useRef();o.current=i;var s=P.useCallback(function(){for(var r,u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];return(r=o.current)===null||r===void 0?void 0:r.call.apply(r,[o].concat(h))},[]);return s}function Hv(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ym=Hv()?P.useLayoutEffect:P.useEffect,$v=function(o,s){var r=P.useRef(!0);Ym(function(){return o(r.current)},s),Ym(function(){return r.current=!1,function(){r.current=!0}},[])},Hm=function(o,s){$v(function(r){if(!r)return o()},s)};function $m(i){var o=P.useRef(!1),s=P.useState(i),r=Bn(s,2),u=r[0],h=r[1];P.useEffect(function(){return o.current=!1,function(){o.current=!0}},[]);function f(m,v){v&&o.current||h(m)}return[u,f]}function Ih(i){return i!==void 0}function Uv(i,o){var s=o||{},r=s.defaultValue,u=s.value,h=s.onChange,f=s.postState,m=$m(function(){return Ih(u)?u:Ih(r)?typeof r=="function"?r():r:typeof i=="function"?i():i}),v=Bn(m,2),w=v[0],_=v[1],N=u!==void 0?u:w,M=f?f(N):N,D=sp(h),T=$m([N]),S=Bn(T,2),C=S[0],V=S[1];Hm(function(){var B=C[0];w!==B&&D(w,B)},[C]),Hm(function(){Ih(u)||_(u)},[u]);var O=sp(function(B,te){_(B,te),V([N],te)});return[M,O]}var ip={},Zv=function(o){};function Vv(i,o){}function qv(i,o){}function Gv(){ip={}}function rx(i,o,s){!o&&!ip[s]&&(i(!1,s),ip[s]=!0)}function ql(i,o){rx(Vv,i,o)}function Kv(i,o){rx(qv,i,o)}ql.preMessage=Zv;ql.resetWarned=Gv;ql.noteOnce=Kv;function Qv(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function u(h,f){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,v=r.has(h);if(ql(!v,"Warning: There may be circular references"),v)return!1;if(h===f)return!0;if(s&&m>1)return!1;r.add(h);var w=m+1;if(Array.isArray(h)){if(!Array.isArray(f)||h.length!==f.length)return!1;for(var _=0;_<h.length;_++)if(!u(h[_],f[_],w))return!1;return!0}if(h&&f&&Ai(h)==="object"&&Ai(f)==="object"){var N=Object.keys(h);return N.length!==Object.keys(f).length?!1:N.every(function(M){return u(h[M],f[M],w)})}return!1}return u(i,o)}function zl(){return zl=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var r in s)({}).hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},zl.apply(null,arguments)}function Xv(i,o){if(i==null)return{};var s={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(o.indexOf(r)!==-1)continue;s[r]=i[r]}return s}function sx(i,o){if(i==null)return{};var s,r,u=Xv(i,o);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);for(r=0;r<h.length;r++)s=h[r],o.indexOf(s)===-1&&{}.propertyIsEnumerable.call(i,s)&&(u[s]=i[s])}return u}function ap(i,o,s){return(i-o)/(s-o)}function Np(i,o,s,r){var u=ap(o,s,r),h={};switch(i){case"rtl":h.right="".concat(u*100,"%"),h.transform="translateX(50%)";break;case"btt":h.bottom="".concat(u*100,"%"),h.transform="translateY(50%)";break;case"ttb":h.top="".concat(u*100,"%"),h.transform="translateY(-50%)";break;default:h.left="".concat(u*100,"%"),h.transform="translateX(-50%)";break}return h}function Do(i,o){return Array.isArray(i)?i[o]:i}var pn={PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40},La=P.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Jv=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Um=P.forwardRef(function(i,o){var s=i.prefixCls,r=i.value,u=i.valueIndex,h=i.onStartMove,f=i.style,m=i.render,v=i.dragging,w=i.onOffsetChange,_=i.onChangeComplete,N=i.onFocus,M=i.onMouseEnter,D=sx(i,Jv),T=P.useContext(La),S=T.min,C=T.max,V=T.direction,O=T.disabled,B=T.keyboard,te=T.range,Z=T.tabIndex,K=T.ariaLabelForHandle,q=T.ariaLabelledByForHandle,le=T.ariaValueTextFormatterForHandle,xe=T.styles,ne=T.classNames,ue="".concat(s,"-handle"),U=function(X){O||h(X,u)},H=function(X){N?.(X,u)},ae=function(X){M(X,u)},F=function(X){if(!O&&B){var ge=null;switch(X.which||X.keyCode){case pn.LEFT:ge=V==="ltr"||V==="btt"?-1:1;break;case pn.RIGHT:ge=V==="ltr"||V==="btt"?1:-1;break;case pn.UP:ge=V!=="ttb"?1:-1;break;case pn.DOWN:ge=V!=="ttb"?-1:1;break;case pn.HOME:ge="min";break;case pn.END:ge="max";break;case pn.PAGE_UP:ge=2;break;case pn.PAGE_DOWN:ge=-2;break}ge!==null&&(X.preventDefault(),w(ge,u))}},oe=function(X){switch(X.which||X.keyCode){case pn.LEFT:case pn.RIGHT:case pn.UP:case pn.DOWN:case pn.HOME:case pn.END:case pn.PAGE_UP:case pn.PAGE_DOWN:_?.();break}},ce=Np(V,r,S,C),W={};if(u!==null){var z;W={tabIndex:O?null:Do(Z,u),role:"slider","aria-valuemin":S,"aria-valuemax":C,"aria-valuenow":r,"aria-disabled":O,"aria-label":Do(K,u),"aria-labelledby":Do(q,u),"aria-valuetext":(z=Do(le,u))===null||z===void 0?void 0:z(r),"aria-orientation":V==="ltr"||V==="rtl"?"horizontal":"vertical",onMouseDown:U,onTouchStart:U,onFocus:H,onMouseEnter:ae,onKeyDown:F,onKeyUp:oe}}var Y=P.createElement("div",zl({ref:o,className:Da(ue,Ir(Ir({},"".concat(ue,"-").concat(u+1),u!==null&&te),"".concat(ue,"-dragging"),v),ne.handle),style:fn(fn(fn({},ce),f),xe.handle)},W,D));return m&&(Y=m(Y,{index:u,prefixCls:s,value:r,dragging:v})),Y}),ey=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","onFocus"],ty=P.forwardRef(function(i,o){var s=i.prefixCls,r=i.style,u=i.onStartMove,h=i.onOffsetChange,f=i.values,m=i.handleRender,v=i.activeHandleRender,w=i.draggingIndex,_=i.onFocus,N=sx(i,ey),M=P.useRef({});P.useImperativeHandle(o,function(){return{focus:function(Z){var K;(K=M.current[Z])===null||K===void 0||K.focus()}}});var D=P.useState(-1),T=Bn(D,2),S=T[0],C=T[1],V=function(Z,K){C(K),_?.(Z)},O=function(Z,K){C(K)},B=fn({prefixCls:s,onStartMove:u,onOffsetChange:h,render:m,onFocus:V,onMouseEnter:O},N);return P.createElement(P.Fragment,null,f.map(function(te,Z){return P.createElement(Um,zl({ref:function(q){q?M.current[Z]=q:delete M.current[Z]},dragging:w===Z,style:Do(r,Z),key:Z,value:te,valueIndex:Z},B))}),v&&P.createElement(Um,zl({key:"a11y"},B,{value:f[S],valueIndex:null,dragging:w!==-1,render:v,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),ny=function(o){var s=o.prefixCls,r=o.style,u=o.children,h=o.value,f=o.onClick,m=P.useContext(La),v=m.min,w=m.max,_=m.direction,N=m.includedStart,M=m.includedEnd,D=m.included,T="".concat(s,"-text"),S=Np(_,h,v,w);return P.createElement("span",{className:Da(T,Ir({},"".concat(T,"-active"),D&&N<=h&&h<=M)),style:fn(fn({},S),r),onMouseDown:function(V){V.stopPropagation()},onClick:function(){f(h)}},u)},ry=function(o){var s=o.prefixCls,r=o.marks,u=o.onClick,h="".concat(s,"-mark");return r.length?P.createElement("div",{className:h},r.map(function(f){var m=f.value,v=f.style,w=f.label;return P.createElement(ny,{key:m,prefixCls:h,style:v,value:m,onClick:u},w)})):null},sy=function(o){var s=o.prefixCls,r=o.value,u=o.style,h=o.activeStyle,f=P.useContext(La),m=f.min,v=f.max,w=f.direction,_=f.included,N=f.includedStart,M=f.includedEnd,D="".concat(s,"-dot"),T=_&&N<=r&&r<=M,S=fn(fn({},Np(w,r,m,v)),typeof u=="function"?u(r):u);return T&&(S=fn(fn({},S),typeof h=="function"?h(r):h)),P.createElement("span",{className:Da(D,Ir({},"".concat(D,"-active"),T)),style:S})},iy=function(o){var s=o.prefixCls,r=o.marks,u=o.dots,h=o.style,f=o.activeStyle,m=P.useContext(La),v=m.min,w=m.max,_=m.step,N=P.useMemo(function(){var M=new Set;if(r.forEach(function(T){M.add(T.value)}),u&&_!==null)for(var D=v;D<=w;)M.add(D),D+=_;return Array.from(M)},[v,w,_,u,r]);return P.createElement("div",{className:"".concat(s,"-step")},N.map(function(M){return P.createElement(sy,{prefixCls:s,key:M,value:M,style:h,activeStyle:f})}))},Zm=function(o){var s=o.prefixCls,r=o.style,u=o.start,h=o.end,f=o.index,m=o.onStartMove,v=o.replaceCls,w=P.useContext(La),_=w.direction,N=w.min,M=w.max,D=w.disabled,T=w.range,S=w.classNames,C="".concat(s,"-track"),V=ap(u,N,M),O=ap(h,N,M),B=function(q){!D&&m&&m(q,-1)},te={};switch(_){case"rtl":te.right="".concat(V*100,"%"),te.width="".concat(O*100-V*100,"%");break;case"btt":te.bottom="".concat(V*100,"%"),te.height="".concat(O*100-V*100,"%");break;case"ttb":te.top="".concat(V*100,"%"),te.height="".concat(O*100-V*100,"%");break;default:te.left="".concat(V*100,"%"),te.width="".concat(O*100-V*100,"%")}var Z=v||Da(C,Ir(Ir({},"".concat(C,"-").concat(f+1),f!==null&&T),"".concat(s,"-track-draggable"),m),S.track);return P.createElement("div",{className:Z,style:fn(fn({},te),r),onMouseDown:B,onTouchStart:B})},ay=function(o){var s=o.prefixCls,r=o.style,u=o.values,h=o.startPoint,f=o.onStartMove,m=P.useContext(La),v=m.included,w=m.range,_=m.min,N=m.styles,M=m.classNames,D=P.useMemo(function(){if(!w){if(u.length===0)return[];var S=h??_,C=u[0];return[{start:Math.min(S,C),end:Math.max(S,C)}]}for(var V=[],O=0;O<u.length-1;O+=1)V.push({start:u[O],end:u[O+1]});return V},[u,w,h,_]);if(!v)return null;var T=M.tracks||N.tracks?P.createElement(Zm,{index:null,prefixCls:s,start:D[0].start,end:D[D.length-1].end,replaceCls:Da(M.tracks,"".concat(s,"-tracks")),style:N.tracks}):null;return P.createElement(P.Fragment,null,T,D.map(function(S,C){var V=S.start,O=S.end;return P.createElement(Zm,{index:C,prefixCls:s,style:fn(fn({},Do(r,C)),N.track),start:V,end:O,key:C,onStartMove:f})}))},Ah={exports:{}},rt={};var Vm;function oy(){if(Vm)return rt;Vm=1;var i=Symbol.for("react.element"),o=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.server_context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(C){if(typeof C=="object"&&C!==null){var V=C.$$typeof;switch(V){case i:switch(C=C.type,C){case s:case u:case r:case w:case _:return C;default:switch(C=C&&C.$$typeof,C){case m:case f:case v:case M:case N:case h:return C;default:return V}}case o:return V}}}return rt.ContextConsumer=f,rt.ContextProvider=h,rt.Element=i,rt.ForwardRef=v,rt.Fragment=s,rt.Lazy=M,rt.Memo=N,rt.Portal=o,rt.Profiler=u,rt.StrictMode=r,rt.Suspense=w,rt.SuspenseList=_,rt.isAsyncMode=function(){return!1},rt.isConcurrentMode=function(){return!1},rt.isContextConsumer=function(C){return S(C)===f},rt.isContextProvider=function(C){return S(C)===h},rt.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===i},rt.isForwardRef=function(C){return S(C)===v},rt.isFragment=function(C){return S(C)===s},rt.isLazy=function(C){return S(C)===M},rt.isMemo=function(C){return S(C)===N},rt.isPortal=function(C){return S(C)===o},rt.isProfiler=function(C){return S(C)===u},rt.isStrictMode=function(C){return S(C)===r},rt.isSuspense=function(C){return S(C)===w},rt.isSuspenseList=function(C){return S(C)===_},rt.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===s||C===u||C===r||C===w||C===_||C===D||typeof C=="object"&&C!==null&&(C.$$typeof===M||C.$$typeof===N||C.$$typeof===h||C.$$typeof===f||C.$$typeof===v||C.$$typeof===T||C.getModuleId!==void 0)},rt.typeOf=S,rt}var qm;function ly(){return qm||(qm=1,Ah.exports=oy()),Ah.exports}ly();Number(P.version.split(".")[0]);function Gm(i){var o="touches"in i?i.touches[0]:i;return{pageX:o.pageX,pageY:o.pageY}}function cy(i,o,s,r,u,h,f,m,v){var w=P.useState(null),_=Bn(w,2),N=_[0],M=_[1],D=P.useState(-1),T=Bn(D,2),S=T[0],C=T[1],V=P.useState(s),O=Bn(V,2),B=O[0],te=O[1],Z=P.useState(s),K=Bn(Z,2),q=K[0],le=K[1],xe=P.useRef(null),ne=P.useRef(null);P.useLayoutEffect(function(){S===-1&&te(s)},[s,S]),P.useEffect(function(){return function(){document.removeEventListener("mousemove",xe.current),document.removeEventListener("mouseup",ne.current),document.removeEventListener("touchmove",xe.current),document.removeEventListener("touchend",ne.current)}},[]);var ue=function(oe,ce){B.some(function(W,z){return W!==oe[z]})&&(ce!==void 0&&M(ce),te(oe),f(oe))},U=sp(function(F,oe){if(F===-1){var ce=q[0],W=q[q.length-1],z=r-ce,Y=u-W,E=oe*(u-r);E=Math.max(E,z),E=Math.min(E,Y);var X=h(ce+E);E=X-ce;var ge=q.map(function(Ie){return Ie+E});ue(ge)}else{var be=(u-r)*oe,we=Ti(B);we[F]=q[F];var ye=v(we,be,F,"dist");ue(ye.values,ye.value)}}),H=function(oe,ce,W){oe.stopPropagation();var z=W||s,Y=z[ce];C(ce),M(Y),le(z);var E=Gm(oe),X=E.pageX,ge=E.pageY,be=function(Ie){Ie.preventDefault();var Ae=Gm(Ie),Ge=Ae.pageX,yt=Ae.pageY,mn=Ge-X,rn=yt-ge,de=i.current.getBoundingClientRect(),ze=de.width,Ve=de.height,st;switch(o){case"btt":st=-rn/Ve;break;case"ttb":st=rn/Ve;break;case"rtl":st=-mn/ze;break;default:st=mn/ze}U(ce,st)},we=function ye(Ie){Ie.preventDefault(),document.removeEventListener("mouseup",ye),document.removeEventListener("mousemove",be),document.removeEventListener("touchend",ye),document.removeEventListener("touchmove",be),xe.current=null,ne.current=null,C(-1),m()};document.addEventListener("mouseup",we),document.addEventListener("mousemove",be),document.addEventListener("touchend",we),document.addEventListener("touchmove",be),xe.current=be,ne.current=we},ae=P.useMemo(function(){var F=Ti(s).sort(function(ce,W){return ce-W}),oe=Ti(B).sort(function(ce,W){return ce-W});return F.every(function(ce,W){return ce===oe[W]})?B:s},[s,B]);return[S,N,ae,H]}function uy(i,o,s,r,u,h){var f=P.useCallback(function(D){return Math.max(i,Math.min(o,D))},[i,o]),m=P.useCallback(function(D){if(s!==null){var T=i+Math.round((f(D)-i)/s)*s,S=function(B){return(String(B).split(".")[1]||"").length},C=Math.max(S(s),S(o),S(i)),V=Number(T.toFixed(C));return i<=V&&V<=o?V:null}return null},[s,i,o,f]),v=P.useCallback(function(D){var T=f(D),S=r.map(function(O){return O.value});s!==null&&S.push(m(D)),S.push(i,o);var C=S[0],V=o-i;return S.forEach(function(O){var B=Math.abs(T-O);B<=V&&(C=O,V=B)}),C},[i,o,r,s,f,m]),w=function D(T,S,C){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof S=="number"){var O,B=T[C],te=B+S,Z=[];r.forEach(function(ne){Z.push(ne.value)}),Z.push(i,o),Z.push(m(B));var K=S>0?1:-1;V==="unit"?Z.push(m(B+K*s)):Z.push(m(te)),Z=Z.filter(function(ne){return ne!==null}).filter(function(ne){return S<0?ne<=B:ne>=B}),V==="unit"&&(Z=Z.filter(function(ne){return ne!==B}));var q=V==="unit"?B:te;O=Z[0];var le=Math.abs(O-q);if(Z.forEach(function(ne){var ue=Math.abs(ne-q);ue<le&&(O=ne,le=ue)}),O===void 0)return S<0?i:o;if(V==="dist")return O;if(Math.abs(S)>1){var xe=Ti(T);return xe[C]=O,D(xe,S-K,C,V)}return O}else{if(S==="min")return i;if(S==="max")return o}},_=function(T,S,C){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",O=T[C],B=w(T,S,C,V);return{value:B,changed:B!==O}},N=function(T){return h===null&&T===0||typeof h=="number"&&T<h},M=function(T,S,C){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",O=T.map(v),B=O[C],te=w(O,S,C,V);if(O[C]=te,u===!1){var Z=h||0;C>0&&O[C-1]!==B&&(O[C]=Math.max(O[C],O[C-1]+Z)),C<O.length-1&&O[C+1]!==B&&(O[C]=Math.min(O[C],O[C+1]-Z))}else if(typeof h=="number"||h===null){for(var K=C+1;K<O.length;K+=1)for(var q=!0;N(O[K]-O[K-1])&&q;){var le=_(O,1,K);O[K]=le.value,q=le.changed}for(var xe=C;xe>0;xe-=1)for(var ne=!0;N(O[xe]-O[xe-1])&&ne;){var ue=_(O,-1,xe-1);O[xe-1]=ue.value,ne=ue.changed}for(var U=O.length-1;U>0;U-=1)for(var H=!0;N(O[U]-O[U-1])&&H;){var ae=_(O,-1,U-1);O[U-1]=ae.value,H=ae.changed}for(var F=0;F<O.length-1;F+=1)for(var oe=!0;N(O[F+1]-O[F])&&oe;){var ce=_(O,1,F+1);O[F+1]=ce.value,oe=ce.changed}}return{value:O[C],values:O}};return[v,M]}var dy=P.forwardRef(function(i,o){var s=i.prefixCls,r=s===void 0?"rc-slider":s,u=i.className,h=i.style,f=i.classNames,m=i.styles,v=i.disabled,w=v===void 0?!1:v,_=i.keyboard,N=_===void 0?!0:_,M=i.autoFocus,D=i.onFocus,T=i.onBlur,S=i.min,C=S===void 0?0:S,V=i.max,O=V===void 0?100:V,B=i.step,te=B===void 0?1:B,Z=i.value,K=i.defaultValue,q=i.range,le=i.count,xe=i.onChange,ne=i.onBeforeChange,ue=i.onAfterChange,U=i.onChangeComplete,H=i.allowCross,ae=H===void 0?!0:H,F=i.pushable,oe=F===void 0?!1:F,ce=i.draggableTrack,W=i.reverse,z=i.vertical,Y=i.included,E=Y===void 0?!0:Y,X=i.startPoint,ge=i.trackStyle,be=i.handleStyle,we=i.railStyle,ye=i.dotStyle,Ie=i.activeDotStyle,Ae=i.marks,Ge=i.dots,yt=i.handleRender,mn=i.activeHandleRender,rn=i.tabIndex,de=rn===void 0?0:rn,ze=i.ariaLabelForHandle,Ve=i.ariaLabelledByForHandle,st=i.ariaValueTextFormatterForHandle,St=P.useRef(null),It=P.useRef(null),gn=P.useMemo(function(){return z?W?"ttb":"btt":W?"rtl":"ltr"},[W,z]),Ke=P.useMemo(function(){return isFinite(C)?C:0},[C]),Xt=P.useMemo(function(){return isFinite(O)?O:100},[O]),Dn=P.useMemo(function(){return te!==null&&te<=0?1:te},[te]),Yi=P.useMemo(function(){return typeof oe=="boolean"?oe?Dn:!1:oe>=0?oe:!1},[oe,Dn]),ms=P.useMemo(function(){return Object.keys(Ae||{}).map(function(Je){var Me=Ae[Je],Ue={value:Number(Je)};return Me&&Ai(Me)==="object"&&!P.isValidElement(Me)&&("label"in Me||"style"in Me)?(Ue.style=Me.style,Ue.label=Me.label):Ue.label=Me,Ue}).filter(function(Je){var Me=Je.label;return Me||typeof Me=="number"}).sort(function(Je,Me){return Je.value-Me.value})},[Ae]),Ra=uy(Ke,Xt,Dn,ms,ae,Yi),gs=Bn(Ra,2),br=gs[0],Br=gs[1],Ia=Uv(K,{value:Z}),wr=Bn(Ia,2),Jt=wr[0],Wo=wr[1],sn=P.useMemo(function(){var Je=Jt==null?[]:Array.isArray(Jt)?Jt:[Jt],Me=Bn(Je,1),Ue=Me[0],pt=Ue===void 0?Ke:Ue,wt=Jt===null?[]:[pt];if(q){if(wt=Ti(Je),le||Jt===void 0){var xn=le>=0?le+1:2;for(wt=wt.slice(0,xn);wt.length<xn;){var vn;wt.push((vn=wt[wt.length-1])!==null&&vn!==void 0?vn:Ke)}}wt.sort(function(Tn,Wn){return Tn-Wn})}return wt.forEach(function(Tn,Wn){wt[Wn]=br(Tn)}),wt},[Jt,q,Ke,le,br]),_r=P.useRef(sn);_r.current=sn;var zr=function(Me){return q?Me:Me[0]},xs=function(Me){var Ue=Ti(Me).sort(function(pt,wt){return pt-wt});xe&&!Qv(Ue,_r.current,!0)&&xe(zr(Ue)),Wo(Ue)},rr=function(){var Me=zr(_r.current);ue?.(Me),ql(!ue,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),U?.(Me)},Hi=cy(It,gn,sn,Ke,Xt,br,xs,rr,Br),Wr=Bn(Hi,4),vs=Wr[0],kr=Wr[1],zn=Wr[2],$i=Wr[3],Ui=function(Me,Ue){if(!w){var pt=0,wt=Xt-Ke;sn.forEach(function(Wn,Vs){var sr=Math.abs(Me-Wn);sr<=wt&&(wt=sr,pt=Vs)});var xn=Ti(sn);if(xn[pt]=Me,q&&!sn.length&&le===void 0&&xn.push(Me),ne?.(zr(xn)),xs(xn),Ue){var vn,Tn;(vn=document.activeElement)===null||vn===void 0||(Tn=vn.blur)===null||Tn===void 0||Tn.call(vn),St.current.focus(pt),$i(Ue,pt,xn)}}},Aa=function(Me){Me.preventDefault();var Ue=It.current.getBoundingClientRect(),pt=Ue.width,wt=Ue.height,xn=Ue.left,vn=Ue.top,Tn=Ue.bottom,Wn=Ue.right,Vs=Me.clientX,sr=Me.clientY,it;switch(gn){case"btt":it=(Tn-sr)/wt;break;case"ttb":it=(sr-vn)/wt;break;case"rtl":it=(Wn-Vs)/pt;break;default:it=(Vs-xn)/pt}var Yo=Ke+it*(Xt-Ke);Ui(br(Yo),Me)},Fa=P.useState(null),Zi=Bn(Fa,2),ys=Zi[0],bs=Zi[1],ws=function(Me,Ue){if(!w){var pt=Br(sn,Me,Ue);ne?.(zr(sn)),xs(pt.values),bs(pt.value)}};P.useEffect(function(){if(ys!==null){var Je=sn.indexOf(ys);Je>=0&&St.current.focus(Je)}bs(null)},[ys]);var Vi=P.useMemo(function(){return ce&&Dn===null?!1:ce},[ce,Dn]),Yr=function(Me,Ue){$i(Me,Ue),ne?.(zr(_r.current))},Ba=vs!==-1;P.useEffect(function(){if(!Ba){var Je=sn.lastIndexOf(kr);St.current.focus(Je)}},[Ba]);var bt=P.useMemo(function(){return Ti(zn).sort(function(Je,Me){return Je-Me})},[zn]),Ce=P.useMemo(function(){return q?[bt[0],bt[bt.length-1]]:[Ke,bt[0]]},[bt,q,Ke]),Hr=Bn(Ce,2),_s=Hr[0],qi=Hr[1];P.useImperativeHandle(o,function(){return{focus:function(){St.current.focus(0)},blur:function(){var Me,Ue=document,pt=Ue.activeElement;(Me=It.current)!==null&&Me!==void 0&&Me.contains(pt)&&pt?.blur()}}}),P.useEffect(function(){M&&St.current.focus(0)},[]);var za=P.useMemo(function(){return{min:Ke,max:Xt,direction:gn,disabled:w,keyboard:N,step:Dn,included:E,includedStart:_s,includedEnd:qi,range:q,tabIndex:de,ariaLabelForHandle:ze,ariaLabelledByForHandle:Ve,ariaValueTextFormatterForHandle:st,styles:m||{},classNames:f||{}}},[Ke,Xt,gn,w,N,Dn,E,_s,qi,q,de,ze,Ve,st,m,f]);return P.createElement(La.Provider,{value:za},P.createElement("div",{ref:It,className:Da(r,u,Ir(Ir(Ir(Ir({},"".concat(r,"-disabled"),w),"".concat(r,"-vertical"),z),"".concat(r,"-horizontal"),!z),"".concat(r,"-with-marks"),ms.length)),style:h,onMouseDown:Aa},P.createElement("div",{className:Da("".concat(r,"-rail"),f?.rail),style:fn(fn({},we),m?.rail)}),P.createElement(ay,{prefixCls:r,style:ge,values:bt,startPoint:X,onStartMove:Vi?Yr:void 0}),P.createElement(iy,{prefixCls:r,marks:ms,dots:Ge,style:ye,activeStyle:Ie}),P.createElement(ty,{ref:St,prefixCls:r,style:be,values:zn,draggingIndex:vs,onStartMove:Yr,onOffsetChange:ws,onFocus:D,onBlur:T,handleRender:yt,activeHandleRender:mn,onChangeComplete:rr}),P.createElement(ry,{prefixCls:r,marks:ms,onClick:Ui})))});const hy=({min:i=0,max:o=500,value:s=[0,500],onChange:r,step:u=5,formatLabel:h=f=>`${f}`})=>t.jsxs("div",{className:"px-2",children:[t.jsxs("div",{className:"flex justify-between mb-2 text-sm",children:[t.jsx("span",{className:"font-medium text-brand-700",children:h(s[0])}),t.jsx("span",{className:"font-medium text-brand-700",children:h(s[1])})]}),t.jsx(dy,{range:!0,min:i,max:o,value:s,onChange:r,step:u,trackStyle:[{backgroundColor:"#0f766e",height:6}],handleStyle:[{borderColor:"#0f766e",backgroundColor:"white",width:20,height:20,marginTop:-7,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",opacity:1},{borderColor:"#0f766e",backgroundColor:"white",width:20,height:20,marginTop:-7,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",opacity:1}],railStyle:{backgroundColor:"#e7e5e4",height:6}}),t.jsxs("div",{className:"flex justify-between mt-1 text-xs text-stone-400",children:[t.jsx("span",{children:h(i)}),t.jsxs("span",{children:[h(o),"+"]})]})]}),py=[{id:"parking",label:"Parking"},{id:"cafe",label:"Caf/Restaurant"},{id:"toilets",label:"Toilets"},{id:"disabled-access",label:"Disabled Access"},{id:"night-fishing",label:"Night Fishing"},{id:"tackle-shop",label:"Tackle Shop"},{id:"boat-hire",label:"Boat Hire"}],fy=[{id:"any",label:"Any Level"},{id:"beginner",label:"Beginner Friendly"},{id:"intermediate",label:"Intermediate"},{id:"advanced",label:"Advanced"}],ba=({title:i,children:o,defaultOpen:s=!0})=>{const[r,u]=P.useState(s);return t.jsxs("div",{className:"border-b border-stone-200 pb-4 mb-4 last:border-0 last:pb-0 last:mb-0",children:[t.jsxs("button",{onClick:()=>u(!r),className:"flex items-center justify-between w-full text-left font-medium text-stone-800 mb-3",children:[i,r?t.jsx(Vl,{className:"w-4 h-4 text-stone-400"}):t.jsx(Ca,{className:"w-4 h-4 text-stone-400"})]}),r&&o]})},Km=({options:i,selected:o,onChange:s,maxVisible:r=6})=>{const[u,h]=P.useState(!1),f=u?i:i.slice(0,r);return t.jsxs("div",{className:"space-y-2",children:[f.map(m=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:o.includes(m.id||m.name),onChange:()=>{const v=m.id||m.name;o.includes(v)?s(o.filter(w=>w!==v)):s([...o,v])},className:"w-4 h-4 rounded border-stone-300 text-brand-600 focus:ring-brand-500"}),t.jsx("span",{className:"text-sm text-stone-600",children:m.label||m.name})]},m.id||m.name)),i.length>r&&t.jsx("button",{onClick:()=>h(!u),className:"text-sm text-brand-600 hover:text-brand-800",children:u?"Show less":`Show all ${i.length}`})]})},my=({options:i,selected:o,onChange:s})=>t.jsx("div",{className:"space-y-2",children:i.map(r=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"experienceLevel",checked:o===r.id,onChange:()=>s(r.id),className:"w-4 h-4 border-stone-300 text-brand-600 focus:ring-brand-500"}),t.jsx("span",{className:"text-sm text-stone-600",children:r.label})]},r.id))}),gy=({label:i,checked:o,onChange:s})=>t.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[t.jsx("span",{className:"text-sm text-stone-600",children:i}),t.jsx("button",{type:"button",role:"switch","aria-checked":o,onClick:()=>s(!o),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${o?"bg-brand-600":"bg-stone-200"}`,children:t.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${o?"translate-x-6":"translate-x-1"}`})})]}),ix=({filters:i,onFilterChange:o,onClearFilters:s,regions:r=[]})=>{const u=[i.priceRange[0]!==10||i.priceRange[1]!==500,i.species.length>0,i.experienceLevel!=="any",i.facilities.length>0,i.weekendOnly,i.fishingType,i.region].filter(Boolean).length;return t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(Xg,{className:"w-5 h-5 text-brand-600"}),"Filters",u>0&&t.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:u})]}),u>0&&t.jsx("button",{onClick:s,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear all"})]}),t.jsx(ba,{title:"Fishing Type",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:["","game","coarse","sea"].map(h=>t.jsx("button",{onClick:()=>o({...i,fishingType:h}),className:`px-3 py-1.5 rounded-full text-sm transition ${i.fishingType===h?"bg-brand-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:h===""?"All":h.charAt(0).toUpperCase()+h.slice(1)},h))})}),t.jsx(ba,{title:"Region",children:t.jsxs("select",{value:i.region,onChange:h=>o({...i,region:h.target.value}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm bg-white",children:[t.jsx("option",{value:"",children:"All Regions"}),r.map(h=>t.jsx("option",{value:h.name,children:h.name},h.id))]})}),t.jsx(ba,{title:"Price Range",children:t.jsx(hy,{min:10,max:500,value:i.priceRange,onChange:h=>o({...i,priceRange:h})})}),t.jsx(ba,{title:"Species",defaultOpen:!1,children:t.jsx(Km,{options:ex,selected:i.species,onChange:h=>o({...i,species:h})})}),t.jsx(ba,{title:"Experience Level",children:t.jsx(my,{options:fy,selected:i.experienceLevel,onChange:h=>o({...i,experienceLevel:h})})}),t.jsx(ba,{title:"Facilities",defaultOpen:!1,children:t.jsx(Km,{options:py,selected:i.facilities,onChange:h=>o({...i,facilities:h}),maxVisible:5})}),t.jsx(ba,{title:"Availability",children:t.jsx(gy,{label:"Available this weekend",checked:i.weekendOnly,onChange:h=>o({...i,weekendOnly:h})})})]})},xy=({isOpen:i,onClose:o,filters:s,onFilterChange:r,onClearFilters:u,onApply:h,regions:f=[]})=>{if(!i)return null;const m=[s.priceRange[0]!==10||s.priceRange[1]!==500,s.species.length>0,s.experienceLevel!=="any",s.facilities.length>0,s.weekendOnly,s.fishingType,s.region].filter(Boolean).length;return t.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:o}),t.jsxs("div",{className:"absolute inset-y-0 left-0 w-full max-w-sm bg-white shadow-xl flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-stone-200",children:[t.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[t.jsx(Vu,{className:"w-5 h-5"}),"Filters",m>0&&t.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:m})]}),t.jsx("button",{onClick:o,className:"p-2 hover:bg-stone-100 rounded-lg",children:t.jsx(nr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.jsx(ix,{filters:s,onFilterChange:r,onClearFilters:u,regions:f})}),t.jsxs("div",{className:"p-4 border-t border-stone-200 flex gap-3",children:[t.jsx("button",{onClick:u,className:"flex-1 py-3 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Clear All"}),t.jsx("button",{onClick:h,className:"flex-1 py-3 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Show Results"})]})]})]})},Qm={priceRange:[10,500],species:[],experienceLevel:"any",facilities:[],weekendOnly:!1,fishingType:"",region:""},vy=({onSelectFishery:i,onBack:o,favouriteWaters:s=[],onToggleFavouriteWater:r})=>{const[u,h]=P.useState([]),[f,m]=P.useState(!0),[v,w]=P.useState(Qm),[_,N]=P.useState("rating"),[M,D]=P.useState(!1),[T,S]=P.useState(""),[C,V]=P.useState(25);P.useEffect(()=>{(async()=>{try{const K=await X0.getAll();K&&K.length>0?h(K):h(tp)}catch(K){console.log("API unavailable, using local data:",K.message),h(tp)}m(!1)})()},[]);const O=u.filter(Z=>{if(T){const K=T.toLowerCase(),q=(Z.name||"").toLowerCase().includes(K),le=(Z.region||"").toLowerCase().includes(K),xe=(Z.location||"").toLowerCase().includes(K),ne=(Z.species||[]).some(ue=>ue.toLowerCase().includes(K));if(!q&&!le&&!xe&&!ne)return!1}if(v.fishingType&&Z.type!==v.fishingType||v.region&&Z.region!==v.region||Z.price<v.priceRange[0]||Z.price>v.priceRange[1]||v.species.length>0&&!v.species.some(q=>Z.species?.includes(q))||v.experienceLevel!=="any"&&Z.experienceLevel!==v.experienceLevel&&Z.experienceLevel!=="any"||v.facilities.length>0&&!v.facilities.every(q=>Z.facilities?.includes(q)||Z.amenities?.some(le=>le.toLowerCase().includes(q.replace("-"," ")))))return!1;if(v.weekendOnly&&Z.availability){const K=new Date,q=(6-K.getDay()+7)%7,le=new Date(K);le.setDate(K.getDate()+q);const xe=new Date(le);xe.setDate(le.getDate()+1);const ne=le.toISOString().split("T")[0],ue=xe.toISOString().split("T")[0],U=Z.availability[ne]?.status==="available",H=Z.availability[ue]?.status==="available";if(!U&&!H)return!1}return!0}).sort((Z,K)=>{switch(_){case"rating":return(K.rating||0)-(Z.rating||0);case"price-low":return(Z.price||0)-(K.price||0);case"price-high":return(K.price||0)-(Z.price||0);case"reviews":return(K.reviews||0)-(Z.reviews||0);default:return 0}}),B=()=>w(Qm),te=[v.priceRange[0]!==10||v.priceRange[1]!==500,v.species.length>0,v.experienceLevel!=="any",v.facilities.length>0,v.weekendOnly,v.fishingType,v.region].filter(Boolean).length;return t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsx("div",{className:"bg-white border-b border-stone-200 py-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[t.jsx("button",{onClick:o,className:"flex items-center text-stone-500 hover:text-stone-700 transition",children:t.jsx(us,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Find Your Perfect Water"}),t.jsx("p",{className:"text-stone-500 text-sm",children:f?"Loading waters...":`${O.length} waters found`})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),t.jsx("input",{type:"text",value:T,onChange:Z=>S(Z.target.value),placeholder:"Search by name, location, region, or species...",className:"w-full pl-9 pr-4 py-2.5 border border-stone-200 rounded-xl text-sm focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("select",{value:C,onChange:Z=>V(Number(Z.target.value)),className:"px-3 py-2.5 border border-stone-200 rounded-xl text-sm bg-white sm:w-40",children:[t.jsx("option",{value:5,children:"Within 5 miles"}),t.jsx("option",{value:10,children:"Within 10 miles"}),t.jsx("option",{value:25,children:"Within 25 miles"}),t.jsx("option",{value:50,children:"Within 50 miles"}),t.jsx("option",{value:100,children:"Within 100 miles"})]})]})]})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[t.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:t.jsx("div",{className:"sticky top-24 max-h-[calc(100vh-7rem)] overflow-y-auto",children:t.jsx(ix,{filters:v,onFilterChange:w,onClearFilters:B,regions:Pa})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>D(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-white border border-stone-200 rounded-xl hover:bg-stone-50 text-sm",children:[t.jsx(Vu,{className:"w-4 h-4"}),"Filters",te>0&&t.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:te})]}),te>0&&t.jsx("button",{onClick:B,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear filters"})]}),t.jsxs("select",{value:_,onChange:Z=>N(Z.target.value),className:"px-3 py-2 border border-stone-200 rounded-xl text-sm bg-white",children:[t.jsx("option",{value:"rating",children:"Top Rated"}),t.jsx("option",{value:"price-low",children:"Price: Low to High"}),t.jsx("option",{value:"price-high",children:"Price: High to Low"}),t.jsx("option",{value:"reviews",children:"Most Reviews"})]})]}),f?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(Ii,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),t.jsx("p",{className:"text-stone-500",children:"Loading waters..."})]}):O.length>0?t.jsx("div",{className:"grid md:grid-cols-2 gap-5",children:O.map(Z=>t.jsx(tx,{fishery:Z,onClick:()=>i(Z),isFavourite:s.includes(Z.id),onToggleFavourite:r},Z.id))}):t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(Lt,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No waters match your filters"}),t.jsx("p",{className:"text-stone-500 mb-4",children:"Try adjusting your search criteria"}),t.jsx("button",{onClick:B,className:"px-4 py-2 text-brand-700 hover:bg-brand-50 rounded-lg transition",children:"Clear all filters"})]})]})]})}),t.jsx(xy,{isOpen:M,onClose:()=>D(!1),filters:v,onFilterChange:w,onClearFilters:B,onApply:()=>D(!1),regions:Pa})]})},ax=({images:i=[],alt:o="Image"})=>{const[s,r]=P.useState(0),[u,h]=P.useState(!1),f=w=>{w?.stopPropagation(),r(_=>_===0?i.length-1:_-1)},m=w=>{w?.stopPropagation(),r(_=>_===i.length-1?0:_+1)},v=w=>{r(w)};return!i||i.length===0?t.jsx("div",{className:"h-64 md:h-96 bg-stone-200 flex items-center justify-center",children:t.jsx("span",{className:"text-stone-400",children:"No images available"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"relative h-64 md:h-96 group",children:[t.jsx("div",{className:"absolute inset-0 cursor-pointer",style:{background:i[s]},onClick:()=>h(!0),children:t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"})}),i.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white shadow-lg","aria-label":"Previous image",children:t.jsx(us,{className:"w-5 h-5 text-stone-700"})}),t.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white shadow-lg","aria-label":"Next image",children:t.jsx(ep,{className:"w-5 h-5 text-stone-700"})})]}),i.length>1&&t.jsx("div",{className:"absolute bottom-4 left-4 right-4 flex justify-center gap-2",children:i.map((w,_)=>t.jsx("button",{onClick:N=>{N.stopPropagation(),v(_)},className:`w-16 h-12 rounded-lg overflow-hidden border-2 transition-all ${_===s?"border-white shadow-lg scale-105":"border-white/50 opacity-70 hover:opacity-100"}`,style:{background:w},"aria-label":`View image ${_+1}`},_))}),t.jsxs("div",{className:"absolute top-4 right-4 px-3 py-1 bg-black/50 rounded-full text-white text-sm",children:[s+1," / ",i.length]})]}),u&&t.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:()=>h(!1),children:[t.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Close lightbox",children:t.jsx(nr,{className:"w-6 h-6"})}),i.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Previous image",children:t.jsx(us,{className:"w-6 h-6"})}),t.jsx("button",{onClick:m,className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-colors","aria-label":"Next image",children:t.jsx(ep,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"w-full max-w-5xl h-[80vh] mx-8",style:{background:i[s]},onClick:w=>w.stopPropagation()}),i.length>1&&t.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:i.map((w,_)=>t.jsx("button",{onClick:N=>{N.stopPropagation(),v(_)},className:`w-20 h-14 rounded-lg overflow-hidden border-2 transition-all ${_===s?"border-white":"border-white/30 opacity-60 hover:opacity-100"}`,style:{background:w},"aria-label":`View image ${_+1}`},_))})]})]})};function ox(i){var o,s,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var u=i.length;for(o=0;o<u;o++)i[o]&&(s=ox(i[o]))&&(r&&(r+=" "),r+=s)}else for(s in i)i[s]&&(r&&(r+=" "),r+=s);return r}function nn(){for(var i,o,s=0,r="",u=arguments.length;s<u;s++)(i=arguments[s])&&(o=ox(i))&&(r&&(r+=" "),r+=o);return r}function Ta(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function Ne(i){const o=Object.prototype.toString.call(i);return i instanceof Date||typeof i=="object"&&o==="[object Date]"?new i.constructor(+i):typeof i=="number"||o==="[object Number]"||typeof i=="string"||o==="[object String]"?new Date(i):new Date(NaN)}function Wl(i){if(!Ta(i)&&typeof i!="number")return!1;const o=Ne(i);return!isNaN(Number(o))}const yy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},by=(i,o,s)=>{let r;const u=yy[i];return typeof u=="string"?r=u:o===1?r=u.one:r=u.other.replace("{{count}}",o.toString()),s?.addSuffix?s.comparison&&s.comparison>0?"in "+r:r+" ago":r};function Fh(i){return(o={})=>{const s=o.width?String(o.width):i.defaultWidth;return i.formats[s]||i.formats[i.defaultWidth]}}const wy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_y={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ky={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ny={date:Fh({formats:wy,defaultWidth:"full"}),time:Fh({formats:_y,defaultWidth:"full"}),dateTime:Fh({formats:ky,defaultWidth:"full"})},jy={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Sy=(i,o,s,r)=>jy[i];function Tl(i){return(o,s)=>{const r=s?.context?String(s.context):"standalone";let u;if(r==="formatting"&&i.formattingValues){const f=i.defaultFormattingWidth||i.defaultWidth,m=s?.width?String(s.width):f;u=i.formattingValues[m]||i.formattingValues[f]}else{const f=i.defaultWidth,m=s?.width?String(s.width):i.defaultWidth;u=i.values[m]||i.values[f]}const h=i.argumentCallback?i.argumentCallback(o):o;return u[h]}}const Cy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Py={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ty={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},My={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ey={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ly=(i,o)=>{const s=Number(i),r=s%100;if(r>20||r<10)switch(r%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},Oy={ordinalNumber:Ly,era:Tl({values:Cy,defaultWidth:"wide"}),quarter:Tl({values:Py,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Tl({values:Dy,defaultWidth:"wide"}),day:Tl({values:Ty,defaultWidth:"wide"}),dayPeriod:Tl({values:My,defaultWidth:"wide",formattingValues:Ey,defaultFormattingWidth:"wide"})};function Ml(i){return(o,s={})=>{const r=s.width,u=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],h=o.match(u);if(!h)return null;const f=h[0],m=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],v=Array.isArray(m)?Iy(m,N=>N.test(f)):Ry(m,N=>N.test(f));let w;w=i.valueCallback?i.valueCallback(v):v,w=s.valueCallback?s.valueCallback(w):w;const _=o.slice(f.length);return{value:w,rest:_}}}function Ry(i,o){for(const s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&o(i[s]))return s}function Iy(i,o){for(let s=0;s<i.length;s++)if(o(i[s]))return s}function Ay(i){return(o,s={})=>{const r=o.match(i.matchPattern);if(!r)return null;const u=r[0],h=o.match(i.parsePattern);if(!h)return null;let f=i.valueCallback?i.valueCallback(h[0]):h[0];f=s.valueCallback?s.valueCallback(f):f;const m=o.slice(u.length);return{value:f,rest:m}}}const Fy=/^(\d+)(th|st|nd|rd)?/i,By=/\d+/i,zy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wy={any:[/^b/i,/^(a|c)/i]},Yy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hy={any:[/1/i,/2/i,/3/i,/4/i]},$y={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ky={ordinalNumber:Ay({matchPattern:Fy,parsePattern:By,valueCallback:i=>parseInt(i,10)}),era:Ml({matchPatterns:zy,defaultMatchWidth:"wide",parsePatterns:Wy,defaultParseWidth:"any"}),quarter:Ml({matchPatterns:Yy,defaultMatchWidth:"wide",parsePatterns:Hy,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ml({matchPatterns:$y,defaultMatchWidth:"wide",parsePatterns:Uy,defaultParseWidth:"any"}),day:Ml({matchPatterns:Zy,defaultMatchWidth:"wide",parsePatterns:Vy,defaultParseWidth:"any"}),dayPeriod:Ml({matchPatterns:qy,defaultMatchWidth:"any",parsePatterns:Gy,defaultParseWidth:"any"})},lx={code:"en-US",formatDistance:by,formatLong:Ny,formatRelative:Sy,localize:Oy,match:Ky,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Qy={};function Oa(){return Qy}const cx=6048e5,Xy=864e5,Gu=6e4,Ku=36e5,Jy=1e3;function as(i){const o=Ne(i);return o.setHours(0,0,0,0),o}function Eu(i){const o=Ne(i),s=new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()));return s.setUTCFullYear(o.getFullYear()),+i-+s}function Yl(i,o){const s=as(i),r=as(o),u=+s-Eu(s),h=+r-Eu(r);return Math.round((u-h)/Xy)}function ot(i,o){return i instanceof Date?new i.constructor(o):new Date(o)}function Qu(i){const o=Ne(i),s=ot(i,0);return s.setFullYear(o.getFullYear(),0,1),s.setHours(0,0,0,0),s}function eb(i){const o=Ne(i);return Yl(o,Qu(o))+1}function Zs(i,o){const s=Oa(),r=o?.weekStartsOn??o?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,u=Ne(i),h=u.getDay(),f=(h<r?7:0)+h-r;return u.setDate(u.getDate()-f),u.setHours(0,0,0,0),u}function Oo(i){return Zs(i,{weekStartsOn:1})}function ux(i){const o=Ne(i),s=o.getFullYear(),r=ot(i,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const u=Oo(r),h=ot(i,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const f=Oo(h);return o.getTime()>=u.getTime()?s+1:o.getTime()>=f.getTime()?s:s-1}function tb(i){const o=ux(i),s=ot(i,0);return s.setFullYear(o,0,4),s.setHours(0,0,0,0),Oo(s)}function jp(i){const o=Ne(i),s=+Oo(o)-+tb(o);return Math.round(s/cx)+1}function Sp(i,o){const s=Ne(i),r=s.getFullYear(),u=Oa(),h=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,f=ot(i,0);f.setFullYear(r+1,0,h),f.setHours(0,0,0,0);const m=Zs(f,o),v=ot(i,0);v.setFullYear(r,0,h),v.setHours(0,0,0,0);const w=Zs(v,o);return s.getTime()>=m.getTime()?r+1:s.getTime()>=w.getTime()?r:r-1}function nb(i,o){const s=Oa(),r=o?.firstWeekContainsDate??o?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=Sp(i,o),h=ot(i,0);return h.setFullYear(u,0,r),h.setHours(0,0,0,0),Zs(h,o)}function dx(i,o){const s=Ne(i),r=+Zs(s,o)-+nb(s,o);return Math.round(r/cx)+1}function at(i,o){const s=i<0?"-":"",r=Math.abs(i).toString().padStart(o,"0");return s+r}const Ci={y(i,o){const s=i.getFullYear(),r=s>0?s:1-s;return at(o==="yy"?r%100:r,o.length)},M(i,o){const s=i.getMonth();return o==="M"?String(s+1):at(s+1,2)},d(i,o){return at(i.getDate(),o.length)},a(i,o){const s=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];default:return s==="am"?"a.m.":"p.m."}},h(i,o){return at(i.getHours()%12||12,o.length)},H(i,o){return at(i.getHours(),o.length)},m(i,o){return at(i.getMinutes(),o.length)},s(i,o){return at(i.getSeconds(),o.length)},S(i,o){const s=o.length,r=i.getMilliseconds(),u=Math.trunc(r*Math.pow(10,s-3));return at(u,o.length)}},Co={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xm={G:function(i,o,s){const r=i.getFullYear()>0?1:0;switch(o){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"});case"GGGGG":return s.era(r,{width:"narrow"});default:return s.era(r,{width:"wide"})}},y:function(i,o,s){if(o==="yo"){const r=i.getFullYear(),u=r>0?r:1-r;return s.ordinalNumber(u,{unit:"year"})}return Ci.y(i,o)},Y:function(i,o,s,r){const u=Sp(i,r),h=u>0?u:1-u;if(o==="YY"){const f=h%100;return at(f,2)}return o==="Yo"?s.ordinalNumber(h,{unit:"year"}):at(h,o.length)},R:function(i,o){const s=ux(i);return at(s,o.length)},u:function(i,o){const s=i.getFullYear();return at(s,o.length)},Q:function(i,o,s){const r=Math.ceil((i.getMonth()+1)/3);switch(o){case"Q":return String(r);case"QQ":return at(r,2);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});default:return s.quarter(r,{width:"wide",context:"formatting"})}},q:function(i,o,s){const r=Math.ceil((i.getMonth()+1)/3);switch(o){case"q":return String(r);case"qq":return at(r,2);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});default:return s.quarter(r,{width:"wide",context:"standalone"})}},M:function(i,o,s){const r=i.getMonth();switch(o){case"M":case"MM":return Ci.M(i,o);case"Mo":return s.ordinalNumber(r+1,{unit:"month"});case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});default:return s.month(r,{width:"wide",context:"formatting"})}},L:function(i,o,s){const r=i.getMonth();switch(o){case"L":return String(r+1);case"LL":return at(r+1,2);case"Lo":return s.ordinalNumber(r+1,{unit:"month"});case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});default:return s.month(r,{width:"wide",context:"standalone"})}},w:function(i,o,s,r){const u=dx(i,r);return o==="wo"?s.ordinalNumber(u,{unit:"week"}):at(u,o.length)},I:function(i,o,s){const r=jp(i);return o==="Io"?s.ordinalNumber(r,{unit:"week"}):at(r,o.length)},d:function(i,o,s){return o==="do"?s.ordinalNumber(i.getDate(),{unit:"date"}):Ci.d(i,o)},D:function(i,o,s){const r=eb(i);return o==="Do"?s.ordinalNumber(r,{unit:"dayOfYear"}):at(r,o.length)},E:function(i,o,s){const r=i.getDay();switch(o){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},e:function(i,o,s,r){const u=i.getDay(),h=(u-r.weekStartsOn+8)%7||7;switch(o){case"e":return String(h);case"ee":return at(h,2);case"eo":return s.ordinalNumber(h,{unit:"day"});case"eee":return s.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(u,{width:"short",context:"formatting"});default:return s.day(u,{width:"wide",context:"formatting"})}},c:function(i,o,s,r){const u=i.getDay(),h=(u-r.weekStartsOn+8)%7||7;switch(o){case"c":return String(h);case"cc":return at(h,o.length);case"co":return s.ordinalNumber(h,{unit:"day"});case"ccc":return s.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(u,{width:"narrow",context:"standalone"});case"cccccc":return s.day(u,{width:"short",context:"standalone"});default:return s.day(u,{width:"wide",context:"standalone"})}},i:function(i,o,s){const r=i.getDay(),u=r===0?7:r;switch(o){case"i":return String(u);case"ii":return at(u,o.length);case"io":return s.ordinalNumber(u,{unit:"day"});case"iii":return s.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(r,{width:"short",context:"formatting"});default:return s.day(r,{width:"wide",context:"formatting"})}},a:function(i,o,s){const u=i.getHours()/12>=1?"pm":"am";switch(o){case"a":case"aa":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(u,{width:"narrow",context:"formatting"});default:return s.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(i,o,s){const r=i.getHours();let u;switch(r===12?u=Co.noon:r===0?u=Co.midnight:u=r/12>=1?"pm":"am",o){case"b":case"bb":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(u,{width:"narrow",context:"formatting"});default:return s.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(i,o,s){const r=i.getHours();let u;switch(r>=17?u=Co.evening:r>=12?u=Co.afternoon:r>=4?u=Co.morning:u=Co.night,o){case"B":case"BB":case"BBB":return s.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(u,{width:"narrow",context:"formatting"});default:return s.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(i,o,s){if(o==="ho"){let r=i.getHours()%12;return r===0&&(r=12),s.ordinalNumber(r,{unit:"hour"})}return Ci.h(i,o)},H:function(i,o,s){return o==="Ho"?s.ordinalNumber(i.getHours(),{unit:"hour"}):Ci.H(i,o)},K:function(i,o,s){const r=i.getHours()%12;return o==="Ko"?s.ordinalNumber(r,{unit:"hour"}):at(r,o.length)},k:function(i,o,s){let r=i.getHours();return r===0&&(r=24),o==="ko"?s.ordinalNumber(r,{unit:"hour"}):at(r,o.length)},m:function(i,o,s){return o==="mo"?s.ordinalNumber(i.getMinutes(),{unit:"minute"}):Ci.m(i,o)},s:function(i,o,s){return o==="so"?s.ordinalNumber(i.getSeconds(),{unit:"second"}):Ci.s(i,o)},S:function(i,o){return Ci.S(i,o)},X:function(i,o,s){const r=i.getTimezoneOffset();if(r===0)return"Z";switch(o){case"X":return eg(r);case"XXXX":case"XX":return wa(r);default:return wa(r,":")}},x:function(i,o,s){const r=i.getTimezoneOffset();switch(o){case"x":return eg(r);case"xxxx":case"xx":return wa(r);default:return wa(r,":")}},O:function(i,o,s){const r=i.getTimezoneOffset();switch(o){case"O":case"OO":case"OOO":return"GMT"+Jm(r,":");default:return"GMT"+wa(r,":")}},z:function(i,o,s){const r=i.getTimezoneOffset();switch(o){case"z":case"zz":case"zzz":return"GMT"+Jm(r,":");default:return"GMT"+wa(r,":")}},t:function(i,o,s){const r=Math.trunc(i.getTime()/1e3);return at(r,o.length)},T:function(i,o,s){const r=i.getTime();return at(r,o.length)}};function Jm(i,o=""){const s=i>0?"-":"+",r=Math.abs(i),u=Math.trunc(r/60),h=r%60;return h===0?s+String(u):s+String(u)+o+at(h,2)}function eg(i,o){return i%60===0?(i>0?"-":"+")+at(Math.abs(i)/60,2):wa(i,o)}function wa(i,o=""){const s=i>0?"-":"+",r=Math.abs(i),u=at(Math.trunc(r/60),2),h=at(r%60,2);return s+u+o+h}const tg=(i,o)=>{switch(i){case"P":return o.date({width:"short"});case"PP":return o.date({width:"medium"});case"PPP":return o.date({width:"long"});default:return o.date({width:"full"})}},hx=(i,o)=>{switch(i){case"p":return o.time({width:"short"});case"pp":return o.time({width:"medium"});case"ppp":return o.time({width:"long"});default:return o.time({width:"full"})}},rb=(i,o)=>{const s=i.match(/(P+)(p+)?/)||[],r=s[1],u=s[2];if(!u)return tg(i,o);let h;switch(r){case"P":h=o.dateTime({width:"short"});break;case"PP":h=o.dateTime({width:"medium"});break;case"PPP":h=o.dateTime({width:"long"});break;default:h=o.dateTime({width:"full"});break}return h.replace("{{date}}",tg(r,o)).replace("{{time}}",hx(u,o))},Lu={p:hx,P:rb},sb=/^D+$/,ib=/^Y+$/,ab=["D","DD","YY","YYYY"];function px(i){return sb.test(i)}function fx(i){return ib.test(i)}function op(i,o,s){const r=ob(i,o,s);if(console.warn(r),ab.includes(i))throw new RangeError(r)}function ob(i,o,s){const r=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${o}\`) for formatting ${r} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ub=/^'([^]*?)'?$/,db=/''/g,hb=/[a-zA-Z]/;function ng(i,o,s){const r=Oa(),u=s?.locale??r.locale??lx,h=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,f=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,m=Ne(i);if(!Wl(m))throw new RangeError("Invalid time value");let v=o.match(cb).map(_=>{const N=_[0];if(N==="p"||N==="P"){const M=Lu[N];return M(_,u.formatLong)}return _}).join("").match(lb).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const N=_[0];if(N==="'")return{isToken:!1,value:pb(_)};if(Xm[N])return{isToken:!0,value:_};if(N.match(hb))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:_}});u.localize.preprocessor&&(v=u.localize.preprocessor(m,v));const w={firstWeekContainsDate:h,weekStartsOn:f,locale:u};return v.map(_=>{if(!_.isToken)return _.value;const N=_.value;(!s?.useAdditionalWeekYearTokens&&fx(N)||!s?.useAdditionalDayOfYearTokens&&px(N))&&op(N,o,String(i));const M=Xm[N[0]];return M(m,N,u.localize,w)}).join("")}function pb(i){const o=i.match(ub);return o?o[1].replace(db,"'"):i}function Cp(i,o){const s=+Ne(i);return ot(i,s+o)}function lp(i,o){return Cp(i,o*Gu)}function fb(i,o){return Cp(i,o*Ku)}function Wi(i,o){const s=Ne(i);return isNaN(o)?ot(i,NaN):(o&&s.setDate(s.getDate()+o),s)}function Ou(i,o){const s=o*7;return Wi(i,s)}function Fr(i,o){const s=Ne(i);if(isNaN(o))return ot(i,NaN);if(!o)return s;const r=s.getDate(),u=ot(i,s.getTime());u.setMonth(s.getMonth()+o+1,0);const h=u.getDate();return r>=h?u:(s.setFullYear(u.getFullYear(),u.getMonth(),r),s)}function Pp(i,o){const s=o*3;return Fr(i,s)}function $s(i,o){return Fr(i,o*12)}function mb(i,o){return Wi(i,-1)}function rg(i,o){return Ou(i,-1)}function Ro(i,o){return Fr(i,-o)}function mx(i,o){return Pp(i,-1)}function Io(i,o){return $s(i,-o)}function Us(i){return Ne(i).getSeconds()}function os(i){return Ne(i).getMinutes()}function ls(i){return Ne(i).getHours()}function gb(i){return Ne(i).getDay()}function sg(i){return Ne(i).getDate()}function Cn(i){return Ne(i).getMonth()}function Na(i){const o=Ne(i);return Math.trunc(o.getMonth()/3)+1}function $e(i){return Ne(i).getFullYear()}function cp(i){return Ne(i).getTime()}function ku(i,o){const s=Ne(i);return s.setSeconds(o),s}function Nu(i,o){const s=Ne(i);return s.setMinutes(o),s}function ju(i,o){const s=Ne(i);return s.setHours(o),s}function xb(i){const o=Ne(i),s=o.getFullYear(),r=o.getMonth(),u=ot(i,0);return u.setFullYear(s,r+1,0),u.setHours(0,0,0,0),u.getDate()}function Nn(i,o){const s=Ne(i),r=s.getFullYear(),u=s.getDate(),h=ot(i,0);h.setFullYear(r,o,15),h.setHours(0,0,0,0);const f=xb(h);return s.setMonth(o,Math.min(u,f)),s}function Po(i,o){const s=Ne(i),r=Math.trunc(s.getMonth()/3)+1,u=o-r;return Nn(s,s.getMonth()+u*3)}function ts(i,o){const s=Ne(i);return isNaN(+s)?ot(i,NaN):(s.setFullYear(o),s)}function ig(i){let o;return i.forEach(s=>{const r=Ne(s);(!o||o>r||isNaN(+r))&&(o=r)}),o||new Date(NaN)}function ag(i){let o;return i.forEach(function(s){const r=Ne(s);(o===void 0||o<r||isNaN(Number(r)))&&(o=r)}),o||new Date(NaN)}function Ru(i,o){const s=Ne(i),r=Ne(o),u=s.getFullYear()-r.getFullYear(),h=s.getMonth()-r.getMonth();return u*12+h}function Iu(i,o){const s=Ne(i),r=Ne(o);return s.getFullYear()-r.getFullYear()}function Au(i,o){const s=Ne(i),r=Ne(o),u=s.getFullYear()-r.getFullYear(),h=Na(s)-Na(r);return u*4+h}function gx(i){const o=Ne(i);return o.setDate(1),o.setHours(0,0,0,0),o}function up(i){const o=Ne(i),s=o.getMonth(),r=s-s%3;return o.setMonth(r,1),o.setHours(0,0,0,0),o}function dp(i){const o=Ne(i);return o.setHours(23,59,59,999),o}function vb(i,o){const s=Oa(),r=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,u=Ne(i),h=u.getDay(),f=(h<r?-7:0)+6-(h-r);return u.setDate(u.getDate()+f),u.setHours(23,59,59,999),u}function yb(i){const o=Ne(i),s=o.getMonth();return o.setFullYear(o.getFullYear(),s+1,0),o.setHours(23,59,59,999),o}function xx(i){const o=Ne(i),s=o.getFullYear();return o.setFullYear(s+1,0,0),o.setHours(23,59,59,999),o}function bb(i,o){const s=Ne(i),r=Ne(o);return+s==+r}function wb(i,o){const s=as(i),r=as(o);return+s==+r}function _b(i,o){const s=Ne(i),r=Ne(o);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function kb(i,o){const s=Ne(i),r=Ne(o);return s.getFullYear()===r.getFullYear()}function Nb(i,o){const s=up(i),r=up(o);return+s==+r}function Fi(i,o){const s=Ne(i),r=Ne(o);return s.getTime()>r.getTime()}function Ma(i,o){const s=Ne(i),r=Ne(o);return+s<+r}function Hl(i,o){const s=+Ne(i),[r,u]=[+Ne(o.start),+Ne(o.end)].sort((h,f)=>h-f);return s>=r&&s<=u}function jb(){return Object.assign({},Oa())}function Sb(i,o){const s=o instanceof Date?ot(o,0):new o(0);return s.setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),s}const Cb=10;class vx{subPriority=0;validate(o,s){return!0}}class Pb extends vx{constructor(o,s,r,u,h){super(),this.value=o,this.validateValue=s,this.setValue=r,this.priority=u,h&&(this.subPriority=h)}validate(o,s){return this.validateValue(o,this.value,s)}set(o,s,r){return this.setValue(o,s,this.value,r)}}class Db extends vx{priority=Cb;subPriority=-1;set(o,s){return s.timestampIsSet?o:ot(o,Sb(o,Date))}}class tt{run(o,s,r,u){const h=this.parse(o,s,r,u);return h?{setter:new Pb(h.value,this.validate,this.set,this.priority,this.subPriority),rest:h.rest}:null}validate(o,s,r){return!0}}class Tb extends tt{priority=140;parse(o,s,r){switch(s){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"})||r.era(o,{width:"narrow"});case"GGGGG":return r.era(o,{width:"narrow"});default:return r.era(o,{width:"wide"})||r.era(o,{width:"abbreviated"})||r.era(o,{width:"narrow"})}}set(o,s,r){return s.era=r,o.setFullYear(r,0,1),o.setHours(0,0,0,0),o}incompatibleTokens=["R","u","t","T"]}const Ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},rs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Rt(i,o){return i&&{value:o(i.value),rest:i.rest}}function jt(i,o){const s=o.match(i);return s?{value:parseInt(s[0],10),rest:o.slice(s[0].length)}:null}function ss(i,o){const s=o.match(i);if(!s)return null;if(s[0]==="Z")return{value:0,rest:o.slice(1)};const r=s[1]==="+"?1:-1,u=s[2]?parseInt(s[2],10):0,h=s[3]?parseInt(s[3],10):0,f=s[5]?parseInt(s[5],10):0;return{value:r*(u*Ku+h*Gu+f*Jy),rest:o.slice(s[0].length)}}function yx(i){return jt(Ot.anyDigitsSigned,i)}function Mt(i,o){switch(i){case 1:return jt(Ot.singleDigit,o);case 2:return jt(Ot.twoDigits,o);case 3:return jt(Ot.threeDigits,o);case 4:return jt(Ot.fourDigits,o);default:return jt(new RegExp("^\\d{1,"+i+"}"),o)}}function Fu(i,o){switch(i){case 1:return jt(Ot.singleDigitSigned,o);case 2:return jt(Ot.twoDigitsSigned,o);case 3:return jt(Ot.threeDigitsSigned,o);case 4:return jt(Ot.fourDigitsSigned,o);default:return jt(new RegExp("^-?\\d{1,"+i+"}"),o)}}function Dp(i){switch(i){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function bx(i,o){const s=o>0,r=s?o:1-o;let u;if(r<=50)u=i||100;else{const h=r+50,f=Math.trunc(h/100)*100,m=i>=h%100;u=i+f-(m?100:0)}return s?u:1-u}function wx(i){return i%400===0||i%4===0&&i%100!==0}class Mb extends tt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(o,s,r){const u=h=>({year:h,isTwoDigitYear:s==="yy"});switch(s){case"y":return Rt(Mt(4,o),u);case"yo":return Rt(r.ordinalNumber(o,{unit:"year"}),u);default:return Rt(Mt(s.length,o),u)}}validate(o,s){return s.isTwoDigitYear||s.year>0}set(o,s,r){const u=o.getFullYear();if(r.isTwoDigitYear){const f=bx(r.year,u);return o.setFullYear(f,0,1),o.setHours(0,0,0,0),o}const h=!("era"in s)||s.era===1?r.year:1-r.year;return o.setFullYear(h,0,1),o.setHours(0,0,0,0),o}}class Eb extends tt{priority=130;parse(o,s,r){const u=h=>({year:h,isTwoDigitYear:s==="YY"});switch(s){case"Y":return Rt(Mt(4,o),u);case"Yo":return Rt(r.ordinalNumber(o,{unit:"year"}),u);default:return Rt(Mt(s.length,o),u)}}validate(o,s){return s.isTwoDigitYear||s.year>0}set(o,s,r,u){const h=Sp(o,u);if(r.isTwoDigitYear){const m=bx(r.year,h);return o.setFullYear(m,0,u.firstWeekContainsDate),o.setHours(0,0,0,0),Zs(o,u)}const f=!("era"in s)||s.era===1?r.year:1-r.year;return o.setFullYear(f,0,u.firstWeekContainsDate),o.setHours(0,0,0,0),Zs(o,u)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class Lb extends tt{priority=130;parse(o,s){return Fu(s==="R"?4:s.length,o)}set(o,s,r){const u=ot(o,0);return u.setFullYear(r,0,4),u.setHours(0,0,0,0),Oo(u)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Ob extends tt{priority=130;parse(o,s){return Fu(s==="u"?4:s.length,o)}set(o,s,r){return o.setFullYear(r,0,1),o.setHours(0,0,0,0),o}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class Rb extends tt{priority=120;parse(o,s,r){switch(s){case"Q":case"QQ":return Mt(s.length,o);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"})||r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});default:return r.quarter(o,{width:"wide",context:"formatting"})||r.quarter(o,{width:"abbreviated",context:"formatting"})||r.quarter(o,{width:"narrow",context:"formatting"})}}validate(o,s){return s>=1&&s<=4}set(o,s,r){return o.setMonth((r-1)*3,1),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Ib extends tt{priority=120;parse(o,s,r){switch(s){case"q":case"qq":return Mt(s.length,o);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"})||r.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});default:return r.quarter(o,{width:"wide",context:"standalone"})||r.quarter(o,{width:"abbreviated",context:"standalone"})||r.quarter(o,{width:"narrow",context:"standalone"})}}validate(o,s){return s>=1&&s<=4}set(o,s,r){return o.setMonth((r-1)*3,1),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class Ab extends tt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(o,s,r){const u=h=>h-1;switch(s){case"M":return Rt(jt(Ot.month,o),u);case"MM":return Rt(Mt(2,o),u);case"Mo":return Rt(r.ordinalNumber(o,{unit:"month"}),u);case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"})||r.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});default:return r.month(o,{width:"wide",context:"formatting"})||r.month(o,{width:"abbreviated",context:"formatting"})||r.month(o,{width:"narrow",context:"formatting"})}}validate(o,s){return s>=0&&s<=11}set(o,s,r){return o.setMonth(r,1),o.setHours(0,0,0,0),o}}class Fb extends tt{priority=110;parse(o,s,r){const u=h=>h-1;switch(s){case"L":return Rt(jt(Ot.month,o),u);case"LL":return Rt(Mt(2,o),u);case"Lo":return Rt(r.ordinalNumber(o,{unit:"month"}),u);case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"})||r.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});default:return r.month(o,{width:"wide",context:"standalone"})||r.month(o,{width:"abbreviated",context:"standalone"})||r.month(o,{width:"narrow",context:"standalone"})}}validate(o,s){return s>=0&&s<=11}set(o,s,r){return o.setMonth(r,1),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Bb(i,o,s){const r=Ne(i),u=dx(r,s)-o;return r.setDate(r.getDate()-u*7),r}class zb extends tt{priority=100;parse(o,s,r){switch(s){case"w":return jt(Ot.week,o);case"wo":return r.ordinalNumber(o,{unit:"week"});default:return Mt(s.length,o)}}validate(o,s){return s>=1&&s<=53}set(o,s,r,u){return Zs(Bb(o,r,u),u)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Wb(i,o){const s=Ne(i),r=jp(s)-o;return s.setDate(s.getDate()-r*7),s}class Yb extends tt{priority=100;parse(o,s,r){switch(s){case"I":return jt(Ot.week,o);case"Io":return r.ordinalNumber(o,{unit:"week"});default:return Mt(s.length,o)}}validate(o,s){return s>=1&&s<=53}set(o,s,r){return Oo(Wb(o,r))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const Hb=[31,28,31,30,31,30,31,31,30,31,30,31],$b=[31,29,31,30,31,30,31,31,30,31,30,31];class Ub extends tt{priority=90;subPriority=1;parse(o,s,r){switch(s){case"d":return jt(Ot.date,o);case"do":return r.ordinalNumber(o,{unit:"date"});default:return Mt(s.length,o)}}validate(o,s){const r=o.getFullYear(),u=wx(r),h=o.getMonth();return u?s>=1&&s<=$b[h]:s>=1&&s<=Hb[h]}set(o,s,r){return o.setDate(r),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Zb extends tt{priority=90;subpriority=1;parse(o,s,r){switch(s){case"D":case"DD":return jt(Ot.dayOfYear,o);case"Do":return r.ordinalNumber(o,{unit:"date"});default:return Mt(s.length,o)}}validate(o,s){const r=o.getFullYear();return wx(r)?s>=1&&s<=366:s>=1&&s<=365}set(o,s,r){return o.setMonth(0,r),o.setHours(0,0,0,0),o}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function Tp(i,o,s){const r=Oa(),u=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,h=Ne(i),f=h.getDay(),v=(o%7+7)%7,w=7-u,_=o<0||o>6?o-(f+w)%7:(v+w)%7-(f+w)%7;return Wi(h,_)}class Vb extends tt{priority=90;parse(o,s,r){switch(s){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"})}}validate(o,s){return s>=0&&s<=6}set(o,s,r,u){return o=Tp(o,r,u),o.setHours(0,0,0,0),o}incompatibleTokens=["D","i","e","c","t","T"]}class qb extends tt{priority=90;parse(o,s,r,u){const h=f=>{const m=Math.floor((f-1)/7)*7;return(f+u.weekStartsOn+6)%7+m};switch(s){case"e":case"ee":return Rt(Mt(s.length,o),h);case"eo":return Rt(r.ordinalNumber(o,{unit:"day"}),h);case"eee":return r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"})}}validate(o,s){return s>=0&&s<=6}set(o,s,r,u){return o=Tp(o,r,u),o.setHours(0,0,0,0),o}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Gb extends tt{priority=90;parse(o,s,r,u){const h=f=>{const m=Math.floor((f-1)/7)*7;return(f+u.weekStartsOn+6)%7+m};switch(s){case"c":case"cc":return Rt(Mt(s.length,o),h);case"co":return Rt(r.ordinalNumber(o,{unit:"day"}),h);case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"})||r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})||r.day(o,{width:"abbreviated",context:"standalone"})||r.day(o,{width:"short",context:"standalone"})||r.day(o,{width:"narrow",context:"standalone"})}}validate(o,s){return s>=0&&s<=6}set(o,s,r,u){return o=Tp(o,r,u),o.setHours(0,0,0,0),o}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Kb(i){let s=Ne(i).getDay();return s===0&&(s=7),s}function Qb(i,o){const s=Ne(i),r=Kb(s),u=o-r;return Wi(s,u)}class Xb extends tt{priority=90;parse(o,s,r){const u=h=>h===0?7:h;switch(s){case"i":case"ii":return Mt(s.length,o);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return Rt(r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u);case"iiiii":return Rt(r.day(o,{width:"narrow",context:"formatting"}),u);case"iiiiii":return Rt(r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u);default:return Rt(r.day(o,{width:"wide",context:"formatting"})||r.day(o,{width:"abbreviated",context:"formatting"})||r.day(o,{width:"short",context:"formatting"})||r.day(o,{width:"narrow",context:"formatting"}),u)}}validate(o,s){return s>=1&&s<=7}set(o,s,r){return o=Qb(o,r),o.setHours(0,0,0,0),o}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Jb extends tt{priority=80;parse(o,s,r){switch(s){case"a":case"aa":case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,s,r){return o.setHours(Dp(r),0,0,0),o}incompatibleTokens=["b","B","H","k","t","T"]}class ew extends tt{priority=80;parse(o,s,r){switch(s){case"b":case"bb":case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,s,r){return o.setHours(Dp(r),0,0,0),o}incompatibleTokens=["a","B","H","k","t","T"]}class tw extends tt{priority=80;parse(o,s,r){switch(s){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})||r.dayPeriod(o,{width:"abbreviated",context:"formatting"})||r.dayPeriod(o,{width:"narrow",context:"formatting"})}}set(o,s,r){return o.setHours(Dp(r),0,0,0),o}incompatibleTokens=["a","b","t","T"]}class nw extends tt{priority=70;parse(o,s,r){switch(s){case"h":return jt(Ot.hour12h,o);case"ho":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(s.length,o)}}validate(o,s){return s>=1&&s<=12}set(o,s,r){const u=o.getHours()>=12;return u&&r<12?o.setHours(r+12,0,0,0):!u&&r===12?o.setHours(0,0,0,0):o.setHours(r,0,0,0),o}incompatibleTokens=["H","K","k","t","T"]}class rw extends tt{priority=70;parse(o,s,r){switch(s){case"H":return jt(Ot.hour23h,o);case"Ho":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(s.length,o)}}validate(o,s){return s>=0&&s<=23}set(o,s,r){return o.setHours(r,0,0,0),o}incompatibleTokens=["a","b","h","K","k","t","T"]}class sw extends tt{priority=70;parse(o,s,r){switch(s){case"K":return jt(Ot.hour11h,o);case"Ko":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(s.length,o)}}validate(o,s){return s>=0&&s<=11}set(o,s,r){return o.getHours()>=12&&r<12?o.setHours(r+12,0,0,0):o.setHours(r,0,0,0),o}incompatibleTokens=["h","H","k","t","T"]}class iw extends tt{priority=70;parse(o,s,r){switch(s){case"k":return jt(Ot.hour24h,o);case"ko":return r.ordinalNumber(o,{unit:"hour"});default:return Mt(s.length,o)}}validate(o,s){return s>=1&&s<=24}set(o,s,r){const u=r<=24?r%24:r;return o.setHours(u,0,0,0),o}incompatibleTokens=["a","b","h","H","K","t","T"]}class aw extends tt{priority=60;parse(o,s,r){switch(s){case"m":return jt(Ot.minute,o);case"mo":return r.ordinalNumber(o,{unit:"minute"});default:return Mt(s.length,o)}}validate(o,s){return s>=0&&s<=59}set(o,s,r){return o.setMinutes(r,0,0),o}incompatibleTokens=["t","T"]}class ow extends tt{priority=50;parse(o,s,r){switch(s){case"s":return jt(Ot.second,o);case"so":return r.ordinalNumber(o,{unit:"second"});default:return Mt(s.length,o)}}validate(o,s){return s>=0&&s<=59}set(o,s,r){return o.setSeconds(r,0),o}incompatibleTokens=["t","T"]}class lw extends tt{priority=30;parse(o,s){const r=u=>Math.trunc(u*Math.pow(10,-s.length+3));return Rt(Mt(s.length,o),r)}set(o,s,r){return o.setMilliseconds(r),o}incompatibleTokens=["t","T"]}class cw extends tt{priority=10;parse(o,s){switch(s){case"X":return ss(rs.basicOptionalMinutes,o);case"XX":return ss(rs.basic,o);case"XXXX":return ss(rs.basicOptionalSeconds,o);case"XXXXX":return ss(rs.extendedOptionalSeconds,o);default:return ss(rs.extended,o)}}set(o,s,r){return s.timestampIsSet?o:ot(o,o.getTime()-Eu(o)-r)}incompatibleTokens=["t","T","x"]}class uw extends tt{priority=10;parse(o,s){switch(s){case"x":return ss(rs.basicOptionalMinutes,o);case"xx":return ss(rs.basic,o);case"xxxx":return ss(rs.basicOptionalSeconds,o);case"xxxxx":return ss(rs.extendedOptionalSeconds,o);default:return ss(rs.extended,o)}}set(o,s,r){return s.timestampIsSet?o:ot(o,o.getTime()-Eu(o)-r)}incompatibleTokens=["t","T","X"]}class dw extends tt{priority=40;parse(o){return yx(o)}set(o,s,r){return[ot(o,r*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class hw extends tt{priority=20;parse(o){return yx(o)}set(o,s,r){return[ot(o,r),{timestampIsSet:!0}]}incompatibleTokens="*"}const pw={G:new Tb,y:new Mb,Y:new Eb,R:new Lb,u:new Ob,Q:new Rb,q:new Ib,M:new Ab,L:new Fb,w:new zb,I:new Yb,d:new Ub,D:new Zb,E:new Vb,e:new qb,c:new Gb,i:new Xb,a:new Jb,b:new ew,B:new tw,h:new nw,H:new rw,K:new sw,k:new iw,m:new aw,s:new ow,S:new lw,X:new cw,x:new uw,t:new dw,T:new hw},fw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,mw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,gw=/^'([^]*?)'?$/,xw=/''/g,vw=/\S/,yw=/[a-zA-Z]/;function Bh(i,o,s,r){const u=jb(),h=r?.locale??u.locale??lx,f=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??u.firstWeekContainsDate??u.locale?.options?.firstWeekContainsDate??1,m=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??u.weekStartsOn??u.locale?.options?.weekStartsOn??0;if(o==="")return i===""?Ne(s):ot(s,NaN);const v={firstWeekContainsDate:f,weekStartsOn:m,locale:h},w=[new Db],_=o.match(mw).map(S=>{const C=S[0];if(C in Lu){const V=Lu[C];return V(S,h.formatLong)}return S}).join("").match(fw),N=[];for(let S of _){!r?.useAdditionalWeekYearTokens&&fx(S)&&op(S,o,i),!r?.useAdditionalDayOfYearTokens&&px(S)&&op(S,o,i);const C=S[0],V=pw[C];if(V){const{incompatibleTokens:O}=V;if(Array.isArray(O)){const te=N.find(Z=>O.includes(Z.token)||Z.token===C);if(te)throw new RangeError(`The format string mustn't contain \`${te.fullToken}\` and \`${S}\` at the same time`)}else if(V.incompatibleTokens==="*"&&N.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);N.push({token:C,fullToken:S});const B=V.run(i,S,h.match,v);if(!B)return ot(s,NaN);w.push(B.setter),i=B.rest}else{if(C.match(yw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(S==="''"?S="'":C==="'"&&(S=bw(S)),i.indexOf(S)===0)i=i.slice(S.length);else return ot(s,NaN)}}if(i.length>0&&vw.test(i))return ot(s,NaN);const M=w.map(S=>S.priority).sort((S,C)=>C-S).filter((S,C,V)=>V.indexOf(S)===C).map(S=>w.filter(C=>C.priority===S).sort((C,V)=>V.subPriority-C.subPriority)).map(S=>S[0]);let D=Ne(s);if(isNaN(D.getTime()))return ot(s,NaN);const T={};for(const S of M){if(!S.validate(D,v))return ot(s,NaN);const C=S.set(D,T,v);Array.isArray(C)?(D=C[0],Object.assign(T,C[1])):D=C}return ot(s,D)}function bw(i){return i.match(gw)[1].replace(xw,"'")}function ww(i,o){const r=jw(i);let u;if(r.date){const v=Sw(r.date,2);u=Cw(v.restDateString,v.year)}if(!u||isNaN(u.getTime()))return new Date(NaN);const h=u.getTime();let f=0,m;if(r.time&&(f=Pw(r.time),isNaN(f)))return new Date(NaN);if(r.timezone){if(m=Dw(r.timezone),isNaN(m))return new Date(NaN)}else{const v=new Date(h+f),w=new Date(0);return w.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),w.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),w}return new Date(h+f+m)}const du={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_w=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kw=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Nw=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jw(i){const o={},s=i.split(du.dateTimeDelimiter);let r;if(s.length>2)return o;if(/:/.test(s[0])?r=s[0]:(o.date=s[0],r=s[1],du.timeZoneDelimiter.test(o.date)&&(o.date=i.split(du.timeZoneDelimiter)[0],r=i.substr(o.date.length,i.length))),r){const u=du.timezone.exec(r);u?(o.time=r.replace(u[1],""),o.timezone=u[1]):o.time=r}return o}function Sw(i,o){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+o)+"})|(\\d{2}|[+-]\\d{"+(2+o)+"})$)"),r=i.match(s);if(!r)return{year:NaN,restDateString:""};const u=r[1]?parseInt(r[1]):null,h=r[2]?parseInt(r[2]):null;return{year:h===null?u:h*100,restDateString:i.slice((r[1]||r[2]).length)}}function Cw(i,o){if(o===null)return new Date(NaN);const s=i.match(_w);if(!s)return new Date(NaN);const r=!!s[4],u=El(s[1]),h=El(s[2])-1,f=El(s[3]),m=El(s[4]),v=El(s[5])-1;if(r)return Ow(o,m,v)?Tw(o,m,v):new Date(NaN);{const w=new Date(0);return!Ew(o,h,f)||!Lw(o,u)?new Date(NaN):(w.setUTCFullYear(o,h,Math.max(u,f)),w)}}function El(i){return i?parseInt(i):1}function Pw(i){const o=i.match(kw);if(!o)return NaN;const s=zh(o[1]),r=zh(o[2]),u=zh(o[3]);return Rw(s,r,u)?s*Ku+r*Gu+u*1e3:NaN}function zh(i){return i&&parseFloat(i.replace(",","."))||0}function Dw(i){if(i==="Z")return 0;const o=i.match(Nw);if(!o)return 0;const s=o[1]==="+"?-1:1,r=parseInt(o[2]),u=o[3]&&parseInt(o[3])||0;return Iw(r,u)?s*(r*Ku+u*Gu):NaN}function Tw(i,o,s){const r=new Date(0);r.setUTCFullYear(i,0,4);const u=r.getUTCDay()||7,h=(o-1)*7+s+1-u;return r.setUTCDate(r.getUTCDate()+h),r}const Mw=[31,null,31,30,31,30,31,31,30,31,30,31];function _x(i){return i%400===0||i%4===0&&i%100!==0}function Ew(i,o,s){return o>=0&&o<=11&&s>=1&&s<=(Mw[o]||(_x(i)?29:28))}function Lw(i,o){return o>=1&&o<=(_x(i)?366:365)}function Ow(i,o,s){return o>=1&&o<=53&&s>=0&&s<=6}function Rw(i,o,s){return i===24?o===0&&s===0:s>=0&&s<60&&o>=0&&o<60&&i>=0&&i<25}function Iw(i,o){return o>=0&&o<=59}function Aw(i,o){return Cp(i,o*1e3)}function Fw(i,o){let s=Ne(i);return isNaN(+s)?ot(i,NaN):(o.year!=null&&s.setFullYear(o.year),o.month!=null&&(s=Nn(s,o.month)),o.date!=null&&s.setDate(o.date),o.hours!=null&&s.setHours(o.hours),o.minutes!=null&&s.setMinutes(o.minutes),o.seconds!=null&&s.setSeconds(o.seconds),o.milliseconds!=null&&s.setMilliseconds(o.milliseconds),s)}var Xu=Zg();const Bw=Zl(Xu);function zw(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,hp(i,o)}function hp(i,o){return hp=Object.setPrototypeOf||function(r,u){return r.__proto__=u,r},hp(i,o)}function Ww(i,o){if(i==null)return{};var s={},r=Object.keys(i),u,h;for(h=0;h<r.length;h++)u=r[h],!(o.indexOf(u)>=0)&&(s[u]=i[u]);return s}function og(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Yw(i,o,s){return i===o?!0:i.correspondingElement?i.correspondingElement.classList.contains(s):i.classList.contains(s)}function Hw(i,o,s){if(i===o)return!0;for(;i.parentNode||i.host;){if(i.parentNode&&Yw(i,o,s))return!0;i=i.parentNode||i.host}return i}function $w(i){return document.documentElement.clientWidth<=i.clientX||document.documentElement.clientHeight<=i.clientY}var Uw=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var o=!1,s=Object.defineProperty({},"passive",{get:function(){o=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,s),window.removeEventListener("testPassiveEventSupport",r,s),o}};function Zw(i){return i===void 0&&(i=0),function(){return++i}}var Vw=Zw(),pp,hu={},Wh={},qw=["touchstart","touchmove"],Gw="ignore-react-onclickoutside";function lg(i,o){var s={},r=qw.indexOf(o)!==-1;return r&&pp&&(s.passive=!i.props.preventDefault),s}function Ju(i,o){var s,r,u=i.displayName||i.name||"Component";return r=s=(function(h){zw(f,h);function f(v){var w;return w=h.call(this,v)||this,w.__outsideClickHandler=function(_){if(typeof w.__clickOutsideHandlerProp=="function"){w.__clickOutsideHandlerProp(_);return}var N=w.getInstance();if(typeof N.props.handleClickOutside=="function"){N.props.handleClickOutside(_);return}if(typeof N.handleClickOutside=="function"){N.handleClickOutside(_);return}throw new Error("WrappedComponent: "+u+" lacks a handleClickOutside(event) function for processing outside click events.")},w.__getComponentNode=function(){var _=w.getInstance();return typeof _.setClickOutsideRef=="function"?_.setClickOutsideRef():Xu.findDOMNode(_)},w.enableOnClickOutside=function(){if(!(typeof document>"u"||Wh[w._uid])){typeof pp>"u"&&(pp=Uw()),Wh[w._uid]=!0;var _=w.props.eventTypes;_.forEach||(_=[_]),hu[w._uid]=function(N){if(w.componentNode!==null&&!(w.initTimeStamp>N.timeStamp)&&(w.props.preventDefault&&N.preventDefault(),w.props.stopPropagation&&N.stopPropagation(),!(w.props.excludeScrollbar&&$w(N)))){var M=N.composed&&N.composedPath&&N.composedPath().shift()||N.target;Hw(M,w.componentNode,w.props.outsideClickIgnoreClass)===document&&w.__outsideClickHandler(N)}},_.forEach(function(N){document.addEventListener(N,hu[w._uid],lg(og(w),N))})}},w.disableOnClickOutside=function(){delete Wh[w._uid];var _=hu[w._uid];if(_&&typeof document<"u"){var N=w.props.eventTypes;N.forEach||(N=[N]),N.forEach(function(M){return document.removeEventListener(M,_,lg(og(w),M))}),delete hu[w._uid]}},w.getRef=function(_){return w.instanceRef=_},w._uid=Vw(),w.initTimeStamp=performance.now(),w}var m=f.prototype;return m.getInstance=function(){if(i.prototype&&!i.prototype.isReactComponent)return this;var w=this.instanceRef;return w.getInstance?w.getInstance():w},m.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},m.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},m.componentWillUnmount=function(){this.disableOnClickOutside()},m.render=function(){var w=this.props;w.excludeScrollbar;var _=Ww(w,["excludeScrollbar"]);return i.prototype&&i.prototype.isReactComponent?_.ref=this.getRef:_.wrappedRef=this.getRef,_.disableOnClickOutside=this.disableOnClickOutside,_.enableOnClickOutside=this.enableOnClickOutside,P.createElement(i,_)},f})(P.Component),s.displayName="OnClickOutside("+u+")",s.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:Gw,preventDefault:!1,stopPropagation:!1},s.getClass=function(){return i.getClass?i.getClass():i},r}function ed(){return typeof window<"u"}function zo(i){return kx(i)?(i.nodeName||"").toLowerCase():"#document"}function er(i){var o;return(i==null||(o=i.ownerDocument)==null?void 0:o.defaultView)||window}function fs(i){var o;return(o=(kx(i)?i.ownerDocument:i.document)||window.document)==null?void 0:o.documentElement}function kx(i){return ed()?i instanceof Node||i instanceof er(i).Node:!1}function Pn(i){return ed()?i instanceof Element||i instanceof er(i).Element:!1}function ps(i){return ed()?i instanceof HTMLElement||i instanceof er(i).HTMLElement:!1}function cg(i){return!ed()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof er(i).ShadowRoot}const Kw=new Set(["inline","contents"]);function Gl(i){const{overflow:o,overflowX:s,overflowY:r,display:u}=vr(i);return/auto|scroll|overlay|hidden|clip/.test(o+r+s)&&!Kw.has(u)}const Qw=new Set(["table","td","th"]);function Xw(i){return Qw.has(zo(i))}const Jw=[":popover-open",":modal"];function td(i){return Jw.some(o=>{try{return i.matches(o)}catch{return!1}})}const e_=["transform","translate","scale","rotate","perspective"],t_=["transform","translate","scale","rotate","perspective","filter"],n_=["paint","layout","strict","content"];function Mp(i){const o=Ep(),s=Pn(i)?vr(i):i;return e_.some(r=>s[r]?s[r]!=="none":!1)||(s.containerType?s.containerType!=="normal":!1)||!o&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!o&&(s.filter?s.filter!=="none":!1)||t_.some(r=>(s.willChange||"").includes(r))||n_.some(r=>(s.contain||"").includes(r))}function r_(i){let o=Bi(i);for(;ps(o)&&!Ao(o);){if(Mp(o))return o;if(td(o))return null;o=Bi(o)}return null}function Ep(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const s_=new Set(["html","body","#document"]);function Ao(i){return s_.has(zo(i))}function vr(i){return er(i).getComputedStyle(i)}function nd(i){return Pn(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Bi(i){if(zo(i)==="html")return i;const o=i.assignedSlot||i.parentNode||cg(i)&&i.host||fs(i);return cg(o)?o.host:o}function Nx(i){const o=Bi(i);return Ao(o)?i.ownerDocument?i.ownerDocument.body:i.body:ps(o)&&Gl(o)?o:Nx(o)}function $l(i,o,s){var r;o===void 0&&(o=[]),s===void 0&&(s=!0);const u=Nx(i),h=u===((r=i.ownerDocument)==null?void 0:r.body),f=er(u);if(h){const m=fp(f);return o.concat(f,f.visualViewport||[],Gl(u)?u:[],m&&s?$l(m):[])}return o.concat(u,$l(u,[],s))}function fp(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}const Fo=Math.min,ja=Math.max,Bu=Math.round,pu=Math.floor,cs=i=>({x:i,y:i}),i_={left:"right",right:"left",bottom:"top",top:"bottom"},a_={start:"end",end:"start"};function o_(i,o,s){return ja(i,Fo(o,s))}function rd(i,o){return typeof i=="function"?i(o):i}function Bo(i){return i.split("-")[0]}function Kl(i){return i.split("-")[1]}function l_(i){return i==="x"?"y":"x"}function Lp(i){return i==="y"?"height":"width"}const c_=new Set(["top","bottom"]);function _a(i){return c_.has(Bo(i))?"y":"x"}function Op(i){return l_(_a(i))}function u_(i,o,s){s===void 0&&(s=!1);const r=Kl(i),u=Op(i),h=Lp(u);let f=u==="x"?r===(s?"end":"start")?"right":"left":r==="start"?"bottom":"top";return o.reference[h]>o.floating[h]&&(f=zu(f)),[f,zu(f)]}function d_(i){const o=zu(i);return[mp(i),o,mp(o)]}function mp(i){return i.replace(/start|end/g,o=>a_[o])}const ug=["left","right"],dg=["right","left"],h_=["top","bottom"],p_=["bottom","top"];function f_(i,o,s){switch(i){case"top":case"bottom":return s?o?dg:ug:o?ug:dg;case"left":case"right":return o?h_:p_;default:return[]}}function m_(i,o,s,r){const u=Kl(i);let h=f_(Bo(i),s==="start",r);return u&&(h=h.map(f=>f+"-"+u),o&&(h=h.concat(h.map(mp)))),h}function zu(i){return i.replace(/left|right|bottom|top/g,o=>i_[o])}function g_(i){return{top:0,right:0,bottom:0,left:0,...i}}function jx(i){return typeof i!="number"?g_(i):{top:i,right:i,bottom:i,left:i}}function Wu(i){const{x:o,y:s,width:r,height:u}=i;return{width:r,height:u,top:s,left:o,right:o+r,bottom:s+u,x:o,y:s}}function hg(i,o,s){let{reference:r,floating:u}=i;const h=_a(o),f=Op(o),m=Lp(f),v=Bo(o),w=h==="y",_=r.x+r.width/2-u.width/2,N=r.y+r.height/2-u.height/2,M=r[m]/2-u[m]/2;let D;switch(v){case"top":D={x:_,y:r.y-u.height};break;case"bottom":D={x:_,y:r.y+r.height};break;case"right":D={x:r.x+r.width,y:N};break;case"left":D={x:r.x-u.width,y:N};break;default:D={x:r.x,y:r.y}}switch(Kl(o)){case"start":D[f]-=M*(s&&w?-1:1);break;case"end":D[f]+=M*(s&&w?-1:1);break}return D}async function x_(i,o){var s;o===void 0&&(o={});const{x:r,y:u,platform:h,rects:f,elements:m,strategy:v}=i,{boundary:w="clippingAncestors",rootBoundary:_="viewport",elementContext:N="floating",altBoundary:M=!1,padding:D=0}=rd(o,i),T=jx(D),C=m[M?N==="floating"?"reference":"floating":N],V=Wu(await h.getClippingRect({element:(s=await(h.isElement==null?void 0:h.isElement(C)))==null||s?C:C.contextElement||await(h.getDocumentElement==null?void 0:h.getDocumentElement(m.floating)),boundary:w,rootBoundary:_,strategy:v})),O=N==="floating"?{x:r,y:u,width:f.floating.width,height:f.floating.height}:f.reference,B=await(h.getOffsetParent==null?void 0:h.getOffsetParent(m.floating)),te=await(h.isElement==null?void 0:h.isElement(B))?await(h.getScale==null?void 0:h.getScale(B))||{x:1,y:1}:{x:1,y:1},Z=Wu(h.convertOffsetParentRelativeRectToViewportRelativeRect?await h.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:O,offsetParent:B,strategy:v}):O);return{top:(V.top-Z.top+T.top)/te.y,bottom:(Z.bottom-V.bottom+T.bottom)/te.y,left:(V.left-Z.left+T.left)/te.x,right:(Z.right-V.right+T.right)/te.x}}const v_=async(i,o,s)=>{const{placement:r="bottom",strategy:u="absolute",middleware:h=[],platform:f}=s,m=h.filter(Boolean),v=await(f.isRTL==null?void 0:f.isRTL(o));let w=await f.getElementRects({reference:i,floating:o,strategy:u}),{x:_,y:N}=hg(w,r,v),M=r,D={},T=0;for(let C=0;C<m.length;C++){var S;const{name:V,fn:O}=m[C],{x:B,y:te,data:Z,reset:K}=await O({x:_,y:N,initialPlacement:r,placement:M,strategy:u,middlewareData:D,rects:w,platform:{...f,detectOverflow:(S=f.detectOverflow)!=null?S:x_},elements:{reference:i,floating:o}});_=B??_,N=te??N,D={...D,[V]:{...D[V],...Z}},K&&T<=50&&(T++,typeof K=="object"&&(K.placement&&(M=K.placement),K.rects&&(w=K.rects===!0?await f.getElementRects({reference:i,floating:o,strategy:u}):K.rects),{x:_,y:N}=hg(w,M,v)),C=-1)}return{x:_,y:N,placement:M,strategy:u,middlewareData:D}},y_=i=>({name:"arrow",options:i,async fn(o){const{x:s,y:r,placement:u,rects:h,platform:f,elements:m,middlewareData:v}=o,{element:w,padding:_=0}=rd(i,o)||{};if(w==null)return{};const N=jx(_),M={x:s,y:r},D=Op(u),T=Lp(D),S=await f.getDimensions(w),C=D==="y",V=C?"top":"left",O=C?"bottom":"right",B=C?"clientHeight":"clientWidth",te=h.reference[T]+h.reference[D]-M[D]-h.floating[T],Z=M[D]-h.reference[D],K=await(f.getOffsetParent==null?void 0:f.getOffsetParent(w));let q=K?K[B]:0;(!q||!await(f.isElement==null?void 0:f.isElement(K)))&&(q=m.floating[B]||h.floating[T]);const le=te/2-Z/2,xe=q/2-S[T]/2-1,ne=Fo(N[V],xe),ue=Fo(N[O],xe),U=ne,H=q-S[T]-ue,ae=q/2-S[T]/2+le,F=o_(U,ae,H),oe=!v.arrow&&Kl(u)!=null&&ae!==F&&h.reference[T]/2-(ae<U?ne:ue)-S[T]/2<0,ce=oe?ae<U?ae-U:ae-H:0;return{[D]:M[D]+ce,data:{[D]:F,centerOffset:ae-F-ce,...oe&&{alignmentOffset:ce}},reset:oe}}}),b_=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(o){var s,r;const{placement:u,middlewareData:h,rects:f,initialPlacement:m,platform:v,elements:w}=o,{mainAxis:_=!0,crossAxis:N=!0,fallbackPlacements:M,fallbackStrategy:D="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:S=!0,...C}=rd(i,o);if((s=h.arrow)!=null&&s.alignmentOffset)return{};const V=Bo(u),O=_a(m),B=Bo(m)===m,te=await(v.isRTL==null?void 0:v.isRTL(w.floating)),Z=M||(B||!S?[zu(m)]:d_(m)),K=T!=="none";!M&&K&&Z.push(...m_(m,S,T,te));const q=[m,...Z],le=await v.detectOverflow(o,C),xe=[];let ne=((r=h.flip)==null?void 0:r.overflows)||[];if(_&&xe.push(le[V]),N){const ae=u_(u,f,te);xe.push(le[ae[0]],le[ae[1]])}if(ne=[...ne,{placement:u,overflows:xe}],!xe.every(ae=>ae<=0)){var ue,U;const ae=(((ue=h.flip)==null?void 0:ue.index)||0)+1,F=q[ae];if(F&&(!(N==="alignment"?O!==_a(F):!1)||ne.every(W=>_a(W.placement)===O?W.overflows[0]>0:!0)))return{data:{index:ae,overflows:ne},reset:{placement:F}};let oe=(U=ne.filter(ce=>ce.overflows[0]<=0).sort((ce,W)=>ce.overflows[1]-W.overflows[1])[0])==null?void 0:U.placement;if(!oe)switch(D){case"bestFit":{var H;const ce=(H=ne.filter(W=>{if(K){const z=_a(W.placement);return z===O||z==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(z=>z>0).reduce((z,Y)=>z+Y,0)]).sort((W,z)=>W[1]-z[1])[0])==null?void 0:H[0];ce&&(oe=ce);break}case"initialPlacement":oe=m;break}if(u!==oe)return{reset:{placement:oe}}}return{}}}},w_=new Set(["left","top"]);async function __(i,o){const{placement:s,platform:r,elements:u}=i,h=await(r.isRTL==null?void 0:r.isRTL(u.floating)),f=Bo(s),m=Kl(s),v=_a(s)==="y",w=w_.has(f)?-1:1,_=h&&v?-1:1,N=rd(o,i);let{mainAxis:M,crossAxis:D,alignmentAxis:T}=typeof N=="number"?{mainAxis:N,crossAxis:0,alignmentAxis:null}:{mainAxis:N.mainAxis||0,crossAxis:N.crossAxis||0,alignmentAxis:N.alignmentAxis};return m&&typeof T=="number"&&(D=m==="end"?T*-1:T),v?{x:D*_,y:M*w}:{x:M*w,y:D*_}}const k_=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(o){var s,r;const{x:u,y:h,placement:f,middlewareData:m}=o,v=await __(o,i);return f===((s=m.offset)==null?void 0:s.placement)&&(r=m.arrow)!=null&&r.alignmentOffset?{}:{x:u+v.x,y:h+v.y,data:{...v,placement:f}}}}};function Sx(i){const o=vr(i);let s=parseFloat(o.width)||0,r=parseFloat(o.height)||0;const u=ps(i),h=u?i.offsetWidth:s,f=u?i.offsetHeight:r,m=Bu(s)!==h||Bu(r)!==f;return m&&(s=h,r=f),{width:s,height:r,$:m}}function Rp(i){return Pn(i)?i:i.contextElement}function Eo(i){const o=Rp(i);if(!ps(o))return cs(1);const s=o.getBoundingClientRect(),{width:r,height:u,$:h}=Sx(o);let f=(h?Bu(s.width):s.width)/r,m=(h?Bu(s.height):s.height)/u;return(!f||!Number.isFinite(f))&&(f=1),(!m||!Number.isFinite(m))&&(m=1),{x:f,y:m}}const N_=cs(0);function Cx(i){const o=er(i);return!Ep()||!o.visualViewport?N_:{x:o.visualViewport.offsetLeft,y:o.visualViewport.offsetTop}}function j_(i,o,s){return o===void 0&&(o=!1),!s||o&&s!==er(i)?!1:o}function Ea(i,o,s,r){o===void 0&&(o=!1),s===void 0&&(s=!1);const u=i.getBoundingClientRect(),h=Rp(i);let f=cs(1);o&&(r?Pn(r)&&(f=Eo(r)):f=Eo(i));const m=j_(h,s,r)?Cx(h):cs(0);let v=(u.left+m.x)/f.x,w=(u.top+m.y)/f.y,_=u.width/f.x,N=u.height/f.y;if(h){const M=er(h),D=r&&Pn(r)?er(r):r;let T=M,S=fp(T);for(;S&&r&&D!==T;){const C=Eo(S),V=S.getBoundingClientRect(),O=vr(S),B=V.left+(S.clientLeft+parseFloat(O.paddingLeft))*C.x,te=V.top+(S.clientTop+parseFloat(O.paddingTop))*C.y;v*=C.x,w*=C.y,_*=C.x,N*=C.y,v+=B,w+=te,T=er(S),S=fp(T)}}return Wu({width:_,height:N,x:v,y:w})}function sd(i,o){const s=nd(i).scrollLeft;return o?o.left+s:Ea(fs(i)).left+s}function Px(i,o){const s=i.getBoundingClientRect(),r=s.left+o.scrollLeft-sd(i,s),u=s.top+o.scrollTop;return{x:r,y:u}}function S_(i){let{elements:o,rect:s,offsetParent:r,strategy:u}=i;const h=u==="fixed",f=fs(r),m=o?td(o.floating):!1;if(r===f||m&&h)return s;let v={scrollLeft:0,scrollTop:0},w=cs(1);const _=cs(0),N=ps(r);if((N||!N&&!h)&&((zo(r)!=="body"||Gl(f))&&(v=nd(r)),ps(r))){const D=Ea(r);w=Eo(r),_.x=D.x+r.clientLeft,_.y=D.y+r.clientTop}const M=f&&!N&&!h?Px(f,v):cs(0);return{width:s.width*w.x,height:s.height*w.y,x:s.x*w.x-v.scrollLeft*w.x+_.x+M.x,y:s.y*w.y-v.scrollTop*w.y+_.y+M.y}}function C_(i){return Array.from(i.getClientRects())}function P_(i){const o=fs(i),s=nd(i),r=i.ownerDocument.body,u=ja(o.scrollWidth,o.clientWidth,r.scrollWidth,r.clientWidth),h=ja(o.scrollHeight,o.clientHeight,r.scrollHeight,r.clientHeight);let f=-s.scrollLeft+sd(i);const m=-s.scrollTop;return vr(r).direction==="rtl"&&(f+=ja(o.clientWidth,r.clientWidth)-u),{width:u,height:h,x:f,y:m}}const pg=25;function D_(i,o){const s=er(i),r=fs(i),u=s.visualViewport;let h=r.clientWidth,f=r.clientHeight,m=0,v=0;if(u){h=u.width,f=u.height;const _=Ep();(!_||_&&o==="fixed")&&(m=u.offsetLeft,v=u.offsetTop)}const w=sd(r);if(w<=0){const _=r.ownerDocument,N=_.body,M=getComputedStyle(N),D=_.compatMode==="CSS1Compat"&&parseFloat(M.marginLeft)+parseFloat(M.marginRight)||0,T=Math.abs(r.clientWidth-N.clientWidth-D);T<=pg&&(h-=T)}else w<=pg&&(h+=w);return{width:h,height:f,x:m,y:v}}const T_=new Set(["absolute","fixed"]);function M_(i,o){const s=Ea(i,!0,o==="fixed"),r=s.top+i.clientTop,u=s.left+i.clientLeft,h=ps(i)?Eo(i):cs(1),f=i.clientWidth*h.x,m=i.clientHeight*h.y,v=u*h.x,w=r*h.y;return{width:f,height:m,x:v,y:w}}function fg(i,o,s){let r;if(o==="viewport")r=D_(i,s);else if(o==="document")r=P_(fs(i));else if(Pn(o))r=M_(o,s);else{const u=Cx(i);r={x:o.x-u.x,y:o.y-u.y,width:o.width,height:o.height}}return Wu(r)}function Dx(i,o){const s=Bi(i);return s===o||!Pn(s)||Ao(s)?!1:vr(s).position==="fixed"||Dx(s,o)}function E_(i,o){const s=o.get(i);if(s)return s;let r=$l(i,[],!1).filter(m=>Pn(m)&&zo(m)!=="body"),u=null;const h=vr(i).position==="fixed";let f=h?Bi(i):i;for(;Pn(f)&&!Ao(f);){const m=vr(f),v=Mp(f);!v&&m.position==="fixed"&&(u=null),(h?!v&&!u:!v&&m.position==="static"&&!!u&&T_.has(u.position)||Gl(f)&&!v&&Dx(i,f))?r=r.filter(_=>_!==f):u=m,f=Bi(f)}return o.set(i,r),r}function L_(i){let{element:o,boundary:s,rootBoundary:r,strategy:u}=i;const f=[...s==="clippingAncestors"?td(o)?[]:E_(o,this._c):[].concat(s),r],m=f[0],v=f.reduce((w,_)=>{const N=fg(o,_,u);return w.top=ja(N.top,w.top),w.right=Fo(N.right,w.right),w.bottom=Fo(N.bottom,w.bottom),w.left=ja(N.left,w.left),w},fg(o,m,u));return{width:v.right-v.left,height:v.bottom-v.top,x:v.left,y:v.top}}function O_(i){const{width:o,height:s}=Sx(i);return{width:o,height:s}}function R_(i,o,s){const r=ps(o),u=fs(o),h=s==="fixed",f=Ea(i,!0,h,o);let m={scrollLeft:0,scrollTop:0};const v=cs(0);function w(){v.x=sd(u)}if(r||!r&&!h)if((zo(o)!=="body"||Gl(u))&&(m=nd(o)),r){const D=Ea(o,!0,h,o);v.x=D.x+o.clientLeft,v.y=D.y+o.clientTop}else u&&w();h&&!r&&u&&w();const _=u&&!r&&!h?Px(u,m):cs(0),N=f.left+m.scrollLeft-v.x-_.x,M=f.top+m.scrollTop-v.y-_.y;return{x:N,y:M,width:f.width,height:f.height}}function Yh(i){return vr(i).position==="static"}function mg(i,o){if(!ps(i)||vr(i).position==="fixed")return null;if(o)return o(i);let s=i.offsetParent;return fs(i)===s&&(s=s.ownerDocument.body),s}function Tx(i,o){const s=er(i);if(td(i))return s;if(!ps(i)){let u=Bi(i);for(;u&&!Ao(u);){if(Pn(u)&&!Yh(u))return u;u=Bi(u)}return s}let r=mg(i,o);for(;r&&Xw(r)&&Yh(r);)r=mg(r,o);return r&&Ao(r)&&Yh(r)&&!Mp(r)?s:r||r_(i)||s}const I_=async function(i){const o=this.getOffsetParent||Tx,s=this.getDimensions,r=await s(i.floating);return{reference:R_(i.reference,await o(i.floating),i.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A_(i){return vr(i).direction==="rtl"}const F_={convertOffsetParentRelativeRectToViewportRelativeRect:S_,getDocumentElement:fs,getClippingRect:L_,getOffsetParent:Tx,getElementRects:I_,getClientRects:C_,getDimensions:O_,getScale:Eo,isElement:Pn,isRTL:A_};function Mx(i,o){return i.x===o.x&&i.y===o.y&&i.width===o.width&&i.height===o.height}function B_(i,o){let s=null,r;const u=fs(i);function h(){var m;clearTimeout(r),(m=s)==null||m.disconnect(),s=null}function f(m,v){m===void 0&&(m=!1),v===void 0&&(v=1),h();const w=i.getBoundingClientRect(),{left:_,top:N,width:M,height:D}=w;if(m||o(),!M||!D)return;const T=pu(N),S=pu(u.clientWidth-(_+M)),C=pu(u.clientHeight-(N+D)),V=pu(_),B={rootMargin:-T+"px "+-S+"px "+-C+"px "+-V+"px",threshold:ja(0,Fo(1,v))||1};let te=!0;function Z(K){const q=K[0].intersectionRatio;if(q!==v){if(!te)return f();q?f(!1,q):r=setTimeout(()=>{f(!1,1e-7)},1e3)}q===1&&!Mx(w,i.getBoundingClientRect())&&f(),te=!1}try{s=new IntersectionObserver(Z,{...B,root:u.ownerDocument})}catch{s=new IntersectionObserver(Z,B)}s.observe(i)}return f(!0),h}function z_(i,o,s,r){r===void 0&&(r={});const{ancestorScroll:u=!0,ancestorResize:h=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:v=!1}=r,w=Rp(i),_=u||h?[...w?$l(w):[],...$l(o)]:[];_.forEach(V=>{u&&V.addEventListener("scroll",s,{passive:!0}),h&&V.addEventListener("resize",s)});const N=w&&m?B_(w,s):null;let M=-1,D=null;f&&(D=new ResizeObserver(V=>{let[O]=V;O&&O.target===w&&D&&(D.unobserve(o),cancelAnimationFrame(M),M=requestAnimationFrame(()=>{var B;(B=D)==null||B.observe(o)})),s()}),w&&!v&&D.observe(w),D.observe(o));let T,S=v?Ea(i):null;v&&C();function C(){const V=Ea(i);S&&!Mx(S,V)&&s(),S=V,T=requestAnimationFrame(C)}return s(),()=>{var V;_.forEach(O=>{u&&O.removeEventListener("scroll",s),h&&O.removeEventListener("resize",s)}),N?.(),(V=D)==null||V.disconnect(),D=null,v&&cancelAnimationFrame(T)}}const W_=k_,Y_=b_,gg=y_,H_=(i,o,s)=>{const r=new Map,u={platform:F_,...s},h={...u.platform,_c:r};return v_(i,o,{...u,platform:h})};var $_=typeof document<"u",U_=function(){},Su=$_?P.useLayoutEffect:U_;function Yu(i,o){if(i===o)return!0;if(typeof i!=typeof o)return!1;if(typeof i=="function"&&i.toString()===o.toString())return!0;let s,r,u;if(i&&o&&typeof i=="object"){if(Array.isArray(i)){if(s=i.length,s!==o.length)return!1;for(r=s;r--!==0;)if(!Yu(i[r],o[r]))return!1;return!0}if(u=Object.keys(i),s=u.length,s!==Object.keys(o).length)return!1;for(r=s;r--!==0;)if(!{}.hasOwnProperty.call(o,u[r]))return!1;for(r=s;r--!==0;){const h=u[r];if(!(h==="_owner"&&i.$$typeof)&&!Yu(i[h],o[h]))return!1}return!0}return i!==i&&o!==o}function Ex(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function xg(i,o){const s=Ex(i);return Math.round(o*s)/s}function Hh(i){const o=P.useRef(i);return Su(()=>{o.current=i}),o}function Z_(i){i===void 0&&(i={});const{placement:o="bottom",strategy:s="absolute",middleware:r=[],platform:u,elements:{reference:h,floating:f}={},transform:m=!0,whileElementsMounted:v,open:w}=i,[_,N]=P.useState({x:0,y:0,strategy:s,placement:o,middlewareData:{},isPositioned:!1}),[M,D]=P.useState(r);Yu(M,r)||D(r);const[T,S]=P.useState(null),[C,V]=P.useState(null),O=P.useCallback(W=>{W!==K.current&&(K.current=W,S(W))},[]),B=P.useCallback(W=>{W!==q.current&&(q.current=W,V(W))},[]),te=h||T,Z=f||C,K=P.useRef(null),q=P.useRef(null),le=P.useRef(_),xe=v!=null,ne=Hh(v),ue=Hh(u),U=Hh(w),H=P.useCallback(()=>{if(!K.current||!q.current)return;const W={placement:o,strategy:s,middleware:M};ue.current&&(W.platform=ue.current),H_(K.current,q.current,W).then(z=>{const Y={...z,isPositioned:U.current!==!1};ae.current&&!Yu(le.current,Y)&&(le.current=Y,Xu.flushSync(()=>{N(Y)}))})},[M,o,s,ue,U]);Su(()=>{w===!1&&le.current.isPositioned&&(le.current.isPositioned=!1,N(W=>({...W,isPositioned:!1})))},[w]);const ae=P.useRef(!1);Su(()=>(ae.current=!0,()=>{ae.current=!1}),[]),Su(()=>{if(te&&(K.current=te),Z&&(q.current=Z),te&&Z){if(ne.current)return ne.current(te,Z,H);H()}},[te,Z,H,ne,xe]);const F=P.useMemo(()=>({reference:K,floating:q,setReference:O,setFloating:B}),[O,B]),oe=P.useMemo(()=>({reference:te,floating:Z}),[te,Z]),ce=P.useMemo(()=>{const W={position:s,left:0,top:0};if(!oe.floating)return W;const z=xg(oe.floating,_.x),Y=xg(oe.floating,_.y);return m?{...W,transform:"translate("+z+"px, "+Y+"px)",...Ex(oe.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:z,top:Y}},[s,m,oe.floating,_.x,_.y]);return P.useMemo(()=>({..._,update:H,refs:F,elements:oe,floatingStyles:ce}),[_,H,F,oe,ce])}const V_=i=>{function o(s){return{}.hasOwnProperty.call(s,"current")}return{name:"arrow",options:i,fn(s){const{element:r,padding:u}=typeof i=="function"?i(s):i;return r&&o(r)?r.current!=null?gg({element:r.current,padding:u}).fn(s):{}:r?gg({element:r,padding:u}).fn(s):{}}}},q_=(i,o)=>({...W_(i),options:[i,o]}),G_=(i,o)=>({...Y_(i),options:[i,o]}),K_=(i,o)=>({...V_(i),options:[i,o]}),Lx={...Y0},Q_=Lx.useInsertionEffect,X_=Q_||(i=>i());function J_(i){const o=P.useRef(()=>{});return X_(()=>{o.current=i}),P.useCallback(function(){for(var s=arguments.length,r=new Array(s),u=0;u<s;u++)r[u]=arguments[u];return o.current==null?void 0:o.current(...r)},[])}var Hu=typeof document<"u"?P.useLayoutEffect:P.useEffect;function gp(){return gp=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},gp.apply(this,arguments)}let vg=!1,e1=0;const yg=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+e1++;function t1(){const[i,o]=P.useState(()=>vg?yg():void 0);return Hu(()=>{i==null&&o(yg())},[]),P.useEffect(()=>{vg=!0},[]),i}const n1=Lx.useId,Ox=n1||t1,r1=P.forwardRef(function(o,s){const{context:{placement:r,elements:{floating:u},middlewareData:{arrow:h,shift:f}},width:m=14,height:v=7,tipRadius:w=0,strokeWidth:_=0,staticOffset:N,stroke:M,d:D,style:{transform:T,...S}={},...C}=o,V=Ox(),[O,B]=P.useState(!1);if(Hu(()=>{if(!u)return;vr(u).direction==="rtl"&&B(!0)},[u]),!u)return null;const[te,Z]=r.split("-"),K=te==="top"||te==="bottom";let q=N;(K&&f!=null&&f.x||!K&&f!=null&&f.y)&&(q=null);const le=_*2,xe=le/2,ne=m/2*(w/-8+1),ue=v/2*w/4,U=!!D,H=q&&Z==="end"?"bottom":"top";let ae=q&&Z==="end"?"right":"left";q&&O&&(ae=Z==="end"?"left":"right");const F=h?.x!=null?q||h.x:"",oe=h?.y!=null?q||h.y:"",ce=D||"M0,0"+(" H"+m)+(" L"+(m-ne)+","+(v-ue))+(" Q"+m/2+","+v+" "+ne+","+(v-ue))+" Z",W={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[te];return P.createElement("svg",gp({},C,{"aria-hidden":!0,ref:s,width:U?m:m+le,height:m,viewBox:"0 0 "+m+" "+(v>m?v:m),style:{position:"absolute",pointerEvents:"none",[ae]:F,[H]:oe,[te]:K||U?"100%":"calc(100% - "+le/2+"px)",transform:[W,T].filter(z=>!!z).join(" "),...S}}),le>0&&P.createElement("path",{clipPath:"url(#"+V+")",fill:"none",stroke:M,strokeWidth:le+(D?0:1),d:ce}),P.createElement("path",{stroke:le&&!D?C.fill:"none",d:ce}),P.createElement("clipPath",{id:V},P.createElement("rect",{x:-xe,y:xe*(U?-1:1),width:m+le,height:m})))});function s1(){const i=new Map;return{emit(o,s){var r;(r=i.get(o))==null||r.forEach(u=>u(s))},on(o,s){i.set(o,[...i.get(o)||[],s])},off(o,s){var r;i.set(o,((r=i.get(o))==null?void 0:r.filter(u=>u!==s))||[])}}}const i1=P.createContext(null),a1=P.createContext(null),o1=()=>{var i;return((i=P.useContext(i1))==null?void 0:i.id)||null},l1=()=>P.useContext(a1);function c1(i){const{open:o=!1,onOpenChange:s,elements:r}=i,u=Ox(),h=P.useRef({}),[f]=P.useState(()=>s1()),m=o1()!=null,[v,w]=P.useState(r.reference),_=J_((D,T,S)=>{h.current.openEvent=D?T:void 0,f.emit("openchange",{open:D,event:T,reason:S,nested:m}),s?.(D,T,S)}),N=P.useMemo(()=>({setPositionReference:w}),[]),M=P.useMemo(()=>({reference:v||r.reference||null,floating:r.floating||null,domReference:r.reference}),[v,r.reference,r.floating]);return P.useMemo(()=>({dataRef:h,open:o,onOpenChange:_,elements:M,events:f,floatingId:u,refs:N}),[o,_,M,f,u,N])}function u1(i){i===void 0&&(i={});const{nodeId:o}=i,s=c1({...i,elements:{reference:null,floating:null,...i.elements}}),r=i.rootContext||s,u=r.elements,[h,f]=P.useState(null),[m,v]=P.useState(null),_=u?.domReference||h,N=P.useRef(null),M=l1();Hu(()=>{_&&(N.current=_)},[_]);const D=Z_({...i,elements:{...u,...m&&{reference:m}}}),T=P.useCallback(B=>{const te=Pn(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;v(te),D.refs.setReference(te)},[D.refs]),S=P.useCallback(B=>{(Pn(B)||B===null)&&(N.current=B,f(B)),(Pn(D.refs.reference.current)||D.refs.reference.current===null||B!==null&&!Pn(B))&&D.refs.setReference(B)},[D.refs]),C=P.useMemo(()=>({...D.refs,setReference:S,setPositionReference:T,domReference:N}),[D.refs,S,T]),V=P.useMemo(()=>({...D.elements,domReference:_}),[D.elements,_]),O=P.useMemo(()=>({...D,...r,refs:C,elements:V,nodeId:o}),[D,C,V,o,r]);return Hu(()=>{r.dataRef.current.floatingContext=O;const B=M?.nodesRef.current.find(te=>te.id===o);B&&(B.context=O)}),P.useMemo(()=>({...D,context:O,refs:C,elements:V}),[D,C,V,O])}function qt(i,o,s){return o=$u(o),p1(i,Rx()?Reflect.construct(o,s||[],$u(i).constructor):o.apply(i,s))}function Rx(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rx=function(){return!!i})()}function bg(i,o){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);o&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(i,u).enumerable})),s.push.apply(s,r)}return s}function Hs(i){for(var o=1;o<arguments.length;o++){var s=arguments[o]!=null?arguments[o]:{};o%2?bg(Object(s),!0).forEach(function(r){R(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):bg(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}function d1(i,o){if(typeof i!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,o);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function Ix(i){var o=d1(i,"string");return typeof o=="symbol"?o:o+""}function xp(i){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},xp(i)}function Gt(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function wg(i,o){for(var s=0;s<o.length;s++){var r=o[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,Ix(r.key),r)}}function Kt(i,o,s){return o&&wg(i.prototype,o),s&&wg(i,s),Object.defineProperty(i,"prototype",{writable:!1}),i}function R(i,o,s){return o=Ix(o),o in i?Object.defineProperty(i,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[o]=s,i}function Ul(){return Ul=Object.assign?Object.assign.bind():function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},Ul.apply(this,arguments)}function Qt(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),o&&vp(i,o)}function $u(i){return $u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},$u(i)}function vp(i,o){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,u){return r.__proto__=u,r},vp(i,o)}function h1(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function p1(i,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1(i)}function zi(i){return f1(i)||m1(i)||g1(i)||x1()}function f1(i){if(Array.isArray(i))return yp(i)}function m1(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function g1(i,o){if(i){if(typeof i=="string")return yp(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);if(s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set")return Array.from(i);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return yp(i,o)}}function yp(i,o){(o==null||o>i.length)&&(o=i.length);for(var s=0,r=new Array(o);s<o;s++)r[s]=i[s];return r}function x1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ql=12,v1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function lt(i){var o=i?typeof i=="string"||i instanceof String?ww(i):Ne(i):new Date;return Pi(o)?o:null}function y1(i,o,s,r,u){var h=null,f=Oi(s)||Oi(Sa()),m=!0;return Array.isArray(o)?(o.forEach(function(v){var w=Bh(i,v,new Date,{locale:f,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(m=Pi(w,u)&&i===gt(w,v,s)),Pi(w,u)&&m&&(h=w)}),h):(h=Bh(i,o,new Date,{locale:f,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?m=Pi(h)&&i===gt(h,o,s):Pi(h)||(o=o.match(v1).map(function(v){var w=v[0];if(w==="p"||w==="P"){var _=Lu[w];return f?_(v,f.formatLong):w}return v}).join(""),i.length>0&&(h=Bh(i,o.slice(0,i.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Pi(h)||(h=new Date(i))),Pi(h)&&m?h:null)}function Pi(i,o){return o=o||new Date("1/1/1000"),Wl(i)&&!Ma(i,o)}function gt(i,o,s){if(s==="en")return ng(i,o,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=Oi(s);return s&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(s,'"].')),!r&&Sa()&&Oi(Sa())&&(r=Oi(Sa())),ng(i,o,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function xr(i,o){var s=o.dateFormat,r=o.locale;return i&&gt(i,Array.isArray(s)?s[0]:s,r)||""}function b1(i,o,s){if(!i)return"";var r=xr(i,s),u=o?xr(o,s):"";return"".concat(r," - ").concat(u)}function w1(i,o){if(!(i!=null&&i.length))return"";var s=xr(i[0],o);if(i.length===1)return s;if(i.length===2){var r=xr(i[1],o);return"".concat(s,", ").concat(r)}var u=i.length-1;return"".concat(s," (+").concat(u,")")}function $h(i,o){var s=o.hour,r=s===void 0?0:s,u=o.minute,h=u===void 0?0:u,f=o.second,m=f===void 0?0:f;return ju(Nu(ku(i,m),h),r)}function _1(i,o){return Sa()&&Oi(Sa()),jp(i)}function k1(i,o){return gt(i,"ddd",o)}function N1(i){return as(i)}function Ei(i,o,s){var r=Oi(o||Sa());return Zs(i,{locale:r,weekStartsOn:s})}function Li(i){return gx(i)}function Ol(i){return Qu(i)}function _g(i){return up(i)}function kg(){return as(lt())}function j1(i){return vb(i)}function ns(i,o){return i&&o?kb(i,o):!i&&!o}function Jn(i,o){return i&&o?_b(i,o):!i&&!o}function Uu(i,o){return i&&o?Nb(i,o):!i&&!o}function et(i,o){return i&&o?wb(i,o):!i&&!o}function ka(i,o){return i&&o?bb(i,o):!i&&!o}function Rl(i,o,s){var r,u=as(o),h=dp(s);try{r=Hl(i,{start:u,end:h})}catch{r=!1}return r}function Sa(){var i=typeof window<"u"?window:globalThis;return i.__localeId__}function Oi(i){if(typeof i=="string"){var o=typeof window<"u"?window:globalThis;return o.__localeData__?o.__localeData__[i]:null}else return i}function S1(i,o,s){return o(gt(i,"EEEE",s))}function C1(i,o){return gt(i,"EEEEEE",o)}function P1(i,o){return gt(i,"EEE",o)}function Ip(i,o){return gt(Nn(lt(),i),"LLLL",o)}function Ax(i,o){return gt(Nn(lt(),i),"LLL",o)}function D1(i,o){return gt(Po(lt(),i),"QQQ",o)}function id(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.maxDate,u=o.excludeDates,h=o.excludeDateIntervals,f=o.includeDates,m=o.includeDateIntervals,v=o.filterDate;return ad(i,{minDate:s,maxDate:r})||u&&u.some(function(w){return et(i,w.date?w.date:w)})||h&&h.some(function(w){var _=w.start,N=w.end;return Hl(i,{start:_,end:N})})||f&&!f.some(function(w){return et(i,w)})||m&&!m.some(function(w){var _=w.start,N=w.end;return Hl(i,{start:_,end:N})})||v&&!v(lt(i))||!1}function Ap(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.excludeDates,r=o.excludeDateIntervals;return r&&r.length>0?r.some(function(u){var h=u.start,f=u.end;return Hl(i,{start:h,end:f})}):s&&s.some(function(u){return et(i,u.date?u.date:u)})||!1}function Cu(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.maxDate,u=o.excludeDates,h=o.includeDates,f=o.filterDate;return ad(i,{minDate:gx(s),maxDate:yb(r)})||u&&u.some(function(m){return Jn(i,m)})||h&&!h.some(function(m){return Jn(i,m)})||f&&!f(lt(i))||!1}function fu(i,o,s,r){var u=$e(i),h=Cn(i),f=$e(o),m=Cn(o),v=$e(r);if(u===f&&u===v)return h<=s&&s<=m;if(u<f)return v===u&&h<=s||v===f&&m>=s||v<f&&v>u}function Uh(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.maxDate,u=o.excludeDates,h=o.includeDates,f=o.filterDate;return ad(i,{minDate:s,maxDate:r})||u&&u.some(function(m){return Uu(i,m)})||h&&!h.some(function(m){return Uu(i,m)})||f&&!f(lt(i))||!1}function mu(i,o,s){if(!Wl(o)||!Wl(s))return!1;var r=$e(o),u=$e(s);return r<=i&&u>=i}function Fx(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.maxDate,u=o.excludeDates,h=o.includeDates,f=o.filterDate,m=new Date(i,0,1);return ad(m,{minDate:Qu(s),maxDate:xx(r)})||u&&u.some(function(v){return ns(m,v)})||h&&!h.some(function(v){return ns(m,v)})||f&&!f(lt(m))||!1}function gu(i,o,s,r){var u=$e(i),h=Na(i),f=$e(o),m=Na(o),v=$e(r);if(u===f&&u===v)return h<=s&&s<=m;if(u<f)return v===u&&h<=s||v===f&&m>=s||v<f&&v>u}function ad(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.maxDate;return s&&Yl(i,s)<0||r&&Yl(i,r)>0}function Ng(i,o){return o.some(function(s){return ls(s)===ls(i)&&os(s)===os(i)&&Us(s)===Us(i)})}function jg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.excludeTimes,r=o.includeTimes,u=o.filterTime;return s&&Ng(i,s)||r&&!Ng(i,r)||u&&!u(i)||!1}function Sg(i,o){var s=o.minTime,r=o.maxTime;if(!s||!r)throw new Error("Both minTime and maxTime props required");var u=lt();u=ju(u,ls(i)),u=Nu(u,os(i)),u=ku(u,Us(i));var h=lt();h=ju(h,ls(s)),h=Nu(h,os(s)),h=ku(h,Us(s));var f=lt();f=ju(f,ls(r)),f=Nu(f,os(r)),f=ku(f,Us(r));var m;try{m=!Hl(u,{start:h,end:f})}catch{m=!1}return m}function Cg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.includeDates,u=Ro(i,1);return s&&Ru(s,u)>0||r&&r.every(function(h){return Ru(h,u)>0})||!1}function Pg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.maxDate,r=o.includeDates,u=Fr(i,1);return s&&Ru(u,s)>0||r&&r.every(function(h){return Ru(u,h)>0})||!1}function T1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.includeDates,u=Qu(i),h=mx(u);return s&&Au(s,h)>0||r&&r.every(function(f){return Au(f,h)>0})||!1}function M1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.maxDate,r=o.includeDates,u=xx(i),h=Pp(u,1);return s&&Au(h,s)>0||r&&r.every(function(f){return Au(h,f)>0})||!1}function Dg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.includeDates,u=Io(i,1);return s&&Iu(s,u)>0||r&&r.every(function(h){return Iu(h,u)>0})||!1}function E1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.minDate,r=o.yearItemNumber,u=r===void 0?Ql:r,h=Ol(Io(i,u)),f=Mi(h,u),m=f.endPeriod,v=s&&$e(s);return v&&v>m||!1}function Tg(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.maxDate,r=o.includeDates,u=$s(i,1);return s&&Iu(u,s)>0||r&&r.every(function(h){return Iu(u,h)>0})||!1}function L1(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.maxDate,r=o.yearItemNumber,u=r===void 0?Ql:r,h=$s(i,u),f=Mi(h,u),m=f.startPeriod,v=s&&$e(s);return v&&v<m||!1}function Bx(i){var o=i.minDate,s=i.includeDates;if(s&&o){var r=s.filter(function(u){return Yl(u,o)>=0});return ig(r)}else return s?ig(s):o}function zx(i){var o=i.maxDate,s=i.includeDates;if(s&&o){var r=s.filter(function(u){return Yl(u,o)<=0});return ag(r)}else return s?ag(s):o}function Mg(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",s=new Map,r=0,u=i.length;r<u;r++){var h=i[r];if(Ta(h)){var f=gt(h,"MM.dd.yyyy"),m=s.get(f)||[];m.includes(o)||(m.push(o),s.set(f,m))}else if(xp(h)==="object"){var v=Object.keys(h),w=v[0],_=h[v[0]];if(typeof w=="string"&&_.constructor===Array)for(var N=0,M=_.length;N<M;N++){var D=gt(_[N],"MM.dd.yyyy"),T=s.get(D)||[];T.includes(w)||(T.push(w),s.set(D,T))}}}return s}function O1(i,o){return i.length!==o.length?!1:i.every(function(s,r){return s===o[r]})}function R1(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",s=new Map;return i.forEach(function(r){var u=r.date,h=r.holidayName;if(Ta(u)){var f=gt(u,"MM.dd.yyyy"),m=s.get(f)||{};if(!("className"in m&&m.className===o&&O1(m.holidayNames,[h]))){m.className=o;var v=m.holidayNames;m.holidayNames=v?[].concat(zi(v),[h]):[h],s.set(f,m)}}}),s}function I1(i,o,s,r,u){for(var h=u.length,f=[],m=0;m<h;m++){var v=i;v=fb(v,ls(u[m])),v=lp(v,os(u[m])),v=Aw(v,Us(u[m]));var w=lp(i,(s+1)*r);Fi(v,o)&&Ma(v,w)&&f.push(u[m])}return f}function Eg(i){return i<10?"0".concat(i):"".concat(i)}function Mi(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ql,s=Math.ceil($e(i)/o)*o,r=s-(o-1);return{startPeriod:r,endPeriod:s}}function A1(i){var o=new Date(i.getFullYear(),i.getMonth(),i.getDate()),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),24);return Math.round((+s-+o)/36e5)}function Lg(i){var o=i.getSeconds(),s=i.getMilliseconds();return Ne(i.getTime()-o*1e3-s)}function F1(i,o){return Lg(i).getTime()===Lg(o).getTime()}function Og(i){if(!Ta(i))throw new Error("Invalid date");var o=new Date(i);return o.setHours(0,0,0,0),o}function Rg(i,o){if(!Ta(i)||!Ta(o))throw new Error("Invalid date received");var s=Og(i),r=Og(o);return Ma(s,r)}function Wx(i){var o=" ";return i.key===o}function B1(i,o,s,r){for(var u=[],h=0;h<2*o+1;h++){var f=i+o-h,m=!0;s&&(m=$e(s)<=f),r&&m&&(m=$e(r)>=f),m&&u.push(f)}return u}var z1=(function(i){function o(s){var r;Gt(this,o),r=qt(this,o,[s]),R(r,"renderOptions",function(){var m=r.props.year,v=r.state.yearsList.map(function(N){return re.createElement("div",{className:m===N?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:N,onClick:r.onChange.bind(r,N),"aria-selected":m===N?"true":void 0},m===N?re.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",N)}),w=r.props.minDate?$e(r.props.minDate):null,_=r.props.maxDate?$e(r.props.maxDate):null;return(!_||!r.state.yearsList.find(function(N){return N===_}))&&v.unshift(re.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!w||!r.state.yearsList.find(function(N){return N===w}))&&v.push(re.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),v}),R(r,"onChange",function(m){r.props.onChange(m)}),R(r,"handleClickOutside",function(){r.props.onCancel()}),R(r,"shiftYears",function(m){var v=r.state.yearsList.map(function(w){return w+m});r.setState({yearsList:v})}),R(r,"incrementYears",function(){return r.shiftYears(1)}),R(r,"decrementYears",function(){return r.shiftYears(-1)});var u=s.yearDropdownItemNumber,h=s.scrollableYearDropdown,f=u||(h?10:5);return r.state={yearsList:B1(r.props.year,f,r.props.minDate,r.props.maxDate)},r.dropdownRef=P.createRef(),r}return Qt(o,i),Kt(o,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var u=r.children?Array.from(r.children):null,h=u?u.find(function(f){return f.ariaSelected}):null;r.scrollTop=h?h.offsetTop+(h.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=nn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return re.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])})(re.Component),W1=Ju(z1),Y1=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"state",{dropdownVisible:!1}),R(s,"renderSelectOptions",function(){for(var f=s.props.minDate?$e(s.props.minDate):1900,m=s.props.maxDate?$e(s.props.maxDate):2100,v=[],w=f;w<=m;w++)v.push(re.createElement("option",{key:w,value:w},w));return v}),R(s,"onSelectChange",function(f){s.onChange(f.target.value)}),R(s,"renderSelectMode",function(){return re.createElement("select",{value:s.props.year,className:"react-datepicker__year-select",onChange:s.onSelectChange},s.renderSelectOptions())}),R(s,"renderReadView",function(f){return re.createElement("div",{key:"read",style:{visibility:f?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(v){return s.toggleDropdown(v)}},re.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},s.props.year))}),R(s,"renderDropdown",function(){return re.createElement(W1,{key:"dropdown",year:s.props.year,onChange:s.onChange,onCancel:s.toggleDropdown,minDate:s.props.minDate,maxDate:s.props.maxDate,scrollableYearDropdown:s.props.scrollableYearDropdown,yearDropdownItemNumber:s.props.yearDropdownItemNumber})}),R(s,"renderScrollMode",function(){var f=s.state.dropdownVisible,m=[s.renderReadView(!f)];return f&&m.unshift(s.renderDropdown()),m}),R(s,"onChange",function(f){s.toggleDropdown(),f!==s.props.year&&s.props.onChange(f)}),R(s,"toggleDropdown",function(f){s.setState({dropdownVisible:!s.state.dropdownVisible},function(){s.props.adjustDateOnChange&&s.handleYearChange(s.props.date,f)})}),R(s,"handleYearChange",function(f,m){s.onSelect(f,m),s.setOpen()}),R(s,"onSelect",function(f,m){s.props.onSelect&&s.props.onSelect(f,m)}),R(s,"setOpen",function(){s.props.setOpen&&s.props.setOpen(!0)}),s}return Qt(o,i),Kt(o,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])})(re.Component),H1=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"isSelectedMonth",function(f){return s.props.month===f}),R(s,"renderOptions",function(){return s.props.monthNames.map(function(f,m){return re.createElement("div",{className:s.isSelectedMonth(m)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:f,onClick:s.onChange.bind(s,m),"aria-selected":s.isSelectedMonth(m)?"true":void 0},s.isSelectedMonth(m)?re.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",f)})}),R(s,"onChange",function(f){return s.props.onChange(f)}),R(s,"handleClickOutside",function(){return s.props.onCancel()}),s}return Qt(o,i),Kt(o,[{key:"render",value:function(){return re.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])})(re.Component),$1=Ju(H1),U1=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"state",{dropdownVisible:!1}),R(s,"renderSelectOptions",function(f){return f.map(function(m,v){return re.createElement("option",{key:v,value:v},m)})}),R(s,"renderSelectMode",function(f){return re.createElement("select",{value:s.props.month,className:"react-datepicker__month-select",onChange:function(v){return s.onChange(v.target.value)}},s.renderSelectOptions(f))}),R(s,"renderReadView",function(f,m){return re.createElement("div",{key:"read",style:{visibility:f?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:s.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},m[s.props.month]))}),R(s,"renderDropdown",function(f){return re.createElement($1,{key:"dropdown",month:s.props.month,monthNames:f,onChange:s.onChange,onCancel:s.toggleDropdown})}),R(s,"renderScrollMode",function(f){var m=s.state.dropdownVisible,v=[s.renderReadView(!m,f)];return m&&v.unshift(s.renderDropdown(f)),v}),R(s,"onChange",function(f){s.toggleDropdown(),f!==s.props.month&&s.props.onChange(f)}),R(s,"toggleDropdown",function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})}),s}return Qt(o,i),Kt(o,[{key:"render",value:function(){var r=this,u=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(f){return Ax(f,r.props.locale)}:function(f){return Ip(f,r.props.locale)}),h;switch(this.props.dropdownMode){case"scroll":h=this.renderScrollMode(u);break;case"select":h=this.renderSelectMode(u);break}return re.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},h)}}])})(re.Component);function Z1(i,o){for(var s=[],r=Li(i),u=Li(o);!Fi(r,u);)s.push(lt(r)),r=Fr(r,1);return s}var V1=(function(i){function o(s){var r;return Gt(this,o),r=qt(this,o,[s]),R(r,"renderOptions",function(){return r.state.monthYearsList.map(function(u){var h=cp(u),f=ns(r.props.date,u)&&Jn(r.props.date,u);return re.createElement("div",{className:f?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":f?"true":void 0},f?re.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",gt(u,r.props.dateFormat,r.props.locale))})}),R(r,"onChange",function(u){return r.props.onChange(u)}),R(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:Z1(r.props.minDate,r.props.maxDate)},r}return Qt(o,i),Kt(o,[{key:"render",value:function(){var r=nn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return re.createElement("div",{className:r},this.renderOptions())}}])})(re.Component),q1=Ju(V1),G1=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"state",{dropdownVisible:!1}),R(s,"renderSelectOptions",function(){for(var f=Li(s.props.minDate),m=Li(s.props.maxDate),v=[];!Fi(f,m);){var w=cp(f);v.push(re.createElement("option",{key:w,value:w},gt(f,s.props.dateFormat,s.props.locale))),f=Fr(f,1)}return v}),R(s,"onSelectChange",function(f){s.onChange(f.target.value)}),R(s,"renderSelectMode",function(){return re.createElement("select",{value:cp(Li(s.props.date)),className:"react-datepicker__month-year-select",onChange:s.onSelectChange},s.renderSelectOptions())}),R(s,"renderReadView",function(f){var m=gt(s.props.date,s.props.dateFormat,s.props.locale);return re.createElement("div",{key:"read",style:{visibility:f?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(w){return s.toggleDropdown(w)}},re.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},m))}),R(s,"renderDropdown",function(){return re.createElement(q1,{key:"dropdown",date:s.props.date,dateFormat:s.props.dateFormat,onChange:s.onChange,onCancel:s.toggleDropdown,minDate:s.props.minDate,maxDate:s.props.maxDate,scrollableMonthYearDropdown:s.props.scrollableMonthYearDropdown,locale:s.props.locale})}),R(s,"renderScrollMode",function(){var f=s.state.dropdownVisible,m=[s.renderReadView(!f)];return f&&m.unshift(s.renderDropdown()),m}),R(s,"onChange",function(f){s.toggleDropdown();var m=lt(parseInt(f));ns(s.props.date,m)&&Jn(s.props.date,m)||s.props.onChange(m)}),R(s,"toggleDropdown",function(){return s.setState({dropdownVisible:!s.state.dropdownVisible})}),s}return Qt(o,i),Kt(o,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])})(re.Component),K1=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"dayEl",re.createRef()),R(s,"handleClick",function(f){!s.isDisabled()&&s.props.onClick&&s.props.onClick(f)}),R(s,"handleMouseEnter",function(f){!s.isDisabled()&&s.props.onMouseEnter&&s.props.onMouseEnter(f)}),R(s,"handleOnKeyDown",function(f){var m=f.key;m===" "&&(f.preventDefault(),f.key="Enter"),s.props.handleOnKeyDown(f)}),R(s,"isSameDay",function(f){return et(s.props.day,f)}),R(s,"isKeyboardSelected",function(){var f;if(s.props.disabledKeyboardNavigation)return!1;var m=s.props.selectsMultiple?(f=s.props.selectedDates)===null||f===void 0?void 0:f.some(function(v){return s.isSameDayOrWeek(v)}):s.isSameDayOrWeek(s.props.selected);return!m&&s.isSameDayOrWeek(s.props.preSelection)}),R(s,"isDisabled",function(){return id(s.props.day,s.props)}),R(s,"isExcluded",function(){return Ap(s.props.day,s.props)}),R(s,"isStartOfWeek",function(){return et(s.props.day,Ei(s.props.day,s.props.locale,s.props.calendarStartDay))}),R(s,"isSameWeek",function(f){return s.props.showWeekPicker&&et(f,Ei(s.props.day,s.props.locale,s.props.calendarStartDay))}),R(s,"isSameDayOrWeek",function(f){return s.isSameDay(f)||s.isSameWeek(f)}),R(s,"getHighLightedClass",function(){var f=s.props,m=f.day,v=f.highlightDates;if(!v)return!1;var w=gt(m,"MM.dd.yyyy");return v.get(w)}),R(s,"getHolidaysClass",function(){var f=s.props,m=f.day,v=f.holidays;if(!v)return!1;var w=gt(m,"MM.dd.yyyy");if(v.has(w))return[v.get(w).className]}),R(s,"isInRange",function(){var f=s.props,m=f.day,v=f.startDate,w=f.endDate;return!v||!w?!1:Rl(m,v,w)}),R(s,"isInSelectingRange",function(){var f,m=s.props,v=m.day,w=m.selectsStart,_=m.selectsEnd,N=m.selectsRange,M=m.selectsDisabledDaysInRange,D=m.startDate,T=m.endDate,S=(f=s.props.selectingDate)!==null&&f!==void 0?f:s.props.preSelection;return!(w||_||N)||!S||!M&&s.isDisabled()?!1:w&&T&&(Ma(S,T)||ka(S,T))?Rl(v,S,T):_&&D&&(Fi(S,D)||ka(S,D))||N&&D&&!T&&(Fi(S,D)||ka(S,D))?Rl(v,D,S):!1}),R(s,"isSelectingRangeStart",function(){var f;if(!s.isInSelectingRange())return!1;var m=s.props,v=m.day,w=m.startDate,_=m.selectsStart,N=(f=s.props.selectingDate)!==null&&f!==void 0?f:s.props.preSelection;return _?et(v,N):et(v,w)}),R(s,"isSelectingRangeEnd",function(){var f;if(!s.isInSelectingRange())return!1;var m=s.props,v=m.day,w=m.endDate,_=m.selectsEnd,N=m.selectsRange,M=(f=s.props.selectingDate)!==null&&f!==void 0?f:s.props.preSelection;return _||N?et(v,M):et(v,w)}),R(s,"isRangeStart",function(){var f=s.props,m=f.day,v=f.startDate,w=f.endDate;return!v||!w?!1:et(v,m)}),R(s,"isRangeEnd",function(){var f=s.props,m=f.day,v=f.startDate,w=f.endDate;return!v||!w?!1:et(w,m)}),R(s,"isWeekend",function(){var f=gb(s.props.day);return f===0||f===6}),R(s,"isAfterMonth",function(){return s.props.month!==void 0&&(s.props.month+1)%12===Cn(s.props.day)}),R(s,"isBeforeMonth",function(){return s.props.month!==void 0&&(Cn(s.props.day)+1)%12===s.props.month}),R(s,"isCurrentDay",function(){return s.isSameDay(lt())}),R(s,"isSelected",function(){if(s.props.selectsMultiple){var f;return(f=s.props.selectedDates)===null||f===void 0?void 0:f.some(function(m){return s.isSameDayOrWeek(m)})}return s.isSameDayOrWeek(s.props.selected)}),R(s,"getClassNames",function(f){var m=s.props.dayClassName?s.props.dayClassName(f):void 0;return nn("react-datepicker__day",m,"react-datepicker__day--"+k1(s.props.day),{"react-datepicker__day--disabled":s.isDisabled(),"react-datepicker__day--excluded":s.isExcluded(),"react-datepicker__day--selected":s.isSelected(),"react-datepicker__day--keyboard-selected":s.isKeyboardSelected(),"react-datepicker__day--range-start":s.isRangeStart(),"react-datepicker__day--range-end":s.isRangeEnd(),"react-datepicker__day--in-range":s.isInRange(),"react-datepicker__day--in-selecting-range":s.isInSelectingRange(),"react-datepicker__day--selecting-range-start":s.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":s.isSelectingRangeEnd(),"react-datepicker__day--today":s.isCurrentDay(),"react-datepicker__day--weekend":s.isWeekend(),"react-datepicker__day--outside-month":s.isAfterMonth()||s.isBeforeMonth()},s.getHighLightedClass("react-datepicker__day--highlighted"),s.getHolidaysClass())}),R(s,"getAriaLabel",function(){var f=s.props,m=f.day,v=f.ariaLabelPrefixWhenEnabled,w=v===void 0?"Choose":v,_=f.ariaLabelPrefixWhenDisabled,N=_===void 0?"Not available":_,M=s.isDisabled()||s.isExcluded()?N:w;return"".concat(M," ").concat(gt(m,"PPPP",s.props.locale))}),R(s,"getTitle",function(){var f=s.props,m=f.day,v=f.holidays,w=v===void 0?new Map:v,_=f.excludeDates,N=gt(m,"MM.dd.yyyy"),M=[];return w.has(N)&&M.push.apply(M,zi(w.get(N).holidayNames)),s.isExcluded()&&M.push(_?.filter(function(D){return et(D.date?D.date:D,m)}).map(function(D){return D.message})),M.join(", ")}),R(s,"getTabIndex",function(f,m){var v=f||s.props.selected,w=m||s.props.preSelection,_=!(s.props.showWeekPicker&&(s.props.showWeekNumber||!s.isStartOfWeek()))&&(s.isKeyboardSelected()||s.isSameDay(v)&&et(w,v))?0:-1;return _}),R(s,"handleFocusDay",function(){var f,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=!1;s.getTabIndex()===0&&!m.isInputFocused&&s.isSameDay(s.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(v=!0),s.props.inline&&!s.props.shouldFocusDayInline&&(v=!1),s.props.containerRef&&s.props.containerRef.current&&s.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(v=!0),s.props.monthShowsDuplicateDaysEnd&&s.isAfterMonth()&&(v=!1),s.props.monthShowsDuplicateDaysStart&&s.isBeforeMonth()&&(v=!1)),v&&((f=s.dayEl.current)===null||f===void 0||f.focus({preventScroll:!0}))}),R(s,"renderDayContents",function(){return s.props.monthShowsDuplicateDaysEnd&&s.isAfterMonth()||s.props.monthShowsDuplicateDaysStart&&s.isBeforeMonth()?null:s.props.renderDayContents?s.props.renderDayContents(sg(s.props.day),s.props.day):sg(s.props.day)}),R(s,"render",function(){return re.createElement("div",{ref:s.dayEl,className:s.getClassNames(s.props.day),onKeyDown:s.handleOnKeyDown,onClick:s.handleClick,onMouseEnter:s.props.usePointerEvent?void 0:s.handleMouseEnter,onPointerEnter:s.props.usePointerEvent?s.handleMouseEnter:void 0,tabIndex:s.getTabIndex(),"aria-label":s.getAriaLabel(),role:"option",title:s.getTitle(),"aria-disabled":s.isDisabled(),"aria-current":s.isCurrentDay()?"date":void 0,"aria-selected":s.isSelected()||s.isInRange()},s.renderDayContents(),s.getTitle()!==""&&re.createElement("span",{className:"overlay"},s.getTitle()))}),s}return Qt(o,i),Kt(o,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])})(re.Component),Q1=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"weekNumberEl",re.createRef()),R(s,"handleClick",function(f){s.props.onClick&&s.props.onClick(f)}),R(s,"handleOnKeyDown",function(f){var m=f.key;m===" "&&(f.preventDefault(),f.key="Enter"),s.props.handleOnKeyDown(f)}),R(s,"isKeyboardSelected",function(){return!s.props.disabledKeyboardNavigation&&!et(s.props.date,s.props.selected)&&et(s.props.date,s.props.preSelection)}),R(s,"getTabIndex",function(){return s.props.showWeekPicker&&s.props.showWeekNumber&&(s.isKeyboardSelected()||et(s.props.date,s.props.selected)&&et(s.props.preSelection,s.props.selected))?0:-1}),R(s,"handleFocusWeekNumber",function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=!1;s.getTabIndex()===0&&!f.isInputFocused&&et(s.props.date,s.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(m=!0),s.props.inline&&!s.props.shouldFocusDayInline&&(m=!1),s.props.containerRef&&s.props.containerRef.current&&s.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(m=!0)),m&&s.weekNumberEl.current&&s.weekNumberEl.current.focus({preventScroll:!0})}),s}return Qt(o,i),Kt(o,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,u=r.weekNumber,h=r.ariaLabelPrefix,f=h===void 0?"week ":h,m=r.onClick,v={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!m,"react-datepicker__week-number--selected":!!m&&et(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return re.createElement("div",{ref:this.weekNumberEl,className:nn(v),"aria-label":"".concat(f," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},u)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])})(re.Component),X1=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"handleDayClick",function(f,m){s.props.onDayClick&&s.props.onDayClick(f,m)}),R(s,"handleDayMouseEnter",function(f){s.props.onDayMouseEnter&&s.props.onDayMouseEnter(f)}),R(s,"handleWeekClick",function(f,m,v){typeof s.props.onWeekSelect=="function"&&s.props.onWeekSelect(f,m,v),s.props.showWeekPicker&&s.handleDayClick(f,v),s.props.shouldCloseOnSelect&&s.props.setOpen(!1)}),R(s,"formatWeekNumber",function(f){return s.props.formatWeekNumber?s.props.formatWeekNumber(f):_1(f)}),R(s,"renderDays",function(){var f=s.startOfWeek(),m=[],v=s.formatWeekNumber(f);if(s.props.showWeekNumber){var w=s.props.onWeekSelect||s.props.showWeekPicker?s.handleWeekClick.bind(s,f,v):void 0;m.push(re.createElement(Q1,{key:"W",weekNumber:v,date:f,onClick:w,selected:s.props.selected,preSelection:s.props.preSelection,ariaLabelPrefix:s.props.ariaLabelPrefix,showWeekPicker:s.props.showWeekPicker,showWeekNumber:s.props.showWeekNumber,disabledKeyboardNavigation:s.props.disabledKeyboardNavigation,handleOnKeyDown:s.props.handleOnKeyDown,isInputFocused:s.props.isInputFocused,containerRef:s.props.containerRef}))}return m.concat([0,1,2,3,4,5,6].map(function(_){var N=Wi(f,_);return re.createElement(K1,{ariaLabelPrefixWhenEnabled:s.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:s.props.disabledDayAriaLabelPrefix,key:N.valueOf(),day:N,month:s.props.month,onClick:s.handleDayClick.bind(s,N),usePointerEvent:s.props.usePointerEvent,onMouseEnter:s.handleDayMouseEnter.bind(s,N),minDate:s.props.minDate,maxDate:s.props.maxDate,calendarStartDay:s.props.calendarStartDay,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDates:s.props.includeDates,includeDateIntervals:s.props.includeDateIntervals,highlightDates:s.props.highlightDates,holidays:s.props.holidays,selectingDate:s.props.selectingDate,filterDate:s.props.filterDate,preSelection:s.props.preSelection,selected:s.props.selected,selectsStart:s.props.selectsStart,selectsEnd:s.props.selectsEnd,selectsRange:s.props.selectsRange,showWeekPicker:s.props.showWeekPicker,showWeekNumber:s.props.showWeekNumber,selectsDisabledDaysInRange:s.props.selectsDisabledDaysInRange,selectsMultiple:s.props.selectsMultiple,selectedDates:s.props.selectedDates,startDate:s.props.startDate,endDate:s.props.endDate,dayClassName:s.props.dayClassName,renderDayContents:s.props.renderDayContents,disabledKeyboardNavigation:s.props.disabledKeyboardNavigation,handleOnKeyDown:s.props.handleOnKeyDown,isInputFocused:s.props.isInputFocused,containerRef:s.props.containerRef,inline:s.props.inline,shouldFocusDayInline:s.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:s.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:s.props.monthShowsDuplicateDaysStart,locale:s.props.locale})}))}),R(s,"startOfWeek",function(){return Ei(s.props.day,s.props.locale,s.props.calendarStartDay)}),R(s,"isKeyboardSelected",function(){return!s.props.disabledKeyboardNavigation&&!et(s.startOfWeek(),s.props.selected)&&et(s.startOfWeek(),s.props.preSelection)}),s}return Qt(o,i),Kt(o,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":et(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return re.createElement("div",{className:nn(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])})(re.Component),J1=6,Lo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Zh=R(R(R({},Lo.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),Lo.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),Lo.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),xu=1;function Ig(i,o){return i?Lo.FOUR_COLUMNS:o?Lo.TWO_COLUMNS:Lo.THREE_COLUMNS}var ek=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"MONTH_REFS",zi(Array(12)).map(function(){return re.createRef()})),R(s,"QUARTER_REFS",zi(Array(4)).map(function(){return re.createRef()})),R(s,"isDisabled",function(f){return id(f,s.props)}),R(s,"isExcluded",function(f){return Ap(f,s.props)}),R(s,"handleDayClick",function(f,m){s.props.onDayClick&&s.props.onDayClick(f,m,s.props.orderInDisplay)}),R(s,"handleDayMouseEnter",function(f){s.props.onDayMouseEnter&&s.props.onDayMouseEnter(f)}),R(s,"handleMouseLeave",function(){s.props.onMouseLeave&&s.props.onMouseLeave()}),R(s,"isRangeStartMonth",function(f){var m=s.props,v=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:Jn(Nn(v,f),w)}),R(s,"isRangeStartQuarter",function(f){var m=s.props,v=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:Uu(Po(v,f),w)}),R(s,"isRangeEndMonth",function(f){var m=s.props,v=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:Jn(Nn(v,f),_)}),R(s,"isRangeEndQuarter",function(f){var m=s.props,v=m.day,w=m.startDate,_=m.endDate;return!w||!_?!1:Uu(Po(v,f),_)}),R(s,"isInSelectingRangeMonth",function(f){var m,v=s.props,w=v.day,_=v.selectsStart,N=v.selectsEnd,M=v.selectsRange,D=v.startDate,T=v.endDate,S=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return!(_||N||M)||!S?!1:_&&T?fu(S,T,f,w):N&&D||M&&D&&!T?fu(D,S,f,w):!1}),R(s,"isSelectingMonthRangeStart",function(f){var m;if(!s.isInSelectingRangeMonth(f))return!1;var v=s.props,w=v.day,_=v.startDate,N=v.selectsStart,M=Nn(w,f),D=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return N?Jn(M,D):Jn(M,_)}),R(s,"isSelectingMonthRangeEnd",function(f){var m;if(!s.isInSelectingRangeMonth(f))return!1;var v=s.props,w=v.day,_=v.endDate,N=v.selectsEnd,M=v.selectsRange,D=Nn(w,f),T=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return N||M?Jn(D,T):Jn(D,_)}),R(s,"isInSelectingRangeQuarter",function(f){var m,v=s.props,w=v.day,_=v.selectsStart,N=v.selectsEnd,M=v.selectsRange,D=v.startDate,T=v.endDate,S=(m=s.props.selectingDate)!==null&&m!==void 0?m:s.props.preSelection;return!(_||N||M)||!S?!1:_&&T?gu(S,T,f,w):N&&D||M&&D&&!T?gu(D,S,f,w):!1}),R(s,"isWeekInMonth",function(f){var m=s.props.day,v=Wi(f,6);return Jn(f,m)||Jn(v,m)}),R(s,"isCurrentMonth",function(f,m){return $e(f)===$e(lt())&&m===Cn(lt())}),R(s,"isCurrentQuarter",function(f,m){return $e(f)===$e(lt())&&m===Na(lt())}),R(s,"isSelectedMonth",function(f,m,v){return Cn(v)===m&&$e(f)===$e(v)}),R(s,"isSelectedQuarter",function(f,m,v){return Na(f)===m&&$e(f)===$e(v)}),R(s,"renderWeeks",function(){for(var f=[],m=s.props.fixedHeight,v=0,w=!1,_=Ei(Li(s.props.day),s.props.locale,s.props.calendarStartDay),N=s.props.showWeekPicker?Ei(s.props.selected,s.props.locale,s.props.calendarStartDay):s.props.selected,M=s.props.showWeekPicker?Ei(s.props.preSelection,s.props.locale,s.props.calendarStartDay):s.props.preSelection;f.push(re.createElement(X1,{ariaLabelPrefix:s.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:s.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:s.props.disabledDayAriaLabelPrefix,key:v,day:_,month:Cn(s.props.day),onDayClick:s.handleDayClick,usePointerEvent:s.props.usePointerEvent,onDayMouseEnter:s.handleDayMouseEnter,onWeekSelect:s.props.onWeekSelect,formatWeekNumber:s.props.formatWeekNumber,locale:s.props.locale,minDate:s.props.minDate,maxDate:s.props.maxDate,excludeDates:s.props.excludeDates,excludeDateIntervals:s.props.excludeDateIntervals,includeDates:s.props.includeDates,includeDateIntervals:s.props.includeDateIntervals,inline:s.props.inline,shouldFocusDayInline:s.props.shouldFocusDayInline,highlightDates:s.props.highlightDates,holidays:s.props.holidays,selectingDate:s.props.selectingDate,filterDate:s.props.filterDate,preSelection:M,selected:N,selectsStart:s.props.selectsStart,selectsEnd:s.props.selectsEnd,selectsRange:s.props.selectsRange,selectsDisabledDaysInRange:s.props.selectsDisabledDaysInRange,selectsMultiple:s.props.selectsMultiple,selectedDates:s.props.selectedDates,showWeekNumber:s.props.showWeekNumbers,showWeekPicker:s.props.showWeekPicker,startDate:s.props.startDate,endDate:s.props.endDate,dayClassName:s.props.dayClassName,setOpen:s.props.setOpen,shouldCloseOnSelect:s.props.shouldCloseOnSelect,disabledKeyboardNavigation:s.props.disabledKeyboardNavigation,renderDayContents:s.props.renderDayContents,handleOnKeyDown:s.props.handleOnKeyDown,isInputFocused:s.props.isInputFocused,containerRef:s.props.containerRef,calendarStartDay:s.props.calendarStartDay,monthShowsDuplicateDaysEnd:s.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:s.props.monthShowsDuplicateDaysStart})),!w;){v++,_=Ou(_,1);var D=m&&v>=J1,T=!m&&!s.isWeekInMonth(_);if(D||T)if(s.props.peekNextMonth)w=!0;else break}return f}),R(s,"onMonthClick",function(f,m){var v=Nn(s.props.day,m);Cu(v,s.props)||s.handleDayClick(Li(v),f)}),R(s,"onMonthMouseEnter",function(f){var m=Nn(s.props.day,f);Cu(m,s.props)||s.handleDayMouseEnter(Li(m))}),R(s,"handleMonthNavigation",function(f,m){s.isDisabled(m)||s.isExcluded(m)||(s.props.setPreSelection(m),s.MONTH_REFS[f].current&&s.MONTH_REFS[f].current.focus())}),R(s,"onMonthKeyDown",function(f,m){var v=s.props,w=v.selected,_=v.preSelection,N=v.disabledKeyboardNavigation,M=v.showTwoColumnMonthYearPicker,D=v.showFourColumnMonthYearPicker,T=v.setPreSelection,S=v.handleOnMonthKeyDown,C=f.key;if(C!=="Tab"&&f.preventDefault(),!N){var V=Ig(D,M),O=Zh[V].verticalNavigationOffset,B=Zh[V].grid;switch(C){case"Enter":s.onMonthClick(f,m),T(w);break;case"ArrowRight":s.handleMonthNavigation(m===11?0:m+xu,Fr(_,xu));break;case"ArrowLeft":s.handleMonthNavigation(m===0?11:m-xu,Ro(_,xu));break;case"ArrowUp":s.handleMonthNavigation(B[0].includes(m)?m+12-O:m-O,Ro(_,O));break;case"ArrowDown":s.handleMonthNavigation(B[B.length-1].includes(m)?m-12+O:m+O,Fr(_,O));break}}S&&S(f)}),R(s,"onQuarterClick",function(f,m){var v=Po(s.props.day,m);Uh(v,s.props)||s.handleDayClick(_g(v),f)}),R(s,"onQuarterMouseEnter",function(f){var m=Po(s.props.day,f);Uh(m,s.props)||s.handleDayMouseEnter(_g(m))}),R(s,"handleQuarterNavigation",function(f,m){s.isDisabled(m)||s.isExcluded(m)||(s.props.setPreSelection(m),s.QUARTER_REFS[f-1].current&&s.QUARTER_REFS[f-1].current.focus())}),R(s,"onQuarterKeyDown",function(f,m){var v=f.key;if(!s.props.disabledKeyboardNavigation)switch(v){case"Enter":s.onQuarterClick(f,m),s.props.setPreSelection(s.props.selected);break;case"ArrowRight":s.handleQuarterNavigation(m===4?1:m+1,Pp(s.props.preSelection,1));break;case"ArrowLeft":s.handleQuarterNavigation(m===1?4:m-1,mx(s.props.preSelection));break}}),R(s,"isMonthDisabled",function(f){var m=s.props,v=m.day,w=m.minDate,_=m.maxDate,N=m.excludeDates,M=m.includeDates,D=Nn(v,f);return(w||_||N||M)&&Cu(D,s.props)}),R(s,"getMonthClassNames",function(f){var m=s.props,v=m.day,w=m.startDate,_=m.endDate,N=m.selected,M=m.preSelection,D=m.monthClassName,T=D?D(Nn(v,f)):void 0;return nn("react-datepicker__month-text","react-datepicker__month-".concat(f),T,{"react-datepicker__month-text--disabled":s.isMonthDisabled(f),"react-datepicker__month-text--selected":s.isSelectedMonth(v,f,N),"react-datepicker__month-text--keyboard-selected":!s.props.disabledKeyboardNavigation&&s.isSelectedMonth(v,f,M),"react-datepicker__month-text--in-selecting-range":s.isInSelectingRangeMonth(f),"react-datepicker__month-text--in-range":fu(w,_,f,v),"react-datepicker__month-text--range-start":s.isRangeStartMonth(f),"react-datepicker__month-text--range-end":s.isRangeEndMonth(f),"react-datepicker__month-text--selecting-range-start":s.isSelectingMonthRangeStart(f),"react-datepicker__month-text--selecting-range-end":s.isSelectingMonthRangeEnd(f),"react-datepicker__month-text--today":s.isCurrentMonth(v,f)})}),R(s,"getTabIndex",function(f){var m=Cn(s.props.preSelection),v=!s.props.disabledKeyboardNavigation&&f===m?"0":"-1";return v}),R(s,"getQuarterTabIndex",function(f){var m=Na(s.props.preSelection),v=!s.props.disabledKeyboardNavigation&&f===m?"0":"-1";return v}),R(s,"getAriaLabel",function(f){var m=s.props,v=m.chooseDayAriaLabelPrefix,w=v===void 0?"Choose":v,_=m.disabledDayAriaLabelPrefix,N=_===void 0?"Not available":_,M=m.day,D=m.locale,T=Nn(M,f),S=s.isDisabled(T)||s.isExcluded(T)?N:w;return"".concat(S," ").concat(gt(T,"MMMM yyyy",D))}),R(s,"getQuarterClassNames",function(f){var m=s.props,v=m.day,w=m.startDate,_=m.endDate,N=m.selected,M=m.minDate,D=m.maxDate,T=m.preSelection,S=m.disabledKeyboardNavigation;return nn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(f),{"react-datepicker__quarter-text--disabled":(M||D)&&Uh(Po(v,f),s.props),"react-datepicker__quarter-text--selected":s.isSelectedQuarter(v,f,N),"react-datepicker__quarter-text--keyboard-selected":!S&&s.isSelectedQuarter(v,f,T),"react-datepicker__quarter-text--in-selecting-range":s.isInSelectingRangeQuarter(f),"react-datepicker__quarter-text--in-range":gu(w,_,f,v),"react-datepicker__quarter-text--range-start":s.isRangeStartQuarter(f),"react-datepicker__quarter-text--range-end":s.isRangeEndQuarter(f)})}),R(s,"getMonthContent",function(f){var m=s.props,v=m.showFullMonthYearPicker,w=m.renderMonthContent,_=m.locale,N=m.day,M=Ax(f,_),D=Ip(f,_);return w?w(f,M,D,N):v?D:M}),R(s,"getQuarterContent",function(f){var m=s.props,v=m.renderQuarterContent,w=m.locale,_=D1(f,w);return v?v(f,_):_}),R(s,"renderMonths",function(){var f=s.props,m=f.showTwoColumnMonthYearPicker,v=f.showFourColumnMonthYearPicker,w=f.day,_=f.selected,N=Zh[Ig(v,m)].grid;return N.map(function(M,D){return re.createElement("div",{className:"react-datepicker__month-wrapper",key:D},M.map(function(T,S){return re.createElement("div",{ref:s.MONTH_REFS[T],key:S,onClick:function(V){s.onMonthClick(V,T)},onKeyDown:function(V){Wx(V)&&(V.preventDefault(),V.key="Enter"),s.onMonthKeyDown(V,T)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onMonthMouseEnter(T)},onPointerEnter:s.props.usePointerEvent?function(){return s.onMonthMouseEnter(T)}:void 0,tabIndex:s.getTabIndex(T),className:s.getMonthClassNames(T),"aria-disabled":s.isMonthDisabled(T),role:"option","aria-label":s.getAriaLabel(T),"aria-current":s.isCurrentMonth(w,T)?"date":void 0,"aria-selected":s.isSelectedMonth(w,T,_)},s.getMonthContent(T))}))})}),R(s,"renderQuarters",function(){var f=s.props,m=f.day,v=f.selected,w=[1,2,3,4];return re.createElement("div",{className:"react-datepicker__quarter-wrapper"},w.map(function(_,N){return re.createElement("div",{key:N,ref:s.QUARTER_REFS[N],role:"option",onClick:function(D){s.onQuarterClick(D,_)},onKeyDown:function(D){s.onQuarterKeyDown(D,_)},onMouseEnter:s.props.usePointerEvent?void 0:function(){return s.onQuarterMouseEnter(_)},onPointerEnter:s.props.usePointerEvent?function(){return s.onQuarterMouseEnter(_)}:void 0,className:s.getQuarterClassNames(_),"aria-selected":s.isSelectedQuarter(m,_,v),tabIndex:s.getQuarterTabIndex(_),"aria-current":s.isCurrentQuarter(m,_)?"date":void 0},s.getQuarterContent(_))}))}),R(s,"getClassNames",function(){var f=s.props,m=f.selectingDate,v=f.selectsStart,w=f.selectsEnd,_=f.showMonthYearPicker,N=f.showQuarterYearPicker,M=f.showWeekPicker;return nn("react-datepicker__month",{"react-datepicker__month--selecting-range":m&&(v||w)},{"react-datepicker__monthPicker":_},{"react-datepicker__quarterPicker":N},{"react-datepicker__weekPicker":M})}),s}return Qt(o,i),Kt(o,[{key:"render",value:function(){var r=this.props,u=r.showMonthYearPicker,h=r.showQuarterYearPicker,f=r.day,m=r.ariaLabelPrefix,v=m===void 0?"Month ":m,w=v?v.trim()+" ":"";return re.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(w).concat(gt(f,"MMMM, yyyy",this.props.locale)),role:"listbox"},u?this.renderMonths():h?this.renderQuarters():this.renderWeeks())}}])})(re.Component),Yx=(function(i){function o(){var s;Gt(this,o);for(var r=arguments.length,u=new Array(r),h=0;h<r;h++)u[h]=arguments[h];return s=qt(this,o,[].concat(u)),R(s,"state",{height:null}),R(s,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){s.list&&(s.list.scrollTop=s.centerLi&&o.calcCenterPosition(s.props.monthRef?s.props.monthRef.clientHeight-s.header.clientHeight:s.list.clientHeight,s.centerLi))})}),R(s,"handleClick",function(f){(s.props.minTime||s.props.maxTime)&&Sg(f,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&jg(f,s.props)||s.props.onChange(f)}),R(s,"isSelectedTime",function(f){return s.props.selected&&F1(s.props.selected,f)}),R(s,"isDisabledTime",function(f){return(s.props.minTime||s.props.maxTime)&&Sg(f,s.props)||(s.props.excludeTimes||s.props.includeTimes||s.props.filterTime)&&jg(f,s.props)}),R(s,"liClasses",function(f){var m=["react-datepicker__time-list-item",s.props.timeClassName?s.props.timeClassName(f):void 0];return s.isSelectedTime(f)&&m.push("react-datepicker__time-list-item--selected"),s.isDisabledTime(f)&&m.push("react-datepicker__time-list-item--disabled"),s.props.injectTimes&&(ls(f)*3600+os(f)*60+Us(f))%(s.props.intervals*60)!==0&&m.push("react-datepicker__time-list-item--injected"),m.join(" ")}),R(s,"handleOnKeyDown",function(f,m){f.key===" "&&(f.preventDefault(),f.key="Enter"),(f.key==="ArrowUp"||f.key==="ArrowLeft")&&f.target.previousSibling&&(f.preventDefault(),f.target.previousSibling.focus()),(f.key==="ArrowDown"||f.key==="ArrowRight")&&f.target.nextSibling&&(f.preventDefault(),f.target.nextSibling.focus()),f.key==="Enter"&&s.handleClick(m),s.props.handleOnKeyDown(f)}),R(s,"renderTimes",function(){for(var f=[],m=s.props.format?s.props.format:"p",v=s.props.intervals,w=s.props.selected||s.props.openToDate||lt(),_=N1(w),N=s.props.injectTimes&&s.props.injectTimes.sort(function(O,B){return O-B}),M=60*A1(w),D=M/v,T=0;T<D;T++){var S=lp(_,T*v);if(f.push(S),N){var C=I1(_,S,T,v,N);f=f.concat(C)}}var V=f.reduce(function(O,B){return B.getTime()<=w.getTime()?B:O},f[0]);return f.map(function(O,B){return re.createElement("li",{key:B,onClick:s.handleClick.bind(s,O),className:s.liClasses(O),ref:function(Z){O===V&&(s.centerLi=Z)},onKeyDown:function(Z){s.handleOnKeyDown(Z,O)},tabIndex:O===V?0:-1,role:"option","aria-selected":s.isSelectedTime(O)?"true":void 0,"aria-disabled":s.isDisabledTime(O)?"true":void 0},gt(O,m,s.props.locale))})}),s}return Qt(o,i),Kt(o,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,u=this.state.height;return re.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},re.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(f){r.header=f}},re.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),re.createElement("div",{className:"react-datepicker__time"},re.createElement("div",{className:"react-datepicker__time-box"},re.createElement("ul",{className:"react-datepicker__time-list",ref:function(f){r.list=f},style:u?{height:u}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])})(re.Component);R(Yx,"calcCenterPosition",function(i,o){return o.offsetTop-(i/2-o.clientHeight/2)});var Ag=3,tk=(function(i){function o(s){var r;return Gt(this,o),r=qt(this,o,[s]),R(r,"YEAR_REFS",zi(Array(r.props.yearItemNumber)).map(function(){return re.createRef()})),R(r,"isDisabled",function(u){return id(u,r.props)}),R(r,"isExcluded",function(u){return Ap(u,r.props)}),R(r,"selectingDate",function(){var u;return(u=r.props.selectingDate)!==null&&u!==void 0?u:r.props.preSelection}),R(r,"updateFocusOnPaginate",function(u){var h=(function(){this.YEAR_REFS[u].current.focus()}).bind(r);window.requestAnimationFrame(h)}),R(r,"handleYearClick",function(u,h){r.props.onDayClick&&r.props.onDayClick(u,h)}),R(r,"handleYearNavigation",function(u,h){var f=r.props,m=f.date,v=f.yearItemNumber,w=Mi(m,v),_=w.startPeriod;r.isDisabled(h)||r.isExcluded(h)||(r.props.setPreSelection(h),u-_<0?r.updateFocusOnPaginate(v-(_-u)):u-_>=v?r.updateFocusOnPaginate(Math.abs(v-(u-_))):r.YEAR_REFS[u-_].current.focus())}),R(r,"isSameDay",function(u,h){return et(u,h)}),R(r,"isCurrentYear",function(u){return u===$e(lt())}),R(r,"isRangeStart",function(u){return r.props.startDate&&r.props.endDate&&ns(ts(lt(),u),r.props.startDate)}),R(r,"isRangeEnd",function(u){return r.props.startDate&&r.props.endDate&&ns(ts(lt(),u),r.props.endDate)}),R(r,"isInRange",function(u){return mu(u,r.props.startDate,r.props.endDate)}),R(r,"isInSelectingRange",function(u){var h=r.props,f=h.selectsStart,m=h.selectsEnd,v=h.selectsRange,w=h.startDate,_=h.endDate;return!(f||m||v)||!r.selectingDate()?!1:f&&_?mu(u,r.selectingDate(),_):m&&w||v&&w&&!_?mu(u,w,r.selectingDate()):!1}),R(r,"isSelectingRangeStart",function(u){if(!r.isInSelectingRange(u))return!1;var h=r.props,f=h.startDate,m=h.selectsStart,v=ts(lt(),u);return m?ns(v,r.selectingDate()):ns(v,f)}),R(r,"isSelectingRangeEnd",function(u){if(!r.isInSelectingRange(u))return!1;var h=r.props,f=h.endDate,m=h.selectsEnd,v=h.selectsRange,w=ts(lt(),u);return m||v?ns(w,r.selectingDate()):ns(w,f)}),R(r,"isKeyboardSelected",function(u){var h=Ol(ts(r.props.date,u));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!et(h,Ol(r.props.selected))&&et(h,Ol(r.props.preSelection))}),R(r,"onYearClick",function(u,h){var f=r.props.date;r.handleYearClick(Ol(ts(f,h)),u)}),R(r,"onYearKeyDown",function(u,h){var f=u.key,m=r.props,v=m.date,w=m.yearItemNumber,_=m.handleOnKeyDown;if(f!=="Tab"&&u.preventDefault(),!r.props.disabledKeyboardNavigation)switch(f){case"Enter":r.onYearClick(u,h),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(h+1,$s(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(h-1,Io(r.props.preSelection,1));break;case"ArrowUp":{var N=Mi(v,w),M=N.startPeriod,D=Ag,T=h-D;if(T<M){var S=w%D;h>=M&&h<M+S?D=S:D+=S,T=h-D}r.handleYearNavigation(T,Io(r.props.preSelection,D));break}case"ArrowDown":{var C=Mi(v,w),V=C.endPeriod,O=Ag,B=h+O;if(B>V){var te=w%O;h<=V&&h>V-te?O=te:O+=te,B=h+O}r.handleYearNavigation(B,$s(r.props.preSelection,O));break}}_&&_(u)}),R(r,"getYearClassNames",function(u){var h=r.props,f=h.date,m=h.minDate,v=h.maxDate,w=h.selected,_=h.excludeDates,N=h.includeDates,M=h.filterDate,D=h.yearClassName;return nn("react-datepicker__year-text","react-datepicker__year-".concat(u),D?D(ts(f,u)):void 0,{"react-datepicker__year-text--selected":u===$e(w),"react-datepicker__year-text--disabled":(m||v||_||N||M)&&Fx(u,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(u),"react-datepicker__year-text--range-start":r.isRangeStart(u),"react-datepicker__year-text--range-end":r.isRangeEnd(u),"react-datepicker__year-text--in-range":r.isInRange(u),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(u),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(u),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(u),"react-datepicker__year-text--today":r.isCurrentYear(u)})}),R(r,"getYearTabIndex",function(u){if(r.props.disabledKeyboardNavigation)return"-1";var h=$e(r.props.preSelection);return u===h?"0":"-1"}),R(r,"getYearContainerClassNames",function(){var u=r.props,h=u.selectingDate,f=u.selectsStart,m=u.selectsEnd,v=u.selectsRange;return nn("react-datepicker__year",{"react-datepicker__year--selecting-range":h&&(f||m||v)})}),R(r,"getYearContent",function(u){return r.props.renderYearContent?r.props.renderYearContent(u):u}),r}return Qt(o,i),Kt(o,[{key:"render",value:function(){for(var r=this,u=[],h=this.props,f=h.date,m=h.yearItemNumber,v=h.onYearMouseEnter,w=h.onYearMouseLeave,_=Mi(f,m),N=_.startPeriod,M=_.endPeriod,D=function(C){u.push(re.createElement("div",{ref:r.YEAR_REFS[C-N],onClick:function(O){r.onYearClick(O,C)},onKeyDown:function(O){Wx(O)&&(O.preventDefault(),O.key="Enter"),r.onYearKeyDown(O,C)},tabIndex:r.getYearTabIndex(C),className:r.getYearClassNames(C),onMouseEnter:r.props.usePointerEvent?void 0:function(V){return v(V,C)},onPointerEnter:r.props.usePointerEvent?function(V){return v(V,C)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(V){return w(V,C)},onPointerLeave:r.props.usePointerEvent?function(V){return w(V,C)}:void 0,key:C,"aria-current":r.isCurrentYear(C)?"date":void 0},r.getYearContent(C)))},T=N;T<=M;T++)D(T);return re.createElement("div",{className:this.getYearContainerClassNames()},re.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},u))}}])})(re.Component),nk=(function(i){function o(s){var r;return Gt(this,o),r=qt(this,o,[s]),R(r,"onTimeChange",function(u){r.setState({time:u});var h=r.props.date,f=h instanceof Date&&!isNaN(h),m=f?h:new Date;m.setHours(u.split(":")[0]),m.setMinutes(u.split(":")[1]),r.props.onChange(m)}),R(r,"renderTimeInput",function(){var u=r.state.time,h=r.props,f=h.date,m=h.timeString,v=h.customTimeInput;return v?re.cloneElement(v,{date:f,value:u,onChange:r.onTimeChange}):re.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:u,onChange:function(_){r.onTimeChange(_.target.value||m)}})}),r.state={time:r.props.timeString},r}return Qt(o,i),Kt(o,[{key:"render",value:function(){return re.createElement("div",{className:"react-datepicker__input-time-container"},re.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),re.createElement("div",{className:"react-datepicker-time__input-container"},re.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,u){return r.timeString!==u.time?{time:r.timeString}:null}}])})(re.Component);function rk(i){var o=i.showTimeSelectOnly,s=o===void 0?!1:o,r=i.showTime,u=r===void 0?!1:r,h=i.className,f=i.children,m=s?"Choose Time":"Choose Date".concat(u?" and Time":"");return re.createElement("div",{className:h,role:"dialog","aria-label":m,"aria-modal":"true"},f)}var sk=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],ik=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=(o.className||"").split(/\s+/);return sk.some(function(r){return s.indexOf(r)>=0})},ak=(function(i){function o(s){var r;return Gt(this,o),r=qt(this,o,[s]),R(r,"handleClickOutside",function(u){r.props.onClickOutside(u)}),R(r,"setClickOutsideRef",function(){return r.containerRef.current}),R(r,"handleDropdownFocus",function(u){ik(u.target)&&r.props.onDropdownFocus()}),R(r,"getDateInView",function(){var u=r.props,h=u.preSelection,f=u.selected,m=u.openToDate,v=Bx(r.props),w=zx(r.props),_=lt(),N=m||f||h;return N||(v&&Ma(_,v)?v:w&&Fi(_,w)?w:_)}),R(r,"increaseMonth",function(){r.setState(function(u){var h=u.date;return{date:Fr(h,1)}},function(){return r.handleMonthChange(r.state.date)})}),R(r,"decreaseMonth",function(){r.setState(function(u){var h=u.date;return{date:Ro(h,1)}},function(){return r.handleMonthChange(r.state.date)})}),R(r,"handleDayClick",function(u,h,f){r.props.onSelect(u,h,f),r.props.setPreSelection&&r.props.setPreSelection(u)}),R(r,"handleDayMouseEnter",function(u){r.setState({selectingDate:u}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(u)}),R(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),R(r,"handleYearMouseEnter",function(u,h){r.setState({selectingDate:ts(lt(),h)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(u,h)}),R(r,"handleYearMouseLeave",function(u,h){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(u,h)}),R(r,"handleYearChange",function(u){r.props.onYearChange&&(r.props.onYearChange(u),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(u),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(u)}),R(r,"handleMonthChange",function(u){r.handleCustomMonthChange(u),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(u),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(u)}),R(r,"handleCustomMonthChange",function(u){r.props.onMonthChange&&(r.props.onMonthChange(u),r.setState({isRenderAriaLiveMessage:!0}))}),R(r,"handleMonthYearChange",function(u){r.handleYearChange(u),r.handleMonthChange(u)}),R(r,"changeYear",function(u){r.setState(function(h){var f=h.date;return{date:ts(f,u)}},function(){return r.handleYearChange(r.state.date)})}),R(r,"changeMonth",function(u){r.setState(function(h){var f=h.date;return{date:Nn(f,u)}},function(){return r.handleMonthChange(r.state.date)})}),R(r,"changeMonthYear",function(u){r.setState(function(h){var f=h.date;return{date:ts(Nn(f,Cn(u)),$e(u))}},function(){return r.handleMonthYearChange(r.state.date)})}),R(r,"header",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,h=Ei(u,r.props.locale,r.props.calendarStartDay),f=[];return r.props.showWeekNumbers&&f.push(re.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),f.concat([0,1,2,3,4,5,6].map(function(m){var v=Wi(h,m),w=r.formatWeekday(v,r.props.locale),_=r.props.weekDayClassName?r.props.weekDayClassName(v):void 0;return re.createElement("div",{key:m,"aria-label":gt(v,"EEEE",r.props.locale),className:nn("react-datepicker__day-name",_)},w)}))}),R(r,"formatWeekday",function(u,h){return r.props.formatWeekDay?S1(u,r.props.formatWeekDay,h):r.props.useWeekdaysShort?P1(u,h):C1(u,h)}),R(r,"decreaseYear",function(){r.setState(function(u){var h=u.date;return{date:Io(h,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),R(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),R(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var u;switch(!0){case r.props.showMonthYearPicker:u=Dg(r.state.date,r.props);break;case r.props.showYearPicker:u=E1(r.state.date,r.props);break;case r.props.showQuarterYearPicker:u=T1(r.state.date,r.props);break;default:u=Cg(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&u||r.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],f=["react-datepicker__navigation","react-datepicker__navigation--previous"],m=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(m=r.decreaseYear),u&&r.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--previous--disabled"),m=null);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,_=w.previousMonthButtonLabel,N=w.previousYearButtonLabel,M=r.props,D=M.previousMonthAriaLabel,T=D===void 0?typeof _=="string"?_:"Previous Month":D,S=M.previousYearAriaLabel,C=S===void 0?typeof N=="string"?N:"Previous Year":S;return re.createElement("button",{type:"button",className:f.join(" "),onClick:m,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?C:T},re.createElement("span",{className:h.join(" ")},v?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),R(r,"increaseYear",function(){r.setState(function(u){var h=u.date;return{date:$s(h,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),R(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var u;switch(!0){case r.props.showMonthYearPicker:u=Tg(r.state.date,r.props);break;case r.props.showYearPicker:u=L1(r.state.date,r.props);break;case r.props.showQuarterYearPicker:u=M1(r.state.date,r.props);break;default:u=Pg(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&u||r.props.showTimeSelectOnly)){var h=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&h.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&h.push("react-datepicker__navigation--next--with-today-button");var m=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(m=r.increaseYear),u&&r.props.showDisabledMonthNavigation&&(h.push("react-datepicker__navigation--next--disabled"),m=null);var v=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,_=w.nextMonthButtonLabel,N=w.nextYearButtonLabel,M=r.props,D=M.nextMonthAriaLabel,T=D===void 0?typeof _=="string"?_:"Next Month":D,S=M.nextYearAriaLabel,C=S===void 0?typeof N=="string"?N:"Next Year":S;return re.createElement("button",{type:"button",className:h.join(" "),onClick:m,onKeyDown:r.props.handleOnKeyDown,"aria-label":v?C:T},re.createElement("span",{className:f.join(" ")},v?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),R(r,"renderCurrentMonth",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,h=["react-datepicker__current-month"];return r.props.showYearDropdown&&h.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&h.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&h.push("react-datepicker__current-month--hasMonthYearDropdown"),re.createElement("div",{className:h.join(" ")},gt(u,r.props.dateFormat,r.props.locale))}),R(r,"renderYearDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||u))return re.createElement(Y1,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:$e(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),R(r,"renderMonthDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||u))return re.createElement(U1,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Cn(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),R(r,"renderMonthYearDropdown",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||u))return re.createElement(G1,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),R(r,"handleTodayButtonClick",function(u){r.props.onSelect(kg(),u),r.props.setPreSelection&&r.props.setPreSelection(kg())}),R(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return re.createElement("div",{className:"react-datepicker__today-button",onClick:function(h){return r.handleTodayButtonClick(h)}},r.props.todayButton)}),R(r,"renderDefaultHeader",function(u){var h=u.monthDate,f=u.i;return re.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(h),re.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(f!==0),r.renderMonthYearDropdown(f!==0),r.renderYearDropdown(f!==0)),re.createElement("div",{className:"react-datepicker__day-names"},r.header(h)))}),R(r,"renderCustomHeader",function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=u.monthDate,f=u.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var m=Cg(r.state.date,r.props),v=Pg(r.state.date,r.props),w=Dg(r.state.date,r.props),_=Tg(r.state.date,r.props),N=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return re.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(Hs(Hs({},r.state),{},{customHeaderCount:f,monthDate:h,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:m,nextMonthButtonDisabled:v,prevYearButtonDisabled:w,nextYearButtonDisabled:_})),N&&re.createElement("div",{className:"react-datepicker__day-names"},r.header(h)))}),R(r,"renderYearHeader",function(u){var h=u.monthDate,f=r.props,m=f.showYearPicker,v=f.yearItemNumber,w=Mi(h,v),_=w.startPeriod,N=w.endPeriod;return re.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},m?"".concat(_," - ").concat(N):$e(h))}),R(r,"renderHeader",function(u){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(u);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(u);default:return r.renderDefaultHeader(u)}}),R(r,"renderMonths",function(){var u;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var h=[],f=r.props.showPreviousMonths?r.props.monthsShown-1:0,m=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?$s(r.state.date,f):Ro(r.state.date,f),v=(u=r.props.monthSelectedIn)!==null&&u!==void 0?u:f,w=0;w<r.props.monthsShown;++w){var _=w-v+f,N=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?$s(m,_):Fr(m,_),M="month-".concat(w),D=w<r.props.monthsShown-1,T=w>0;h.push(re.createElement("div",{key:M,ref:function(C){r.monthContainer=C},className:"react-datepicker__month-container"},r.renderHeader({monthDate:N,i:w}),re.createElement(ek,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:N,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:w,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:D,monthShowsDuplicateDaysStart:T})))}return h}}),R(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return re.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),re.createElement(tk,Ul({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),R(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return re.createElement(Yx,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),R(r,"renderInputTimeSection",function(){var u=new Date(r.props.selected),h=Pi(u)&&!!r.props.selected,f=h?"".concat(Eg(u.getHours()),":").concat(Eg(u.getMinutes())):"";if(r.props.showTimeInput)return re.createElement(nk,{date:u,timeString:f,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),R(r,"renderAriaLiveRegion",function(){var u=Mi(r.state.date,r.props.yearItemNumber),h=u.startPeriod,f=u.endPeriod,m;return r.props.showYearPicker?m="".concat(h," - ").concat(f):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?m=$e(r.state.date):m="".concat(Ip(Cn(r.state.date),r.props.locale)," ").concat($e(r.state.date)),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&m)}),R(r,"renderChildren",function(){if(r.props.children)return re.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=re.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return Qt(o,i),Kt(o,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())}},{key:"componentDidUpdate",value:function(r){var u=this;if(this.props.preSelection&&(!et(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var h=!Jn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return h&&u.handleCustomMonthChange(u.state.date)})}else this.props.openToDate&&!et(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||rk;return re.createElement("div",{style:{display:"contents"},ref:this.containerRef},re.createElement(r,{className:nn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:Ql}}}])})(re.Component),ok=function(o){var s=o.icon,r=o.className,u=r===void 0?"":r,h=o.onClick,f="react-datepicker__calendar-icon";return re.isValidElement(s)?re.cloneElement(s,{className:"".concat(s.props.className||""," ").concat(f," ").concat(u),onClick:function(v){typeof s.props.onClick=="function"&&s.props.onClick(v),typeof h=="function"&&h(v)}}):typeof s=="string"?re.createElement("i",{className:"".concat(f," ").concat(s," ").concat(u),"aria-hidden":"true",onClick:h}):re.createElement("svg",{className:"".concat(f," ").concat(u),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:h},re.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},lk=ok,Hx=(function(i){function o(s){var r;return Gt(this,o),r=qt(this,o,[s]),r.el=document.createElement("div"),r}return Qt(o,i),Kt(o,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return Bw.createPortal(this.props.children,this.el)}}])})(re.Component),ck="[tabindex], a, button, input, select, textarea",uk=function(o){return!o.disabled&&o.tabIndex!==-1},$x=(function(i){function o(s){var r;return Gt(this,o),r=qt(this,o,[s]),R(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(ck),1,-1).filter(uk)}),R(r,"handleFocusStart",function(){var u=r.getTabChildren();u&&u.length>1&&u[u.length-1].focus()}),R(r,"handleFocusEnd",function(){var u=r.getTabChildren();u&&u.length>1&&u[0].focus()}),r.tabLoopRef=re.createRef(),r}return Qt(o,i),Kt(o,[{key:"render",value:function(){return this.props.enableTabLoop?re.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},re.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,re.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])})(re.Component);function dk(i){var o=function(r){var u=Hs(Hs({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),h=re.useRef(),f=u1(Hs({open:!u.hidePopper,whileElementsMounted:z_,placement:u.popperPlacement,middleware:[G_({padding:15}),q_(10),K_({element:h})].concat(zi(u.popperModifiers))},u.popperProps));return re.createElement(i,Ul({},u,{popperProps:Hs(Hs({},f),{},{arrowRef:h})}))};return o}var hk=(function(i){function o(){return Gt(this,o),qt(this,o,arguments)}return Qt(o,i),Kt(o,[{key:"render",value:function(){var r=this.props,u=r.className,h=r.wrapperClassName,f=r.hidePopper,m=r.popperComponent,v=r.targetComponent,w=r.enableTabLoop,_=r.popperOnKeyDown,N=r.portalId,M=r.portalHost,D=r.popperProps,T=r.showArrow,S;if(!f){var C=nn("react-datepicker-popper",u);S=re.createElement($x,{enableTabLoop:w},re.createElement("div",{ref:D.refs.setFloating,style:D.floatingStyles,className:C,"data-placement":D.placement,onKeyDown:_},m,T&&re.createElement(r1,{ref:D.arrowRef,context:D.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=re.createElement(this.props.popperContainer,{},S)),N&&!f&&(S=re.createElement(Hx,{portalId:N,portalHost:M},S));var V=nn("react-datepicker-wrapper",h);return re.createElement(re.Fragment,null,re.createElement("div",{ref:D.refs.setReference,className:V},v),S)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])})(re.Component),pk=dk(hk),Fg="react-datepicker-ignore-onclickoutside",fk=Ju(ak);function mk(i,o){return i&&o?Cn(i)!==Cn(o)||$e(i)!==$e(o):i!==o}var Vh="Date input not valid.",Ux=(function(i){function o(s){var r;return Gt(this,o),r=qt(this,o,[s]),R(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:lt()}),R(r,"modifyHolidays",function(){var u;return(u=r.props.holidays)===null||u===void 0?void 0:u.reduce(function(h,f){var m=new Date(f.date);return Wl(m)?[].concat(zi(h),[Hs(Hs({},f),{},{date:m})]):h},[])}),R(r,"calcInitialState",function(){var u,h=r.getPreSelection(),f=Bx(r.props),m=zx(r.props),v=f&&Ma(h,as(f))?f:m&&Fi(h,dp(m))?m:h;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(u=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&u!==void 0?u:v,highlightDates:Mg(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),R(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),R(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),R(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),R(r,"setOpen",function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:u,preSelection:u&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:qh},function(){u||r.setState(function(f){return{focused:h?f.focused:!1}},function(){!h&&r.setBlur(),r.setState({inputValue:null})})})}),R(r,"inputOk",function(){return Ta(r.state.preSelection)}),R(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),R(r,"handleFocus",function(u){r.state.preventFocus||(r.props.onFocus(u),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),R(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),R(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),R(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),R(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),R(r,"handleBlur",function(u){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(u),r.setState({focused:!1})}),R(r,"handleCalendarClickOutside",function(u){r.props.inline||r.setOpen(!1),r.props.onClickOutside(u),r.props.withPortal&&u.preventDefault()}),R(r,"handleChange",function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];var m=h[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,h),typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){r.setState({inputValue:m.target.value,lastPreSelectChange:gk});var v=y1(m.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&v&&!et(v,r.props.selected)&&(v=Fw(r.props.selected,{hours:ls(v),minutes:os(v),seconds:Us(v)})),(v||!m.target.value)&&r.setSelected(v,m,!0)}}),R(r,"handleSelect",function(u,h,f){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(h),r.setSelected(u,h,!1,f),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(u);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var m=r.props,v=m.startDate,w=m.endDate;v&&!w&&(r.props.swapRange||!Rg(u,v))&&r.setOpen(!1)}}),R(r,"setSelected",function(u,h,f,m){var v=u;if(r.props.showYearPicker){if(v!==null&&Fx($e(v),r.props))return}else if(r.props.showMonthYearPicker){if(v!==null&&Cu(v,r.props))return}else if(v!==null&&id(v,r.props))return;var w=r.props,_=w.onChange,N=w.selectsRange,M=w.startDate,D=w.endDate,T=w.selectsMultiple,S=w.selectedDates,C=w.minTime,V=w.swapRange;if(!ka(r.props.selected,v)||r.props.allowSameDay||N||T)if(v!==null&&(r.props.selected&&(!f||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(v=$h(v,{hour:ls(r.props.selected),minute:os(r.props.selected),second:Us(r.props.selected)})),!f&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&C&&(v=$h(v,{hour:C.getHours(),minute:C.getMinutes(),second:C.getSeconds()})),r.props.inline||r.setState({preSelection:v}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:m})),N){var O=!M&&!D,B=M&&!D,te=M&&D;O?_([v,null],h):B&&(v===null?_([null,null],h):Rg(v,M)?_(V?[v,M]:[v,null],h):_([M,v],h)),te&&_([v,null],h)}else if(T)if(!(S!=null&&S.length))_([v],h);else{var Z=S.some(function(q){return et(q,v)});if(Z){var K=S.filter(function(q){return!et(q,v)});_(K,h)}else _([].concat(zi(S),[v]),h)}else _(v,h);f||(r.props.onSelect(v,h),r.setState({inputValue:null}))}),R(r,"setPreSelection",function(u){var h=typeof r.props.minDate<"u",f=typeof r.props.maxDate<"u",m=!0;if(u){var v=as(u);if(h&&f)m=Rl(u,r.props.minDate,r.props.maxDate);else if(h){var w=as(r.props.minDate);m=Fi(u,w)||ka(v,w)}else if(f){var _=dp(r.props.maxDate);m=Ma(u,_)||ka(v,_)}}m&&r.setState({preSelection:u})}),R(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),R(r,"handleTimeChange",function(u){var h=r.props.selected?r.props.selected:r.getPreSelection(),f=r.props.selected?u:$h(h,{hour:ls(u),minute:os(u)});r.setState({preSelection:f}),r.props.onChange(f),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),R(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),R(r,"onInputKeyDown",function(u){r.props.onKeyDown(u);var h=u.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h==="ArrowDown"||h==="ArrowUp"||h==="Enter")&&r.onInputClick();return}if(r.state.open){if(h==="ArrowDown"||h==="ArrowUp"){u.preventDefault();var f=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=r.calendar.componentNode&&r.calendar.componentNode.querySelector(f);m&&m.focus({preventScroll:!0});return}var v=lt(r.state.preSelection);h==="Enter"?(u.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===qh?(r.handleSelect(v,u),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):h==="Escape"?(u.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):h==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Vh})}}),R(r,"onPortalKeyDown",function(u){var h=u.key;h==="Escape"&&(u.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),R(r,"onDayKeyDown",function(u){r.props.onKeyDown(u);var h=u.key,f=u.shiftKey,m=lt(r.state.preSelection);if(h==="Enter")u.preventDefault(),r.handleSelect(m,u),!r.props.shouldCloseOnSelect&&r.setPreSelection(m);else if(h==="Escape")u.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Vh});else if(!r.props.disabledKeyboardNavigation){var v;switch(h){case"ArrowLeft":r.props.showWeekPicker?v=rg(m):v=mb(m);break;case"ArrowRight":r.props.showWeekPicker?v=Ou(m,1):v=Wi(m,1);break;case"ArrowUp":v=rg(m);break;case"ArrowDown":v=Ou(m,1);break;case"PageUp":v=f?Io(m,1):Ro(m,1);break;case"PageDown":v=f?$s(m,1):Fr(m,1);break;case"Home":v=Ei(m,r.props.locale,r.props.calendarStartDay);break;case"End":v=j1(m);break;default:v=null;break}if(!v){r.props.onInputError&&r.props.onInputError({code:1,msg:Vh});return}if(u.preventDefault(),r.setState({lastPreSelectChange:qh}),r.props.adjustDateOnChange&&r.setSelected(v),r.setPreSelection(v),r.props.inline){var w=Cn(m),_=Cn(v),N=$e(m),M=$e(v);w!==_||N!==M?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),R(r,"onPopperKeyDown",function(u){var h=u.key;h==="Escape"&&(u.preventDefault(),r.sendFocusBackToInput())}),R(r,"onClearClick",function(u){u&&u.preventDefault&&u.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],u):r.props.onChange(null,u),r.setState({inputValue:null})}),R(r,"clear",function(){r.onClearClick()}),R(r,"onScroll",function(u){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(u.target===document||u.target===document.documentElement||u.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(u)&&r.setOpen(!1)}),R(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:re.createElement(fk,{ref:function(h){r.calendar=h},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:R1(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:Fg,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),R(r,"renderAriaLiveRegion",function(){var u=r.props,h=u.dateFormat,f=u.locale,m=r.props.showTimeInput||r.props.showTimeSelect,v=m?"PPPPp":"PPPP",w;return r.props.selectsRange?w="Selected start date: ".concat(xr(r.props.startDate,{dateFormat:v,locale:f}),". ").concat(r.props.endDate?"End date: "+xr(r.props.endDate,{dateFormat:v,locale:f}):""):r.props.showTimeSelectOnly?w="Selected time: ".concat(xr(r.props.selected,{dateFormat:h,locale:f})):r.props.showYearPicker?w="Selected year: ".concat(xr(r.props.selected,{dateFormat:"yyyy",locale:f})):r.props.showMonthYearPicker?w="Selected month: ".concat(xr(r.props.selected,{dateFormat:"MMMM yyyy",locale:f})):r.props.showQuarterYearPicker?w="Selected quarter: ".concat(xr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:f})):w="Selected date: ".concat(xr(r.props.selected,{dateFormat:v,locale:f})),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},w)}),R(r,"renderDateInput",function(){var u,h=nn(r.props.className,R({},Fg,r.state.open)),f=r.props.customInput||re.createElement("input",{type:"text"}),m=r.props.customInputRef||"ref",v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?b1(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?w1(r.props.selectedDates,r.props):xr(r.props.selected,r.props);return re.cloneElement(f,(u={},R(R(R(R(R(R(R(R(R(R(u,m,function(w){r.input=w}),"value",v),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),R(R(R(R(R(R(R(R(R(R(u,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",nn(f.props.className,h)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),R(R(R(u,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),R(r,"renderClearButton",function(){var u=r.props,h=u.isClearable,f=u.disabled,m=u.selected,v=u.startDate,w=u.endDate,_=u.clearButtonTitle,N=u.clearButtonClassName,M=N===void 0?"":N,D=u.ariaLabelClose,T=D===void 0?"Close":D,S=u.selectedDates;return h&&(m!=null||v!=null||w!=null||S!=null&&S.length)?re.createElement("button",{type:"button",className:nn("react-datepicker__close-icon",M,{"react-datepicker__close-icon--disabled":f}),disabled:f,"aria-label":T,onClick:r.onClearClick,title:_,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return Qt(o,i),Kt(o,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,u){r.inline&&mk(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Mg(this.props.highlightDates)}),!u.focused&&!ka(r.selected,this.props.selected)&&this.setState({inputValue:null}),u.open!==this.state.open&&(u.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),u.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,u=r.showIcon,h=r.icon,f=r.calendarIconClassname,m=r.toggleCalendarOnIconClick,v=this.state.open;return re.createElement("div",{className:"react-datepicker__input-container".concat(u?" react-datepicker__view-calendar-icon":"")},u&&re.createElement(lk,Ul({icon:h,className:"".concat(f," ").concat(v&&"react-datepicker-ignore-onclickoutside")},m?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var u=this.state.open?re.createElement($x,{enableTabLoop:this.props.enableTabLoop},re.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(u=re.createElement(Hx,{portalId:this.props.portalId,portalHost:this.props.portalHost},u)),re.createElement("div",null,this.renderInputContainer(),u)}return re.createElement(pk,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ql,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])})(re.Component),gk="input",qh="navigate";const Fp=P.forwardRef(({value:i,onClick:o,placeholder:s},r)=>t.jsxs("button",{type:"button",onClick:o,ref:r,className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl text-left flex items-center gap-2 hover:border-brand-500 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition bg-white",children:[t.jsx(Ri,{className:"w-5 h-5 text-stone-400"}),t.jsx("span",{className:i?"text-stone-800":"text-stone-400",children:i||s||"Select date"})]}));Fp.displayName="CustomInput";const bp=({selected:i,onChange:o,availability:s={},minDate:r=new Date,maxDate:u,placeholder:h="Select date",showPrice:f=!0,selectsRange:m=!1,startDate:v,endDate:w,inline:_=!1,disabled:N=!1})=>{const M=C=>{const V=C.toISOString().split("T")[0],O=s[V];if(!O)return"";switch(O.status){case"available":return"day-available";case"booked":return"day-booked";case"closed":return"day-closed";default:return""}},D=C=>{const V=C.toISOString().split("T")[0],O=s[V];return O?O.status==="available":!0},T=(C,V)=>{if(!f)return C;const O=V.toISOString().split("T")[0],B=s[O];return t.jsxs("div",{className:"relative",children:[t.jsx("span",{children:C}),B?.price&&t.jsxs("span",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 text-[8px] font-medium text-brand-700",children:["",B.price]})]})},S=()=>{if(!i)return null;const C=i.toISOString().split("T")[0];return s[C]?.price};return t.jsxs("div",{className:"date-picker-container",children:[t.jsx(Ux,{selected:i,onChange:o,minDate:r,maxDate:u,filterDate:Object.keys(s).length>0?D:void 0,dayClassName:M,renderDayContents:T,customInput:t.jsx(Fp,{placeholder:h}),inline:_,disabled:N,selectsRange:m,startDate:v,endDate:w,dateFormat:"dd MMM yyyy",calendarStartDay:1,showPopperArrow:!1,popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,8]}}]}),f&&i&&S()&&t.jsxs("div",{className:"mt-2 text-sm text-stone-600",children:["Price for selected date: ",t.jsxs("span",{className:"font-semibold text-brand-700",children:["",S()]})]})]})},xk=({startDate:i,endDate:o,onChange:s,minDate:r=new Date,placeholder:u="Select dates"})=>t.jsx(Ux,{selectsRange:!0,startDate:i,endDate:o,onChange:s,minDate:r,customInput:t.jsx(Fp,{placeholder:u}),dateFormat:"dd MMM yyyy",calendarStartDay:1,showPopperArrow:!1,monthsShown:2}),vk={averageCatch:hv,recordFish:gv,blankRate:mv,bestTimeOfDay:tr,experienceLevel:Di,typicalSessionHours:fv},yk={averageCatch:"Average catch",recordFish:"Record fish",blankRate:"Blank rate",bestTimeOfDay:"Best time",experienceLevel:"Experience level",typicalSessionHours:"Session length"},bk={beginner:"Beginner friendly",intermediate:"Intermediate",advanced:"Advanced",any:"All levels"},wk=({fishery:i})=>{const o=[{key:"averageCatch",value:i.expectations?.averageCatch},{key:"recordFish",value:i.expectations?.recordFish},{key:"blankRate",value:i.expectations?.blankRate},{key:"bestTimeOfDay",value:i.bestTimeOfDay},{key:"experienceLevel",value:bk[i.experienceLevel]||i.experienceLevel},{key:"typicalSessionHours",value:i.typicalSessionHours?`${i.typicalSessionHours} hours`:null}].filter(s=>s.value);return o.length===0?null:t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-4",children:"What to Expect"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:o.map(({key:s,value:r})=>{const u=vk[s];return t.jsxs("div",{className:"bg-stone-50 rounded-xl p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-8 h-8 bg-brand-100 rounded-lg flex items-center justify-center",children:t.jsx(u,{className:"w-4 h-4 text-brand-700"})}),t.jsx("span",{className:"text-sm text-stone-500",children:yk[s]})]}),t.jsx("p",{className:"font-medium text-stone-900",children:r})]},s)})})]})},Zx=({rating:i})=>t.jsx("div",{className:"flex",children:[1,2,3,4,5].map(o=>t.jsx(yr,{className:`w-4 h-4 ${o<=i?"fill-amber-400 text-amber-400":"fill-stone-200 text-stone-200"}`},o))}),_k=({review:i})=>t.jsxs("div",{className:"bg-stone-50 rounded-xl p-5",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-semibold text-stone-900",children:i.author}),i.verified&&t.jsxs("span",{className:"flex items-center gap-1 text-xs text-green-600",children:[t.jsx($t,{className:"w-3 h-3"}),"Verified booking"]})]}),t.jsx("span",{className:"text-sm text-stone-400",children:new Date(i.date).toLocaleDateString("en-GB",{month:"long",year:"numeric"})})]}),t.jsx(Zx,{rating:i.rating})]}),i.title&&t.jsx("h4",{className:"font-medium text-stone-900 mb-2",children:i.title}),t.jsx("p",{className:"text-stone-600",children:i.text}),t.jsxs("button",{className:"flex items-center gap-1 text-sm text-stone-400 hover:text-stone-600 mt-3 transition",children:[t.jsx(pv,{className:"w-4 h-4"}),"Helpful"]})]}),Vx=({reviews:i=[],showCount:o=5})=>{if(!i||i.length===0)return t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-stone-500",children:"No reviews yet. Be the first to share your experience!"})});const s=i.reduce((u,h)=>u+h.rating,0)/i.length,r=[5,4,3,2,1].map(u=>({stars:u,count:i.filter(h=>h.rating===u).length,percentage:i.filter(h=>h.rating===u).length/i.length*100}));return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8 pb-8 border-b border-stone-200",children:[t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("div",{className:"text-5xl font-bold text-stone-900 mb-2",children:s.toFixed(1)}),t.jsx(Zx,{rating:Math.round(s)}),t.jsxs("p",{className:"text-sm text-stone-500 mt-1",children:[i.length," reviews"]})]}),t.jsx("div",{className:"flex-1 space-y-2",children:r.map(({stars:u,count:h,percentage:f})=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"w-8 text-sm text-stone-600",children:[u,""]}),t.jsx("div",{className:"flex-1 h-2 bg-stone-200 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-amber-400 rounded-full",style:{width:`${f}%`}})}),t.jsx("span",{className:"w-8 text-sm text-stone-400",children:h})]},u))})]}),t.jsx("div",{className:"space-y-4",children:i.slice(0,o).map(u=>t.jsx(_k,{review:u},u.id))}),i.length>o&&t.jsxs("button",{className:"w-full mt-4 py-3 text-brand-700 font-medium hover:bg-brand-50 rounded-xl transition",children:["Show all ",i.length," reviews"]})]})},kk=({rating:i,setRating:o,readOnly:s=!1})=>{const[r,u]=P.useState(0);return t.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(h=>t.jsx("button",{type:"button",disabled:s,onClick:()=>!s&&o(h),onMouseEnter:()=>!s&&u(h),onMouseLeave:()=>!s&&u(0),className:`transition ${s?"cursor-default":"cursor-pointer hover:scale-110"}`,children:t.jsx(yr,{className:`w-8 h-8 ${h<=(r||i)?"fill-amber-400 text-amber-400":"fill-stone-200 text-stone-200"}`})},h))})},qx=({waterId:i,instructorId:o,onSuccess:s,user:r})=>{const[u,h]=P.useState(0),[f,m]=P.useState(""),[v,w]=P.useState(""),[_,N]=P.useState(!1),[M,D]=P.useState(""),[T,S]=P.useState(!1),[C,V]=P.useState(!1),O=async B=>{if(B.preventDefault(),D(""),u===0){D("Please select a rating");return}if(!v.trim()){D("Please write your review");return}N(!0);try{const te=Bt(),Z=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${te}`},body:JSON.stringify({waterId:i,instructorId:o,rating:u,title:f,text:v})}),K=await Z.json();if(!Z.ok)throw new Error(K.error||"Failed to submit review");S(!0),V(K.verified),h(0),m(""),w(""),s&&s(K.review),setTimeout(()=>{S(!1)},5e3)}catch(te){D(te.message)}finally{N(!1)}};return r?T?t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx($t,{className:"w-6 h-6 text-green-600"}),t.jsx("h3",{className:"font-semibold text-green-900",children:"Review submitted successfully!"})]}),t.jsx("p",{className:"text-green-700 mb-2",children:"Thank you for sharing your experience."}),C&&t.jsxs("p",{className:"text-sm text-green-600 flex items-center gap-2",children:[t.jsx($t,{className:"w-4 h-4"}),"Your review has been marked as verified because you have a confirmed booking."]}),!C&&t.jsx("p",{className:"text-sm text-green-600",children:"Your review will appear once it's been moderated."}),t.jsx("button",{onClick:()=>S(!1),className:"mt-4 text-sm text-green-700 hover:text-green-800 font-medium",children:"Write another review"})]}):t.jsxs("form",{onSubmit:O,className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-4",children:"Write a Review"}),M&&t.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg mb-4 text-sm",children:M}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:["Your Rating ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(kk,{rating:u,setRating:h})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Review Title (optional)"}),t.jsx("input",{type:"text",value:f,onChange:B=>m(B.target.value),placeholder:"Sum up your experience",maxLength:100,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:["Your Review ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{value:v,onChange:B=>w(B.target.value),placeholder:"Share details about your experience...",rows:5,maxLength:1e3,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent resize-none"}),t.jsxs("p",{className:"text-xs text-stone-500 mt-1",children:[v.length,"/1000 characters"]})]}),t.jsxs("button",{type:"submit",disabled:_||u===0||!v.trim(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg font-medium hover:bg-brand-800 transition disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Qg,{className:"w-4 h-4"}),_?"Submitting...":"Submit Review"]}),t.jsxs("p",{className:"text-xs text-stone-500 mt-3 text-center",children:[i&&"Reviews are verified if you have a confirmed booking at this water.",o&&"Reviews are verified if you have a confirmed booking with this instructor."]})]}):t.jsx("div",{className:"bg-stone-50 rounded-xl p-6 text-center",children:t.jsx("p",{className:"text-stone-600",children:"Please sign in to leave a review"})})},Gx=({waterId:i,waterName:o,user:s,onClose:r,onSuccess:u})=>{const[h,f]=P.useState(!1),[m,v]=P.useState(!1),[w,_]=P.useState(!0),[N,M]=P.useState(""),[D,T]=P.useState(!1),[S,C]=P.useState([]),[V,O]=P.useState(!i),[B,te]=P.useState({waterId:i||"",waterName:o||"",species:"",weight:"",method:"",comment:"",isPublic:!0});P.useEffect(()=>{(async()=>{if(i){O(!1);return}try{const le=await fetch("/api/waters");if(le.ok){const xe=await le.json();C(xe.waters||[])}}catch(le){console.error("Failed to fetch waters:",le)}O(!1)})()},[i]),P.useEffect(()=>{(async()=>{if(!s||!B.waterId){_(!1);return}try{const le=Bt(),xe=await fetch("/api/inquiries/user",{headers:{Authorization:`Bearer ${le}`}});if(xe.ok){const ue=(await xe.json()).inquiries?.find(U=>U.waterId===B.waterId&&U.status==="confirmed");v(!!ue)}}catch(le){console.error("Failed to check booking:",le)}_(!1)})()},[s,B.waterId]);const Z=q=>{const{name:le,value:xe,type:ne,checked:ue}=q.target;te(U=>({...U,[le]:ne==="checkbox"?ue:xe}))},K=async q=>{if(q.preventDefault(),M(""),!s){M("Please sign in to report a catch");return}if(!B.waterId){M("Please select a water");return}if(!B.species.trim()){M("Please specify the species caught");return}f(!0);try{const le=Bt(),xe=await fetch("/api/catches",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`},body:JSON.stringify({waterId:B.waterId,species:B.species,weight:B.weight?parseFloat(B.weight):null,method:B.method||null,comment:B.comment||null,isPublic:B.isPublic,verified:m})});if(!xe.ok){const ne=await xe.json();throw new Error(ne.error||"Failed to submit catch report")}T(!0),setTimeout(()=>{u?.(),r?.()},1500)}catch(le){M(le.message||"Failed to submit catch report")}finally{f(!1)}};return w||V?t.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[t.jsx(Ii,{className:"w-8 h-8 text-brand-600 animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-stone-600",children:V?"Loading waters...":"Checking your booking status..."})]}):D?t.jsxs("div",{className:"bg-white rounded-xl p-8 text-center",children:[t.jsx($t,{className:"w-12 h-12 text-green-600 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-bold text-stone-900 mb-2",children:"Catch Reported!"}),t.jsx("p",{className:"text-stone-600",children:m?"Your verified catch has been submitted successfully.":"Your catch has been submitted successfully."})]}):t.jsxs("div",{className:"bg-white rounded-xl p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center",children:t.jsx(Lt,{className:"w-5 h-5 text-brand-700"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-stone-900",children:"Report a Catch"}),t.jsx("p",{className:"text-sm text-stone-600",children:B.waterName||o||"Select a water to report your catch"})]})]}),r&&t.jsx("button",{onClick:r,className:"text-stone-400 hover:text-stone-600 transition",children:t.jsx(nr,{className:"w-5 h-5"})})]}),m?t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-4 flex items-start gap-2",children:[t.jsx($t,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-900",children:"Verified Booking"}),t.jsx("p",{className:"text-xs text-green-700",children:"You have a confirmed booking here - this catch will be verified!"})]})]}):t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4 flex items-start gap-2",children:[t.jsx(rv,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-amber-900",children:"Unverified Catch"}),t.jsx("p",{className:"text-xs text-amber-700",children:"You don't have a confirmed booking here yet. You can still report your catch!"})]})]}),N&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4 text-sm text-red-600",children:N}),t.jsxs("form",{onSubmit:K,className:"space-y-4",children:[!i&&t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:["Water ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{name:"waterId",value:B.waterId,onChange:q=>{const le=S.find(xe=>xe.id===q.target.value);te(xe=>({...xe,waterId:q.target.value,waterName:le?.name||""}))},className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",required:!0,children:[t.jsx("option",{value:"",children:"Select a water"}),S.map(q=>t.jsxs("option",{value:q.id,children:[q.name," - ",q.region]},q.id))]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:["Species ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"species",value:B.species,onChange:Z,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"e.g. Brown Trout, Carp, Pike",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Weight (lbs)"}),t.jsx("input",{type:"number",name:"weight",value:B.weight,onChange:Z,step:"0.01",min:"0",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"e.g. 5.5"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Method"}),t.jsxs("select",{name:"method",value:B.method,onChange:Z,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",children:[t.jsx("option",{value:"",children:"Select method"}),t.jsx("option",{value:"Fly fishing",children:"Fly fishing"}),t.jsx("option",{value:"Spinning",children:"Spinning"}),t.jsx("option",{value:"Bait fishing",children:"Bait fishing"}),t.jsx("option",{value:"Lure fishing",children:"Lure fishing"}),t.jsx("option",{value:"Float fishing",children:"Float fishing"}),t.jsx("option",{value:"Ledgering",children:"Ledgering"}),t.jsx("option",{value:"Other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Comment"}),t.jsx("textarea",{name:"comment",value:B.comment,onChange:Z,rows:"3",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent resize-none",placeholder:"Share details about your catch..."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",name:"isPublic",id:"isPublic",checked:B.isPublic,onChange:Z,className:"w-4 h-4 text-brand-700 border-stone-300 rounded focus:ring-2 focus:ring-brand-700"}),t.jsx("label",{htmlFor:"isPublic",className:"text-sm text-stone-700",children:"Make this catch public (visible to other anglers)"})]}),t.jsx("button",{type:"submit",disabled:h,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?t.jsxs(t.Fragment,{children:[t.jsx(Ii,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Lt,{className:"w-5 h-5"}),"Report Catch"]})})]})]})},Nk=({waterId:i})=>{const[o,s]=P.useState([]),[r,u]=P.useState(!0);return P.useEffect(()=>{i&&(async()=>{u(!0);try{const f=await fetch(`/api/catches/water/${i}`);if(f.ok){const m=await f.json();s(m.catches||[])}}catch(f){console.log("Failed to fetch catches:",f)}u(!1)})()},[i]),r?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Ii,{className:"w-6 h-6 text-brand-600 animate-spin"})}):o.length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(Lt,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No catches reported yet"}),t.jsx("p",{className:"text-stone-500 text-sm",children:"Be the first to report your catch at this water!"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("h3",{className:"text-lg font-semibold text-stone-900",children:["Recent Catches (",o.length,")"]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(h=>t.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-5 hover:shadow-md transition",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Lt,{className:"w-6 h-6 text-brand-700"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-1",children:h.species}),t.jsxs("div",{className:"space-y-1.5 text-sm text-stone-600",children:[h.weight&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xv,{className:"w-4 h-4"}),t.jsxs("span",{children:[h.weight," lbs"]})]}),h.anglerName&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(qu,{className:"w-4 h-4"}),t.jsx("span",{children:h.anglerName})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ri,{className:"w-4 h-4"}),t.jsx("span",{children:new Date(h.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),h.method&&t.jsxs("div",{className:"mt-2 text-xs text-stone-500",children:["Method: ",h.method]})]}),h.comment&&t.jsxs("p",{className:"mt-3 text-sm text-stone-700 bg-stone-50 rounded-lg p-3",children:['"',h.comment,'"']})]})]})},h.id))}),o.length>0&&t.jsx("div",{className:"mt-6 p-4 bg-brand-50 border border-brand-200 rounded-xl",children:t.jsxs("p",{className:"text-sm text-brand-800",children:[t.jsx("strong",{children:"Caught something here?"})," Report your catch to help other anglers know what's biting!"]})})]})};function Kx(i,o){const s=P.useRef(o);P.useEffect(function(){o!==s.current&&i.attributionControl!=null&&(s.current!=null&&i.attributionControl.removeAttribution(s.current),o!=null&&i.attributionControl.addAttribution(o)),s.current=o},[i,o])}const jk=1;function Sk(i){return Object.freeze({__version:jk,map:i})}function Ck(i,o){return Object.freeze({...i,...o})}const Qx=P.createContext(null),Xx=Qx.Provider;function Bp(){const i=P.useContext(Qx);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function Pk(i){function o(s,r){const{instance:u,context:h}=i(s).current;return P.useImperativeHandle(r,()=>u),s.children==null?null:re.createElement(Xx,{value:h},s.children)}return P.forwardRef(o)}function Dk(i){function o(s,r){const[u,h]=P.useState(!1),{instance:f}=i(s,h).current;P.useImperativeHandle(r,()=>f),P.useEffect(function(){u&&f.update()},[f,u,s.children]);const m=f._contentNode;return m?Xu.createPortal(s.children,m):null}return P.forwardRef(o)}function Tk(i){function o(s,r){const{instance:u}=i(s).current;return P.useImperativeHandle(r,()=>u),null}return P.forwardRef(o)}function Jx(i,o){const s=P.useRef();P.useEffect(function(){return o!=null&&i.instance.on(o),s.current=o,function(){s.current!=null&&i.instance.off(s.current),s.current=null}},[i,o])}function zp(i,o){const s=i.pane??o.pane;return s?{...i,pane:s}:i}function Mk(i,o){return function(r,u){const h=Bp(),f=i(zp(r,h),h);return Kx(h.map,r.attribution),Jx(f.current,r.eventHandlers),o(f.current,h,r,u),f}}var Il={exports:{}};var Ek=Il.exports,Bg;function Lk(){return Bg||(Bg=1,(function(i,o){(function(s,r){r(o)})(Ek,(function(s){var r="1.9.4";function u(n){var l,d,g,b;for(d=1,g=arguments.length;d<g;d++){b=arguments[d];for(l in b)n[l]=b[l]}return n}var h=Object.create||(function(){function n(){}return function(l){return n.prototype=l,new n}})();function f(n,l){var d=Array.prototype.slice;if(n.bind)return n.bind.apply(n,d.call(arguments,1));var g=d.call(arguments,2);return function(){return n.apply(l,g.length?g.concat(d.call(arguments)):arguments)}}var m=0;function v(n){return"_leaflet_id"in n||(n._leaflet_id=++m),n._leaflet_id}function w(n,l,d){var g,b,j,A;return A=function(){g=!1,b&&(j.apply(d,b),b=!1)},j=function(){g?b=arguments:(n.apply(d,arguments),setTimeout(A,l),g=!0)},j}function _(n,l,d){var g=l[1],b=l[0],j=g-b;return n===g&&d?n:((n-b)%j+j)%j+b}function N(){return!1}function M(n,l){if(l===!1)return n;var d=Math.pow(10,l===void 0?6:l);return Math.round(n*d)/d}function D(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function T(n){return D(n).split(/\s+/)}function S(n,l){Object.prototype.hasOwnProperty.call(n,"options")||(n.options=n.options?h(n.options):{});for(var d in l)n.options[d]=l[d];return n.options}function C(n,l,d){var g=[];for(var b in n)g.push(encodeURIComponent(d?b.toUpperCase():b)+"="+encodeURIComponent(n[b]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function O(n,l){return n.replace(V,function(d,g){var b=l[g];if(b===void 0)throw new Error("No value provided for variable "+d);return typeof b=="function"&&(b=b(l)),b})}var B=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function te(n,l){for(var d=0;d<n.length;d++)if(n[d]===l)return d;return-1}var Z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function K(n){return window["webkit"+n]||window["moz"+n]||window["ms"+n]}var q=0;function le(n){var l=+new Date,d=Math.max(0,16-(l-q));return q=l+d,window.setTimeout(n,d)}var xe=window.requestAnimationFrame||K("RequestAnimationFrame")||le,ne=window.cancelAnimationFrame||K("CancelAnimationFrame")||K("CancelRequestAnimationFrame")||function(n){window.clearTimeout(n)};function ue(n,l,d){if(d&&xe===le)n.call(l);else return xe.call(window,f(n,l))}function U(n){n&&ne.call(window,n)}var H={__proto__:null,extend:u,create:h,bind:f,get lastId(){return m},stamp:v,throttle:w,wrapNum:_,falseFn:N,formatNum:M,trim:D,splitWords:T,setOptions:S,getParamString:C,template:O,isArray:B,indexOf:te,emptyImageUrl:Z,requestFn:xe,cancelFn:ne,requestAnimFrame:ue,cancelAnimFrame:U};function ae(){}ae.extend=function(n){var l=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,g=h(d);g.constructor=l,l.prototype=g;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(l[b]=this[b]);return n.statics&&u(l,n.statics),n.includes&&(F(n.includes),u.apply(null,[g].concat(n.includes))),u(g,n),delete g.statics,delete g.includes,g.options&&(g.options=d.options?h(d.options):{},u(g.options,n.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var j=0,A=g._initHooks.length;j<A;j++)g._initHooks[j].call(this)}},l},ae.include=function(n){var l=this.prototype.options;return u(this.prototype,n),n.options&&(this.prototype.options=l,this.mergeOptions(n.options)),this},ae.mergeOptions=function(n){return u(this.prototype.options,n),this},ae.addInitHook=function(n){var l=Array.prototype.slice.call(arguments,1),d=typeof n=="function"?n:function(){this[n].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function F(n){if(!(typeof L>"u"||!L||!L.Mixin)){n=B(n)?n:[n];for(var l=0;l<n.length;l++)n[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(n,l,d){if(typeof n=="object")for(var g in n)this._on(g,n[g],l);else{n=T(n);for(var b=0,j=n.length;b<j;b++)this._on(n[b],l,d)}return this},off:function(n,l,d){if(!arguments.length)delete this._events;else if(typeof n=="object")for(var g in n)this._off(g,n[g],l);else{n=T(n);for(var b=arguments.length===1,j=0,A=n.length;j<A;j++)b?this._off(n[j]):this._off(n[j],l,d)}return this},_on:function(n,l,d,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(n,l,d)===!1){d===this&&(d=void 0);var b={fn:l,ctx:d};g&&(b.once=!0),this._events=this._events||{},this._events[n]=this._events[n]||[],this._events[n].push(b)}},_off:function(n,l,d){var g,b,j;if(this._events&&(g=this._events[n],!!g)){if(arguments.length===1){if(this._firingCount)for(b=0,j=g.length;b<j;b++)g[b].fn=N;delete this._events[n];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var A=this._listens(n,l,d);if(A!==!1){var Q=g[A];this._firingCount&&(Q.fn=N,this._events[n]=g=g.slice()),g.splice(A,1)}}},fire:function(n,l,d){if(!this.listens(n,d))return this;var g=u({},l,{type:n,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var b=this._events[n];if(b){this._firingCount=this._firingCount+1||1;for(var j=0,A=b.length;j<A;j++){var Q=b[j],se=Q.fn;Q.once&&this.off(n,se,Q.ctx),se.call(Q.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(n,l,d,g){typeof n!="string"&&console.warn('"string" type argument expected');var b=l;typeof l!="function"&&(g=!!l,b=void 0,d=void 0);var j=this._events&&this._events[n];if(j&&j.length&&this._listens(n,b,d)!==!1)return!0;if(g){for(var A in this._eventParents)if(this._eventParents[A].listens(n,l,d,g))return!0}return!1},_listens:function(n,l,d){if(!this._events)return!1;var g=this._events[n]||[];if(!l)return!!g.length;d===this&&(d=void 0);for(var b=0,j=g.length;b<j;b++)if(g[b].fn===l&&g[b].ctx===d)return b;return!1},once:function(n,l,d){if(typeof n=="object")for(var g in n)this._on(g,n[g],l,!0);else{n=T(n);for(var b=0,j=n.length;b<j;b++)this._on(n[b],l,d,!0)}return this},addEventParent:function(n){return this._eventParents=this._eventParents||{},this._eventParents[v(n)]=n,this},removeEventParent:function(n){return this._eventParents&&delete this._eventParents[v(n)],this},_propagateEvent:function(n){for(var l in this._eventParents)this._eventParents[l].fire(n.type,u({layer:n.target,propagatedFrom:n.target},n),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var ce=ae.extend(oe);function W(n,l,d){this.x=d?Math.round(n):n,this.y=d?Math.round(l):l}var z=Math.trunc||function(n){return n>0?Math.floor(n):Math.ceil(n)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(n){return this.clone()._add(Y(n))},_add:function(n){return this.x+=n.x,this.y+=n.y,this},subtract:function(n){return this.clone()._subtract(Y(n))},_subtract:function(n){return this.x-=n.x,this.y-=n.y,this},divideBy:function(n){return this.clone()._divideBy(n)},_divideBy:function(n){return this.x/=n,this.y/=n,this},multiplyBy:function(n){return this.clone()._multiplyBy(n)},_multiplyBy:function(n){return this.x*=n,this.y*=n,this},scaleBy:function(n){return new W(this.x*n.x,this.y*n.y)},unscaleBy:function(n){return new W(this.x/n.x,this.y/n.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(n){n=Y(n);var l=n.x-this.x,d=n.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(n){return n=Y(n),n.x===this.x&&n.y===this.y},contains:function(n){return n=Y(n),Math.abs(n.x)<=Math.abs(this.x)&&Math.abs(n.y)<=Math.abs(this.y)},toString:function(){return"Point("+M(this.x)+", "+M(this.y)+")"}};function Y(n,l,d){return n instanceof W?n:B(n)?new W(n[0],n[1]):n==null?n:typeof n=="object"&&"x"in n&&"y"in n?new W(n.x,n.y):new W(n,l,d)}function E(n,l){if(n)for(var d=l?[n,l]:n,g=0,b=d.length;g<b;g++)this.extend(d[g])}E.prototype={extend:function(n){var l,d;if(!n)return this;if(n instanceof W||typeof n[0]=="number"||"x"in n)l=d=Y(n);else if(n=X(n),l=n.min,d=n.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(n){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,n)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(n){var l,d;return typeof n[0]=="number"||n instanceof W?n=Y(n):n=X(n),n instanceof E?(l=n.min,d=n.max):l=d=n,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(n){n=X(n);var l=this.min,d=this.max,g=n.min,b=n.max,j=b.x>=l.x&&g.x<=d.x,A=b.y>=l.y&&g.y<=d.y;return j&&A},overlaps:function(n){n=X(n);var l=this.min,d=this.max,g=n.min,b=n.max,j=b.x>l.x&&g.x<d.x,A=b.y>l.y&&g.y<d.y;return j&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(n){var l=this.min,d=this.max,g=Math.abs(l.x-d.x)*n,b=Math.abs(l.y-d.y)*n;return X(Y(l.x-g,l.y-b),Y(d.x+g,d.y+b))},equals:function(n){return n?(n=X(n),this.min.equals(n.getTopLeft())&&this.max.equals(n.getBottomRight())):!1}};function X(n,l){return!n||n instanceof E?n:new E(n,l)}function ge(n,l){if(n)for(var d=l?[n,l]:n,g=0,b=d.length;g<b;g++)this.extend(d[g])}ge.prototype={extend:function(n){var l=this._southWest,d=this._northEast,g,b;if(n instanceof we)g=n,b=n;else if(n instanceof ge){if(g=n._southWest,b=n._northEast,!g||!b)return this}else return n?this.extend(ye(n)||be(n)):this;return!l&&!d?(this._southWest=new we(g.lat,g.lng),this._northEast=new we(b.lat,b.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),d.lat=Math.max(b.lat,d.lat),d.lng=Math.max(b.lng,d.lng)),this},pad:function(n){var l=this._southWest,d=this._northEast,g=Math.abs(l.lat-d.lat)*n,b=Math.abs(l.lng-d.lng)*n;return new ge(new we(l.lat-g,l.lng-b),new we(d.lat+g,d.lng+b))},getCenter:function(){return new we((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new we(this.getNorth(),this.getWest())},getSouthEast:function(){return new we(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(n){typeof n[0]=="number"||n instanceof we||"lat"in n?n=ye(n):n=be(n);var l=this._southWest,d=this._northEast,g,b;return n instanceof ge?(g=n.getSouthWest(),b=n.getNorthEast()):g=b=n,g.lat>=l.lat&&b.lat<=d.lat&&g.lng>=l.lng&&b.lng<=d.lng},intersects:function(n){n=be(n);var l=this._southWest,d=this._northEast,g=n.getSouthWest(),b=n.getNorthEast(),j=b.lat>=l.lat&&g.lat<=d.lat,A=b.lng>=l.lng&&g.lng<=d.lng;return j&&A},overlaps:function(n){n=be(n);var l=this._southWest,d=this._northEast,g=n.getSouthWest(),b=n.getNorthEast(),j=b.lat>l.lat&&g.lat<d.lat,A=b.lng>l.lng&&g.lng<d.lng;return j&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(n,l){return n?(n=be(n),this._southWest.equals(n.getSouthWest(),l)&&this._northEast.equals(n.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function be(n,l){return n instanceof ge?n:new ge(n,l)}function we(n,l,d){if(isNaN(n)||isNaN(l))throw new Error("Invalid LatLng object: ("+n+", "+l+")");this.lat=+n,this.lng=+l,d!==void 0&&(this.alt=+d)}we.prototype={equals:function(n,l){if(!n)return!1;n=ye(n);var d=Math.max(Math.abs(this.lat-n.lat),Math.abs(this.lng-n.lng));return d<=(l===void 0?1e-9:l)},toString:function(n){return"LatLng("+M(this.lat,n)+", "+M(this.lng,n)+")"},distanceTo:function(n){return Ae.distance(this,ye(n))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(n){var l=180*n/40075017,d=l/Math.cos(Math.PI/180*this.lat);return be([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new we(this.lat,this.lng,this.alt)}};function ye(n,l,d){return n instanceof we?n:B(n)&&typeof n[0]!="object"?n.length===3?new we(n[0],n[1],n[2]):n.length===2?new we(n[0],n[1]):null:n==null?n:typeof n=="object"&&"lat"in n?new we(n.lat,"lng"in n?n.lng:n.lon,n.alt):l===void 0?null:new we(n,l,d)}var Ie={latLngToPoint:function(n,l){var d=this.projection.project(n),g=this.scale(l);return this.transformation._transform(d,g)},pointToLatLng:function(n,l){var d=this.scale(l),g=this.transformation.untransform(n,d);return this.projection.unproject(g)},project:function(n){return this.projection.project(n)},unproject:function(n){return this.projection.unproject(n)},scale:function(n){return 256*Math.pow(2,n)},zoom:function(n){return Math.log(n/256)/Math.LN2},getProjectedBounds:function(n){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(n),g=this.transformation.transform(l.min,d),b=this.transformation.transform(l.max,d);return new E(g,b)},infinite:!1,wrapLatLng:function(n){var l=this.wrapLng?_(n.lng,this.wrapLng,!0):n.lng,d=this.wrapLat?_(n.lat,this.wrapLat,!0):n.lat,g=n.alt;return new we(d,l,g)},wrapLatLngBounds:function(n){var l=n.getCenter(),d=this.wrapLatLng(l),g=l.lat-d.lat,b=l.lng-d.lng;if(g===0&&b===0)return n;var j=n.getSouthWest(),A=n.getNorthEast(),Q=new we(j.lat-g,j.lng-b),se=new we(A.lat-g,A.lng-b);return new ge(Q,se)}},Ae=u({},Ie,{wrapLng:[-180,180],R:6371e3,distance:function(n,l){var d=Math.PI/180,g=n.lat*d,b=l.lat*d,j=Math.sin((l.lat-n.lat)*d/2),A=Math.sin((l.lng-n.lng)*d/2),Q=j*j+Math.cos(g)*Math.cos(b)*A*A,se=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*se}}),Ge=6378137,yt={R:Ge,MAX_LATITUDE:85.0511287798,project:function(n){var l=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,n.lat),-d),b=Math.sin(g*l);return new W(this.R*n.lng*l,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(n){var l=180/Math.PI;return new we((2*Math.atan(Math.exp(n.y/this.R))-Math.PI/2)*l,n.x*l/this.R)},bounds:(function(){var n=Ge*Math.PI;return new E([-n,-n],[n,n])})()};function mn(n,l,d,g){if(B(n)){this._a=n[0],this._b=n[1],this._c=n[2],this._d=n[3];return}this._a=n,this._b=l,this._c=d,this._d=g}mn.prototype={transform:function(n,l){return this._transform(n.clone(),l)},_transform:function(n,l){return l=l||1,n.x=l*(this._a*n.x+this._b),n.y=l*(this._c*n.y+this._d),n},untransform:function(n,l){return l=l||1,new W((n.x/l-this._b)/this._a,(n.y/l-this._d)/this._c)}};function rn(n,l,d,g){return new mn(n,l,d,g)}var de=u({},Ae,{code:"EPSG:3857",projection:yt,transformation:(function(){var n=.5/(Math.PI*yt.R);return rn(n,.5,-n,.5)})()}),ze=u({},de,{code:"EPSG:900913"});function Ve(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function st(n,l){var d="",g,b,j,A,Q,se;for(g=0,j=n.length;g<j;g++){for(Q=n[g],b=0,A=Q.length;b<A;b++)se=Q[b],d+=(b?"L":"M")+se.x+" "+se.y;d+=l?Ce.svg?"z":"x":""}return d||"M0 0"}var St=document.documentElement.style,It="ActiveXObject"in window,gn=It&&!document.addEventListener,Ke="msLaunchUri"in navigator&&!("documentMode"in document),Xt=bt("webkit"),Dn=bt("android"),Yi=bt("android 2")||bt("android 3"),ms=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ra=Dn&&bt("Google")&&ms<537&&!("AudioNode"in window),gs=!!window.opera,br=!Ke&&bt("chrome"),Br=bt("gecko")&&!Xt&&!gs&&!It,Ia=!br&&bt("safari"),wr=bt("phantom"),Jt="OTransition"in St,Wo=navigator.platform.indexOf("Win")===0,sn=It&&"transition"in St,_r="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Yi,zr="MozPerspective"in St,xs=!window.L_DISABLE_3D&&(sn||_r||zr)&&!Jt&&!wr,rr=typeof orientation<"u"||bt("mobile"),Hi=rr&&Xt,Wr=rr&&_r,vs=!window.PointerEvent&&window.MSPointerEvent,kr=!!(window.PointerEvent||vs),zn="ontouchstart"in window||!!window.TouchEvent,$i=!window.L_NO_TOUCH&&(zn||kr),Ui=rr&&gs,Aa=rr&&Br,Fa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Zi=(function(){var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("testPassiveEventSupport",N,l),window.removeEventListener("testPassiveEventSupport",N,l)}catch{}return n})(),ys=(function(){return!!document.createElement("canvas").getContext})(),bs=!!(document.createElementNS&&Ve("svg").createSVGRect),ws=!!bs&&(function(){var n=document.createElement("div");return n.innerHTML="<svg/>",(n.firstChild&&n.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Vi=!bs&&(function(){try{var n=document.createElement("div");n.innerHTML='<v:shape adj="1"/>';var l=n.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),Yr=navigator.platform.indexOf("Mac")===0,Ba=navigator.platform.indexOf("Linux")===0;function bt(n){return navigator.userAgent.toLowerCase().indexOf(n)>=0}var Ce={ie:It,ielt9:gn,edge:Ke,webkit:Xt,android:Dn,android23:Yi,androidStock:Ra,opera:gs,chrome:br,gecko:Br,safari:Ia,phantom:wr,opera12:Jt,win:Wo,ie3d:sn,webkit3d:_r,gecko3d:zr,any3d:xs,mobile:rr,mobileWebkit:Hi,mobileWebkit3d:Wr,msPointer:vs,pointer:kr,touch:$i,touchNative:zn,mobileOpera:Ui,mobileGecko:Aa,retina:Fa,passiveEvents:Zi,canvas:ys,svg:bs,vml:Vi,inlineSvg:ws,mac:Yr,linux:Ba},Hr=Ce.msPointer?"MSPointerDown":"pointerdown",_s=Ce.msPointer?"MSPointerMove":"pointermove",qi=Ce.msPointer?"MSPointerUp":"pointerup",za=Ce.msPointer?"MSPointerCancel":"pointercancel",Je={touchstart:Hr,touchmove:_s,touchend:qi,touchcancel:za},Me={touchstart:it,touchmove:sr,touchend:sr,touchcancel:sr},Ue={},pt=!1;function wt(n,l,d){return l==="touchstart"&&Vs(),Me[l]?(d=Me[l].bind(this,d),n.addEventListener(Je[l],d,!1),d):(console.warn("wrong event specified:",l),N)}function xn(n,l,d){if(!Je[l]){console.warn("wrong event specified:",l);return}n.removeEventListener(Je[l],d,!1)}function vn(n){Ue[n.pointerId]=n}function Tn(n){Ue[n.pointerId]&&(Ue[n.pointerId]=n)}function Wn(n){delete Ue[n.pointerId]}function Vs(){pt||(document.addEventListener(Hr,vn,!0),document.addEventListener(_s,Tn,!0),document.addEventListener(qi,Wn,!0),document.addEventListener(za,Wn,!0),pt=!0)}function sr(n,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in Ue)l.touches.push(Ue[d]);l.changedTouches=[l],n(l)}}function it(n,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&_t(l),sr(n,l)}function Yo(n){var l={},d,g;for(g in n)d=n[g],l[g]=d&&d.bind?d.bind(n):d;return n=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Ho=200;function Jl(n,l){n.addEventListener("dblclick",l);var d=0,g;function b(j){if(j.detail!==1){g=j.detail;return}if(!(j.pointerType==="mouse"||j.sourceCapabilities&&!j.sourceCapabilities.firesTouchEvents)){var A=js(j);if(!(A.some(function(se){return se instanceof HTMLLabelElement&&se.attributes.for})&&!A.some(function(se){return se instanceof HTMLInputElement||se instanceof HTMLSelectElement}))){var Q=Date.now();Q-d<=Ho?(g++,g===2&&l(Yo(j))):g=1,d=Q}}}return n.addEventListener("click",b),{dblclick:l,simDblclick:b}}function Wa(n,l){n.removeEventListener("dblclick",l.dblclick),n.removeEventListener("click",l.simDblclick)}var $o=Qs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qs=Qs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Gi=qs==="webkitTransition"||qs==="OTransition"?qs+"End":"transitionend";function Yn(n){return typeof n=="string"?document.getElementById(n):n}function Ki(n,l){var d=n.style[l]||n.currentStyle&&n.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(n,null);d=g?g[l]:null}return d==="auto"?null:d}function We(n,l,d){var g=document.createElement(n);return g.className=l||"",d&&d.appendChild(g),g}function ft(n){var l=n.parentNode;l&&l.removeChild(n)}function Ya(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function Gs(n){var l=n.parentNode;l&&l.lastChild!==n&&l.appendChild(n)}function Nr(n){var l=n.parentNode;l&&l.firstChild!==n&&l.insertBefore(n,l.firstChild)}function Ks(n,l){if(n.classList!==void 0)return n.classList.contains(l);var d=Ha(n);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Be(n,l){if(n.classList!==void 0)for(var d=T(l),g=0,b=d.length;g<b;g++)n.classList.add(d[g]);else if(!Ks(n,l)){var j=Ha(n);Uo(n,(j?j+" ":"")+l)}}function dt(n,l){n.classList!==void 0?n.classList.remove(l):Uo(n,D((" "+Ha(n)+" ").replace(" "+l+" "," ")))}function Uo(n,l){n.className.baseVal===void 0?n.className=l:n.className.baseVal=l}function Ha(n){return n.correspondingElement&&(n=n.correspondingElement),n.className.baseVal===void 0?n.className:n.className.baseVal}function an(n,l){"opacity"in n.style?n.style.opacity=l:"filter"in n.style&&ec(n,l)}function ec(n,l){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=n.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):n.style.filter+=" progid:"+g+"(opacity="+l+")"}function Qs(n){for(var l=document.documentElement.style,d=0;d<n.length;d++)if(n[d]in l)return n[d];return!1}function Hn(n,l,d){var g=l||new W(0,0);n.style[$o]=(Ce.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function Ct(n,l){n._leaflet_pos=l,Ce.any3d?Hn(n,l):(n.style.left=l.x+"px",n.style.top=l.y+"px")}function jr(n){return n._leaflet_pos||new W(0,0)}var qe,Xs,$a;if("onselectstart"in document)qe=function(){Re(window,"selectstart",_t)},Xs=function(){ct(window,"selectstart",_t)};else{var ks=Qs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qe=function(){if(ks){var n=document.documentElement.style;$a=n[ks],n[ks]="none"}},Xs=function(){ks&&(document.documentElement.style[ks]=$a,$a=void 0)}}function Ua(){Re(window,"dragstart",_t)}function Za(){ct(window,"dragstart",_t)}var Qi,Xi;function Js(n){for(;n.tabIndex===-1;)n=n.parentNode;n.style&&($n(),Qi=n,Xi=n.style.outlineStyle,n.style.outlineStyle="none",Re(window,"keydown",$n))}function $n(){Qi&&(Qi.style.outlineStyle=Xi,Qi=void 0,Xi=void 0,ct(window,"keydown",$n))}function Sr(n){do n=n.parentNode;while((!n.offsetWidth||!n.offsetHeight)&&n!==document.body);return n}function ir(n){var l=n.getBoundingClientRect();return{x:l.width/n.offsetWidth||1,y:l.height/n.offsetHeight||1,boundingClientRect:l}}var Ji={__proto__:null,TRANSFORM:$o,TRANSITION:qs,TRANSITION_END:Gi,get:Yn,getStyle:Ki,create:We,remove:ft,empty:Ya,toFront:Gs,toBack:Nr,hasClass:Ks,addClass:Be,removeClass:dt,setClass:Uo,getClass:Ha,setOpacity:an,testProp:Qs,setTransform:Hn,setPosition:Ct,getPosition:jr,get disableTextSelection(){return qe},get enableTextSelection(){return Xs},disableImageDrag:Ua,enableImageDrag:Za,preventOutline:Js,restoreOutline:$n,getSizedParentNode:Sr,getScale:ir};function Re(n,l,d,g){if(l&&typeof l=="object")for(var b in l)Vo(n,b,l[b],d);else{l=T(l);for(var j=0,A=l.length;j<A;j++)Vo(n,l[j],d,g)}return this}var zt="_leaflet_events";function ct(n,l,d,g){if(arguments.length===1)Zo(n),delete n[zt];else if(l&&typeof l=="object")for(var b in l)Va(n,b,l[b],d);else if(l=T(l),arguments.length===2)Zo(n,function(Q){return te(l,Q)!==-1});else for(var j=0,A=l.length;j<A;j++)Va(n,l[j],d,g);return this}function Zo(n,l){for(var d in n[zt]){var g=d.split(/\d/)[0];(!l||l(g))&&Va(n,g,null,null,d)}}var Ns={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vo(n,l,d,g){var b=l+v(d)+(g?"_"+v(g):"");if(n[zt]&&n[zt][b])return this;var j=function(Q){return d.call(g||n,Q||window.event)},A=j;!Ce.touchNative&&Ce.pointer&&l.indexOf("touch")===0?j=wt(n,l,j):Ce.touch&&l==="dblclick"?j=Jl(n,j):"addEventListener"in n?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?n.addEventListener(Ns[l]||l,j,Ce.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(j=function(Q){Q=Q||window.event,na(n,Q)&&A(Q)},n.addEventListener(Ns[l],j,!1)):n.addEventListener(l,A,!1):n.attachEvent("on"+l,j),n[zt]=n[zt]||{},n[zt][b]=j}function Va(n,l,d,g,b){b=b||l+v(d)+(g?"_"+v(g):"");var j=n[zt]&&n[zt][b];if(!j)return this;!Ce.touchNative&&Ce.pointer&&l.indexOf("touch")===0?xn(n,l,j):Ce.touch&&l==="dblclick"?Wa(n,j):"removeEventListener"in n?n.removeEventListener(Ns[l]||l,j,!1):n.detachEvent("on"+l,j),n[zt][b]=null}function ar(n){return n.stopPropagation?n.stopPropagation():n.originalEvent?n.originalEvent._stopped=!0:n.cancelBubble=!0,this}function qa(n){return Vo(n,"wheel",ar),this}function ea(n){return Re(n,"mousedown touchstart dblclick contextmenu",ar),n._leaflet_disable_click=!0,this}function _t(n){return n.preventDefault?n.preventDefault():n.returnValue=!1,this}function Un(n){return _t(n),ar(n),this}function js(n){if(n.composedPath)return n.composedPath();for(var l=[],d=n.target;d;)l.push(d),d=d.parentNode;return l}function ta(n,l){if(!l)return new W(n.clientX,n.clientY);var d=ir(l),g=d.boundingClientRect;return new W((n.clientX-g.left)/d.x-l.clientLeft,(n.clientY-g.top)/d.y-l.clientTop)}var ld=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tc(n){return Ce.edge?n.wheelDeltaY/2:n.deltaY&&n.deltaMode===0?-n.deltaY/ld:n.deltaY&&n.deltaMode===1?-n.deltaY*20:n.deltaY&&n.deltaMode===2?-n.deltaY*60:n.deltaX||n.deltaZ?0:n.wheelDelta?(n.wheelDeltaY||n.wheelDelta)/2:n.detail&&Math.abs(n.detail)<32765?-n.detail*20:n.detail?n.detail/-32765*60:0}function na(n,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==n;)d=d.parentNode}catch{return!1}return d!==n}var Ga={__proto__:null,on:Re,off:ct,stopPropagation:ar,disableScrollPropagation:qa,disableClickPropagation:ea,preventDefault:_t,stop:Un,getPropagationPath:js,getMousePosition:ta,getWheelDelta:tc,isExternalTarget:na,addListener:Re,removeListener:ct},Ka=ce.extend({run:function(n,l,d,g){this.stop(),this._el=n,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=jr(n),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ue(this._animate,this),this._step()},_step:function(n){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),n):(this._runFrame(1),this._complete())},_runFrame:function(n,l){var d=this._startPos.add(this._offset.multiplyBy(n));l&&d._round(),Ct(this._el,d),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(n){return 1-Math.pow(1-n,this._easeOutPower)}}),Ze=ce.extend({options:{crs:de,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(n,l){l=S(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(n),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(ye(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qs&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Re(this._proxy,Gi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(n,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),n=this._limitCenter(ye(n),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=u({animate:d.animate},d.zoom),d.pan=u({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(n,l,d.zoom):this._tryAnimatedPan(n,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(n,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(n,l){return this._loaded?this.setView(this.getCenter(),n,{zoom:l}):(this._zoom=n,this)},zoomIn:function(n,l){return n=n||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+n,l)},zoomOut:function(n,l){return n=n||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-n,l)},setZoomAround:function(n,l,d){var g=this.getZoomScale(l),b=this.getSize().divideBy(2),j=n instanceof W?n:this.latLngToContainerPoint(n),A=j.subtract(b).multiplyBy(1-1/g),Q=this.containerPointToLatLng(b.add(A));return this.setView(Q,l,{zoom:d})},_getBoundsCenterZoom:function(n,l){l=l||{},n=n.getBounds?n.getBounds():be(n);var d=Y(l.paddingTopLeft||l.padding||[0,0]),g=Y(l.paddingBottomRight||l.padding||[0,0]),b=this.getBoundsZoom(n,!1,d.add(g));if(b=typeof l.maxZoom=="number"?Math.min(l.maxZoom,b):b,b===1/0)return{center:n.getCenter(),zoom:b};var j=g.subtract(d).divideBy(2),A=this.project(n.getSouthWest(),b),Q=this.project(n.getNorthEast(),b),se=this.unproject(A.add(Q).divideBy(2).add(j),b);return{center:se,zoom:b}},fitBounds:function(n,l){if(n=be(n),!n.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(n,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(n){return this.fitBounds([[-90,-180],[90,180]],n)},panTo:function(n,l){return this.setView(n,this._zoom,{pan:l})},panBy:function(n,l){if(n=Y(n).round(),l=l||{},!n.x&&!n.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(n))return this._resetView(this.unproject(this.project(this.getCenter()).add(n)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ka,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Be(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(n).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(n),this.fire("move").fire("moveend");return this},flyTo:function(n,l,d){if(d=d||{},d.animate===!1||!Ce.any3d)return this.setView(n,l,d);this._stop();var g=this.project(this.getCenter()),b=this.project(n),j=this.getSize(),A=this._zoom;n=ye(n),l=l===void 0?A:l;var Q=Math.max(j.x,j.y),se=Q*this.getZoomScale(A,l),he=b.distanceTo(g)||1,_e=1.42,Ee=_e*_e;function Ye(nt){var fi=nt?-1:1,_d=nt?se:Q,kd=se*se-Q*Q+fi*Ee*Ee*he*he,Es=2*_d*Ee*he,Ls=kd/Es,Os=Math.sqrt(Ls*Ls+1)-Ls,uo=Os<1e-9?-18:Math.log(Os);return uo}function Wt(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function At(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function wn(nt){return Wt(nt)/At(nt)}var ln=Ye(0);function hi(nt){return Q*(At(ln)/At(ln+_e*nt))}function fl(nt){return Q*(At(ln)*wn(ln+_e*nt)-Wt(ln))/Ee}function Qr(nt){return 1-Math.pow(1-nt,1.5)}var _c=Date.now(),Ms=(Ye(1)-ln)/_e,ur=d.duration?1e3*d.duration:1e3*Ms*.8;function pi(){var nt=(Date.now()-_c)/ur,fi=Qr(nt)*Ms;nt<=1?(this._flyToFrame=ue(pi,this),this._move(this.unproject(g.add(b.subtract(g).multiplyBy(fl(fi)/he)),A),this.getScaleZoom(Q/hi(fi),A),{flyTo:!0})):this._move(n,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),pi.call(this),this},flyToBounds:function(n,l){var d=this._getBoundsCenterZoom(n,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(n){return n=be(n),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),n.isValid()?(this.options.maxBounds=n,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(n){var l=this.options.minZoom;return this.options.minZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(n):this},setMaxZoom:function(n){var l=this.options.maxZoom;return this.options.maxZoom=n,this._loaded&&l!==n&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(n):this},panInsideBounds:function(n,l){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,be(n));return d.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(n,l){l=l||{};var d=Y(l.paddingTopLeft||l.padding||[0,0]),g=Y(l.paddingBottomRight||l.padding||[0,0]),b=this.project(this.getCenter()),j=this.project(n),A=this.getPixelBounds(),Q=X([A.min.add(d),A.max.subtract(g)]),se=Q.getSize();if(!Q.contains(j)){this._enforcingBounds=!0;var he=j.subtract(Q.getCenter()),_e=Q.extend(j).getSize().subtract(se);b.x+=he.x<0?-_e.x:_e.x,b.y+=he.y<0?-_e.y:_e.y,this.panTo(this.unproject(b),l),this._enforcingBounds=!1}return this},invalidateSize:function(n){if(!this._loaded)return this;n=u({animate:!1,pan:!0},n===!0?{animate:!0}:n);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=l.divideBy(2).round(),b=d.divideBy(2).round(),j=g.subtract(b);return!j.x&&!j.y?this:(n.animate&&n.pan?this.panBy(j):(n.pan&&this._rawPanBy(j),this.fire("move"),n.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(n){if(n=this._locateOptions=u({timeout:1e4,watch:!1},n),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=f(this._handleGeolocationResponse,this),d=f(this._handleGeolocationError,this);return n.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,n):navigator.geolocation.getCurrentPosition(l,d,n),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(n){if(this._container._leaflet_id){var l=n.code,d=n.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(n){if(this._container._leaflet_id){var l=n.coords.latitude,d=n.coords.longitude,g=new we(l,d),b=g.toBounds(n.coords.accuracy*2),j=this._locateOptions;if(j.setView){var A=this.getBoundsZoom(b);this.setView(g,j.maxZoom?Math.min(A,j.maxZoom):A)}var Q={latlng:g,bounds:b,timestamp:n.timestamp};for(var se in n.coords)typeof n.coords[se]=="number"&&(Q[se]=n.coords[se]);this.fire("locationfound",Q)}},addHandler:function(n,l){if(!l)return this;var d=this[n]=new l(this);return this._handlers.push(d),this.options[n]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var n;for(n in this._layers)this._layers[n].remove();for(n in this._panes)ft(this._panes[n]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(n,l){var d="leaflet-pane"+(n?" leaflet-"+n.replace("Pane","")+"-pane":""),g=We("div",d,l||this._mapPane);return n&&(this._panes[n]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var n=this.getPixelBounds(),l=this.unproject(n.getBottomLeft()),d=this.unproject(n.getTopRight());return new ge(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(n,l,d){n=be(n),d=Y(d||[0,0]);var g=this.getZoom()||0,b=this.getMinZoom(),j=this.getMaxZoom(),A=n.getNorthWest(),Q=n.getSouthEast(),se=this.getSize().subtract(d),he=X(this.project(Q,g),this.project(A,g)).getSize(),_e=Ce.any3d?this.options.zoomSnap:1,Ee=se.x/he.x,Ye=se.y/he.y,Wt=l?Math.max(Ee,Ye):Math.min(Ee,Ye);return g=this.getScaleZoom(Wt,g),_e&&(g=Math.round(g/(_e/100))*(_e/100),g=l?Math.ceil(g/_e)*_e:Math.floor(g/_e)*_e),Math.max(b,Math.min(j,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(n,l){var d=this._getTopLeftPoint(n,l);return new E(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(n){return this.options.crs.getProjectedBounds(n===void 0?this.getZoom():n)},getPane:function(n){return typeof n=="string"?this._panes[n]:n},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(n,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(n)/d.scale(l)},getScaleZoom:function(n,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var g=d.zoom(n*d.scale(l));return isNaN(g)?1/0:g},project:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(ye(n),l)},unproject:function(n,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(Y(n),l)},layerPointToLatLng:function(n){var l=Y(n).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(n){var l=this.project(ye(n))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(n){return this.options.crs.wrapLatLng(ye(n))},wrapLatLngBounds:function(n){return this.options.crs.wrapLatLngBounds(be(n))},distance:function(n,l){return this.options.crs.distance(ye(n),ye(l))},containerPointToLayerPoint:function(n){return Y(n).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(n){return Y(n).add(this._getMapPanePos())},containerPointToLatLng:function(n){var l=this.containerPointToLayerPoint(Y(n));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(n){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ye(n)))},mouseEventToContainerPoint:function(n){return ta(n,this._container)},mouseEventToLayerPoint:function(n){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(n))},mouseEventToLatLng:function(n){return this.layerPointToLatLng(this.mouseEventToLayerPoint(n))},_initContainer:function(n){var l=this._container=Yn(n);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Re(l,"scroll",this._onScroll,this),this._containerId=v(l)},_initLayout:function(){var n=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Be(n,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ki(n,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(n.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var n=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ct(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Be(n.markerPane,"leaflet-zoom-hide"),Be(n.shadowPane,"leaflet-zoom-hide"))},_resetView:function(n,l,d){Ct(this._mapPane,new W(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var b=this._zoom!==l;this._moveStart(b,d)._move(n,l)._moveEnd(b),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(n,l){return n&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(n,l,d,g){l===void 0&&(l=this._zoom);var b=this._zoom!==l;return this._zoom=l,this._lastCenter=n,this._pixelOrigin=this._getNewPixelOrigin(n),g?d&&d.pinch&&this.fire("zoom",d):((b||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(n){return n&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(n){Ct(this._mapPane,this._getMapPanePos().subtract(n))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(n){this._targets={},this._targets[v(this._container)]=this;var l=n?ct:Re;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(n?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=ue(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var n=this._getMapPanePos();Math.max(Math.abs(n.x),Math.abs(n.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(n,l){for(var d=[],g,b=l==="mouseout"||l==="mouseover",j=n.target||n.srcElement,A=!1;j;){if(g=this._targets[v(j)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){A=!0;break}if(g&&g.listens(l,!0)&&(b&&!na(j,n)||(d.push(g),b))||j===this._container)break;j=j.parentNode}return!d.length&&!A&&!b&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(n){for(;n&&n!==this._container;){if(n._leaflet_disable_click)return!0;n=n.parentNode}},_handleDOMEvent:function(n){var l=n.target||n.srcElement;if(!(!this._loaded||l._leaflet_disable_events||n.type==="click"&&this._isClickDisabled(l))){var d=n.type;d==="mousedown"&&Js(l),this._fireDOMEvent(n,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(n,l,d){if(n.type==="click"){var g=u({},n);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var b=this._findEventTargets(n,l);if(d){for(var j=[],A=0;A<d.length;A++)d[A].listens(l,!0)&&j.push(d[A]);b=j.concat(b)}if(b.length){l==="contextmenu"&&_t(n);var Q=b[0],se={originalEvent:n};if(n.type!=="keypress"&&n.type!=="keydown"&&n.type!=="keyup"){var he=Q.getLatLng&&(!Q._radius||Q._radius<=10);se.containerPoint=he?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(n),se.layerPoint=this.containerPointToLayerPoint(se.containerPoint),se.latlng=he?Q.getLatLng():this.layerPointToLatLng(se.layerPoint)}for(A=0;A<b.length;A++)if(b[A].fire(l,se,!0),se.originalEvent._stopped||b[A].options.bubblingMouseEvents===!1&&te(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(n){return n=n.dragging&&n.dragging.enabled()?n:this,n.dragging&&n.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var n=0,l=this._handlers.length;n<l;n++)this._handlers[n].disable()},whenReady:function(n,l){return this._loaded?n.call(l||this,{target:this}):this.on("load",n,l),this},_getMapPanePos:function(){return jr(this._mapPane)||new W(0,0)},_moved:function(){var n=this._getMapPanePos();return n&&!n.equals([0,0])},_getTopLeftPoint:function(n,l){var d=n&&l!==void 0?this._getNewPixelOrigin(n,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(n,l){var d=this.getSize()._divideBy(2);return this.project(n,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(n,l,d){var g=this._getNewPixelOrigin(d,l);return this.project(n,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(n,l,d){var g=this._getNewPixelOrigin(d,l);return X([this.project(n.getSouthWest(),l)._subtract(g),this.project(n.getNorthWest(),l)._subtract(g),this.project(n.getSouthEast(),l)._subtract(g),this.project(n.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(n){return this.latLngToLayerPoint(n).subtract(this._getCenterLayerPoint())},_limitCenter:function(n,l,d){if(!d)return n;var g=this.project(n,l),b=this.getSize().divideBy(2),j=new E(g.subtract(b),g.add(b)),A=this._getBoundsOffset(j,d,l);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?n:this.unproject(g.add(A),l)},_limitOffset:function(n,l){if(!l)return n;var d=this.getPixelBounds(),g=new E(d.min.add(n),d.max.add(n));return n.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(n,l,d){var g=X(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),b=g.min.subtract(n.min),j=g.max.subtract(n.max),A=this._rebound(b.x,-j.x),Q=this._rebound(b.y,-j.y);return new W(A,Q)},_rebound:function(n,l){return n+l>0?Math.round(n-l)/2:Math.max(0,Math.ceil(n))-Math.max(0,Math.floor(l))},_limitZoom:function(n){var l=this.getMinZoom(),d=this.getMaxZoom(),g=Ce.any3d?this.options.zoomSnap:1;return g&&(n=Math.round(n/g)*g),Math.max(l,Math.min(d,n))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(n,l){var d=this._getCenterOffset(n)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var n=this._proxy=We("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(n),this.on("zoomanim",function(l){var d=$o,g=this._proxy.style[d];Hn(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var n=this.getCenter(),l=this.getZoom();Hn(this._proxy,this.project(n,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(n){this._animatingZoom&&n.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(n,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),b=this._getCenterOffset(n)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(b)?!1:(ue(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(n,l,!0)},this),!0)},_animateZoom:function(n,l,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=n,this._animateToZoom=l,Be(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:n,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $r(n,l){return new Ze(n,l)}var yn=ae.extend({options:{position:"topright"},initialize:function(n){S(this,n)},getPosition:function(){return this.options.position},setPosition:function(n){var l=this._map;return l&&l.removeControl(this),this.options.position=n,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(n){this.remove(),this._map=n;var l=this._container=this.onAdd(n),d=this.getPosition(),g=n._controlCorners[d];return Be(l,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(n){this._map&&n&&n.screenX>0&&n.screenY>0&&this._map.getContainer().focus()}}),Ur=function(n){return new yn(n)};Ze.include({addControl:function(n){return n.addTo(this),this},removeControl:function(n){return n.remove(),this},_initControlPos:function(){var n=this._controlCorners={},l="leaflet-",d=this._controlContainer=We("div",l+"control-container",this._container);function g(b,j){var A=l+b+" "+l+j;n[b+j]=We("div",A,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var n in this._controlCorners)ft(this._controlCorners[n]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qo=yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(n,l,d,g){return d<g?-1:g<d?1:0}},initialize:function(n,l,d){S(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in n)this._addLayer(n[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(n){this._initLayout(),this._update(),this._map=n,n.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(n){return yn.prototype.addTo.call(this,n),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(n,l){return this._addLayer(n,l),this._map?this._update():this},addOverlay:function(n,l){return this._addLayer(n,l,!0),this._map?this._update():this},removeLayer:function(n){n.off("add remove",this._onLayerChange,this);var l=this._getLayer(v(n));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Be(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var n=this._map.getSize().y-(this._container.offsetTop+50);return n<this._section.clientHeight?(Be(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=n+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var n="leaflet-control-layers",l=this._container=We("div",n),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ea(l),qa(l);var g=this._section=We("section",n+"-list");d&&(this._map.on("click",this.collapse,this),Re(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=We("a",n+"-toggle",l);b.href="#",b.title="Layers",b.setAttribute("role","button"),Re(b,{keydown:function(j){j.keyCode===13&&this._expandSafely()},click:function(j){_t(j),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=We("div",n+"-base",g),this._separator=We("div",n+"-separator",g),this._overlaysList=We("div",n+"-overlays",g),l.appendChild(g)},_getLayer:function(n){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&v(this._layers[l].layer)===n)return this._layers[l]},_addLayer:function(n,l,d){this._map&&n.on("add remove",this._onLayerChange,this),this._layers.push({layer:n,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(f(function(g,b){return this.options.sortFunction(g.layer,b.layer,g.name,b.name)},this)),this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ya(this._baseLayersList),Ya(this._overlaysList),this._layerControlInputs=[];var n,l,d,g,b=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),l=l||g.overlay,n=n||!g.overlay,b+=g.overlay?0:1;return this.options.hideSingleBase&&(n=n&&b>1,this._baseLayersList.style.display=n?"":"none"),this._separator.style.display=l&&n?"":"none",this},_onLayerChange:function(n){this._handlingClick||this._update();var l=this._getLayer(v(n.target)),d=l.overlay?n.type==="add"?"overlayadd":"overlayremove":n.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(n,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(n){var l=document.createElement("label"),d=this._map.hasLayer(n.layer),g;n.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(g),g.layerId=v(n.layer),Re(g,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+n.name;var j=document.createElement("span");l.appendChild(j),j.appendChild(g),j.appendChild(b);var A=n.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var n=this._layerControlInputs,l,d,g=[],b=[];this._handlingClick=!0;for(var j=n.length-1;j>=0;j--)l=n[j],d=this._getLayer(l.layerId).layer,l.checked?g.push(d):l.checked||b.push(d);for(j=0;j<b.length;j++)this._map.hasLayer(b[j])&&this._map.removeLayer(b[j]);for(j=0;j<g.length;j++)this._map.hasLayer(g[j])||this._map.addLayer(g[j]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var n=this._layerControlInputs,l,d,g=this._map.getZoom(),b=n.length-1;b>=0;b--)l=n[b],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var n=this._section;this._preventClick=!0,Re(n,"click",_t),this.expand();var l=this;setTimeout(function(){ct(n,"click",_t),l._preventClick=!1})}}),Qa=function(n,l,d){return new qo(n,l,d)},ei=yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(n){var l="leaflet-control-zoom",d=We("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),n.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(n){n.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(n){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(n.shiftKey?3:1))},_zoomOut:function(n){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(n.shiftKey?3:1))},_createButton:function(n,l,d,g,b){var j=We("a",d,g);return j.innerHTML=n,j.href="#",j.title=l,j.setAttribute("role","button"),j.setAttribute("aria-label",l),ea(j),Re(j,"click",Un),Re(j,"click",b,this),Re(j,"click",this._refocusOnMap,this),j},_updateDisabled:function(){var n=this._map,l="leaflet-disabled";dt(this._zoomInButton,l),dt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||n._zoom===n.getMinZoom())&&(Be(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||n._zoom===n.getMaxZoom())&&(Be(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ei,this.addControl(this.zoomControl))});var nc=function(n){return new ei(n)},on=yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(n){var l="leaflet-control-scale",d=We("div",l),g=this.options;return this._addScales(g,l+"-line",d),n.on(g.updateWhenIdle?"moveend":"move",this._update,this),n.whenReady(this._update,this),d},onRemove:function(n){n.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(n,l,d){n.metric&&(this._mScale=We("div",l,d)),n.imperial&&(this._iScale=We("div",l,d))},_update:function(){var n=this._map,l=n.getSize().y/2,d=n.distance(n.containerPointToLatLng([0,l]),n.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(n){this.options.metric&&n&&this._updateMetric(n),this.options.imperial&&n&&this._updateImperial(n)},_updateMetric:function(n){var l=this._getRoundNum(n),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/n)},_updateImperial:function(n){var l=n*3.2808399,d,g,b;l>5280?(d=l/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(b=this._getRoundNum(l),this._updateScale(this._iScale,b+" ft",b/l))},_updateScale:function(n,l,d){n.style.width=Math.round(this.options.maxWidth*d)+"px",n.innerHTML=l},_getRoundNum:function(n){var l=Math.pow(10,(Math.floor(n)+"").length-1),d=n/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),ti=function(n){return new on(n)},Go='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ss=yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Go+" ":"")+"Leaflet</a>"},initialize:function(n){S(this,n),this._attributions={}},onAdd:function(n){n.attributionControl=this,this._container=We("div","leaflet-control-attribution"),ea(this._container);for(var l in n._layers)n._layers[l].getAttribution&&this.addAttribution(n._layers[l].getAttribution());return this._update(),n.on("layeradd",this._addAttribution,this),this._container},onRemove:function(n){n.off("layeradd",this._addAttribution,this)},_addAttribution:function(n){n.layer.getAttribution&&(this.addAttribution(n.layer.getAttribution()),n.layer.once("remove",function(){this.removeAttribution(n.layer.getAttribution())},this))},setPrefix:function(n){return this.options.prefix=n,this._update(),this},addAttribution:function(n){return n?(this._attributions[n]||(this._attributions[n]=0),this._attributions[n]++,this._update(),this):this},removeAttribution:function(n){return n?(this._attributions[n]&&(this._attributions[n]--,this._update()),this):this},_update:function(){if(this._map){var n=[];for(var l in this._attributions)this._attributions[l]&&n.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),n.length&&d.push(n.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook(function(){this.options.attributionControl&&new Ss().addTo(this)});var cd=function(n){return new Ss(n)};yn.Layers=qo,yn.Zoom=ei,yn.Scale=on,yn.Attribution=Ss,Ur.layers=Qa,Ur.zoom=nc,Ur.scale=ti,Ur.attribution=cd;var Mn=ae.extend({initialize:function(n){this._map=n},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Mn.addTo=function(n,l){return n.addHandler(l,this),this};var Ko={Events:oe},ni=Ce.touch?"touchstart mousedown":"mousedown",Zn=ce.extend({options:{clickTolerance:3},initialize:function(n,l,d,g){S(this,g),this._element=n,this._dragStartTarget=l||n,this._preventOutline=d},enable:function(){this._enabled||(Re(this._dragStartTarget,ni,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Zn._dragging===this&&this.finishDrag(!0),ct(this._dragStartTarget,ni,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(n){if(this._enabled&&(this._moved=!1,!Ks(this._element,"leaflet-zoom-anim"))){if(n.touches&&n.touches.length!==1){Zn._dragging===this&&this.finishDrag();return}if(!(Zn._dragging||n.shiftKey||n.which!==1&&n.button!==1&&!n.touches)&&(Zn._dragging=this,this._preventOutline&&Js(this._element),Ua(),qe(),!this._moving)){this.fire("down");var l=n.touches?n.touches[0]:n,d=Sr(this._element);this._startPoint=new W(l.clientX,l.clientY),this._startPos=jr(this._element),this._parentScale=ir(d);var g=n.type==="mousedown";Re(document,g?"mousemove":"touchmove",this._onMove,this),Re(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(n){if(this._enabled){if(n.touches&&n.touches.length>1){this._moved=!0;return}var l=n.touches&&n.touches.length===1?n.touches[0]:n,d=new W(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,_t(n),this._moved||(this.fire("dragstart"),this._moved=!0,Be(document.body,"leaflet-dragging"),this._lastTarget=n.target||n.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Be(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=n,this._updatePosition())}},_updatePosition:function(){var n={originalEvent:this._lastEvent};this.fire("predrag",n),Ct(this._element,this._newPos),this.fire("drag",n)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(n){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ct(document,"mousemove touchmove",this._onMove,this),ct(document,"mouseup touchend touchcancel",this._onUp,this),Za(),Xs();var l=this._moved&&this._moving;this._moving=!1,Zn._dragging=!1,l&&this.fire("dragend",{noInertia:n,distance:this._newPos.distanceTo(this._startPos)})}});function Qo(n,l,d){var g,b=[1,4,2,8],j,A,Q,se,he,_e,Ee,Ye;for(j=0,_e=n.length;j<_e;j++)n[j]._code=Cs(n[j],l);for(Q=0;Q<4;Q++){for(Ee=b[Q],g=[],j=0,_e=n.length,A=_e-1;j<_e;A=j++)se=n[j],he=n[A],se._code&Ee?he._code&Ee||(Ye=Ja(he,se,Ee,l,d),Ye._code=Cs(Ye,l),g.push(Ye)):(he._code&Ee&&(Ye=Ja(he,se,Ee,l,d),Ye._code=Cs(Ye,l),g.push(Ye)),g.push(se));n=g}return n}function rc(n,l){var d,g,b,j,A,Q,se,he,_e;if(!n||n.length===0)throw new Error("latlngs not passed");En(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var Ee=ye([0,0]),Ye=be(n),Wt=Ye.getNorthWest().distanceTo(Ye.getSouthWest())*Ye.getNorthEast().distanceTo(Ye.getNorthWest());Wt<1700&&(Ee=Xo(n));var At=n.length,wn=[];for(d=0;d<At;d++){var ln=ye(n[d]);wn.push(l.project(ye([ln.lat-Ee.lat,ln.lng-Ee.lng])))}for(Q=se=he=0,d=0,g=At-1;d<At;g=d++)b=wn[d],j=wn[g],A=b.y*j.x-j.y*b.x,se+=(b.x+j.x)*A,he+=(b.y+j.y)*A,Q+=A*3;Q===0?_e=wn[0]:_e=[se/Q,he/Q];var hi=l.unproject(Y(_e));return ye([hi.lat+Ee.lat,hi.lng+Ee.lng])}function Xo(n){for(var l=0,d=0,g=0,b=0;b<n.length;b++){var j=ye(n[b]);l+=j.lat,d+=j.lng,g++}return ye([l/g,d/g])}var ud={__proto__:null,clipPolygon:Qo,polygonCenter:rc,centroid:Xo};function Xa(n,l){if(!l||!n.length)return n.slice();var d=l*l;return n=pd(n,d),n=hd(n,d),n}function sc(n,l,d){return Math.sqrt(Ps(n,l,d,!0))}function dd(n,l,d){return Ps(n,l,d)}function hd(n,l){var d=n.length,g=typeof Uint8Array<"u"?Uint8Array:Array,b=new g(d);b[0]=b[d-1]=1,Jo(n,b,l,0,d-1);var j,A=[];for(j=0;j<d;j++)b[j]&&A.push(n[j]);return A}function Jo(n,l,d,g,b){var j=0,A,Q,se;for(Q=g+1;Q<=b-1;Q++)se=Ps(n[Q],n[g],n[b],!0),se>j&&(A=Q,j=se);j>d&&(l[A]=1,Jo(n,l,d,g,A),Jo(n,l,d,A,b))}function pd(n,l){for(var d=[n[0]],g=1,b=0,j=n.length;g<j;g++)fd(n[g],n[b])>l&&(d.push(n[g]),b=g);return b<j-1&&d.push(n[j-1]),d}var el;function ic(n,l,d,g,b){var j=g?el:Cs(n,d),A=Cs(l,d),Q,se,he;for(el=A;;){if(!(j|A))return[n,l];if(j&A)return!1;Q=j||A,se=Ja(n,l,Q,d,b),he=Cs(se,d),Q===j?(n=se,j=he):(l=se,A=he)}}function Ja(n,l,d,g,b){var j=l.x-n.x,A=l.y-n.y,Q=g.min,se=g.max,he,_e;return d&8?(he=n.x+j*(se.y-n.y)/A,_e=se.y):d&4?(he=n.x+j*(Q.y-n.y)/A,_e=Q.y):d&2?(he=se.x,_e=n.y+A*(se.x-n.x)/j):d&1&&(he=Q.x,_e=n.y+A*(Q.x-n.x)/j),new W(he,_e,b)}function Cs(n,l){var d=0;return n.x<l.min.x?d|=1:n.x>l.max.x&&(d|=2),n.y<l.min.y?d|=4:n.y>l.max.y&&(d|=8),d}function fd(n,l){var d=l.x-n.x,g=l.y-n.y;return d*d+g*g}function Ps(n,l,d,g){var b=l.x,j=l.y,A=d.x-b,Q=d.y-j,se=A*A+Q*Q,he;return se>0&&(he=((n.x-b)*A+(n.y-j)*Q)/se,he>1?(b=d.x,j=d.y):he>0&&(b+=A*he,j+=Q*he)),A=n.x-b,Q=n.y-j,g?A*A+Q*Q:new W(b,j)}function En(n){return!B(n[0])||typeof n[0][0]!="object"&&typeof n[0][0]<"u"}function ac(n){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(n)}function oc(n,l){var d,g,b,j,A,Q,se,he;if(!n||n.length===0)throw new Error("latlngs not passed");En(n)||(console.warn("latlngs are not flat! Only the first ring will be used"),n=n[0]);var _e=ye([0,0]),Ee=be(n),Ye=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());Ye<1700&&(_e=Xo(n));var Wt=n.length,At=[];for(d=0;d<Wt;d++){var wn=ye(n[d]);At.push(l.project(ye([wn.lat-_e.lat,wn.lng-_e.lng])))}for(d=0,g=0;d<Wt-1;d++)g+=At[d].distanceTo(At[d+1])/2;if(g===0)he=At[0];else for(d=0,j=0;d<Wt-1;d++)if(A=At[d],Q=At[d+1],b=A.distanceTo(Q),j+=b,j>g){se=(j-g)/b,he=[Q.x-se*(Q.x-A.x),Q.y-se*(Q.y-A.y)];break}var ln=l.unproject(Y(he));return ye([ln.lat+_e.lat,ln.lng+_e.lng])}var lc={__proto__:null,simplify:Xa,pointToSegmentDistance:sc,closestPointOnSegment:dd,clipSegment:ic,_getEdgeIntersection:Ja,_getBitCode:Cs,_sqClosestPointOnSegment:Ps,isFlat:En,_flat:ac,polylineCenter:oc},tl={project:function(n){return new W(n.lng,n.lat)},unproject:function(n){return new we(n.y,n.x)},bounds:new E([-180,-90],[180,90])},nl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new E([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(n){var l=Math.PI/180,d=this.R,g=n.lat*l,b=this.R_MINOR/d,j=Math.sqrt(1-b*b),A=j*Math.sin(g),Q=Math.tan(Math.PI/4-g/2)/Math.pow((1-A)/(1+A),j/2);return g=-d*Math.log(Math.max(Q,1e-10)),new W(n.lng*l*d,g)},unproject:function(n){for(var l=180/Math.PI,d=this.R,g=this.R_MINOR/d,b=Math.sqrt(1-g*g),j=Math.exp(-n.y/d),A=Math.PI/2-2*Math.atan(j),Q=0,se=.1,he;Q<15&&Math.abs(se)>1e-7;Q++)he=b*Math.sin(A),he=Math.pow((1-he)/(1+he),b/2),se=Math.PI/2-2*Math.atan(j*he)-A,A+=se;return new we(A*l,n.x*l/d)}},md={__proto__:null,LonLat:tl,Mercator:nl,SphericalMercator:yt},gd=u({},Ae,{code:"EPSG:3395",projection:nl,transformation:(function(){var n=.5/(Math.PI*nl.R);return rn(n,.5,-n,.5)})()}),cc=u({},Ae,{code:"EPSG:4326",projection:tl,transformation:rn(1/180,1,-1/180,.5)}),xd=u({},Ie,{projection:tl,transformation:rn(1,0,-1,0),scale:function(n){return Math.pow(2,n)},zoom:function(n){return Math.log(n)/Math.LN2},distance:function(n,l){var d=l.lng-n.lng,g=l.lat-n.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Ie.Earth=Ae,Ie.EPSG3395=gd,Ie.EPSG3857=de,Ie.EPSG900913=ze,Ie.EPSG4326=cc,Ie.Simple=xd;var Vn=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(n){return n.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(n){return n&&n.removeLayer(this),this},getPane:function(n){return this._map.getPane(n?this.options[n]||n:this.options.pane)},addInteractiveTarget:function(n){return this._map._targets[v(n)]=this,this},removeInteractiveTarget:function(n){return delete this._map._targets[v(n)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(n){var l=n.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(n){if(!n._layerAdd)throw new Error("The provided object is not a Layer.");var l=v(n);return this._layers[l]?this:(this._layers[l]=n,n._mapToAdd=this,n.beforeAdd&&n.beforeAdd(this),this.whenReady(n._layerAdd,n),this)},removeLayer:function(n){var l=v(n);return this._layers[l]?(this._loaded&&n.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:n}),n.fire("remove")),n._map=n._mapToAdd=null,this):this},hasLayer:function(n){return v(n)in this._layers},eachLayer:function(n,l){for(var d in this._layers)n.call(l,this._layers[d]);return this},_addLayers:function(n){n=n?B(n)?n:[n]:[];for(var l=0,d=n.length;l<d;l++)this.addLayer(n[l])},_addZoomLimit:function(n){(!isNaN(n.options.maxZoom)||!isNaN(n.options.minZoom))&&(this._zoomBoundLayers[v(n)]=n,this._updateZoomLevels())},_removeZoomLimit:function(n){var l=v(n);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var n=1/0,l=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var b=this._zoomBoundLayers[g].options;n=b.minZoom===void 0?n:Math.min(n,b.minZoom),l=b.maxZoom===void 0?l:Math.max(l,b.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=n===1/0?void 0:n,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zr=Vn.extend({initialize:function(n,l){S(this,l),this._layers={};var d,g;if(n)for(d=0,g=n.length;d<g;d++)this.addLayer(n[d])},addLayer:function(n){var l=this.getLayerId(n);return this._layers[l]=n,this._map&&this._map.addLayer(n),this},removeLayer:function(n){var l=n in this._layers?n:this.getLayerId(n);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(n){var l=typeof n=="number"?n:this.getLayerId(n);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(n){var l=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[n]&&g[n].apply(g,l);return this},onAdd:function(n){this.eachLayer(n.addLayer,n)},onRemove:function(n){this.eachLayer(n.removeLayer,n)},eachLayer:function(n,l){for(var d in this._layers)n.call(l,this._layers[d]);return this},getLayer:function(n){return this._layers[n]},getLayers:function(){var n=[];return this.eachLayer(n.push,n),n},setZIndex:function(n){return this.invoke("setZIndex",n)},getLayerId:function(n){return v(n)}}),ra=function(n,l){return new Zr(n,l)},Cr=Zr.extend({addLayer:function(n){return this.hasLayer(n)?this:(n.addEventParent(this),Zr.prototype.addLayer.call(this,n),this.fire("layeradd",{layer:n}))},removeLayer:function(n){return this.hasLayer(n)?(n in this._layers&&(n=this._layers[n]),n.removeEventParent(this),Zr.prototype.removeLayer.call(this,n),this.fire("layerremove",{layer:n})):this},setStyle:function(n){return this.invoke("setStyle",n)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var n=new ge;for(var l in this._layers){var d=this._layers[l];n.extend(d.getBounds?d.getBounds():d.getLatLng())}return n}}),uc=function(n,l){return new Cr(n,l)},Ds=ae.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(n){S(this,n)},createIcon:function(n){return this._createIcon("icon",n)},createShadow:function(n){return this._createIcon("shadow",n)},_createIcon:function(n,l){var d=this._getIconUrl(n);if(!d){if(n==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,n),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(n,l){var d=this.options,g=d[l+"Size"];typeof g=="number"&&(g=[g,g]);var b=Y(g),j=Y(l==="shadow"&&d.shadowAnchor||d.iconAnchor||b&&b.divideBy(2,!0));n.className="leaflet-marker-"+l+" "+(d.className||""),j&&(n.style.marginLeft=-j.x+"px",n.style.marginTop=-j.y+"px"),b&&(n.style.width=b.x+"px",n.style.height=b.y+"px")},_createImg:function(n,l){return l=l||document.createElement("img"),l.src=n,l},_getIconUrl:function(n){return Ce.retina&&this.options[n+"RetinaUrl"]||this.options[n+"Url"]}});function dc(n){return new Ds(n)}var ri=Ds.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(n){return typeof ri.imagePath!="string"&&(ri.imagePath=this._detectIconPath()),(this.options.imagePath||ri.imagePath)+Ds.prototype._getIconUrl.call(this,n)},_stripUrl:function(n){var l=function(d,g,b){var j=g.exec(d);return j&&j[b]};return n=l(n,/^url\((['"])?(.+)\1\)$/,2),n&&l(n,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var n=We("div","leaflet-default-icon-path",document.body),l=Ki(n,"background-image")||Ki(n,"backgroundImage");if(document.body.removeChild(n),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),rl=Mn.extend({initialize:function(n){this._marker=n},addHooks:function(){var n=this._marker._icon;this._draggable||(this._draggable=new Zn(n,n,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Be(n,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(n){var l=this._marker,d=l._map,g=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,j=jr(l._icon),A=d.getPixelBounds(),Q=d.getPixelOrigin(),se=X(A.min._subtract(Q).add(b),A.max._subtract(Q).subtract(b));if(!se.contains(j)){var he=Y((Math.max(se.max.x,j.x)-se.max.x)/(A.max.x-se.max.x)-(Math.min(se.min.x,j.x)-se.min.x)/(A.min.x-se.min.x),(Math.max(se.max.y,j.y)-se.max.y)/(A.max.y-se.max.y)-(Math.min(se.min.y,j.y)-se.min.y)/(A.min.y-se.min.y)).multiplyBy(g);d.panBy(he,{animate:!1}),this._draggable._newPos._add(he),this._draggable._startPos._add(he),Ct(l._icon,this._draggable._newPos),this._onDrag(n),this._panRequest=ue(this._adjustPan.bind(this,n))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(n){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=ue(this._adjustPan.bind(this,n)))},_onDrag:function(n){var l=this._marker,d=l._shadow,g=jr(l._icon),b=l._map.layerPointToLatLng(g);d&&Ct(d,g),l._latlng=b,n.latlng=b,n.oldLatLng=this._oldLatLng,l.fire("move",n).fire("drag",n)},_onDragEnd:function(n){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",n)}}),Pr=Vn.extend({options:{icon:new ri,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(n,l){S(this,l),this._latlng=ye(n)},onAdd:function(n){this._zoomAnimated=this._zoomAnimated&&n.options.markerZoomAnimation,this._zoomAnimated&&n.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(n){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&n.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(n){var l=this._latlng;return this._latlng=ye(n),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(n){return this.options.zIndexOffset=n,this.update()},getIcon:function(){return this.options.icon},setIcon:function(n){return this.options.icon=n,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var n=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(n)}return this},_initIcon:function(){var n=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=n.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,n.title&&(d.title=n.title),d.tagName==="IMG"&&(d.alt=n.alt||"")),Be(d,l),n.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,n.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(d,"focus",this._panOnFocus,this);var b=n.icon.createShadow(this._shadow),j=!1;b!==this._shadow&&(this._removeShadow(),j=!0),b&&(Be(b,l),b.alt=""),this._shadow=b,n.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&j&&this.getPane(n.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ct(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(n){this._icon&&Ct(this._icon,n),this._shadow&&Ct(this._shadow,n),this._zIndex=n.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(n){this._icon&&(this._icon.style.zIndex=this._zIndex+n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Be(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),rl)){var n=this.options.draggable;this.dragging&&(n=this.dragging.enabled(),this.dragging.disable()),this.dragging=new rl(this),n&&this.dragging.enable()}},setOpacity:function(n){return this.options.opacity=n,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var n=this.options.opacity;this._icon&&an(this._icon,n),this._shadow&&an(this._shadow,n)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var n=this._map;if(n){var l=this.options.icon.options,d=l.iconSize?Y(l.iconSize):Y(0,0),g=l.iconAnchor?Y(l.iconAnchor):Y(0,0);n.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vd(n,l){return new Pr(n,l)}var Vr=Vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(n){this._renderer=n.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(n){return S(this,n),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&n&&Object.prototype.hasOwnProperty.call(n,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),eo=Vr.extend({options:{fill:!0,radius:10},initialize:function(n,l){S(this,l),this._latlng=ye(n),this._radius=this.options.radius},setLatLng:function(n){var l=this._latlng;return this._latlng=ye(n),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(n){return this.options.radius=this._radius=n,this.redraw()},getRadius:function(){return this._radius},setStyle:function(n){var l=n&&n.radius||this._radius;return Vr.prototype.setStyle.call(this,n),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var n=this._radius,l=this._radiusY||n,d=this._clickTolerance(),g=[n+d,l+d];this._pxBounds=new E(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(n){return n.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hc(n,l){return new eo(n,l)}var to=eo.extend({initialize:function(n,l,d){if(typeof l=="number"&&(l=u({},d,{radius:l})),S(this,l),this._latlng=ye(n),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(n){return this._mRadius=n,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var n=[this._radius,this._radiusY||this._radius];return new ge(this._map.layerPointToLatLng(this._point.subtract(n)),this._map.layerPointToLatLng(this._point.add(n)))},setStyle:Vr.prototype.setStyle,_project:function(){var n=this._latlng.lng,l=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===Ae.distance){var b=Math.PI/180,j=this._mRadius/Ae.R/b,A=d.project([l+j,n]),Q=d.project([l-j,n]),se=A.add(Q).divideBy(2),he=d.unproject(se).lat,_e=Math.acos((Math.cos(j*b)-Math.sin(l*b)*Math.sin(he*b))/(Math.cos(l*b)*Math.cos(he*b)))/b;(isNaN(_e)||_e===0)&&(_e=j/Math.cos(Math.PI/180*l)),this._point=se.subtract(d.getPixelOrigin()),this._radius=isNaN(_e)?0:se.x-d.project([he,n-_e]).x,this._radiusY=se.y-A.y}else{var Ee=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Ee).x}this._updateBounds()}});function sa(n,l,d){return new to(n,l,d)}var bn=Vr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(n,l){S(this,l),this._setLatLngs(n)},getLatLngs:function(){return this._latlngs},setLatLngs:function(n){return this._setLatLngs(n),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(n){for(var l=1/0,d=null,g=Ps,b,j,A=0,Q=this._parts.length;A<Q;A++)for(var se=this._parts[A],he=1,_e=se.length;he<_e;he++){b=se[he-1],j=se[he];var Ee=g(n,b,j,!0);Ee<l&&(l=Ee,d=g(n,b,j))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return oc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(n,l){return l=l||this._defaultShape(),n=ye(n),l.push(n),this._bounds.extend(n),this.redraw()},_setLatLngs:function(n){this._bounds=new ge,this._latlngs=this._convertLatLngs(n)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(n){for(var l=[],d=En(n),g=0,b=n.length;g<b;g++)d?(l[g]=ye(n[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(n[g]);return l},_project:function(){var n=new E;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,n),this._bounds.isValid()&&n.isValid()&&(this._rawPxBounds=n,this._updateBounds())},_updateBounds:function(){var n=this._clickTolerance(),l=new W(n,n);this._rawPxBounds&&(this._pxBounds=new E([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(n,l,d){var g=n[0]instanceof we,b=n.length,j,A;if(g){for(A=[],j=0;j<b;j++)A[j]=this._map.latLngToLayerPoint(n[j]),d.extend(A[j]);l.push(A)}else for(j=0;j<b;j++)this._projectLatlngs(n[j],l,d)},_clipPoints:function(){var n=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,g,b,j,A,Q,se;for(d=0,b=0,j=this._rings.length;d<j;d++)for(se=this._rings[d],g=0,A=se.length;g<A-1;g++)Q=ic(se[g],se[g+1],n,g,!0),Q&&(l[b]=l[b]||[],l[b].push(Q[0]),(Q[1]!==se[g+1]||g===A-2)&&(l[b].push(Q[1]),b++))}},_simplifyPoints:function(){for(var n=this._parts,l=this.options.smoothFactor,d=0,g=n.length;d<g;d++)n[d]=Xa(n[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(n,l){var d,g,b,j,A,Q,se=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(d=0,j=this._parts.length;d<j;d++)for(Q=this._parts[d],g=0,A=Q.length,b=A-1;g<A;b=g++)if(!(!l&&g===0)&&sc(n,Q[b],Q[g])<=se)return!0;return!1}});function yd(n,l){return new bn(n,l)}bn._flat=ac;var Dr=bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return rc(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(n){var l=bn.prototype._convertLatLngs.call(this,n),d=l.length;return d>=2&&l[0]instanceof we&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(n){bn.prototype._setLatLngs.call(this,n),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var n=this._renderer._bounds,l=this.options.weight,d=new W(l,l);if(n=new E(n.min.subtract(d),n.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(n))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,b=this._rings.length,j;g<b;g++)j=Qo(this._rings[g],n,!0),j.length&&this._parts.push(j)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(n){var l=!1,d,g,b,j,A,Q,se,he;if(!this._pxBounds||!this._pxBounds.contains(n))return!1;for(j=0,se=this._parts.length;j<se;j++)for(d=this._parts[j],A=0,he=d.length,Q=he-1;A<he;Q=A++)g=d[A],b=d[Q],g.y>n.y!=b.y>n.y&&n.x<(b.x-g.x)*(n.y-g.y)/(b.y-g.y)+g.x&&(l=!l);return l||bn.prototype._containsPoint.call(this,n,!0)}});function bd(n,l){return new Dr(n,l)}var or=Cr.extend({initialize:function(n,l){S(this,l),this._layers={},n&&this.addData(n)},addData:function(n){var l=B(n)?n:n.features,d,g,b;if(l){for(d=0,g=l.length;d<g;d++)b=l[d],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var j=this.options;if(j.filter&&!j.filter(n))return this;var A=si(n,j);return A?(A.feature=ao(n),A.defaultOptions=A.options,this.resetStyle(A),j.onEachFeature&&j.onEachFeature(n,A),this.addLayer(A)):this},resetStyle:function(n){return n===void 0?this.eachLayer(this.resetStyle,this):(n.options=u({},n.defaultOptions),this._setLayerStyle(n,this.options.style),this)},setStyle:function(n){return this.eachLayer(function(l){this._setLayerStyle(l,n)},this)},_setLayerStyle:function(n,l){n.setStyle&&(typeof l=="function"&&(l=l(n.feature)),n.setStyle(l))}});function si(n,l){var d=n.type==="Feature"?n.geometry:n,g=d?d.coordinates:null,b=[],j=l&&l.pointToLayer,A=l&&l.coordsToLatLng||ro,Q,se,he,_e;if(!g&&!d)return null;switch(d.type){case"Point":return Q=A(g),no(j,n,Q,l);case"MultiPoint":for(he=0,_e=g.length;he<_e;he++)Q=A(g[he]),b.push(no(j,n,Q,l));return new Cr(b);case"LineString":case"MultiLineString":return se=ia(g,d.type==="LineString"?0:1,A),new bn(se,l);case"Polygon":case"MultiPolygon":return se=ia(g,d.type==="Polygon"?1:2,A),new Dr(se,l);case"GeometryCollection":for(he=0,_e=d.geometries.length;he<_e;he++){var Ee=si({geometry:d.geometries[he],type:"Feature",properties:n.properties},l);Ee&&b.push(Ee)}return new Cr(b);case"FeatureCollection":for(he=0,_e=d.features.length;he<_e;he++){var Ye=si(d.features[he],l);Ye&&b.push(Ye)}return new Cr(b);default:throw new Error("Invalid GeoJSON object.")}}function no(n,l,d,g){return n?n(l,d):new Pr(d,g&&g.markersInheritOptions&&g)}function ro(n){return new we(n[1],n[0],n[2])}function ia(n,l,d){for(var g=[],b=0,j=n.length,A;b<j;b++)A=l?ia(n[b],l-1,d):(d||ro)(n[b]),g.push(A);return g}function so(n,l){return n=ye(n),n.alt!==void 0?[M(n.lng,l),M(n.lat,l),M(n.alt,l)]:[M(n.lng,l),M(n.lat,l)]}function io(n,l,d,g){for(var b=[],j=0,A=n.length;j<A;j++)b.push(l?io(n[j],En(n[j])?0:l-1,d,g):so(n[j],g));return!l&&d&&b.length>0&&b.push(b[0].slice()),b}function ii(n,l){return n.feature?u({},n.feature,{geometry:l}):ao(l)}function ao(n){return n.type==="Feature"||n.type==="FeatureCollection"?n:{type:"Feature",properties:{},geometry:n}}var sl={toGeoJSON:function(n){return ii(this,{type:"Point",coordinates:so(this.getLatLng(),n)})}};Pr.include(sl),to.include(sl),eo.include(sl),bn.include({toGeoJSON:function(n){var l=!En(this._latlngs),d=io(this._latlngs,l?1:0,!1,n);return ii(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),Dr.include({toGeoJSON:function(n){var l=!En(this._latlngs),d=l&&!En(this._latlngs[0]),g=io(this._latlngs,d?2:l?1:0,!0,n);return l||(g=[g]),ii(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),Zr.include({toMultiPoint:function(n){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(n).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(n){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(n);var d=l==="GeometryCollection",g=[];return this.eachLayer(function(b){if(b.toGeoJSON){var j=b.toGeoJSON(n);if(d)g.push(j.geometry);else{var A=ao(j);A.type==="FeatureCollection"?g.push.apply(g,A.features):g.push(A)}}}),d?ii(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function pc(n,l){return new or(n,l)}var qn=pc,qr=Vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(n,l,d){this._url=n,this._bounds=be(l),S(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Be(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(n){return this.options.opacity=n,this._image&&this._updateOpacity(),this},setStyle:function(n){return n.opacity&&this.setOpacity(n.opacity),this},bringToFront:function(){return this._map&&Gs(this._image),this},bringToBack:function(){return this._map&&Nr(this._image),this},setUrl:function(n){return this._url=n,this._image&&(this._image.src=n),this},setBounds:function(n){return this._bounds=be(n),this._map&&this._reset(),this},getEvents:function(){var n={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var n=this._url.tagName==="IMG",l=this._image=n?this._url:We("img");if(Be(l,"leaflet-image-layer"),this._zoomAnimated&&Be(l,"leaflet-zoom-animated"),this.options.className&&Be(l,this.options.className),l.onselectstart=N,l.onmousemove=N,l.onload=f(this.fire,this,"load"),l.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),n){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(n){var l=this._map.getZoomScale(n.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,n.zoom,n.center).min;Hn(this._image,d,l)},_reset:function(){var n=this._image,l=new E(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();Ct(n,l.min),n.style.width=d.x+"px",n.style.height=d.y+"px"},_updateOpacity:function(){an(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var n=this.options.errorOverlayUrl;n&&this._url!==n&&(this._url=n,this._image.src=n)},getCenter:function(){return this._bounds.getCenter()}}),fc=function(n,l,d){return new qr(n,l,d)},il=qr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var n=this._url.tagName==="VIDEO",l=this._image=n?this._url:We("video");if(Be(l,"leaflet-image-layer"),this._zoomAnimated&&Be(l,"leaflet-zoom-animated"),this.options.className&&Be(l,this.options.className),l.onselectstart=N,l.onmousemove=N,l.onloadeddata=f(this.fire,this,"load"),n){for(var d=l.getElementsByTagName("source"),g=[],b=0;b<d.length;b++)g.push(d[b].src);this._url=d.length>0?g:[l.src];return}B(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var j=0;j<this._url.length;j++){var A=We("source");A.src=this._url[j],l.appendChild(A)}}});function mc(n,l,d){return new il(n,l,d)}var al=qr.extend({_initImage:function(){var n=this._image=this._url;Be(n,"leaflet-image-layer"),this._zoomAnimated&&Be(n,"leaflet-zoom-animated"),this.options.className&&Be(n,this.options.className),n.onselectstart=N,n.onmousemove=N}});function ol(n,l,d){return new al(n,l,d)}var lr=Vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(n,l){n&&(n instanceof we||B(n))?(this._latlng=ye(n),S(this,l)):(S(this,n),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(n){return n=arguments.length?n:this._source._map,n.hasLayer(this)||n.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(n){return this._map?this.close():(arguments.length?this._source=n:n=this._source,this._prepareOpen(),this.openOn(n._map)),this},onAdd:function(n){this._zoomAnimated=n._zoomAnimated,this._container||this._initLayout(),n._fadeAnimated&&an(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),n._fadeAnimated&&an(this._container,1),this.bringToFront(),this.options.interactive&&(Be(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(n){n._fadeAnimated?(an(this._container,0),this._removeTimeout=setTimeout(f(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(n){return this._latlng=ye(n),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(n){return this._content=n,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var n={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Gs(this._container),this},bringToBack:function(){return this._map&&Nr(this._container),this},_prepareOpen:function(n){var l=this._source;if(!l._map)return!1;if(l instanceof Cr){l=null;var d=this._source._layers;for(var g in d)if(d[g]._map){l=d[g];break}if(!l)return!1;this._source=l}if(!n)if(l.getCenter)n=l.getCenter();else if(l.getLatLng)n=l.getLatLng();else if(l.getBounds)n=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(n),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var n=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")n.innerHTML=l;else{for(;n.hasChildNodes();)n.removeChild(n.firstChild);n.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var n=this._map.latLngToLayerPoint(this._latlng),l=Y(this.options.offset),d=this._getAnchor();this._zoomAnimated?Ct(this._container,n.add(d)):l=l.add(n).add(d);var g=this._containerBottom=-l.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ze.include({_initOverlay:function(n,l,d,g){var b=l;return b instanceof n||(b=new n(g).setContent(l)),d&&b.setLatLng(d),b}}),Vn.include({_initOverlay:function(n,l,d,g){var b=d;return b instanceof n?(S(b,g),b._source=this):(b=l&&!g?l:new n(g,this),b.setContent(d)),b}});var oo=lr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(n){return n=arguments.length?n:this._source._map,!n.hasLayer(this)&&n._popup&&n._popup.options.autoClose&&n.removeLayer(n._popup),n._popup=this,lr.prototype.openOn.call(this,n)},onAdd:function(n){lr.prototype.onAdd.call(this,n),n.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vr||this._source.on("preclick",ar))},onRemove:function(n){lr.prototype.onRemove.call(this,n),n.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vr||this._source.off("preclick",ar))},getEvents:function(){var n=lr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(n.preclick=this.close),this.options.keepInView&&(n.moveend=this._adjustPan),n},_initLayout:function(){var n="leaflet-popup",l=this._container=We("div",n+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=We("div",n+"-content-wrapper",l);if(this._contentNode=We("div",n+"-content",d),ea(l),qa(this._contentNode),Re(l,"contextmenu",ar),this._tipContainer=We("div",n+"-tip-container",l),this._tip=We("div",n+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=We("a",n+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Re(g,"click",function(b){_t(b),this.close()},this)}},_updateLayout:function(){var n=this._contentNode,l=n.style;l.width="",l.whiteSpace="nowrap";var d=n.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var g=n.offsetHeight,b=this.options.maxHeight,j="leaflet-popup-scrolled";b&&g>b?(l.height=b+"px",Be(n,j)):dt(n,j),this._containerWidth=this._container.offsetWidth},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center),d=this._getAnchor();Ct(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var n=this._map,l=parseInt(Ki(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,g=this._containerWidth,b=new W(this._containerLeft,-d-this._containerBottom);b._add(jr(this._container));var j=n.layerPointToContainerPoint(b),A=Y(this.options.autoPanPadding),Q=Y(this.options.autoPanPaddingTopLeft||A),se=Y(this.options.autoPanPaddingBottomRight||A),he=n.getSize(),_e=0,Ee=0;j.x+g+se.x>he.x&&(_e=j.x+g-he.x+se.x),j.x-_e-Q.x<0&&(_e=j.x-Q.x),j.y+d+se.y>he.y&&(Ee=j.y+d-he.y+se.y),j.y-Ee-Q.y<0&&(Ee=j.y-Q.y),(_e||Ee)&&(this.options.keepInView&&(this._autopanning=!0),n.fire("autopanstart").panBy([_e,Ee]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ai=function(n,l){return new oo(n,l)};Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(n,l,d){return this._initOverlay(oo,n,l,d).openOn(this),this},closePopup:function(n){return n=arguments.length?n:this._popup,n&&n.close(),this}}),Vn.include({bindPopup:function(n,l){return this._popup=this._initOverlay(oo,this._popup,n,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(n){return this._popup&&(this instanceof Cr||(this._popup._source=this),this._popup._prepareOpen(n||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(n){return this._popup&&this._popup.setContent(n),this},getPopup:function(){return this._popup},_openPopup:function(n){if(!(!this._popup||!this._map)){Un(n);var l=n.layer||n.target;if(this._popup._source===l&&!(l instanceof Vr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(n.latlng);return}this._popup._source=l,this.openPopup(n.latlng)}},_movePopup:function(n){this._popup.setLatLng(n.latlng)},_onKeyPress:function(n){n.originalEvent.keyCode===13&&this._openPopup(n)}});var oi=lr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(n){lr.prototype.onAdd.call(this,n),this.setOpacity(this.options.opacity),n.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(n){lr.prototype.onRemove.call(this,n),n.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var n=lr.prototype.getEvents.call(this);return this.options.permanent||(n.preclick=this.close),n},_initLayout:function(){var n="leaflet-tooltip",l=n+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=We("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(n){var l,d,g=this._map,b=this._container,j=g.latLngToContainerPoint(g.getCenter()),A=g.layerPointToContainerPoint(n),Q=this.options.direction,se=b.offsetWidth,he=b.offsetHeight,_e=Y(this.options.offset),Ee=this._getAnchor();Q==="top"?(l=se/2,d=he):Q==="bottom"?(l=se/2,d=0):Q==="center"?(l=se/2,d=he/2):Q==="right"?(l=0,d=he/2):Q==="left"?(l=se,d=he/2):A.x<j.x?(Q="right",l=0,d=he/2):(Q="left",l=se+(_e.x+Ee.x)*2,d=he/2),n=n.subtract(Y(l,d,!0)).add(_e).add(Ee),dt(b,"leaflet-tooltip-right"),dt(b,"leaflet-tooltip-left"),dt(b,"leaflet-tooltip-top"),dt(b,"leaflet-tooltip-bottom"),Be(b,"leaflet-tooltip-"+Q),Ct(b,n)},_updatePosition:function(){var n=this._map.latLngToLayerPoint(this._latlng);this._setPosition(n)},setOpacity:function(n){this.options.opacity=n,this._container&&an(this._container,n)},_animateZoom:function(n){var l=this._map._latLngToNewLayerPoint(this._latlng,n.zoom,n.center);this._setPosition(l)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),aa=function(n,l){return new oi(n,l)};Ze.include({openTooltip:function(n,l,d){return this._initOverlay(oi,n,l,d).openOn(this),this},closeTooltip:function(n){return n.close(),this}}),Vn.include({bindTooltip:function(n,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(oi,this._tooltip,n,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(n){if(!(!n&&this._tooltipHandlersAdded)){var l=n?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!n}},openTooltip:function(n){return this._tooltip&&(this instanceof Cr||(this._tooltip._source=this),this._tooltip._prepareOpen(n)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(n){return this._tooltip&&this._tooltip.setContent(n),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&(Re(l,"focus",function(){this._tooltip._source=n,this.openTooltip()},this),Re(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(n){var l=typeof n.getElement=="function"&&n.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(n){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(n)});return}this._tooltip._source=n.layer||n.target,this.openTooltip(this._tooltip.options.sticky?n.latlng:void 0)}},_moveTooltip:function(n){var l=n.latlng,d,g;this._tooltip.options.sticky&&n.originalEvent&&(d=this._map.mouseEventToContainerPoint(n.originalEvent),g=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var lo=Ds.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(n){var l=n&&n.tagName==="DIV"?n:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Ya(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=Y(d.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function gc(n){return new lo(n)}Ds.Default=ri;var Gr=Vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(n){S(this,n)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(n){n._addZoomLimit(this)},onRemove:function(n){this._removeAllTiles(),ft(this._container),n._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Gs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Nr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(n){return this.options.opacity=n,this._updateOpacity(),this},setZIndex:function(n){return this.options.zIndex=n,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var n=this._clampZoom(this._map.getZoom());n!==this._tileZoom&&(this._tileZoom=n,this._updateLevels()),this._update()}return this},getEvents:function(){var n={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),n.move=this._onMove),this._zoomAnimated&&(n.zoomanim=this._animateZoom),n},createTile:function(){return document.createElement("div")},getTileSize:function(){var n=this.options.tileSize;return n instanceof W?n:new W(n,n)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(n){for(var l=this.getPane().children,d=-n(-1/0,1/0),g=0,b=l.length,j;g<b;g++)j=l[g].style.zIndex,l[g]!==this._container&&j&&(d=n(d,+j));isFinite(d)&&(this.options.zIndex=d+n(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){an(this._container,this.options.opacity);var n=+new Date,l=!1,d=!1;for(var g in this._tiles){var b=this._tiles[g];if(!(!b.current||!b.loaded)){var j=Math.min(1,(n-b.loaded)/200);an(b.el,j),j<1?l=!0:(b.active?d=!0:this._onOpaqueTile(b),b.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(U(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this))}},_onOpaqueTile:N,_initContainer:function(){this._container||(this._container=We("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var n=this._tileZoom,l=this.options.maxZoom;if(n!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===n?(this._levels[d].el.style.zIndex=l-Math.abs(n-d),this._onUpdateLevel(d)):(ft(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[n],b=this._map;return g||(g=this._levels[n]={},g.el=We("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=b.project(b.unproject(b.getPixelOrigin()),n).round(),g.zoom=n,this._setZoomTransform(g,b.getCenter(),b.getZoom()),N(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:N,_onRemoveLevel:N,_onCreateLevel:N,_pruneTiles:function(){if(this._map){var n,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(n in this._tiles)l=this._tiles[n],l.retain=l.current;for(n in this._tiles)if(l=this._tiles[n],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(n in this._tiles)this._tiles[n].retain||this._removeTile(n)}},_removeTilesAtZoom:function(n){for(var l in this._tiles)this._tiles[l].coords.z===n&&this._removeTile(l)},_removeAllTiles:function(){for(var n in this._tiles)this._removeTile(n)},_invalidateAll:function(){for(var n in this._levels)ft(this._levels[n].el),this._onRemoveLevel(Number(n)),delete this._levels[n];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(n,l,d,g){var b=Math.floor(n/2),j=Math.floor(l/2),A=d-1,Q=new W(+b,+j);Q.z=+A;var se=this._tileCoordsToKey(Q),he=this._tiles[se];return he&&he.active?(he.retain=!0,!0):(he&&he.loaded&&(he.retain=!0),A>g?this._retainParent(b,j,A,g):!1)},_retainChildren:function(n,l,d,g){for(var b=2*n;b<2*n+2;b++)for(var j=2*l;j<2*l+2;j++){var A=new W(b,j);A.z=d+1;var Q=this._tileCoordsToKey(A),se=this._tiles[Q];if(se&&se.active){se.retain=!0;continue}else se&&se.loaded&&(se.retain=!0);d+1<g&&this._retainChildren(b,j,d+1,g)}},_resetView:function(n){var l=n&&(n.pinch||n.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(n){this._setView(n.center,n.zoom,!0,n.noUpdate)},_clampZoom:function(n){var l=this.options;return l.minNativeZoom!==void 0&&n<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<n?l.maxNativeZoom:n},_setView:function(n,l,d,g){var b=Math.round(l);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var j=this.options.updateWhenZooming&&b!==this._tileZoom;(!g||j)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(n),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(n,l)},_setZoomTransforms:function(n,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],n,l)},_setZoomTransform:function(n,l,d){var g=this._map.getZoomScale(d,n.zoom),b=n.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,d)).round();Ce.any3d?Hn(n.el,b,g):Ct(n.el,b)},_resetGrid:function(){var n=this._map,l=n.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(n.project([0,l.wrapLng[0]],g).x/d.x),Math.ceil(n.project([0,l.wrapLng[1]],g).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(n.project([l.wrapLat[0],0],g).y/d.x),Math.ceil(n.project([l.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(n){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(d,this._tileZoom),b=l.project(n,this._tileZoom).floor(),j=l.getSize().divideBy(g*2);return new E(b.subtract(j),b.add(j))},_update:function(n){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(n===void 0&&(n=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(n),b=this._pxBoundsToTileRange(g),j=b.getCenter(),A=[],Q=this.options.keepBuffer,se=new E(b.getBottomLeft().subtract([Q,-Q]),b.getTopRight().add([Q,-Q]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var he in this._tiles){var _e=this._tiles[he].coords;(_e.z!==this._tileZoom||!se.contains(new W(_e.x,_e.y)))&&(this._tiles[he].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(n,d);return}for(var Ee=b.min.y;Ee<=b.max.y;Ee++)for(var Ye=b.min.x;Ye<=b.max.x;Ye++){var Wt=new W(Ye,Ee);if(Wt.z=this._tileZoom,!!this._isValidTile(Wt)){var At=this._tiles[this._tileCoordsToKey(Wt)];At?At.current=!0:A.push(Wt)}}if(A.sort(function(ln,hi){return ln.distanceTo(j)-hi.distanceTo(j)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var wn=document.createDocumentFragment();for(Ye=0;Ye<A.length;Ye++)this._addTile(A[Ye],wn);this._level.el.appendChild(wn)}}}},_isValidTile:function(n){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(n.x<d.min.x||n.x>d.max.x)||!l.wrapLat&&(n.y<d.min.y||n.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(n);return be(this.options.bounds).overlaps(g)},_keyToBounds:function(n){return this._tileCoordsToBounds(this._keyToTileCoords(n))},_tileCoordsToNwSe:function(n){var l=this._map,d=this.getTileSize(),g=n.scaleBy(d),b=g.add(d),j=l.unproject(g,n.z),A=l.unproject(b,n.z);return[j,A]},_tileCoordsToBounds:function(n){var l=this._tileCoordsToNwSe(n),d=new ge(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(n){return n.x+":"+n.y+":"+n.z},_keyToTileCoords:function(n){var l=n.split(":"),d=new W(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(n){var l=this._tiles[n];l&&(ft(l.el),delete this._tiles[n],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(n)}))},_initTile:function(n){Be(n,"leaflet-tile");var l=this.getTileSize();n.style.width=l.x+"px",n.style.height=l.y+"px",n.onselectstart=N,n.onmousemove=N,Ce.ielt9&&this.options.opacity<1&&an(n,this.options.opacity)},_addTile:function(n,l){var d=this._getTilePos(n),g=this._tileCoordsToKey(n),b=this.createTile(this._wrapCoords(n),f(this._tileReady,this,n));this._initTile(b),this.createTile.length<2&&ue(f(this._tileReady,this,n,null,b)),Ct(b,d),this._tiles[g]={el:b,coords:n,current:!0},l.appendChild(b),this.fire("tileloadstart",{tile:b,coords:n})},_tileReady:function(n,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:n});var g=this._tileCoordsToKey(n);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(an(d.el,0),U(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Be(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:n})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?ue(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(n){return n.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(n){var l=new W(this._wrapX?_(n.x,this._wrapX):n.x,this._wrapY?_(n.y,this._wrapY):n.y);return l.z=n.z,l},_pxBoundsToTileRange:function(n){var l=this.getTileSize();return new E(n.min.unscaleBy(l).floor(),n.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var n in this._tiles)if(!this._tiles[n].loaded)return!1;return!0}});function li(n){return new Gr(n)}var Kr=Gr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(n,l){this._url=n,l=S(this,l),l.detectRetina&&Ce.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(n,l){return this._url===n&&l===void 0&&(l=!0),this._url=n,l||this.redraw(),this},createTile:function(n,l){var d=document.createElement("img");return Re(d,"load",f(this._tileOnLoad,this,l,d)),Re(d,"error",f(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(n),d},getTileUrl:function(n){var l={r:Ce.retina?"@2x":"",s:this._getSubdomain(n),x:n.x,y:n.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-n.y;this.options.tms&&(l.y=d),l["-y"]=d}return O(this._url,u(l,this.options))},_tileOnLoad:function(n,l){Ce.ielt9?setTimeout(f(n,this,null,l),0):n(null,l)},_tileOnError:function(n,l,d){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),n(d,l)},_onTileRemove:function(n){n.tile.onload=null},_getZoomForUrl:function(){var n=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(n=l-n),n+g},_getSubdomain:function(n){var l=Math.abs(n.x+n.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var n,l;for(n in this._tiles)if(this._tiles[n].coords.z!==this._tileZoom&&(l=this._tiles[n].el,l.onload=N,l.onerror=N,!l.complete)){l.src=Z;var d=this._tiles[n].coords;ft(l),delete this._tiles[n],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(n){var l=this._tiles[n];if(l)return l.el.setAttribute("src",Z),Gr.prototype._removeTile.call(this,n)},_tileReady:function(n,l,d){if(!(!this._map||d&&d.getAttribute("src")===Z))return Gr.prototype._tileReady.call(this,n,l,d)}});function ll(n,l){return new Kr(n,l)}var oa=Kr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(n,l){this._url=n;var d=u({},this.defaultWmsParams);for(var g in l)g in this.options||(d[g]=l[g]);l=S(this,l);var b=l.detectRetina&&Ce.retina?2:1,j=this.getTileSize();d.width=j.x*b,d.height=j.y*b,this.wmsParams=d},onAdd:function(n){this._crs=this.options.crs||n.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Kr.prototype.onAdd.call(this,n)},getTileUrl:function(n){var l=this._tileCoordsToNwSe(n),d=this._crs,g=X(d.project(l[0]),d.project(l[1])),b=g.min,j=g.max,A=(this._wmsVersion>=1.3&&this._crs===cc?[b.y,b.x,j.y,j.x]:[b.x,b.y,j.x,j.y]).join(","),Q=Kr.prototype.getTileUrl.call(this,n);return Q+C(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(n,l){return u(this.wmsParams,n),l||this.redraw(),this}});function xc(n,l){return new oa(n,l)}Kr.WMS=oa,ll.wms=xc;var cr=Vn.extend({options:{padding:.1},initialize:function(n){S(this,n),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Be(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var n={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(n.zoomanim=this._onAnimZoom),n},_onAnimZoom:function(n){this._updateTransform(n.center,n.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(n,l){var d=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,l),j=g.multiplyBy(-d).add(b).subtract(this._map._getNewPixelOrigin(n,l));Ce.any3d?Hn(this._container,j,d):Ct(this._container,j)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var n in this._layers)this._layers[n]._reset()},_onZoomEnd:function(){for(var n in this._layers)this._layers[n]._project()},_updatePaths:function(){for(var n in this._layers)this._layers[n]._update()},_update:function(){var n=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-n)).round();this._bounds=new E(d,d.add(l.multiplyBy(1+n*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),cl=cr.extend({options:{tolerance:0},getEvents:function(){var n=cr.prototype.getEvents.call(this);return n.viewprereset=this._onViewPreReset,n},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){cr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var n=this._container=document.createElement("canvas");Re(n,"mousemove",this._onMouseMove,this),Re(n,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Re(n,"mouseout",this._handleMouseOut,this),n._leaflet_disable_events=!0,this._ctx=n.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,ft(this._container),ct(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var n;this._redrawBounds=null;for(var l in this._layers)n=this._layers[l],n._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cr.prototype._update.call(this);var n=this._bounds,l=this._container,d=n.getSize(),g=Ce.retina?2:1;Ct(l,n.min),l.width=g*d.x,l.height=g*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-n.min.x,-n.min.y),this.fire("update")}},_reset:function(){cr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(n){this._updateDashArray(n),this._layers[v(n)]=n;var l=n._order={layer:n,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(n){this._requestRedraw(n)},_removePath:function(n){var l=n._order,d=l.next,g=l.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete n._order,delete this._layers[v(n)],this._requestRedraw(n)},_updatePath:function(n){this._extendRedrawBounds(n),n._project(),n._update(),this._requestRedraw(n)},_updateStyle:function(n){this._updateDashArray(n),this._requestRedraw(n)},_updateDashArray:function(n){if(typeof n.options.dashArray=="string"){var l=n.options.dashArray.split(/[, ]+/),d=[],g,b;for(b=0;b<l.length;b++){if(g=Number(l[b]),isNaN(g))return;d.push(g)}n.options._dashArray=d}else n.options._dashArray=n.options.dashArray},_requestRedraw:function(n){this._map&&(this._extendRedrawBounds(n),this._redrawRequest=this._redrawRequest||ue(this._redraw,this))},_extendRedrawBounds:function(n){if(n._pxBounds){var l=(n.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new E,this._redrawBounds.extend(n._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(n._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var n=this._redrawBounds;if(n){var l=n.getSize();this._ctx.clearRect(n.min.x,n.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var n,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)n=g.layer,(!l||n._pxBounds&&n._pxBounds.intersects(l))&&n._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(n,l){if(this._drawing){var d,g,b,j,A=n._parts,Q=A.length,se=this._ctx;if(Q){for(se.beginPath(),d=0;d<Q;d++){for(g=0,b=A[d].length;g<b;g++)j=A[d][g],se[g?"lineTo":"moveTo"](j.x,j.y);l&&se.closePath()}this._fillStroke(se,n)}}},_updateCircle:function(n){if(!(!this._drawing||n._empty())){var l=n._point,d=this._ctx,g=Math.max(Math.round(n._radius),1),b=(Math.max(Math.round(n._radiusY),1)||g)/g;b!==1&&(d.save(),d.scale(1,b)),d.beginPath(),d.arc(l.x,l.y/b,g,0,Math.PI*2,!1),b!==1&&d.restore(),this._fillStroke(d,n)}},_fillStroke:function(n,l){var d=l.options;d.fill&&(n.globalAlpha=d.fillOpacity,n.fillStyle=d.fillColor||d.color,n.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(n.setLineDash&&n.setLineDash(l.options&&l.options._dashArray||[]),n.globalAlpha=d.opacity,n.lineWidth=d.weight,n.strokeStyle=d.color,n.lineCap=d.lineCap,n.lineJoin=d.lineJoin,n.stroke())},_onClick:function(n){for(var l=this._map.mouseEventToLayerPoint(n),d,g,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(l)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,n)},_onMouseMove:function(n){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(n);this._handleMouseHover(n,l)}},_handleMouseOut:function(n){var l=this._hoveredLayer;l&&(dt(this._container,"leaflet-interactive"),this._fireEvent([l],n,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(n,l){if(!this._mouseHoverThrottled){for(var d,g,b=this._drawFirst;b;b=b.next)d=b.layer,d.options.interactive&&d._containsPoint(l)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(n),g&&(Be(this._container,"leaflet-interactive"),this._fireEvent([g],n,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,n),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(n,l,d){this._map._fireDOMEvent(l,d||l.type,n)},_bringToFront:function(n){var l=n._order;if(l){var d=l.next,g=l.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(n)}},_bringToBack:function(n){var l=n._order;if(l){var d=l.next,g=l.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(n)}}});function ul(n){return Ce.canvas?new cl(n):null}var ci=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(n){return document.createElement("<lvml:"+n+' class="lvml">')}}catch{}return function(n){return document.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),vc={_initContainer:function(){this._container=We("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(cr.prototype._update.call(this),this.fire("update"))},_initPath:function(n){var l=n._container=ci("shape");Be(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",n._path=ci("path"),l.appendChild(n._path),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){var l=n._container;this._container.appendChild(l),n.options.interactive&&n.addInteractiveTarget(l)},_removePath:function(n){var l=n._container;ft(l),n.removeInteractiveTarget(l),delete this._layers[v(n)]},_updateStyle:function(n){var l=n._stroke,d=n._fill,g=n.options,b=n._container;b.stroked=!!g.stroke,b.filled=!!g.fill,g.stroke?(l||(l=n._stroke=ci("stroke")),b.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=B(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(b.removeChild(l),n._stroke=null),g.fill?(d||(d=n._fill=ci("fill")),b.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(b.removeChild(d),n._fill=null)},_updateCircle:function(n){var l=n._point.round(),d=Math.round(n._radius),g=Math.round(n._radiusY||d);this._setPath(n,n._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(n,l){n._path.v=l},_bringToFront:function(n){Gs(n._container)},_bringToBack:function(n){Nr(n._container)}},Gn=Ce.vml?ci:Ve,Ts=cr.extend({_initContainer:function(){this._container=Gn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),ct(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){cr.prototype._update.call(this);var n=this._bounds,l=n.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),Ct(d,n.min),d.setAttribute("viewBox",[n.min.x,n.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(n){var l=n._path=Gn("path");n.options.className&&Be(l,n.options.className),n.options.interactive&&Be(l,"leaflet-interactive"),this._updateStyle(n),this._layers[v(n)]=n},_addPath:function(n){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(n._path),n.addInteractiveTarget(n._path)},_removePath:function(n){ft(n._path),n.removeInteractiveTarget(n._path),delete this._layers[v(n)]},_updatePath:function(n){n._project(),n._update()},_updateStyle:function(n){var l=n._path,d=n.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(n,l){this._setPath(n,st(n._parts,l))},_updateCircle:function(n){var l=n._point,d=Math.max(Math.round(n._radius),1),g=Math.max(Math.round(n._radiusY),1)||d,b="a"+d+","+g+" 0 1,0 ",j=n._empty()?"M0 0":"M"+(l.x-d)+","+l.y+b+d*2+",0 "+b+-d*2+",0 ";this._setPath(n,j)},_setPath:function(n,l){n._path.setAttribute("d",l)},_bringToFront:function(n){Gs(n._path)},_bringToBack:function(n){Nr(n._path)}});Ce.vml&&Ts.include(vc);function co(n){return Ce.svg||Ce.vml?new Ts(n):null}Ze.include({getRenderer:function(n){var l=n.options.renderer||this._getPaneRenderer(n.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(n){if(n==="overlayPane"||n===void 0)return!1;var l=this._paneRenderers[n];return l===void 0&&(l=this._createRenderer({pane:n}),this._paneRenderers[n]=l),l},_createRenderer:function(n){return this.options.preferCanvas&&ul(n)||co(n)}});var yc=Dr.extend({initialize:function(n,l){Dr.prototype.initialize.call(this,this._boundsToLatLngs(n),l)},setBounds:function(n){return this.setLatLngs(this._boundsToLatLngs(n))},_boundsToLatLngs:function(n){return n=be(n),[n.getSouthWest(),n.getNorthWest(),n.getNorthEast(),n.getSouthEast()]}});function wd(n,l){return new yc(n,l)}Ts.create=Gn,Ts.pointsToPath=st,or.geometryToLayer=si,or.coordsToLatLng=ro,or.coordsToLatLngs=ia,or.latLngToCoords=so,or.latLngsToCoords=io,or.getFeature=ii,or.asFeature=ao,Ze.mergeOptions({boxZoom:!0});var ui=Mn.extend({initialize:function(n){this._map=n,this._container=n._container,this._pane=n._panes.overlayPane,this._resetStateTimeout=0,n.on("unload",this._destroy,this)},addHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ct(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(n){if(!n.shiftKey||n.which!==1&&n.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qe(),Ua(),this._startPoint=this._map.mouseEventToContainerPoint(n),Re(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(n){this._moved||(this._moved=!0,this._box=We("div","leaflet-zoom-box",this._container),Be(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(n);var l=new E(this._point,this._startPoint),d=l.getSize();Ct(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(ft(this._box),dt(this._container,"leaflet-crosshair")),Xs(),Za(),ct(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(n){if(!(n.which!==1&&n.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var l=new ge(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(n){n.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ze.addInitHook("addHandler","boxZoom",ui),Ze.mergeOptions({doubleClickZoom:!0});var bc=Mn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(n){var l=this._map,d=l.getZoom(),g=l.options.zoomDelta,b=n.originalEvent.shiftKey?d-g:d+g;l.options.doubleClickZoom==="center"?l.setZoom(b):l.setZoomAround(n.containerPoint,b)}});Ze.addInitHook("addHandler","doubleClickZoom",bc),Ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var dl=Mn.extend({addHooks:function(){if(!this._draggable){var n=this._map;this._draggable=new Zn(n._mapPane,n._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),n.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),n.on("zoomend",this._onZoomEnd,this),n.whenReady(this._onZoomEnd,this))}Be(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var n=this._map;if(n._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=be(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;n.fire("movestart").fire("dragstart"),n.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(n){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",n).fire("drag",n)},_prunePositions:function(n){for(;this._positions.length>1&&n-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var n=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(n).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(n,l){return n-(n-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var n=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;n.x<l.min.x&&(n.x=this._viscousLimit(n.x,l.min.x)),n.y<l.min.y&&(n.y=this._viscousLimit(n.y,l.min.y)),n.x>l.max.x&&(n.x=this._viscousLimit(n.x,l.max.x)),n.y>l.max.y&&(n.y=this._viscousLimit(n.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(n)}},_onPreDragWrap:function(){var n=this._worldWidth,l=Math.round(n/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,b=(g-l+d)%n+l-d,j=(g+l+d)%n-l-d,A=Math.abs(b+d)<Math.abs(j+d)?b:j;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(n){var l=this._map,d=l.options,g=!d.inertia||n.noInertia||this._times.length<2;if(l.fire("dragend",n),g)l.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),j=(this._lastTime-this._times[0])/1e3,A=d.easeLinearity,Q=b.multiplyBy(A/j),se=Q.distanceTo([0,0]),he=Math.min(d.inertiaMaxSpeed,se),_e=Q.multiplyBy(he/se),Ee=he/(d.inertiaDeceleration*A),Ye=_e.multiplyBy(-Ee/2).round();!Ye.x&&!Ye.y?l.fire("moveend"):(Ye=l._limitOffset(Ye,l.options.maxBounds),ue(function(){l.panBy(Ye,{duration:Ee,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});Ze.addInitHook("addHandler","dragging",dl),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hl=Mn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(n){this._map=n,this._setPanDelta(n.options.keyboardPanDelta),this._setZoomDelta(n.options.zoomDelta)},addHooks:function(){var n=this._map._container;n.tabIndex<=0&&(n.tabIndex="0"),Re(n,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ct(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var n=document.body,l=document.documentElement,d=n.scrollTop||l.scrollTop,g=n.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(n){var l=this._panKeys={},d=this.keyCodes,g,b;for(g=0,b=d.left.length;g<b;g++)l[d.left[g]]=[-1*n,0];for(g=0,b=d.right.length;g<b;g++)l[d.right[g]]=[n,0];for(g=0,b=d.down.length;g<b;g++)l[d.down[g]]=[0,n];for(g=0,b=d.up.length;g<b;g++)l[d.up[g]]=[0,-1*n]},_setZoomDelta:function(n){var l=this._zoomKeys={},d=this.keyCodes,g,b;for(g=0,b=d.zoomIn.length;g<b;g++)l[d.zoomIn[g]]=n;for(g=0,b=d.zoomOut.length;g<b;g++)l[d.zoomOut[g]]=-n},_addHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ct(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(n){if(!(n.altKey||n.ctrlKey||n.metaKey)){var l=n.keyCode,d=this._map,g;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[l],n.shiftKey&&(g=Y(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(Y(g),d.options.maxBounds)),d.options.worldCopyJump){var b=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(b)}else d.panBy(g)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(n.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Un(n)}}});Ze.addInitHook("addHandler","keyboard",hl),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ut=Mn.extend({addHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ct(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(n){var l=tc(n),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(n),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),g),Un(n)},_performZoom:function(){var n=this._map,l=n.getZoom(),d=this._map.options.zoomSnap||0;n._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,j=d?Math.ceil(b/d)*d:b,A=n._limitZoom(l+(this._delta>0?j:-j))-l;this._delta=0,this._startTime=null,A&&(n.options.scrollWheelZoom==="center"?n.setZoom(l+A):n.setZoomAround(this._lastMousePos,l+A))}});Ze.addInitHook("addHandler","scrollWheelZoom",ut);var pl=600;Ze.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var la=Mn.extend({addHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ct(this._map._container,"touchstart",this._onDown,this)},_onDown:function(n){if(clearTimeout(this._holdTimeout),n.touches.length===1){var l=n.touches[0];this._startPos=this._newPos=new W(l.clientX,l.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Re(document,"touchend",_t),Re(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),pl),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function n(){ct(document,"touchend",_t),ct(document,"touchend touchcancel",n)},_cancel:function(){clearTimeout(this._holdTimeout),ct(document,"touchend touchcancel contextmenu",this._cancel,this),ct(document,"touchmove",this._onMove,this)},_onMove:function(n){var l=n.touches[0];this._newPos=new W(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(n,l){var d=new MouseEvent(n,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Ze.addInitHook("addHandler","tapHold",la),Ze.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var di=Mn.extend({addHooks:function(){Be(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),ct(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(n){var l=this._map;if(!(!n.touches||n.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(n.touches[0]),g=l.mouseEventToContainerPoint(n.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),_t(n)}},_onTouchMove:function(n){if(!(!n.touches||n.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(n.touches[0]),g=l.mouseEventToContainerPoint(n.touches[1]),b=d.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(b,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&b<1||this._zoom>l.getMaxZoom()&&b>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var j=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(b===1&&j.x===0&&j.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(j),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var A=f(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ue(A,this,!0),_t(n)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),ct(document,"touchmove",this._onTouchMove,this),ct(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ze.addInitHook("addHandler","touchZoom",di),Ze.BoxZoom=ui,Ze.DoubleClickZoom=bc,Ze.Drag=dl,Ze.Keyboard=hl,Ze.ScrollWheelZoom=ut,Ze.TapHold=la,Ze.TouchZoom=di,s.Bounds=E,s.Browser=Ce,s.CRS=Ie,s.Canvas=cl,s.Circle=to,s.CircleMarker=eo,s.Class=ae,s.Control=yn,s.DivIcon=lo,s.DivOverlay=lr,s.DomEvent=Ga,s.DomUtil=Ji,s.Draggable=Zn,s.Evented=ce,s.FeatureGroup=Cr,s.GeoJSON=or,s.GridLayer=Gr,s.Handler=Mn,s.Icon=Ds,s.ImageOverlay=qr,s.LatLng=we,s.LatLngBounds=ge,s.Layer=Vn,s.LayerGroup=Zr,s.LineUtil=lc,s.Map=Ze,s.Marker=Pr,s.Mixin=Ko,s.Path=Vr,s.Point=W,s.PolyUtil=ud,s.Polygon=Dr,s.Polyline=bn,s.Popup=oo,s.PosAnimation=Ka,s.Projection=md,s.Rectangle=yc,s.Renderer=cr,s.SVG=Ts,s.SVGOverlay=al,s.TileLayer=Kr,s.Tooltip=oi,s.Transformation=mn,s.Util=H,s.VideoOverlay=il,s.bind=f,s.bounds=X,s.canvas=ul,s.circle=sa,s.circleMarker=hc,s.control=Ur,s.divIcon=gc,s.extend=u,s.featureGroup=uc,s.geoJSON=pc,s.geoJson=qn,s.gridLayer=li,s.icon=dc,s.imageOverlay=fc,s.latLng=ye,s.latLngBounds=be,s.layerGroup=ra,s.map=$r,s.marker=vd,s.point=Y,s.polygon=bd,s.polyline=yd,s.popup=ai,s.rectangle=wd,s.setOptions=S,s.stamp=v,s.svg=co,s.svgOverlay=ol,s.tileLayer=ll,s.tooltip=aa,s.transformation=rn,s.version=r,s.videoOverlay=mc;var wc=window.L;s.noConflict=function(){return window.L=wc,this},window.L=s}))})(Il,Il.exports)),Il.exports}var Xl=Lk();const od=Zl(Xl);function Wp(i,o,s){return Object.freeze({instance:i,context:o,container:s})}function Yp(i,o){return o==null?function(r,u){const h=P.useRef();return h.current||(h.current=i(r,u)),h}:function(r,u){const h=P.useRef();h.current||(h.current=i(r,u));const f=P.useRef(r),{instance:m}=h.current;return P.useEffect(function(){f.current!==r&&(o(m,r,f.current),f.current=r)},[m,r,u]),h}}function Ok(i,o){P.useEffect(function(){return(o.layerContainer??o.map).addLayer(i.instance),function(){o.layerContainer?.removeLayer(i.instance),o.map.removeLayer(i.instance)}},[o,i])}function e0(i){return function(s){const r=Bp(),u=i(zp(s,r),r);return Kx(r.map,s.attribution),Jx(u.current,s.eventHandlers),Ok(u.current,r),u}}function Rk(i,o){const s=Yp(i,o),r=e0(s);return Pk(r)}function Ik(i,o){const s=Yp(i),r=Mk(s,o);return Dk(r)}function Ak(i,o){const s=Yp(i,o),r=e0(s);return Tk(r)}function Fk(i,o,s){const{opacity:r,zIndex:u}=o;r!=null&&r!==s.opacity&&i.setOpacity(r),u!=null&&u!==s.zIndex&&i.setZIndex(u)}function Bk(){return Bp().map}function wp(){return wp=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var s=arguments[o];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},wp.apply(this,arguments)}function zk({bounds:i,boundsOptions:o,center:s,children:r,className:u,id:h,placeholder:f,style:m,whenReady:v,zoom:w,..._},N){const[M]=P.useState({className:u,id:h,style:m}),[D,T]=P.useState(null);P.useImperativeHandle(N,()=>D?.map??null,[D]);const S=P.useCallback(V=>{if(V!==null&&D===null){const O=new Xl.Map(V,_);s!=null&&w!=null?O.setView(s,w):i!=null&&O.fitBounds(i,o),v!=null&&O.whenReady(v),T(Sk(O))}},[]);P.useEffect(()=>()=>{D?.map.remove()},[D]);const C=D?re.createElement(Xx,{value:D},r):f??null;return re.createElement("div",wp({},M,{ref:S}),C)}const Wk=P.forwardRef(zk),zg=Rk(function({position:o,...s},r){const u=new Xl.Marker(o,s);return Wp(u,Ck(r,{overlayContainer:u}))},function(o,s,r){s.position!==r.position&&o.setLatLng(s.position),s.icon!=null&&s.icon!==r.icon&&o.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==r.zIndexOffset&&o.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==r.opacity&&o.setOpacity(s.opacity),o.dragging!=null&&s.draggable!==r.draggable&&(s.draggable===!0?o.dragging.enable():o.dragging.disable())}),Wg=Ik(function(o,s){const r=new Xl.Popup(o,s.overlayContainer);return Wp(r,s)},function(o,s,{position:r},u){P.useEffect(function(){const{instance:f}=o;function m(w){w.popup===f&&(f.update(),u(!0))}function v(w){w.popup===f&&u(!1)}return s.map.on({popupopen:m,popupclose:v}),s.overlayContainer==null?(r!=null&&f.setLatLng(r),f.openOn(s.map)):s.overlayContainer.bindPopup(f),function(){s.map.off({popupopen:m,popupclose:v}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(f)}},[o,s,u,r])}),Yk=Ak(function({url:o,...s},r){const u=new Xl.TileLayer(o,zp(s,r));return Wp(u,r)},function(o,s,r){Fk(o,s,r);const{url:u}=s;u!=null&&u!==r.url&&o.setUrl(u)});delete od.Icon.Default.prototype._getIconUrl;od.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});const Hk=new od.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),$k=new od.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Uk=({bounds:i})=>{const o=Bk();return P.useEffect(()=>{i&&i.length>0&&o.fitBounds(i,{padding:[50,50]})},[o,i]),null},Zk=({waterCoordinates:i,waterName:o,nearbyStays:s=[],height:r="400px"})=>{const u=[[i.lat,i.lng],...s.map(h=>[h.coordinates.lat,h.coordinates.lng])];return t.jsx("div",{className:"rounded-xl overflow-hidden border border-stone-200",style:{height:r},children:t.jsxs(Wk,{center:[i.lat,i.lng],zoom:12,style:{height:"100%",width:"100%"},scrollWheelZoom:!1,children:[t.jsx(Yk,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.jsx(Uk,{bounds:u}),t.jsx(zg,{position:[i.lat,i.lng],icon:Hk,children:t.jsxs(Wg,{children:[t.jsx("div",{className:"font-medium text-brand-700",children:o}),t.jsx("div",{className:"text-sm text-stone-500",children:"Fishing location"})]})}),s.map(h=>t.jsx(zg,{position:[h.coordinates.lat,h.coordinates.lng],icon:$k,children:t.jsx(Wg,{children:t.jsxs("div",{className:"min-w-[200px]",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-1",children:h.name}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-stone-500 mb-2",children:[t.jsx("span",{children:h.type}),t.jsx("span",{children:""}),t.jsx("span",{children:h.distance})]}),t.jsxs("div",{className:"flex items-center gap-1 text-sm mb-2",children:[t.jsx(yr,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),t.jsx("span",{children:h.rating}),t.jsxs("span",{className:"text-stone-400",children:["(",h.reviewCount," reviews)"]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-semibold text-brand-700",children:h.priceRange}),t.jsxs("a",{href:h.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-brand-600 hover:text-brand-800",children:["Book ",t.jsx(qg,{className:"w-3 h-3"})]})]})]})})},h.id))]})})},Vk=()=>t.jsxs("div",{className:"flex items-center gap-6 text-sm text-stone-600 mt-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),t.jsx("span",{children:"Fishing location"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),t.jsx("span",{children:"Accommodation"})]})]}),qk={"B&B":lu,Hotel:Jh,Inn:Jh,"Self-catering":lu,Camping:lu,"On-site lodges":lu},Gk=({accommodation:i})=>{const o=qk[i.type]||Jh;return t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden hover:shadow-md transition",children:[t.jsxs("div",{className:"h-32 relative",style:{background:"linear-gradient(135deg, #e7e5e4 0%, #d6d3d1 100%)"},children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(o,{className:"w-12 h-12 text-stone-400"})}),t.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 bg-white rounded-full text-xs font-medium text-stone-600",children:i.type})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-1 line-clamp-1",children:i.name}),t.jsxs("div",{className:"flex items-center gap-3 text-sm text-stone-500 mb-2",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Sn,{className:"w-3 h-3"}),i.distance]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(yr,{className:"w-3 h-3 fill-amber-400 text-amber-400"}),i.rating,t.jsxs("span",{className:"text-stone-400",children:["(",i.reviewCount,")"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"font-semibold text-brand-700",children:[i.priceRange,t.jsx("span",{className:"text-stone-400 font-normal text-sm",children:"/night"})]}),t.jsxs("a",{href:i.bookingUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-sm text-brand-600 hover:text-brand-800",onClick:s=>s.stopPropagation(),children:["Book ",t.jsx(qg,{className:"w-3 h-3"})]})]})]})]})},Kk={parking:iv,toilets:uu,cafe:Im,"tackle-shop":Lt,"boat-hire":Lt,"disabled-access":nv,"night-fishing":cv,showers:uu,"fishing-hut":uu,ghillie:Di,lunch:Im,wading:Lt,"rod-room":uu},Qk=[{id:"overview",label:"Overview"},{id:"species",label:"Species & Records"},{id:"catches",label:"Recent Catches"},{id:"facilities",label:"Facilities"},{id:"rules",label:"Rules"},{id:"reviews",label:"Reviews"},{id:"nearby",label:"Nearby Stays"}],vu={"day-tickets":{bg:"bg-brand-50",text:"text-brand-700",border:"border-brand-200",activeBg:"bg-brand-100",activeBorder:"border-brand-500"},guided:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",activeBg:"bg-amber-100",activeBorder:"border-amber-500"},accommodation:{bg:"bg-purple-50",text:"text-purple-700",border:"border-purple-200",activeBg:"bg-purple-100",activeBorder:"border-purple-500"},extras:{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",activeBg:"bg-blue-100",activeBorder:"border-blue-500"}},Xk={"day-tickets":"Day Tickets & Passes",guided:"Guided Experiences",accommodation:"Accommodation",extras:"Extras & Add-ons"},t0=({fishery:i,onBack:o,user:s,onSignIn:r,isFavourite:u,onToggleFavourite:h})=>{const[f,m]=P.useState("overview"),[v,w]=P.useState([null,null]),[_,N]=P.useState(""),[M,D]=P.useState(!1),[T,S]=P.useState(null),[C,V]=P.useState([]),[O,B]=v,te=O,Z=O&&B?Math.max(1,Math.ceil((B-O)/864e5)+1):O?1:0,K=i.bookingOptions&&i.bookingOptions.length>0,q=K?i.bookingOptions.reduce((U,H)=>{const ae=H.category||"day-tickets";return U[ae]||(U[ae]=[]),U[ae].push(H),U},{}):{},le=K?i.bookingOptions.find(U=>U.id===T)||i.bookingOptions[0]:null,xe=()=>{if(!s){r();return}D(!0)};if(M){const U=K?le?.bookingType==="instant":i.bookingType==="instant";return t.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center shadow-lg",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:t.jsx(Rr,{className:"w-8 h-8"})}),t.jsx("h2",{className:"text-2xl font-bold mb-2",children:U?"Booking Confirmed!":"Enquiry Sent!"}),t.jsx("p",{className:"text-stone-600 mb-2",children:U?`Your booking for ${i.name} has been confirmed. Check your email for details.`:`Your enquiry has been sent to ${i.name}. They'll respond within 24-48 hours.`}),K&&le&&t.jsxs("p",{className:"text-stone-500 text-sm mb-4",children:[le.name,"  ",Z," ",Z===1?"day":"days","  ",(le.price||0)*Z]}),O&&t.jsxs("p",{className:"text-stone-400 text-xs mb-4",children:[O.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"long"}),B&&B.getTime()!==O.getTime()&&t.jsxs(t.Fragment,{children:["  ",B.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"long"})]})]}),t.jsx("button",{onClick:o,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Back to Search"})]})})}const ne=()=>{if(K&&le)return le.price;if(!te||!i.availability)return i.price;const U=te.toISOString().split("T")[0];return i.availability[U]?.price||i.price},ue=()=>{if(!K)return i.price;const U=i.bookingOptions.map(H=>parseInt(H.price)).filter(H=>!isNaN(H));return U.length>0?Math.min(...U):i.price};return t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:o,className:"absolute top-4 left-4 z-10 px-4 py-2 bg-white/90 rounded-lg flex items-center gap-2 text-stone-700 hover:bg-white transition",children:[t.jsx(us,{className:"w-4 h-4"})," Back"]}),h&&t.jsx("button",{onClick:()=>h(i.id),className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-white/90 flex items-center justify-center hover:bg-white transition shadow-sm",children:t.jsx(is,{className:`w-5 h-5 transition ${u?"fill-red-500 text-red-500":"text-stone-600"}`})}),t.jsx(ax,{images:i.gallery||[i.image],alt:i.name})]}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden",children:[t.jsxs("div",{className:"p-6 border-b border-stone-200",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-stone-900",children:i.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2",children:[t.jsxs("span",{className:"flex items-center text-stone-500",children:[t.jsx(Sn,{className:"w-4 h-4 mr-1"}),i.location,", ",i.region]}),i.rating>0||i.reviews>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(yr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),t.jsx("span",{className:"font-medium",children:i.rating}),t.jsxs("span",{className:"text-stone-400",children:["(",i.reviews," reviews)"]})]}):t.jsx("span",{className:"text-stone-400 text-sm",children:"New listing"})]})]})}),t.jsx("div",{className:"flex flex-wrap gap-2",children:i.species.map(U=>t.jsx("span",{className:"px-3 py-1 bg-brand-50 text-brand-700 rounded-full text-sm",children:U},U))})]}),t.jsx("div",{className:"flex border-b border-stone-200 overflow-x-auto",children:Qk.map(U=>t.jsxs("button",{onClick:()=>m(U.id),className:`flex-shrink-0 px-4 py-3 text-sm font-medium capitalize transition whitespace-nowrap ${f===U.id?"text-brand-700 border-b-2 border-brand-700":"text-stone-500 hover:text-stone-700"}`,children:[U.label,U.id==="reviews"&&i.reviewsList&&t.jsxs("span",{className:"ml-1 text-stone-400",children:["(",i.reviewsList.length,")"]})]},U.id))}),t.jsxs("div",{className:"p-6",children:[f==="overview"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-3",children:"About This Water"}),t.jsx("p",{className:"text-stone-600 whitespace-pre-line",children:i.fullDescription})]}),i.season&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Season"}),t.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-2",children:[t.jsx(Ri,{className:"w-5 h-5 text-brand-600"}),t.jsxs("span",{children:["Opens: ",t.jsx("strong",{children:i.season.opens})]}),t.jsx("span",{className:"mx-2",children:""}),t.jsxs("span",{children:["Closes: ",t.jsx("strong",{children:i.season.closes})]})]}),i.season.bestMonths&&t.jsxs("p",{className:"text-stone-600",children:["Best months: ",t.jsx("strong",{children:i.season.bestMonths.join(", ")})]})]}),t.jsx(wk,{fishery:i})]}),f==="species"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Target Species"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.species.map(U=>t.jsxs("div",{className:"flex items-center gap-3 p-4 bg-stone-50 rounded-xl",children:[t.jsx("div",{className:"w-12 h-12 bg-brand-100 rounded-xl flex items-center justify-center",children:t.jsx(Lt,{className:"w-6 h-6 text-brand-700"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-stone-900",children:U}),t.jsx("p",{className:"text-sm text-stone-500",children:"Available year-round"})]})]},U))}),i.expectations?.recordFish&&t.jsxs("div",{className:"mt-6 p-4 bg-amber-50 rounded-xl border border-amber-200",children:[t.jsx("h4",{className:"font-semibold text-amber-800 mb-1",children:"Record Fish"}),t.jsx("p",{className:"text-amber-700",children:i.expectations.recordFish})]})]}),f==="facilities"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Amenities"}),i.amenities&&i.amenities.length>0?t.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:i.amenities.map(U=>{const H=U.toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-"),ae=Kk[H]||Rr;return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[t.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:t.jsx(ae,{className:"w-4 h-4 text-green-700"})}),t.jsx("span",{className:"text-stone-700",children:U})]},U)})}):t.jsx("p",{className:"text-stone-500",children:"Contact the fishery for facility information."}),i.rods>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("h4",{className:"font-semibold mb-2",children:"Rod Allocation"}),t.jsxs("p",{className:"text-stone-600",children:[i.rods," rods available"]})]})]}),f==="rules"&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Fishery Rules"}),i.rules&&i.rules.length>0?t.jsx("ul",{className:"space-y-3",children:i.rules.map((U,H)=>t.jsxs("li",{className:"flex items-start gap-3 text-stone-600",children:[t.jsx("span",{className:"w-6 h-6 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx("span",{className:"text-brand-700 text-sm font-medium",children:H+1})}),U]},H))}):t.jsx("p",{className:"text-stone-500",children:"Contact the fishery for specific rules."})]}),f==="catches"&&t.jsxs("div",{className:"space-y-8",children:[t.jsx(Gx,{waterId:i.id,waterName:i.name,user:s,onSuccess:()=>{}}),t.jsx(Nk,{waterId:i.id})]}),f==="reviews"&&t.jsxs("div",{className:"space-y-8",children:[t.jsx(qx,{waterId:i.id,user:s,onSuccess:()=>{}}),t.jsx(Vx,{reviews:i.reviewsList||[]})]}),f==="nearby"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Nearby Accommodation"}),t.jsxs("p",{className:"text-stone-600 mb-4",children:["Find places to stay within 10 miles of ",i.name,"."]}),i.coordinates&&t.jsxs(t.Fragment,{children:[t.jsx(Zk,{waterCoordinates:i.coordinates,waterName:i.name,nearbyStays:i.nearbyStays||[]}),t.jsx(Vk,{})]})]}),i.nearbyStays&&i.nearbyStays.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold mb-4",children:"Featured Stays"}),t.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.nearbyStays.map(U=>t.jsx(Gk,{accommodation:U},U.id))})]})]})]})]})}),t.jsx("div",{className:"w-full lg:w-96 flex-shrink-0",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 sticky top-24",children:[K?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"text-center mb-2",children:[t.jsx("span",{className:"text-sm text-stone-500",children:"From"}),t.jsxs("span",{className:"text-3xl font-bold text-stone-900 ml-2",children:["",ue()]}),t.jsxs("span",{className:"text-stone-500 ml-1",children:["/",i.bookingOptions.find(U=>parseInt(U.price)===ue())?.priceType||"day"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-stone-700",children:"Choose an option:"}),Object.entries(q).map(([U,H])=>{const ae=U==="extras";return t.jsxs("div",{children:[t.jsx("p",{className:`text-xs font-semibold uppercase tracking-wide mb-1.5 ${(vu[U]||vu["day-tickets"]).text}`,children:Xk[U]||U}),t.jsx("div",{className:"space-y-2",children:H.map(F=>{const oe=vu[F.category]||vu["day-tickets"];if(ae){const ce=C.includes(F.id);return t.jsxs("button",{onClick:()=>{V(ce?C.filter(W=>W!==F.id):[...C,F.id])},className:`w-full text-left p-3 rounded-xl border-2 transition-all ${ce?`${oe.activeBg} ${oe.activeBorder} shadow-sm`:`bg-white border-stone-200 hover:${oe.bg} hover:border-stone-300`}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-stone-900 text-sm",children:F.name}),t.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${F.bookingType==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:F.bookingType==="instant"?"Book":"Enquire"})]}),F.description&&t.jsx("p",{className:"text-xs text-stone-500 mt-0.5 truncate",children:F.description})]}),t.jsxs("div",{className:"text-right flex-shrink-0 ml-3",children:[t.jsxs("span",{className:"font-bold text-stone-900",children:["",F.price]}),t.jsxs("span",{className:"text-stone-500 text-xs ml-0.5",children:["/",F.priceType]})]})]}),ce&&t.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[t.jsx(Rr,{className:"w-3.5 h-3.5 text-brand-600"}),t.jsx("span",{className:"text-xs text-brand-600 font-medium",children:"Added"})]})]},F.id)}else{const ce=T===F.id||!T&&i.bookingOptions[0]?.id===F.id;return t.jsxs("button",{onClick:()=>S(F.id),className:`w-full text-left p-3 rounded-xl border-2 transition-all ${ce?`${oe.activeBg} ${oe.activeBorder} shadow-sm`:`bg-white border-stone-200 hover:${oe.bg} hover:border-stone-300`}`,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-stone-900 text-sm",children:F.name}),t.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${F.bookingType==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:F.bookingType==="instant"?"Book":"Enquire"})]}),F.description&&t.jsx("p",{className:"text-xs text-stone-500 mt-0.5 truncate",children:F.description})]}),t.jsxs("div",{className:"text-right flex-shrink-0 ml-3",children:[t.jsxs("span",{className:"font-bold text-stone-900",children:["",F.price]}),t.jsxs("span",{className:"text-stone-500 text-xs ml-0.5",children:["/",F.priceType]})]})]}),ce&&t.jsxs("div",{className:"mt-1 flex items-center gap-1",children:[t.jsx(Rr,{className:"w-3.5 h-3.5 text-brand-600"}),t.jsx("span",{className:"text-xs text-brand-600 font-medium",children:"Selected"})]})]},F.id)}})})]},U)})]}),(T||le)&&C.length>0&&t.jsx("div",{className:"pt-3 border-t border-stone-200",children:t.jsxs("div",{className:"space-y-1 text-sm",children:[t.jsxs("div",{className:"flex justify-between text-stone-600",children:[t.jsx("span",{children:"Primary option:"}),t.jsxs("span",{className:"font-medium",children:["",le?.price||0]})]}),C.map(U=>{const H=i.bookingOptions.find(ae=>ae.id===U);return t.jsxs("div",{className:"flex justify-between text-stone-600",children:[t.jsxs("span",{className:"ml-2",children:[H?.name,":"]}),t.jsxs("span",{className:"font-medium",children:["",H?.price||0]})]},U)}),t.jsxs("div",{className:"flex justify-between font-semibold text-stone-900 pt-2 border-t border-stone-200",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["",(le?.price||0)+C.reduce((U,H)=>{const ae=i.bookingOptions.find(F=>F.id===H);return U+(parseInt(ae?.price)||0)},0)]})]})]})}),le&&t.jsxs("div",{className:"space-y-3 pt-2",children:[t.jsxs("div",{className:"bg-stone-50 rounded-xl p-4 border border-stone-200 space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Select Dates"}),t.jsx("p",{className:"text-xs text-stone-500 mb-2",children:O?B?`${Z} ${Z===1?"day":"days"} selected`:"Now click an end date":"Click a start date"}),t.jsx(bp,{selected:O,onChange:U=>w(U),availability:i.availability||{},selectsRange:!0,startDate:O,endDate:B,inline:!0,showPrice:!1})]}),O&&t.jsxs("div",{className:"pt-3 border-t border-stone-300",children:[t.jsxs("div",{className:"flex justify-between text-sm text-stone-600",children:[t.jsxs("span",{children:[le.name," x ",Z," ",Z===1?"day":"days"]}),t.jsxs("span",{className:"font-medium",children:["",(le.price||0)*Z]})]}),C.length>0&&C.map(U=>{const H=i.bookingOptions.find(ae=>ae.id===U);return t.jsxs("div",{className:"flex justify-between text-sm text-stone-600 mt-1",children:[t.jsxs("span",{children:[H?.name," x ",Z]}),t.jsxs("span",{className:"font-medium",children:["",(H?.price||0)*Z]})]},U)}),t.jsxs("div",{className:"flex justify-between font-bold text-stone-900 mt-2 pt-2 border-t border-stone-300",children:[t.jsx("span",{children:"Total"}),t.jsxs("span",{children:["",((le.price||0)+C.reduce((U,H)=>{const ae=i.bookingOptions.find(F=>F.id===H);return U+(parseInt(ae?.price)||0)},0))*Z]})]})]})]}),le.bookingType==="enquiry"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message (optional)"}),t.jsx("textarea",{rows:3,value:_,onChange:U=>N(U.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl bg-white",placeholder:"Tell them about your experience, number in party, etc."})]}),t.jsx("button",{onClick:xe,disabled:!te,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?le.bookingType==="instant"?`Book ${le.name}`:`Enquire About ${le.name}`:"Sign In to Book"}),le.bookingType==="instant"&&t.jsxs("p",{className:"text-center text-sm text-stone-500",children:[t.jsx(Rr,{className:"w-4 h-4 inline mr-1"}),"Instant confirmation"]})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-center mb-6",children:i.price===0?t.jsx("span",{className:"text-3xl font-bold text-green-600",children:"Free Access"}):t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-3xl font-bold text-stone-900",children:["",te?ne():i.price]}),t.jsxs("span",{className:"text-stone-500 ml-1",children:["/",i.priceType]})]})}),i.bookingType==="instant"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Select Date"}),t.jsx(bp,{selected:O,onChange:U=>w(U),availability:i.availability||{},selectsRange:!0,startDate:O,endDate:B,inline:!0,showPrice:!1})]}),t.jsx("button",{onClick:xe,disabled:!te,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?"Book Now":"Sign In to Book"}),t.jsxs("p",{className:"text-center text-sm text-stone-500",children:[t.jsx(Rr,{className:"w-4 h-4 inline mr-1"}),"Instant confirmation"]})]}),i.bookingType==="enquiry"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-stone-600 text-center",children:"This is a premium beat with limited availability. Send an enquiry to check dates."}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Preferred Date(s)"}),t.jsx(xk,{startDate:v[0],endDate:v[1],onChange:U=>w(U),placeholder:"Select preferred dates"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message"}),t.jsx("textarea",{rows:3,value:_,onChange:U=>N(U.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Tell them about your experience, number in party, etc."})]}),t.jsx("button",{onClick:xe,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition",children:s?"Send Enquiry":"Sign In to Enquire"})]}),i.bookingType==="free"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[t.jsx(Rr,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),t.jsx("h4",{className:"font-semibold text-green-800 mb-1",children:"No Booking Required"}),t.jsx("p",{className:"text-sm text-green-700",children:"This water is freely accessible with a valid EA rod licence."})]}),i.openingHours&&t.jsxs("div",{className:"text-sm text-stone-600",children:[t.jsxs("p",{className:"flex items-center gap-2",children:[t.jsx(tr,{className:"w-4 h-4"}),t.jsx("strong",{children:"Opening times:"})]}),t.jsxs("p",{className:"ml-6",children:["Weekdays: ",i.openingHours.weekday]}),t.jsxs("p",{className:"ml-6",children:["Weekends: ",i.openingHours.weekend]})]})]})]}),i.contact&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-stone-200",children:[t.jsx("p",{className:"text-sm text-stone-500 mb-2",children:"Questions? Contact"}),t.jsx("p",{className:"font-medium text-stone-800",children:i.contact.name}),i.contact.email&&t.jsxs("a",{href:`mailto:${i.contact.email}`,className:"flex items-center gap-2 text-sm text-brand-600 hover:text-brand-800 mt-1",children:[t.jsx(ds,{className:"w-4 h-4"}),i.contact.email]}),i.contact.phone&&t.jsxs("a",{href:`tel:${i.contact.phone}`,className:"flex items-center gap-2 text-sm text-brand-600 hover:text-brand-800 mt-1",children:[t.jsx(kp,{className:"w-4 h-4"}),i.contact.phone]})]})]})})]})})]})},Jk=["Fly Fishing","Salmon","Trout","Sea Fishing","Bass","Shore Fishing","Carp Fishing","Coarse","Beginners","Fly Tying","Women's Courses","Kids/Juniors","Pike","Barbel"],Yg={specialties:[],region:"",priceRange:[0,500],rating:0,availability:""},Ll=({title:i,children:o,defaultOpen:s=!0})=>{const[r,u]=P.useState(s);return t.jsxs("div",{className:"border-b border-stone-200 pb-4 mb-4 last:border-0 last:pb-0 last:mb-0",children:[t.jsxs("button",{onClick:()=>u(!r),className:"flex items-center justify-between w-full text-left font-medium text-stone-800 mb-3",children:[i,r?t.jsx(Vl,{className:"w-4 h-4 text-stone-400"}):t.jsx(Ca,{className:"w-4 h-4 text-stone-400"})]}),r&&o]})},n0=({filters:i,onFilterChange:o,onClearFilters:s})=>{const r=[i.specialties.length>0,i.region,i.priceRange[0]!==0||i.priceRange[1]!==500,i.rating>0,i.availability].filter(Boolean).length;return t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(Xg,{className:"w-5 h-5 text-brand-600"}),"Filters",r>0&&t.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:r})]}),r>0&&t.jsx("button",{onClick:s,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear all"})]}),t.jsx(Ll,{title:"Specialties",children:t.jsx("div",{className:"flex flex-wrap gap-1.5",children:Jk.map(u=>t.jsx("button",{onClick:()=>{const h=i.specialties.includes(u)?i.specialties.filter(f=>f!==u):[...i.specialties,u];o({...i,specialties:h})},className:`px-2.5 py-1 rounded-full text-xs transition ${i.specialties.includes(u)?"bg-brand-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:u},u))})}),t.jsx(Ll,{title:"Region",children:t.jsxs("select",{value:i.region,onChange:u=>o({...i,region:u.target.value}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm bg-white",children:[t.jsx("option",{value:"",children:"All Regions"}),Pa.map(u=>t.jsx("option",{value:u.name,children:u.name},u.id))]})}),t.jsx(Ll,{title:"Price Range",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Min ()"}),t.jsx("input",{type:"number",min:0,max:i.priceRange[1],value:i.priceRange[0],onChange:u=>o({...i,priceRange:[parseInt(u.target.value)||0,i.priceRange[1]]}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm"})]}),t.jsx("span",{className:"text-stone-400 mt-4",children:""}),t.jsxs("div",{className:"flex-1",children:[t.jsx("label",{className:"text-xs text-stone-500 mb-1 block",children:"Max ()"}),t.jsx("input",{type:"number",min:i.priceRange[0],value:i.priceRange[1],onChange:u=>o({...i,priceRange:[i.priceRange[0],parseInt(u.target.value)||500]}),className:"w-full px-3 py-2 border border-stone-200 rounded-lg text-sm"})]})]}),t.jsxs("p",{className:"text-xs text-stone-400",children:["",i.priceRange[0],"  ",i.priceRange[1]," per day"]})]})}),t.jsx(Ll,{title:"Minimum Rating",defaultOpen:!1,children:t.jsx("div",{className:"flex gap-2",children:[0,4,4.5,4.8].map(u=>t.jsx("button",{onClick:()=>o({...i,rating:u}),className:`px-3 py-1.5 rounded-full text-sm transition ${i.rating===u?"bg-brand-600 text-white":"bg-stone-100 text-stone-600 hover:bg-stone-200"}`,children:u===0?"Any":`${u}+`},u))})}),t.jsx(Ll,{title:"Availability",defaultOpen:!1,children:t.jsx("div",{className:"space-y-2",children:["","Weekdays","Weekends","Evenings"].map(u=>t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"availability",checked:i.availability===u,onChange:()=>o({...i,availability:u}),className:"w-4 h-4 border-stone-300 text-brand-600 focus:ring-brand-500"}),t.jsx("span",{className:"text-sm text-stone-600",children:u||"Any"})]},u||"any"))})})]})},eN=({isOpen:i,onClose:o,filters:s,onFilterChange:r,onClearFilters:u})=>i?t.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:o}),t.jsxs("div",{className:"absolute inset-y-0 left-0 w-full max-w-sm bg-white shadow-xl flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-stone-200",children:[t.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[t.jsx(Vu,{className:"w-5 h-5"})," Filters"]}),t.jsx("button",{onClick:o,className:"p-2 hover:bg-stone-100 rounded-lg",children:t.jsx(nr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:t.jsx(n0,{filters:s,onFilterChange:r,onClearFilters:u})}),t.jsxs("div",{className:"p-4 border-t border-stone-200 flex gap-3",children:[t.jsx("button",{onClick:u,className:"flex-1 py-3 border border-stone-300 rounded-xl font-medium hover:bg-stone-50",children:"Clear All"}),t.jsx("button",{onClick:o,className:"flex-1 py-3 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Show Results"})]})]})]}):null,tN=({onSelectInstructor:i,onBack:o,favouriteInstructors:s=[],onToggleFavouriteInstructor:r})=>{const[u,h]=P.useState([]),[f,m]=P.useState(!0),[v,w]=P.useState(Yg),[_,N]=P.useState("rating"),[M,D]=P.useState(!1),[T,S]=P.useState(""),[C,V]=P.useState(25);P.useEffect(()=>{(async()=>{try{const K=await J0.getAll();K&&K.length>0?h(K):h(np)}catch(K){console.log("API unavailable, using local data:",K.message),h(np)}m(!1)})()},[]);const O=u.filter(Z=>{if(T){const K=T.toLowerCase(),q=(Z.name||"").toLowerCase().includes(K),le=(Z.location||Z.region||"").toLowerCase().includes(K),xe=(Z.specialties||[]).some(ue=>ue.toLowerCase().includes(K)),ne=(Z.title||"").toLowerCase().includes(K);if(!q&&!le&&!xe&&!ne)return!1}return!(v.specialties.length>0&&!v.specialties.some(q=>(Z.specialties||[]).includes(q))||v.region&&!(Z.region||Z.location||"").toLowerCase().includes(v.region.toLowerCase())||Z.price<v.priceRange[0]||Z.price>v.priceRange[1]||v.rating>0&&(Z.rating||0)<v.rating||v.availability&&!(Z.availability||[]).includes(v.availability))}).sort((Z,K)=>{switch(_){case"rating":return(K.rating||0)-(Z.rating||0);case"price-low":return(Z.price||0)-(K.price||0);case"price-high":return(K.price||0)-(Z.price||0);case"reviews":return(K.reviews||0)-(Z.reviews||0);default:return 0}}),B=()=>w(Yg),te=[v.specialties.length>0,v.region,v.priceRange[0]!==0||v.priceRange[1]!==500,v.rating>0,v.availability].filter(Boolean).length;return t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsx("div",{className:"bg-white border-b border-stone-200 py-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[t.jsx("button",{onClick:o,className:"flex items-center text-stone-500 hover:text-stone-700 transition",children:t.jsx(us,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-xl font-bold text-stone-900",children:"Find a Fishing Instructor"}),t.jsx("p",{className:"text-stone-500 text-sm",children:f?"Loading instructors...":`${O.length} instructors found`})]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-stone-400"}),t.jsx("input",{type:"text",value:T,onChange:Z=>S(Z.target.value),placeholder:"Search by name, location, or specialty...",className:"w-full pl-9 pr-4 py-2.5 border border-stone-200 rounded-xl text-sm focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("select",{value:C,onChange:Z=>V(Number(Z.target.value)),className:"px-3 py-2.5 border border-stone-200 rounded-xl text-sm bg-white sm:w-40",children:[t.jsx("option",{value:5,children:"Within 5 miles"}),t.jsx("option",{value:10,children:"Within 10 miles"}),t.jsx("option",{value:25,children:"Within 25 miles"}),t.jsx("option",{value:50,children:"Within 50 miles"}),t.jsx("option",{value:100,children:"Within 100 miles"})]})]})]})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[t.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:t.jsx("div",{className:"sticky top-24 max-h-[calc(100vh-7rem)] overflow-y-auto",children:t.jsx(n0,{filters:v,onFilterChange:w,onClearFilters:B})})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>D(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-white border border-stone-200 rounded-xl hover:bg-stone-50 text-sm",children:[t.jsx(Vu,{className:"w-4 h-4"}),"Filters",te>0&&t.jsx("span",{className:"px-2 py-0.5 bg-brand-100 text-brand-700 text-xs rounded-full",children:te})]}),te>0&&t.jsx("button",{onClick:B,className:"text-sm text-brand-600 hover:text-brand-800",children:"Clear filters"})]}),t.jsxs("select",{value:_,onChange:Z=>N(Z.target.value),className:"px-3 py-2 border border-stone-200 rounded-xl text-sm bg-white",children:[t.jsx("option",{value:"rating",children:"Top Rated"}),t.jsx("option",{value:"price-low",children:"Price: Low to High"}),t.jsx("option",{value:"price-high",children:"Price: High to Low"}),t.jsx("option",{value:"reviews",children:"Most Reviews"})]})]}),f?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(Ii,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),t.jsx("p",{className:"text-stone-500",children:"Loading instructors..."})]}):O.length>0?t.jsx("div",{className:"space-y-4",children:O.map(Z=>t.jsx(Dv,{instructor:Z,onClick:()=>i(Z),isFavourite:s.includes(Z.id),onToggleFavourite:r},Z.id))}):t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(Di,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No instructors match your filters"}),t.jsx("p",{className:"text-stone-500 mb-4",children:"Try adjusting your search criteria"}),t.jsx("button",{onClick:B,className:"px-4 py-2 text-brand-700 hover:bg-brand-50 rounded-lg transition",children:"Clear all filters"})]})]})]})}),t.jsx(eN,{isOpen:M,onClose:()=>D(!1),filters:v,onFilterChange:w,onClearFilters:B})]})},yu={"AAPGAI Master":"bg-amber-100 text-amber-800 border-amber-300",AAPGAI:"bg-amber-50 text-amber-700 border-amber-200","GAIA Advanced":"bg-blue-100 text-blue-800 border-blue-300","GAIA Level 2":"bg-blue-50 text-blue-700 border-blue-200",SGAIC:"bg-purple-100 text-purple-800 border-purple-300","Angling Trust Level 2":"bg-green-100 text-green-800 border-green-300","Angling Trust Level 3":"bg-green-100 text-green-800 border-green-300","First Aid":"bg-red-100 text-red-700 border-red-300","River Rescue":"bg-cyan-100 text-cyan-800 border-cyan-300","DBS Checked":"bg-stone-100 text-stone-700 border-stone-300",DBS:"bg-stone-100 text-stone-700 border-stone-300","Wild Trout Trust Ambassador":"bg-teal-100 text-teal-800 border-teal-300","Tenkara UK Ambassador":"bg-indigo-100 text-indigo-800 border-indigo-300","Tenkara Ambassador":"bg-indigo-100 text-indigo-800 border-indigo-300"},Hg={AAPGAI:jn,"AAPGAI Master":jn,GAIA:Eh,"GAIA Advanced":Eh,"GAIA Level 2":Eh,SGAIC:jn,"Angling Trust":Mo,"Angling Trust Level 2":Mo,"Angling Trust Level 3":Mo,"First Aid":is,"River Rescue":is,DBS:$t,"DBS Checked":$t,Ambassador:jn,"Wild Trout Trust Ambassador":jn,"Tenkara UK Ambassador":jn,"Tenkara Ambassador":jn},nN=i=>{for(const o in Hg)if(i.toLowerCase().includes(o.toLowerCase()))return Hg[o];return jn},rN=i=>{if(yu[i])return yu[i];for(const o in yu)if(i.toLowerCase().includes(o.toLowerCase()))return yu[o];return"bg-stone-100 text-stone-700 border-stone-300"},sN=({certification:i,size:o="md"})=>{const s=nN(i),r=rN(i),u={sm:"px-2 py-0.5 text-xs",md:"px-3 py-1 text-sm",lg:"px-4 py-1.5 text-base"},h={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full font-medium border ${r} ${u[o]}`,children:[t.jsx(s,{className:h[o]}),i]})},iN=({certifications:i=[],size:o="md"})=>!i||i.length===0?null:t.jsx("div",{className:"flex flex-wrap gap-2",children:i.map((s,r)=>t.jsx(sN,{certification:s,size:o},r))}),aN=({itinerary:i=[]})=>!i||i.length===0?null:t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[t.jsx(tr,{className:"w-5 h-5 text-brand-600"}),"Typical Day"]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute left-[27px] top-4 bottom-4 w-0.5 bg-brand-200"}),t.jsx("div",{className:"space-y-4",children:i.map((o,s)=>t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"relative z-10",children:t.jsx("div",{className:"w-14 h-8 bg-brand-100 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-medium text-brand-700",children:o.time})})}),t.jsx("div",{className:"flex-1 bg-stone-50 rounded-xl p-4",children:t.jsx("p",{className:"text-stone-700",children:o.activity})})]},s))})]})]}),oN=[{id:"about",label:"About"},{id:"learn",label:"What You Learn"},{id:"day",label:"Typical Day"},{id:"reviews",label:"Reviews"}],$g={"Atlantic Salmon":"","Spey Casting":"","Scottish Rivers":"",Trout:"",Stillwater:"",Beginners:"","Women's Courses":"",Carp:"",Pike:"","Wild Brown Trout":"","Small Streams":"","Dry Fly":"",Tenkara:""},lN=({instructor:i,onBack:o,user:s,onSignIn:r})=>{const[u,h]=P.useState("about"),[f,m]=P.useState(!1),[v,w]=P.useState(null),[_,N]=P.useState(""),[M,D]=P.useState(""),[T,S]=P.useState({name:"",email:"",phone:"",preferredDates:"",message:""}),C=()=>{if(!s){r();return}m(!0)};if(f)return t.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 text-center shadow-lg",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 text-green-600",children:t.jsx(Rr,{className:"w-8 h-8"})}),t.jsx("h2",{className:"text-2xl font-bold mb-2",children:i.hasCalendar?"Booking Request Sent!":"Message Sent!"}),t.jsxs("p",{className:"text-stone-600 mb-6",children:[i.name," will review your request and get back to you within 24-48 hours."]}),t.jsx("button",{onClick:o,className:"px-6 py-2.5 bg-brand-700 text-white rounded-xl font-medium hover:bg-brand-800",children:"Back to Instructors"})]})});const V={};return i.availability&&i.availability.forEach(O=>{V[O]={status:"available",price:i.price}}),t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsx("div",{className:"bg-brand-700 text-white py-8",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4",children:t.jsxs("button",{onClick:o,className:"flex items-center text-brand-200 hover:text-white mb-4",children:[t.jsx(us,{className:"w-4 h-4"}),t.jsx("span",{children:"Back to Instructors"})]})})}),t.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-4 pb-12",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 overflow-hidden",children:[t.jsxs("div",{className:"flex flex-col",children:[i.gallery&&i.gallery.length>1?t.jsx(ax,{images:i.gallery,alt:i.name}):t.jsx("div",{className:"h-48 md:h-64",style:{background:i.image}}),t.jsxs("div",{className:"p-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:i.name}),t.jsx("p",{className:"text-brand-600 font-medium mb-2",children:i.title}),t.jsxs("div",{className:"flex items-center text-stone-500 mb-4",children:[t.jsx(Sn,{className:"w-4 h-4 mr-1"}),t.jsx("span",{children:i.location})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.specialties.map(O=>t.jsxs("span",{className:"px-3 py-1.5 bg-brand-50 text-brand-700 text-sm rounded-full flex items-center gap-1",children:[$g[O]&&t.jsx("span",{children:$g[O]}),O]},O))}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(yr,{className:"w-4 h-4 fill-amber-400 text-amber-400"}),t.jsx("span",{className:"font-medium",children:i.rating}),t.jsxs("span",{className:"text-stone-400",children:["(",i.reviews," reviews)"]})]}),i.website&&t.jsxs("a",{href:`https://${i.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-brand-600 hover:text-brand-800",children:[t.jsx(av,{className:"w-4 h-4"})," Website"]})]})]})]}),t.jsx("div",{className:"flex border-b border-stone-200 overflow-x-auto",children:oN.map(O=>t.jsxs("button",{onClick:()=>h(O.id),className:`flex-shrink-0 px-4 py-3 text-sm font-medium capitalize transition whitespace-nowrap ${u===O.id?"text-brand-700 border-b-2 border-brand-700":"text-stone-500 hover:text-stone-700"}`,children:[O.label,O.id==="reviews"&&i.reviewsList&&t.jsxs("span",{className:"ml-1 text-stone-400",children:["(",i.reviewsList.length,")"]})]},O.id))}),t.jsxs("div",{className:"p-6",children:[u==="about"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-lg mb-3",children:["About ",i.name.split(" ")[0]]}),t.jsx("p",{className:"text-stone-600 whitespace-pre-line",children:i.fullBio})]}),i.teachingPhilosophy&&t.jsxs("div",{className:"bg-brand-50 rounded-xl p-5 border-l-4 border-brand-500",children:[t.jsx("h3",{className:"font-semibold text-brand-800 mb-2",children:"Teaching Philosophy"}),t.jsxs("p",{className:"text-brand-700 italic",children:['"',i.teachingPhilosophy,'"']})]}),i.certifications&&i.certifications.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Certifications"}),t.jsx(iN,{certifications:i.certifications})]})]}),u==="learn"&&t.jsxs("div",{className:"space-y-6",children:[i.whatYouLearn&&i.whatYouLearn.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-4",children:"What You'll Learn"}),t.jsx("div",{className:"grid md:grid-cols-2 gap-3",children:i.whatYouLearn.map((O,B)=>t.jsxs("div",{className:"flex items-start gap-3 p-3 bg-stone-50 rounded-xl",children:[t.jsx("div",{className:"w-6 h-6 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:t.jsx(Rr,{className:"w-4 h-4 text-brand-700"})}),t.jsx("span",{className:"text-stone-700",children:O})]},B))})]}),i.equipmentProvided&&i.equipmentProvided.length>0&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Equipment Provided"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:i.equipmentProvided.map(O=>t.jsx("span",{className:"px-3 py-1.5 bg-stone-100 text-stone-700 rounded-full text-sm",children:O},O))})]})]}),u==="day"&&t.jsx("div",{children:i.typicalDay&&i.typicalDay.length>0?t.jsx(aN,{itinerary:i.typicalDay}):t.jsxs("p",{className:"text-stone-500",children:["Contact ",i.name.split(" ")[0]," to discuss the structure of your session."]})}),u==="reviews"&&t.jsxs("div",{className:"space-y-8",children:[t.jsx(qx,{instructorId:i.id,user:s,onSuccess:()=>{}}),t.jsx(Vx,{reviews:i.reviewsList||[]})]})]})]})}),t.jsx("div",{className:"w-full lg:w-96 flex-shrink-0",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 sticky top-24",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("span",{className:"text-3xl font-bold text-stone-900",children:["",i.price]}),t.jsxs("span",{className:"text-stone-500 ml-1",children:["/",i.priceType]})]}),i.hasCalendar?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Select Date"}),t.jsx(bp,{selected:v,onChange:w,availability:V,placeholder:"Choose your session date",showPrice:!1})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Experience Level"}),t.jsxs("select",{value:M,onChange:O=>D(O.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",children:[t.jsx("option",{value:"",children:"Select level"}),t.jsx("option",{value:"beginner",children:"Complete Beginner"}),t.jsx("option",{value:"some",children:"Some Experience"}),t.jsx("option",{value:"intermediate",children:"Intermediate"}),t.jsx("option",{value:"advanced",children:"Advanced"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message (optional)"}),t.jsx("textarea",{rows:3,value:_,onChange:O=>N(O.target.value),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Tell them what you'd like to focus on..."})]}),t.jsx("button",{onClick:C,disabled:!v,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 disabled:opacity-50 disabled:cursor-not-allowed transition",children:s?"Request Booking":"Sign In to Book"}),t.jsx("p",{className:"text-center text-sm text-stone-500",children:"You won't be charged yet"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-sm text-stone-600 text-center mb-4",children:["Contact ",i.name.split(" ")[0]," to discuss availability and book your session."]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Name *"}),t.jsx("input",{type:"text",value:T.name,onChange:O=>S({...T,name:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"John Smith"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email *"}),t.jsx("input",{type:"email",value:T.email,onChange:O=>S({...T,email:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"john@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),t.jsx("input",{type:"tel",value:T.phone,onChange:O=>S({...T,phone:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"07123 456789"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Preferred Dates"}),t.jsx("input",{type:"text",value:T.preferredDates,onChange:O=>S({...T,preferredDates:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"e.g. Weekends in March"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message *"}),t.jsx("textarea",{rows:3,value:T.message,onChange:O=>S({...T,message:O.target.value}),className:"w-full px-4 py-2.5 border border-stone-300 rounded-xl",placeholder:"Tell them about your experience level and what you'd like to learn..."})]}),t.jsx("button",{onClick:C,className:"w-full py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition",children:"Send Message"})]})]})})]})})]})},cN=({onSearch:i,onListWater:o})=>t.jsxs("div",{children:[t.jsx("section",{className:"hero-gradient text-white py-16 md:py-24",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"About TightLines"}),t.jsx("p",{className:"text-lg md:text-xl text-brand-100 max-w-2xl mx-auto",children:"The UK's leading fishing booking platform  connecting anglers with the best waters, guides, and experiences across the country."})]})}),t.jsx("section",{className:"py-16 bg-white",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-stone-900 mb-6",children:"Our Story"}),t.jsxs("div",{className:"prose prose-stone max-w-none space-y-4 text-stone-700 leading-relaxed",children:[t.jsx("p",{children:"TightLines was born from a simple frustration: finding and booking quality fishing in the UK was far harder than it should be. Information was scattered across outdated websites, social media groups, and word-of-mouth. We knew there had to be a better way."}),t.jsx("p",{children:"We're a team of passionate anglers who believe that whether you're casting for your first fish or chasing specimen salmon on a legendary beat, the experience of finding, comparing, and booking your fishing should be as enjoyable as the fishing itself."}),t.jsx("p",{children:"Our platform brings together game, coarse, and sea fishing venues from every corner of the UK  from the chalk streams of Hampshire to the wild lochs of Scotland, from specimen carp lakes in the Midlands to the surf-swept beaches of the South West."})]})]})}),t.jsx("section",{className:"py-16 bg-stone-50",children:t.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-12",children:"What We Stand For"}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:t.jsx(Sn,{className:"w-6 h-6"}),title:"Discovery",desc:"We make it easy to explore hundreds of waters across the UK  filter by species, region, price, or fishing type to find your perfect day out."},{icon:t.jsx(Mo,{className:"w-6 h-6"}),title:"Trust & Transparency",desc:"Verified reviews, clear pricing, and honest descriptions. No hidden fees, no surprises  just great fishing."},{icon:t.jsx(is,{className:"w-6 h-6"}),title:"Conservation",desc:"We work with fisheries that prioritise sustainable practices, catch and release policies, and the long-term health of our waterways."}].map((s,r)=>t.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-brand-100 text-brand-700 rounded-xl flex items-center justify-center mx-auto mb-4",children:s.icon}),t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:s.title}),t.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:s.desc})]},r))})]})}),t.jsx("section",{className:"py-16 bg-white",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4",children:t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-center",children:[{number:"500+",label:"Waters Listed"},{number:"50+",label:"Qualified Guides"},{number:"12,000+",label:"Bookings Made"},{number:"30+",label:"UK Regions"}].map((s,r)=>t.jsxs("div",{children:[t.jsx("span",{className:"text-3xl md:text-4xl font-bold text-brand-700",children:s.number}),t.jsx("p",{className:"text-stone-600 text-sm mt-1",children:s.label})]},r))})})}),t.jsx("section",{className:"py-16 bg-stone-50",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center text-stone-900 mb-6",children:"For Fisheries & Instructors"}),t.jsx("p",{className:"text-center text-stone-600 max-w-2xl mx-auto mb-10",children:"TightLines isn't just for anglers. We help fishery owners and qualified instructors reach a wider audience, manage bookings, and grow their business."}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center mb-4",children:t.jsx(Lt,{className:"w-5 h-5"})}),t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:"List Your Water"}),t.jsx("p",{className:"text-stone-600 text-sm leading-relaxed mb-4",children:"Get your fishery in front of thousands of anglers. Set up your own booking options, manage enquiries, and track performance  all for free during our launch period."}),t.jsxs("button",{onClick:o,className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium text-sm",children:["List Your Water ",t.jsx(Al,{className:"w-4 h-4"})]})]}),t.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-stone-200",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 text-green-700 rounded-lg flex items-center justify-center mb-4",children:t.jsx(Di,{className:"w-5 h-5"})}),t.jsx("h3",{className:"font-semibold text-lg text-stone-900 mb-2",children:"Become an Instructor"}),t.jsx("p",{className:"text-stone-600 text-sm leading-relaxed mb-4",children:"Showcase your skills and certifications, manage your availability, and connect with anglers looking to learn. We handle the bookings so you can focus on teaching."}),t.jsxs("button",{onClick:o,className:"inline-flex items-center gap-1 text-brand-700 hover:text-brand-800 font-medium text-sm",children:["Register as Instructor ",t.jsx(Al,{className:"w-4 h-4"})]})]})]})]})}),t.jsx("section",{className:"py-16 bg-brand-700 text-white",children:t.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[t.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Ready to Find Your Next Fishing Adventure?"}),t.jsx("p",{className:"text-brand-100 mb-8",children:"Browse waters, book day tickets, or connect with expert guides  all in one place."}),t.jsx("button",{onClick:i,className:"px-8 py-3 bg-white text-brand-700 rounded-xl font-semibold hover:bg-brand-50 transition",children:"Browse All Waters"})]})})]}),uN=()=>{const[i,o]=P.useState({name:"",email:"",subject:"",message:""}),[s,r]=P.useState(!1),[u,h]=P.useState(!1),f=async m=>{if(m.preventDefault(),!(!i.name||!i.email||!i.message)){h(!0);try{(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,email:i.email,message:`[${i.subject||"General Enquiry"}] ${i.message}`,type:"enquiry"})})).ok&&r(!0)}catch(v){console.error("Contact form error:",v)}h(!1)}};return s?t.jsxs("div",{children:[t.jsx("section",{className:"hero-gradient text-white py-16",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:t.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Contact Us"})})}),t.jsx("section",{className:"py-20 bg-white",children:t.jsxs("div",{className:"max-w-md mx-auto px-4 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx($t,{className:"w-8 h-8 text-green-600"})}),t.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-3",children:"Message Sent!"}),t.jsx("p",{className:"text-stone-600 leading-relaxed",children:"Thanks for getting in touch. We'll get back to you within 24 hours."})]})})]}):t.jsxs("div",{children:[t.jsx("section",{className:"hero-gradient text-white py-16",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[t.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Contact Us"}),t.jsx("p",{className:"text-lg text-brand-100 max-w-2xl mx-auto",children:"Got a question, feedback, or need help with a booking? We'd love to hear from you."})]})}),t.jsx("section",{className:"py-16 bg-white",children:t.jsx("div",{className:"max-w-5xl mx-auto px-4",children:t.jsxs("div",{className:"grid md:grid-cols-5 gap-12",children:[t.jsxs("div",{className:"md:col-span-2 space-y-6",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-stone-900 mb-4",children:"Get in Touch"}),t.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:"Whether you're an angler looking for help, a fishery owner wanting to list your water, or just have a suggestion  drop us a line."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-100 text-brand-700 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(ds,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-stone-900 text-sm",children:"Email"}),t.jsx("p",{className:"text-stone-600 text-sm",children:"hello@tightlines.co.uk"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-100 text-brand-700 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(tr,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-stone-900 text-sm",children:"Response Time"}),t.jsx("p",{className:"text-stone-600 text-sm",children:"We aim to reply within 24 hours"})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-100 text-brand-700 rounded-lg flex items-center justify-center flex-shrink-0",children:t.jsx(Sn,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-stone-900 text-sm",children:"Based in"}),t.jsx("p",{className:"text-stone-600 text-sm",children:"United Kingdom"})]})]})]}),t.jsxs("div",{className:"bg-stone-50 rounded-xl p-5 border border-stone-200",children:[t.jsx("h3",{className:"font-medium text-stone-900 text-sm mb-2",children:"Common Questions"}),t.jsxs("ul",{className:"space-y-2 text-sm text-stone-600",children:[t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Lt,{className:"w-4 h-4 text-brand-600 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"How do I list my fishery on TightLines?"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Lt,{className:"w-4 h-4 text-brand-600 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"Can I cancel or change a booking?"})]}),t.jsxs("li",{className:"flex items-start gap-2",children:[t.jsx(Lt,{className:"w-4 h-4 text-brand-600 mt-0.5 flex-shrink-0"}),t.jsx("span",{children:"How do I become a verified instructor?"})]})]})]})]}),t.jsx("div",{className:"md:col-span-3",children:t.jsxs("form",{onSubmit:f,className:"space-y-5",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Your Name *"}),t.jsx("input",{type:"text",value:i.name,onChange:m=>o({...i,name:m.target.value}),className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"John Smith",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Email Address *"}),t.jsx("input",{type:"email",value:i.email,onChange:m=>o({...i,email:m.target.value}),className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"john@example.com",required:!0})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Subject"}),t.jsxs("select",{value:i.subject,onChange:m=>o({...i,subject:m.target.value}),className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-600 bg-white focus:ring-2 focus:ring-brand-500",children:[t.jsx("option",{value:"",children:"General Enquiry"}),t.jsx("option",{value:"Booking Help",children:"Booking Help"}),t.jsx("option",{value:"List My Water",children:"List My Water"}),t.jsx("option",{value:"Become an Instructor",children:"Become an Instructor"}),t.jsx("option",{value:"Report an Issue",children:"Report an Issue"}),t.jsx("option",{value:"Partnership",children:"Partnership"}),t.jsx("option",{value:"Feedback",children:"Feedback"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Message *"}),t.jsx("textarea",{value:i.message,onChange:m=>o({...i,message:m.target.value}),rows:6,className:"w-full px-4 py-3 border border-stone-200 rounded-xl text-stone-800 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 resize-none",placeholder:"How can we help?",required:!0})]}),t.jsxs("button",{type:"submit",disabled:u,className:"w-full md:w-auto px-8 py-3 bg-brand-700 text-white rounded-xl font-semibold hover:bg-brand-800 transition flex items-center justify-center gap-2 disabled:opacity-50",children:[t.jsx(Qg,{className:"w-4 h-4"}),u?"Sending...":"Send Message"]})]})})]})})})]})},Hp=({status:i})=>{const o={pending:"bg-amber-100 text-amber-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",removal_requested:"bg-orange-100 text-orange-700"},s={pending:"pending",approved:"approved",rejected:"rejected",removal_requested:"removal requested"};return t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${o[i]||"bg-stone-100 text-stone-600"}`,children:s[i]||i})},bu=({icon:i,label:o,value:s,color:r="brand"})=>t.jsx("div",{className:"bg-white rounded-xl p-5 shadow-sm border border-stone-200",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:`w-10 h-10 bg-${r}-100 text-${r}-700 rounded-lg flex items-center justify-center`,children:t.jsx(i,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-stone-900",children:s}),t.jsx("p",{className:"text-stone-500 text-sm",children:o})]})]})}),Zu=({text:i,color:o="stone"})=>t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium bg-${o}-100 text-${o}-700`,children:i}),Gh=({water:i,onApprove:o,onReject:s,onPreview:r,onDelete:u,actionLoading:h})=>{const[f,m]=P.useState(!1),v=i.booking_options||i.bookingOptions||[];return t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-stone-50",onClick:()=>m(!f),children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex-shrink-0",style:{background:i.images?.[0]?`url(${i.images[0]}) center/cover`:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)"}}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h4",{className:"font-medium text-stone-900 truncate",children:i.name}),t.jsxs("p",{className:"text-sm text-stone-500 truncate",children:[i.type,"  ",i.region,"  ",i.ownerEmail||i.owner_email||"No email"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[t.jsx(Hp,{status:i.status}),f?t.jsx(Vl,{className:"w-4 h-4 text-stone-400"}):t.jsx(Ca,{className:"w-4 h-4 text-stone-400"})]})]}),f&&t.jsxs("div",{className:"border-t border-stone-200 p-4 bg-stone-50 space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Owner"}),t.jsx("p",{className:"font-medium",children:i.ownerName||i.owner_name||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Email"}),t.jsx("p",{className:"font-medium",children:i.ownerEmail||i.owner_email||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Phone"}),t.jsx("p",{className:"font-medium",children:i.ownerPhone||i.owner_phone||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Location"}),t.jsx("p",{className:"font-medium",children:i.location||i.town_city||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Type"}),t.jsx("p",{className:"font-medium",children:i.type||"Not specified"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Region"}),t.jsx("p",{className:"font-medium",children:i.region||"Not specified"})]})]}),i.description&&t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500 text-sm mb-1",children:"Description"}),t.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-line",children:i.description})]}),(i.species||[]).length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Species"}),t.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.species.map(w=>t.jsx(Zu,{text:w,color:"brand"},w))})]}),(i.amenities||i.facilities||[]).length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Amenities"}),t.jsx("div",{className:"flex flex-wrap gap-1.5",children:(i.amenities||i.facilities||[]).map(w=>t.jsx(Zu,{text:w,color:"green"},w))})]}),v.length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-stone-500 text-sm mb-1.5",children:["Booking Options (",v.length,")"]}),t.jsx("div",{className:"space-y-2",children:v.map((w,_)=>t.jsxs("div",{className:"bg-white border border-stone-200 rounded-lg p-3 text-sm",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-medium text-stone-900",children:w.name}),t.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${w.category==="guided"?"bg-amber-100 text-amber-700":w.category==="accommodation"?"bg-purple-100 text-purple-700":w.category==="extras"?"bg-blue-100 text-blue-700":"bg-brand-50 text-brand-700"}`,children:w.category||"day-tickets"}),t.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${(w.booking_type||w.bookingType)==="instant"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:(w.booking_type||w.bookingType)==="instant"?"Instant":"Enquiry"})]}),t.jsxs("span",{className:"font-bold text-stone-900",children:["",w.price,"/",w.price_type||w.priceType||"day"]})]}),w.description&&t.jsx("p",{className:"text-stone-500 text-xs mt-1",children:w.description})]},w.id||_))})]}),(i.rules||[]).length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Rules"}),t.jsx("ol",{className:"list-decimal list-inside text-sm text-stone-700 space-y-1",children:i.rules.map((w,_)=>t.jsx("li",{children:w},_))})]}),(i.images||[]).length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-stone-500 text-sm mb-1.5",children:["Images (",i.images.length,")"]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto",children:i.images.map((w,_)=>t.jsx("img",{src:w,alt:`${i.name} ${_+1}`,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0 border border-stone-200"},_))})]}),t.jsxs("div",{className:"flex gap-2 pt-2 border-t border-stone-200",children:[r&&t.jsxs("button",{onClick:()=>r(i),className:"flex items-center gap-1.5 px-4 py-2 bg-brand-50 text-brand-700 rounded-lg text-sm font-medium hover:bg-brand-100 transition",children:[t.jsx(Gg,{className:"w-4 h-4"})," Preview"]}),i.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>o(i.id),disabled:h,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[t.jsx($t,{className:"w-4 h-4"})," Approve"]}),t.jsxs("button",{onClick:()=>s(i.id),disabled:h,className:"flex items-center gap-1.5 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 disabled:opacity-50 transition",children:[t.jsx(hs,{className:"w-4 h-4"})," Reject"]})]}),i.status==="approved"&&t.jsxs("button",{onClick:()=>s(i.id),disabled:h,className:"flex items-center gap-1.5 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-300 disabled:opacity-50 transition",children:[t.jsx(hs,{className:"w-4 h-4"})," Unpublish"]}),i.status==="rejected"&&t.jsxs("button",{onClick:()=>o(i.id),disabled:h,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[t.jsx($t,{className:"w-4 h-4"})," Approve"]}),i.status==="removal_requested"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>u(i.id),disabled:h,className:"flex items-center gap-1.5 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 disabled:opacity-50 transition",children:[t.jsx(Ar,{className:"w-4 h-4"})," Confirm Delete"]}),t.jsxs("button",{onClick:()=>o(i.id),disabled:h,className:"flex items-center gap-1.5 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-300 disabled:opacity-50 transition",children:[t.jsx($t,{className:"w-4 h-4"})," Keep (Re-approve)"]})]})]})]})]})},Ug=({instructor:i,onApprove:o,onReject:s,actionLoading:r})=>{const[u,h]=P.useState(!1);return t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-stone-50",onClick:()=>h(!u),children:[t.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium flex-shrink-0",children:(i.name||"?")[0].toUpperCase()}),t.jsxs("div",{className:"min-w-0",children:[t.jsx("h4",{className:"font-medium text-stone-900 truncate",children:i.name}),t.jsxs("p",{className:"text-sm text-stone-500 truncate",children:[(i.specialties||[]).join(", ")||"No specialties","  ",i.email||"No email"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[t.jsx(Hp,{status:i.status}),u?t.jsx(Vl,{className:"w-4 h-4 text-stone-400"}):t.jsx(Ca,{className:"w-4 h-4 text-stone-400"})]})]}),u&&t.jsxs("div",{className:"border-t border-stone-200 p-4 bg-stone-50 space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Email"}),t.jsx("p",{className:"font-medium",children:i.email||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Phone"}),t.jsx("p",{className:"font-medium",children:i.phone||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Region"}),t.jsx("p",{className:"font-medium",children:i.location||i.region||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Price"}),t.jsxs("p",{className:"font-medium",children:["",i.price||0]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Experience"}),t.jsx("p",{className:"font-medium",children:i.experience?`${i.experience} years`:"Not specified"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Availability"}),t.jsx("p",{className:"font-medium",children:i.availability||"Not specified"})]})]}),i.bio&&t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500 text-sm mb-1",children:"Bio"}),t.jsx("p",{className:"text-sm text-stone-700 whitespace-pre-line",children:i.bio})]}),(i.specialties||[]).length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Specialties"}),t.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.specialties.map(f=>t.jsx(Zu,{text:f,color:"brand"},f))})]}),(i.certifications||[]).length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500 text-sm mb-1.5",children:"Certifications"}),t.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.certifications.map(f=>t.jsx(Zu,{text:f,color:"amber"},f))})]}),(i.images||[]).length>0&&t.jsxs("div",{children:[t.jsxs("p",{className:"text-stone-500 text-sm mb-1.5",children:["Images (",i.images.length,")"]}),t.jsx("div",{className:"flex gap-2 overflow-x-auto",children:i.images.map((f,m)=>t.jsx("img",{src:f,alt:`${i.name} ${m+1}`,className:"w-20 h-20 rounded-lg object-cover flex-shrink-0 border border-stone-200"},m))})]}),t.jsxs("div",{className:"flex gap-2 pt-2 border-t border-stone-200",children:[i.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>o(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[t.jsx($t,{className:"w-4 h-4"})," Approve"]}),t.jsxs("button",{onClick:()=>s(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 disabled:opacity-50 transition",children:[t.jsx(hs,{className:"w-4 h-4"})," Reject"]})]}),i.status==="approved"&&t.jsxs("button",{onClick:()=>s(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-stone-200 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-300 disabled:opacity-50 transition",children:[t.jsx(hs,{className:"w-4 h-4"})," Unpublish"]}),i.status==="rejected"&&t.jsxs("button",{onClick:()=>o(i.id),disabled:r,className:"flex items-center gap-1.5 px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition",children:[t.jsx($t,{className:"w-4 h-4"})," Approve"]})]})]})]})},dN=({user:i})=>{const[o,s]=P.useState("pending"),[r,u]=P.useState(null),[h,f]=P.useState([]),[m,v]=P.useState([]),[w,_]=P.useState([]),[N,M]=P.useState(!0),[D,T]=P.useState(!1),[S,C]=P.useState(""),[V,O]=P.useState(null),B=async()=>{M(!0),C("");try{const[F,oe,ce,W]=await Promise.all([Ys.getStats().catch(()=>null),Ys.getWaters().catch(()=>({approved:[],pending:[]})),Ys.getInstructors().catch(()=>({approved:[],pending:[]})),Ys.getUsers().catch(()=>({users:[]}))]);F&&u(F);const z=[...(oe.pending||[]).map(E=>({...E,status:E.status||"pending"})),...(oe.approved||[]).map(E=>({...E,status:E.status||"approved"})),...(oe.removal_requested||[]).map(E=>({...E,status:E.status||"removal_requested"}))];f(z);const Y=[...(ce.pending||[]).map(E=>({...E,status:E.status||"pending"})),...(ce.approved||[]).map(E=>({...E,status:E.status||"approved"}))];v(Y),_(W.users||[])}catch{C("Failed to load admin data. Make sure you have admin permissions.")}M(!1)};P.useEffect(()=>{B()},[]);const te=async F=>{T(!0);try{await Ys.approveWater(F),await B()}catch(oe){C(oe.message)}T(!1)},Z=async F=>{T(!0);try{await Ys.rejectWater(F),await B()}catch(oe){C(oe.message)}T(!1)},K=async F=>{T(!0);try{await Ys.approveInstructor(F),await B()}catch(oe){C(oe.message)}T(!1)},q=async F=>{T(!0);try{await Ys.rejectInstructor(F),await B()}catch(oe){C(oe.message)}T(!1)},le=async F=>{if(window.confirm("Are you sure you want to permanently delete this water listing?")){T(!0);try{await Ys.deleteWater(F),await B()}catch(oe){C(oe.message)}T(!1)}},xe=h.filter(F=>F.status==="pending"),ne=h.filter(F=>F.status==="removal_requested"),ue=m.filter(F=>F.status==="pending"),U=xe.length+ue.length+ne.length,H=[{id:"pending",label:"Pending Review",count:U},{id:"waters",label:"All Waters",count:h.length},{id:"instructors",label:"All Instructors",count:m.length},{id:"users",label:"Users",count:w.length}],ae=F=>({id:F.id,name:F.name,type:F.type,region:F.region,location:F.location||F.town_city||"",species:F.species||[],amenities:F.amenities||F.facilities||[],rules:F.rules||[],description:F.description||"",fullDescription:F.description||"",price:F.price||0,priceType:F.price_type||F.priceType||"day",bookingType:F.booking_type||F.bookingType||"enquiry",image:F.images?.[0]||"",gallery:F.images||[],rating:0,reviews:0,bookingOptions:(F.booking_options||F.bookingOptions||[]).map((oe,ce)=>({...oe,id:oe.id||`opt-${ce}`,bookingType:oe.booking_type||oe.bookingType||"enquiry",priceType:oe.price_type||oe.priceType||"day"})),contact:{name:F.ownerName||F.owner_name||"",email:F.ownerEmail||F.owner_email||"",phone:F.ownerPhone||F.owner_phone||""},coordinates:F.coordinates||null,rods:F.rods||0});return N?t.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ii,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),t.jsx("p",{className:"text-stone-500",children:"Loading admin dashboard..."})]})}):t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[V&&t.jsxs("div",{className:"fixed inset-0 z-50 bg-black/60 overflow-y-auto",children:[t.jsx("div",{className:"sticky top-0 z-10 flex justify-end p-4",children:t.jsx("button",{onClick:()=>O(null),className:"w-10 h-10 bg-white rounded-full shadow-lg flex items-center justify-center hover:bg-stone-100 transition",children:t.jsx(nr,{className:"w-5 h-5 text-stone-700"})})}),t.jsx("div",{className:"max-w-7xl mx-auto bg-stone-50 min-h-screen",children:t.jsx(t0,{fishery:ae(V),onBack:()=>O(null),user:null,onSignIn:()=>{}})})]}),t.jsx("div",{className:"bg-stone-900 text-white py-6",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),t.jsx("p",{className:"text-stone-400 text-sm",children:"Manage waters, instructors, and users"})]}),t.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-stone-800 hover:bg-stone-700 rounded-lg text-sm transition",children:[t.jsx(uv,{className:"w-4 h-4"})," Refresh"]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[S&&t.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl mb-6 flex items-center gap-2",children:[t.jsx(Pu,{className:"w-5 h-5 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:S}),t.jsx("button",{onClick:()=>C(""),className:"ml-auto text-red-500 hover:text-red-700",children:t.jsx(hs,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[t.jsx(bu,{icon:Fl,label:"Total Waters",value:h.length}),t.jsx(bu,{icon:Di,label:"Total Instructors",value:m.length}),t.jsx(bu,{icon:tr,label:"Pending Review",value:U,color:"amber"}),t.jsx(bu,{icon:Di,label:"Users",value:w.length})]}),t.jsx("div",{className:"flex gap-1 mb-6 bg-white rounded-xl p-1 border border-stone-200 overflow-x-auto",children:H.map(F=>t.jsxs("button",{onClick:()=>s(F.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition whitespace-nowrap ${o===F.id?"bg-brand-700 text-white":"text-stone-600 hover:bg-stone-50"}`,children:[F.label,t.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${o===F.id?"bg-white/20":"bg-stone-100"}`,children:F.count})]},F.id))}),o==="pending"&&t.jsx("div",{className:"space-y-4",children:U===0?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx($t,{className:"w-12 h-12 text-green-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-stone-700",children:"All caught up!"}),t.jsx("p",{className:"text-stone-500 text-sm",children:"No items pending review."})]}):t.jsxs(t.Fragment,{children:[xe.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-stone-700 mb-3",children:["Waters Pending (",xe.length,")"]}),t.jsx("div",{className:"space-y-3",children:xe.map(F=>t.jsx(Gh,{water:F,onApprove:te,onReject:Z,onPreview:O,onDelete:le,actionLoading:D},F.id))})]}),ne.length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[t.jsx(Ar,{className:"w-5 h-5 text-orange-600"}),"Removal Requests (",ne.length,")"]}),t.jsx("div",{className:"space-y-3",children:ne.map(F=>t.jsx(Gh,{water:F,onApprove:te,onReject:Z,onPreview:O,onDelete:le,actionLoading:D},F.id))})]}),ue.length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsxs("h3",{className:"font-semibold text-stone-700 mb-3",children:["Instructors Pending (",ue.length,")"]}),t.jsx("div",{className:"space-y-3",children:ue.map(F=>t.jsx(Ug,{instructor:F,onApprove:K,onReject:q,actionLoading:D},F.id))})]})]})}),o==="waters"&&t.jsx("div",{className:"space-y-3",children:h.length===0?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(Fl,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("p",{className:"text-stone-500",children:"No waters in the database yet."})]}):h.map(F=>t.jsx(Gh,{water:F,onApprove:te,onReject:Z,onPreview:O,onDelete:le,actionLoading:D},F.id))}),o==="instructors"&&t.jsx("div",{className:"space-y-3",children:m.length===0?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(Di,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("p",{className:"text-stone-500",children:"No instructors in the database yet."})]}):m.map(F=>t.jsx(Ug,{instructor:F,onApprove:K,onReject:q,actionLoading:D},F.id))}),o==="users"&&t.jsx("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden",children:w.length===0?t.jsxs("div",{className:"text-center py-16",children:[t.jsx(Di,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("p",{className:"text-stone-500",children:"No users yet."})]}):t.jsxs("table",{className:"w-full text-sm",children:[t.jsx("thead",{className:"bg-stone-50 border-b border-stone-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Name"}),t.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Email"}),t.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Role"}),t.jsx("th",{className:"text-left px-4 py-3 font-medium text-stone-600",children:"Joined"})]})}),t.jsx("tbody",{className:"divide-y divide-stone-100",children:w.map(F=>t.jsxs("tr",{className:"hover:bg-stone-50",children:[t.jsx("td",{className:"px-4 py-3 font-medium",children:F.name}),t.jsx("td",{className:"px-4 py-3 text-stone-600",children:F.email}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(Hp,{status:F.role})}),t.jsx("td",{className:"px-4 py-3 text-stone-500",children:F.createdAt?new Date(F.createdAt).toLocaleDateString():"N/A"})]},F.id))})]})})]})]})},hN=({user:i,setUser:o,onBack:s,onSignOut:r,favouriteWaters:u=[],favouriteInstructors:h=[],onToggleFavouriteWater:f,onToggleFavouriteInstructor:m,onNavigateToWater:v,onNavigateToInstructor:w})=>{const[_,N]=P.useState("overview"),[M,D]=P.useState(!1),[T,S]=P.useState(null),[C,V]=P.useState("success"),[O,B]=P.useState(!1),[te,Z]=P.useState(null),[K,q]=P.useState({fullName:i?.fullName||"",phone:i?.phone||"",location:i?.location||"",bio:i?.bio||"",favouriteFishSpecies:i?.favouriteFishSpecies||"",experienceLevel:i?.experienceLevel||"beginner"}),[le,xe]=P.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[ne,ue]=P.useState({emailConfirmations:!0,emailMarketing:!1,newWaterAlerts:!0,units:"metric"}),[U,H]=P.useState([]),[ae,F]=P.useState([]),[oe,ce]=P.useState([]),[W,z]=P.useState({waters:[],instructors:[]}),[Y,E]=P.useState(!0),X=async(de,ze)=>{if(de.stopPropagation(),!!confirm("Are you sure you want to delete this catch report?"))try{const Ve=localStorage.getItem("tightlines_token");(await fetch(`/api/catches/${ze}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ve}`}})).ok?(H(St=>St.filter(It=>It.id!==ze)),ge("Catch report deleted")):ge("Failed to delete catch")}catch(Ve){console.error("Error deleting catch:",Ve),ge("Failed to delete catch")}};P.useEffect(()=>{(async()=>{if(!i)return;E(!0);const Ve={Authorization:`Bearer ${Bt()}`},[st,St,It,gn]=await Promise.allSettled([fetch("/api/catches/user",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null),fetch("/api/reviews/user",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null),fetch("/api/inquiries/user",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null),fetch("/api/user/applications",{headers:Ve}).then(Ke=>Ke.ok?Ke.json():null)]);st.status==="fulfilled"&&st.value&&H(st.value.catches||[]),St.status==="fulfilled"&&St.value&&F(St.value.reviews||[]),It.status==="fulfilled"&&It.value&&ce(It.value.inquiries||[]),gn.status==="fulfilled"&&gn.value&&z({waters:gn.value.waters||[],instructors:gn.value.instructors||[]}),E(!1)})()},[i]);const ge=(de,ze="success")=>{V(ze),S(de),setTimeout(()=>S(null),4e3)},be=de=>{const{name:ze,value:Ve}=de.target;q(st=>({...st,[ze]:Ve}))},we=de=>{const{name:ze,value:Ve}=de.target;xe(st=>({...st,[ze]:Ve}))},ye=de=>{const{name:ze,type:Ve,value:st,checked:St}=de.target;ue(It=>({...It,[ze]:Ve==="checkbox"?St:st}))},Ie=async de=>{de.preventDefault(),D(!0);try{const ze=Bt(),Ve=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ze}`},body:JSON.stringify(K)});if(!Ve.ok)throw new Error("Failed to update profile");const st=await Ve.json();o(st),ge("Profile updated successfully")}catch(ze){ge(ze.message||"Failed to update profile","error")}finally{D(!1)}},Ae=async de=>{if(de.preventDefault(),le.newPassword!==le.confirmPassword){ge("New passwords do not match","error");return}if(le.newPassword.length<8){ge("Password must be at least 8 characters","error");return}D(!0);try{const ze=Bt();if(!(await fetch("/api/auth/password",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ze}`},body:JSON.stringify({currentPassword:le.currentPassword,newPassword:le.newPassword})})).ok)throw new Error("Failed to change password");xe({currentPassword:"",newPassword:"",confirmPassword:""}),ge("Password changed successfully")}catch(ze){ge(ze.message||"Failed to change password","error")}finally{D(!1)}},Ge=async de=>{f&&(await f(de),ge("Removed from favourites"))},yt=async de=>{m&&(await m(de),ge("Removed from favourites"))},mn=()=>i?.createdAt?new Date(i.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"long"}):"Recently",rn=()=>(i?.fullName||i?.email||"U")[0].toUpperCase();return t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsx("div",{className:"bg-white border-b border-stone-200 sticky top-0 z-10",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition",children:[t.jsx(us,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Back"})]}),t.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"My Account"}),t.jsx("div",{className:"w-24"})]})}),T&&t.jsx("div",{className:`fixed top-4 right-4 px-4 py-3 rounded-lg shadow-lg z-50 transition ${C==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:T}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[t.jsx("div",{className:"flex gap-2 mb-8 border-b border-stone-200 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:qu},{id:"favourites",label:"My Favourites",icon:is},{id:"edit",label:"Edit Profile",icon:Du},{id:"security",label:"Security",icon:Mo},{id:"settings",label:"Settings",icon:dv}].map(de=>{const ze=de.icon;return t.jsxs("button",{onClick:()=>N(de.id),className:`flex items-center gap-2 px-4 py-3 font-medium whitespace-nowrap transition border-b-2 ${_===de.id?"text-brand-700 border-brand-700":"text-stone-600 border-transparent hover:text-stone-900"}`,children:[t.jsx(ze,{className:"w-4 h-4"}),de.label]},de.id)})}),_==="overview"&&t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"bg-gradient-to-r from-brand-700 to-brand-600 rounded-2xl p-8 text-white",children:t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsx("div",{className:"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-5xl font-bold text-white",children:rn()})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-3xl font-bold mb-1",children:i?.fullName||"User Account"}),t.jsx("p",{className:"text-white text-opacity-90",children:i?.email}),t.jsxs("p",{className:"text-white text-opacity-75 text-sm mt-2",children:["Member since ",mn()]})]})]})}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Catches Reported"}),t.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:U.length})]}),t.jsx(Lt,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Reviews Written"}),t.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:ae.length})]}),t.jsx(Bl,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Favourite Waters"}),t.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:u?.length||0})]}),t.jsx(cu,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Favourite Instructors"}),t.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:h?.length||0})]}),t.jsx(jn,{className:"w-10 h-10 text-brand-700 opacity-20"})]})})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-stone-900 flex items-center gap-2",children:[t.jsx(Lt,{className:"w-5 h-5 text-brand-700"}),"Recent Catches (",U.length,")"]}),t.jsxs("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition text-sm font-medium",children:[t.jsx(Tu,{className:"w-4 h-4"}),"Report Catch"]})]}),Y?t.jsx("p",{className:"text-stone-500",children:"Loading..."}):U.length>0?t.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:U.slice(0,4).map(de=>{const ze=te===de.id;return t.jsx("div",{className:"bg-stone-50 rounded-lg p-4 border border-stone-200 cursor-pointer hover:border-brand-700 transition",onClick:()=>Z(ze?null:de.id),children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-brand-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx(Lt,{className:"w-5 h-5 text-brand-700"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-stone-900",children:de.species}),de.verified&&t.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium bg-green-100 text-green-700 rounded",children:"Verified"}),!de.isPublic&&t.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium bg-stone-300 text-stone-700 rounded",children:"Private"})]}),de.weight&&t.jsxs("p",{className:"text-sm text-stone-600",children:[de.weight," lbs"]}),t.jsx("p",{className:"text-xs text-stone-500 mt-1",children:new Date(de.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})}),ze&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-stone-300 space-y-2",children:[de.method&&t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-semibold text-stone-700",children:"Method: "}),t.jsx("span",{className:"text-xs text-stone-600",children:de.method})]}),de.comment&&t.jsxs("div",{children:[t.jsx("span",{className:"text-xs font-semibold text-stone-700 block mb-1",children:"Comment:"}),t.jsx("p",{className:"text-sm text-stone-600 bg-white rounded p-2",children:de.comment})]}),t.jsxs("button",{onClick:Ve=>X(Ve,de.id),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition mt-1",children:[t.jsx(Ar,{className:"w-3.5 h-3.5"}),"Delete Catch"]})]}),!ze&&(de.method||de.comment)&&t.jsx("p",{className:"text-xs text-brand-700 mt-2",children:"Click to view details "})]})]})},de.id)})}):t.jsx("p",{className:"text-stone-600",children:"No catches reported yet. Report your catches to track your success!"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[t.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-4 flex items-center gap-2",children:[t.jsx(Bl,{className:"w-5 h-5 text-brand-700"}),"Recent Reviews (",ae.length,")"]}),Y?t.jsx("p",{className:"text-stone-500",children:"Loading..."}):ae.length>0?t.jsx("div",{className:"space-y-4",children:ae.slice(0,3).map(de=>t.jsxs("div",{className:"bg-stone-50 rounded-lg p-4 border border-stone-200",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(ze=>t.jsx(yr,{className:`w-4 h-4 ${ze<=de.rating?"fill-amber-400 text-amber-400":"fill-stone-200 text-stone-200"}`},ze))}),de.verified&&t.jsxs("span",{className:"text-xs text-green-600 flex items-center gap-1",children:[t.jsx($t,{className:"w-3 h-3"}),"Verified"]})]}),de.title&&t.jsx("h4",{className:"font-medium text-stone-900 mb-1",children:de.title}),t.jsx("p",{className:"text-sm text-stone-600 mb-2",children:de.text}),t.jsx("p",{className:"text-xs text-stone-400",children:new Date(de.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]},de.id))}):t.jsx("p",{className:"text-stone-600",children:"No reviews written yet. Share your experiences with the community!"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[t.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-4 flex items-center gap-2",children:[t.jsx(Ri,{className:"w-5 h-5 text-brand-700"}),"Recent Bookings (",oe.length,")"]}),Y?t.jsx("p",{className:"text-stone-500",children:"Loading..."}):oe.length>0?t.jsx("div",{className:"space-y-3",children:oe.slice(0,5).map(de=>t.jsx("div",{className:"bg-stone-50 rounded-lg p-4 border border-stone-200 flex items-center justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-medium text-stone-900",children:de.waterName||de.instructorName||"Booking"}),t.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${de.status==="confirmed"?"bg-green-100 text-green-700":de.status==="pending"?"bg-amber-100 text-amber-700":de.status==="cancelled"?"bg-red-100 text-red-700":"bg-stone-100 text-stone-700"}`,children:de.status})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-stone-600",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ri,{className:"w-3.5 h-3.5"}),new Date(de.preferredDate||de.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})]}),de.numberOfPeople&&t.jsxs("span",{children:[de.numberOfPeople," people"]})]})]})},de.id))}):t.jsx("p",{className:"text-stone-600",children:"No bookings yet. Explore waters and instructors to make your first booking!"})]}),t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(cu,{className:"w-5 h-5 text-brand-700"}),t.jsxs("h3",{className:"text-lg font-bold text-stone-900",children:["My Applications (",W.waters.length+W.instructors.length,")"]})]}),W.waters.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsx("h4",{className:"text-sm font-semibold text-stone-700 mb-2",children:"Water Listings"}),t.jsx("div",{className:"space-y-2",children:W.waters.map(de=>t.jsx("div",{className:"bg-stone-50 rounded-lg p-3 border border-stone-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-stone-900",children:de.name}),t.jsxs("p",{className:"text-xs text-stone-500",children:[de.type,"  ",de.region]}),de.email&&t.jsxs("p",{className:"text-xs text-stone-400 mt-0.5",children:["Submitted as: ",de.email]}),t.jsx("p",{className:"text-xs text-stone-400",children:new Date(de.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),t.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${de.status==="approved"?"bg-green-100 text-green-700":de.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:de.status==="approved"?"Approved":de.status==="rejected"?"Rejected":"Pending Review"})]})},de.id))})]}),W.instructors.length>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-semibold text-stone-700 mb-2",children:"Instructor Profiles"}),t.jsx("div",{className:"space-y-2",children:W.instructors.map(de=>t.jsx("div",{className:"bg-stone-50 rounded-lg p-3 border border-stone-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-semibold text-stone-900",children:de.name}),t.jsx("p",{className:"text-xs text-stone-500",children:de.region}),de.email&&t.jsxs("p",{className:"text-xs text-stone-400 mt-0.5",children:["Submitted as: ",de.email]}),t.jsx("p",{className:"text-xs text-stone-400",children:new Date(de.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),t.jsx("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full ${de.status==="approved"?"bg-green-100 text-green-700":de.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:de.status==="approved"?"Approved":de.status==="rejected"?"Rejected":"Pending Review"})]})},de.id))})]}),W.waters.length===0&&W.instructors.length===0&&t.jsx("p",{className:"text-stone-500 text-sm",children:"No applications yet. List a water or register as an instructor to see your submissions here."})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("button",{onClick:()=>v?.(),className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:border-brand-700 hover:shadow-md transition text-center",children:[t.jsx(Sn,{className:"w-8 h-8 text-brand-700 mx-auto mb-3"}),t.jsx("p",{className:"font-semibold text-stone-900",children:"Find Waters"}),t.jsx("p",{className:"text-sm text-stone-600 mt-1",children:"Explore fishing locations"})]}),t.jsxs("button",{onClick:()=>w?.(),className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:border-brand-700 hover:shadow-md transition text-center",children:[t.jsx(jn,{className:"w-8 h-8 text-brand-700 mx-auto mb-3"}),t.jsx("p",{className:"font-semibold text-stone-900",children:"Find Instructors"}),t.jsx("p",{className:"text-sm text-stone-600 mt-1",children:"Book expert guidance"})]}),t.jsxs("button",{onClick:()=>N("edit"),className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:border-brand-700 hover:shadow-md transition text-center",children:[t.jsx(Du,{className:"w-8 h-8 text-brand-700 mx-auto mb-3"}),t.jsx("p",{className:"font-semibold text-stone-900",children:"Edit Profile"}),t.jsx("p",{className:"text-sm text-stone-600 mt-1",children:"Update your details"})]})]})]}),_==="favourites"&&t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[t.jsx(cu,{className:"w-5 h-5 text-brand-700"}),"Favourite Waters"]}),u&&u.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(de=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("h4",{className:"font-semibold text-stone-900",children:["Water #",de]}),t.jsx("button",{onClick:()=>Ge(de),className:"text-red-500 hover:text-red-700 transition",children:t.jsx(is,{className:"w-5 h-5 fill-current"})})]}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("p",{className:"text-sm text-stone-600",children:[t.jsx(Sn,{className:"w-4 h-4 inline mr-2"}),"Region: TBD"]}),t.jsx("p",{className:"text-sm text-stone-600",children:"Price: 0.00 per day"})]}),t.jsx("button",{onClick:()=>v?.(de),className:"w-full text-center py-2 px-4 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition text-sm font-medium",children:"View Water"})]},de))}):t.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm border border-stone-100 text-center",children:[t.jsx(cu,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("p",{className:"text-stone-600 mb-4",children:"No favourite waters yet"}),t.jsxs("button",{onClick:()=>v?.(),className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[t.jsx(Sn,{className:"w-4 h-4"}),"Start Exploring"]})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[t.jsx(jn,{className:"w-5 h-5 text-brand-700"}),"Favourite Instructors"]}),h&&h.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(de=>t.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-100 hover:shadow-md transition",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("h4",{className:"font-semibold text-stone-900",children:["Instructor #",de]}),t.jsx("button",{onClick:()=>yt(de),className:"text-red-500 hover:text-red-700 transition",children:t.jsx(is,{className:"w-5 h-5 fill-current"})})]}),t.jsxs("div",{className:"space-y-2 mb-4",children:[t.jsxs("p",{className:"text-sm text-stone-600",children:[t.jsx(Sn,{className:"w-4 h-4 inline mr-2"}),"Location: TBD"]}),t.jsx("p",{className:"text-sm text-stone-600",children:"Specialties: TBD"}),t.jsx("p",{className:"text-sm text-stone-600",children:"Price: 0.00 per hour"})]}),t.jsx("button",{onClick:()=>w?.(de),className:"w-full text-center py-2 px-4 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition text-sm font-medium",children:"View Instructor"})]},de))}):t.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm border border-stone-100 text-center",children:[t.jsx(jn,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("p",{className:"text-stone-600 mb-4",children:"No favourite instructors yet"}),t.jsxs("button",{onClick:()=>w?.(),className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[t.jsx(jn,{className:"w-4 h-4"}),"Find Instructors"]})]})]})]}),_==="edit"&&t.jsx("div",{className:"max-w-2xl",children:t.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:t.jsxs("form",{onSubmit:Ie,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Full Name"}),t.jsx("input",{type:"text",name:"fullName",value:K.fullName,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"Your full name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Phone Number"}),t.jsx("input",{type:"tel",name:"phone",value:K.phone,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"+44 (0) 20 7946 0958"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Location"}),t.jsx("input",{type:"text",name:"location",value:K.location,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"City, Region"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Bio"}),t.jsx("textarea",{name:"bio",value:K.bio,onChange:be,rows:"4",className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent resize-none",placeholder:"Tell us about yourself and your fishing experience..."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:[t.jsx(Lt,{className:"w-4 h-4 inline mr-2"}),"Favourite Fish Species"]}),t.jsx("input",{type:"text",name:"favouriteFishSpecies",value:K.favouriteFishSpecies,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:"e.g. Trout, Pike, Salmon"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Experience Level"}),t.jsxs("select",{name:"experienceLevel",value:K.experienceLevel,onChange:be,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",children:[t.jsx("option",{value:"beginner",children:"Beginner"}),t.jsx("option",{value:"intermediate",children:"Intermediate"}),t.jsx("option",{value:"advanced",children:"Advanced"}),t.jsx("option",{value:"expert",children:"Expert"})]})]}),t.jsxs("button",{type:"submit",disabled:M,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Mu,{className:"w-5 h-5"}),M?"Saving...":"Save Profile"]})]})})}),_==="security"&&t.jsxs("div",{className:"max-w-2xl space-y-6",children:[t.jsx("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ds,{className:"w-8 h-8 text-brand-700"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-sm text-stone-600 mb-1",children:"Email Address"}),t.jsx("p",{className:"font-semibold text-stone-900",children:i?.email})]})]})}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[t.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[t.jsx(Am,{className:"w-5 h-5 text-brand-700"}),"Change Password"]}),t.jsxs("form",{onSubmit:Ae,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Current Password"}),t.jsx("input",{type:"password",name:"currentPassword",value:le.currentPassword,onChange:we,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"New Password"}),t.jsx("input",{type:"password",name:"newPassword",value:le.newPassword,onChange:we,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:""}),t.jsx("p",{className:"text-xs text-stone-600 mt-2",children:"Must be at least 8 characters"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-2",children:"Confirm New Password"}),t.jsx("input",{type:"password",name:"confirmPassword",value:le.confirmPassword,onChange:we,className:"w-full px-4 py-2 border border-stone-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-700 focus:border-transparent",placeholder:""})]}),t.jsxs("button",{type:"submit",disabled:M,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(Am,{className:"w-5 h-5"}),M?"Updating...":"Update Password"]})]})]})]}),_==="settings"&&t.jsxs("div",{className:"max-w-2xl space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[t.jsxs("h3",{className:"text-lg font-bold text-stone-900 mb-6 flex items-center gap-2",children:[t.jsx(sv,{className:"w-5 h-5 text-brand-700"}),"Notification Preferences"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"emailConfirmations",checked:ne.emailConfirmations,onChange:ye,className:"w-5 h-5 border-stone-300 rounded focus:ring-2 focus:ring-brand-700 cursor-pointer"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-stone-900",children:"Booking Confirmations"}),t.jsx("p",{className:"text-sm text-stone-600",children:"Email confirmation for each booking"})]})]}),t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"emailMarketing",checked:ne.emailMarketing,onChange:ye,className:"w-5 h-5 border-stone-300 rounded focus:ring-2 focus:ring-brand-700 cursor-pointer"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-stone-900",children:"Marketing Emails"}),t.jsx("p",{className:"text-sm text-stone-600",children:"Special offers and promotions"})]})]}),t.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:"newWaterAlerts",checked:ne.newWaterAlerts,onChange:ye,className:"w-5 h-5 border-stone-300 rounded focus:ring-2 focus:ring-brand-700 cursor-pointer"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-medium text-stone-900",children:"New Water Alerts"}),t.jsx("p",{className:"text-sm text-stone-600",children:"Notifications when new waters are added"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100",children:[t.jsx("h3",{className:"text-lg font-bold text-stone-900 mb-6",children:"Display Preferences"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-stone-900 mb-3",children:"Measurement Units"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"units",value:"metric",checked:ne.units==="metric",onChange:ye,className:"w-4 h-4 border-stone-300 cursor-pointer"}),t.jsx("span",{className:"text-stone-700",children:"Metric (m, km)"})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"radio",name:"units",value:"imperial",checked:ne.units==="imperial",onChange:ye,className:"w-4 h-4 border-stone-300 cursor-pointer"}),t.jsx("span",{className:"text-stone-700",children:"Imperial (ft, mi)"})]})]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-stone-100 space-y-4",children:[t.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-semibold",children:[t.jsx(Kg,{className:"w-5 h-5"}),"Sign Out"]}),t.jsxs("button",{disabled:!0,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-stone-200 text-stone-600 rounded-lg cursor-not-allowed font-semibold",children:[t.jsx(Ar,{className:"w-5 h-5"}),"Delete Account"]}),t.jsx("p",{className:"text-xs text-stone-600 text-center",children:"To delete your account, please contact support"})]})]})]}),O&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:t.jsx("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:t.jsx(Gx,{user:i,onClose:()=>B(!1),onSuccess:()=>{B(!1),ge("Catch reported successfully!"),(async()=>{try{const ze=Bt(),Ve=await fetch("/api/catches/user",{headers:{Authorization:`Bearer ${ze}`}});if(Ve.ok){const st=await Ve.json();H(st.catches||[])}}catch(ze){console.log("Failed to refresh catches:",ze)}})()}})})})]})},pN=["Brown Trout","Rainbow Trout","Salmon","Sea Trout","Grayling","Carp","Pike","Perch","Roach","Tench","Barbel","Bream","Chub","Bass","Cod","Mackerel"],fN=["Parking","Toilets","Cafe","Tackle Shop","Boat Hire","Disabled Access","Night Fishing","Showers","Fishing Hut","Ghillie","Lunch","Wading","Rod Room"],mN=["Scottish Highlands","Scottish Lowlands","North East England","North West England","Yorkshire","East Midlands","West Midlands","East of England","South East England","South West England","Wales","Northern Ireland","Ireland"],gN=({status:i})=>{const o={pending:"bg-amber-100 text-amber-700 border-amber-200",approved:"bg-green-100 text-green-700 border-green-200",rejected:"bg-red-100 text-red-700 border-red-200",removal_requested:"bg-orange-100 text-orange-700 border-orange-200"},r={pending:tr,approved:$t,rejected:hs,removal_requested:Ar}[i]||tr;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${o[i]||"bg-stone-100 text-stone-600"}`,children:[t.jsx(r,{className:"w-3.5 h-3.5"}),i==="pending"&&"Pending Approval",i==="approved"&&"Live",i==="rejected"&&"Rejected",i==="removal_requested"&&"Removal Requested"]})},wu=({water:i,onView:o,onEdit:s,onRequestRemoval:r})=>t.jsx("div",{className:"bg-white rounded-xl border border-stone-200 overflow-hidden hover:shadow-md transition",children:t.jsxs("div",{className:"flex items-start gap-4 p-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-lg flex-shrink-0",style:{background:i.images?.[0]?`url(${i.images[0]}) center/cover`:"linear-gradient(135deg, #2d5a4a 0%, #1a3a30 100%)"}}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsx("h3",{className:"font-semibold text-stone-900 truncate",children:i.name}),t.jsxs("p",{className:"text-sm text-stone-500",children:[i.type,"  ",i.region,"  ",i.price,"/",i.priceType||"day"]})]}),t.jsx(gN,{status:i.status})]}),i.status==="pending"&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-3",children:t.jsxs("p",{className:"text-sm text-amber-800 flex items-center gap-2",children:[t.jsx(tr,{className:"w-4 h-4"}),"Awaiting admin approval. You'll be notified once your water is reviewed."]})}),i.status==="rejected"&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-3",children:t.jsxs("p",{className:"text-sm text-red-800 flex items-center gap-2",children:[t.jsx(hs,{className:"w-4 h-4"}),"This submission was not approved. Please contact support for details."]})}),i.status==="removal_requested"&&t.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 mb-3",children:t.jsxs("p",{className:"text-sm text-orange-800 flex items-center gap-2",children:[t.jsx(Ar,{className:"w-4 h-4"}),"Removal requested. An admin will process this shortly."]})}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Species"}),t.jsxs("p",{className:"font-medium text-stone-900",children:[(i.species||[]).slice(0,2).join(", ")||"None listed",i.species?.length>2&&` +${i.species.length-2}`]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-500",children:"Rating"}),t.jsxs("p",{className:"font-medium text-stone-900",children:[" ",i.rating||0," (",i.reviewCount||0," reviews)"]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>o(i),className:"flex items-center gap-1.5 px-4 py-2 bg-brand-700 text-white rounded-lg text-sm font-medium hover:bg-brand-800 transition",children:[t.jsx(Gg,{className:"w-4 h-4"})," View Details"]}),s&&i.status!=="removal_requested"&&t.jsxs("button",{onClick:()=>s(i),className:"flex items-center gap-1.5 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-200 transition",children:[t.jsx(Du,{className:"w-4 h-4"})," Edit"]}),r&&i.status!=="removal_requested"&&i.status!=="rejected"&&t.jsxs("button",{onClick:()=>r(i),className:"flex items-center gap-1.5 px-4 py-2 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 transition",children:[t.jsx(Ar,{className:"w-4 h-4"})," Request Removal"]})]})]})]})}),xN=({inquiry:i})=>t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-stone-900",children:i.userName||"Guest"}),t.jsx("p",{className:"text-sm text-stone-500",children:new Date(i.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${i.status==="confirmed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:i.status})]}),t.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[i.userEmail&&t.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[t.jsx(ds,{className:"w-4 h-4"}),t.jsx("a",{href:`mailto:${i.userEmail}`,className:"hover:text-brand-700",children:i.userEmail})]}),i.userPhone&&t.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[t.jsx(kp,{className:"w-4 h-4"}),t.jsx("a",{href:`tel:${i.userPhone}`,className:"hover:text-brand-700",children:i.userPhone})]}),i.date&&t.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[t.jsx(Ri,{className:"w-4 h-4"}),"Requested date: ",new Date(i.date).toLocaleDateString("en-GB")]})]}),i.message&&t.jsx("div",{className:"bg-stone-50 rounded-lg p-3 text-sm text-stone-700",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Bl,{className:"w-4 h-4 text-stone-400 mt-0.5 flex-shrink-0"}),t.jsx("p",{children:i.message})]})})]}),vN=({user:i,onBack:o,onListWater:s})=>{const[r,u]=P.useState("waters"),[h,f]=P.useState([]),[m,v]=P.useState([]),[w,_]=P.useState(!0),[N,M]=P.useState(""),[D,T]=P.useState(null),[S,C]=P.useState({}),[V,O]=P.useState(!1);P.useEffect(()=>{B()},[]);const B=async()=>{_(!0),M("");try{const z=Bt(),Y=await fetch("/api/owner/waters",{headers:{Authorization:`Bearer ${z}`}});if(Y.ok){const X=await Y.json();f(X.waters||[])}const E=await fetch("/api/owner/inquiries",{headers:{Authorization:`Bearer ${z}`}});if(E.ok){const X=await E.json();v(X.inquiries||[])}}catch{M("Failed to load dashboard data")}_(!1)},te=z=>{C({name:z.name||"",description:z.description||"",type:z.type||"",region:z.region||"",species:z.species||[],amenities:z.amenities||z.facilities||[],rules:z.rules||[],images:z.images||[],booking_options:(z.booking_options||z.bookingOptions||[]).map(Y=>({name:Y.name||"",price:Y.price||"",priceType:Y.price_type||Y.priceType||"day",category:Y.category||"day-tickets",bookingType:Y.booking_type||Y.bookingType||"enquiry",description:Y.description||""}))}),T(z),u("edit")},Z=async()=>{O(!0),M("");try{const z=Bt(),Y={name:S.name,description:S.description,type:S.type,region:S.region,species:S.species,amenities:S.amenities,rules:S.rules.filter(X=>X.trim()),images:S.images||[],booking_options:S.booking_options};if(!(await fetch(`/api/owner/waters/${D.id}`,{method:"PUT",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify(Y)})).ok)throw new Error("Failed to save");await B(),T(null),u("waters")}catch(z){M(z.message)}O(!1)},K=(z,Y)=>{C(E=>({...E,[z]:E[z].includes(Y)?E[z].filter(X=>X!==Y):[...E[z],Y]}))},q=(z,Y,E)=>{C(X=>{const ge=[...X.booking_options];return ge[z]={...ge[z],[Y]:E},{...X,booking_options:ge}})},le=()=>{C(z=>({...z,booking_options:[...z.booking_options,{name:"",price:"",priceType:"day",category:"day-tickets",bookingType:"enquiry",description:""}]}))},xe=z=>{C(Y=>({...Y,booking_options:Y.booking_options.filter((E,X)=>X!==z)}))},ne=async z=>{if(window.confirm(`Are you sure you want to request removal of "${z.name}"? This will be reviewed by an admin.`))try{const Y=Bt();if(!(await fetch(`/api/owner/waters/${z.id}/request-removal`,{method:"POST",headers:{Authorization:`Bearer ${Y}`}})).ok)throw new Error("Failed");await B()}catch{M("Failed to request removal")}},ue=async(z,Y="waters")=>new Promise((E,X)=>{const ge=new FileReader;ge.onload=async()=>{try{const be=Bt(),we=await fetch("/api/upload",{method:"POST",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"},body:JSON.stringify({imageData:ge.result,fileName:z.name,type:Y})});if(!we.ok)throw new Error("Upload failed");const ye=await we.json();E(ye.url)}catch(be){X(be)}},ge.onerror=X,ge.readAsDataURL(z)}),U=async z=>{const Y=Array.from(z.target.files);if(Y.length!==0){O(!0);try{const E=await Promise.all(Y.map(X=>ue(X,"waters")));C(X=>({...X,images:[...X.images||[],...E]}))}catch{M("Failed to upload image(s)")}O(!1)}},H=z=>{C(Y=>({...Y,images:Y.images.filter((E,X)=>X!==z)}))},ae=h.filter(z=>z.status==="pending"),F=h.filter(z=>z.status==="approved"),oe=h.filter(z=>z.status==="rejected"),ce=h.filter(z=>z.status==="removal_requested"),W=[{id:"waters",label:"My Waters",count:h.length},{id:"inquiries",label:"Inquiries",count:m.length},...D?[{id:"edit",label:`Edit: ${D.name}`}]:[]];return w?t.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ii,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),t.jsx("p",{className:"text-stone-500",children:"Loading dashboard..."})]})}):t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsx("div",{className:"bg-white border-b border-stone-200 sticky top-0 z-10",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition",children:[t.jsx(us,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Back"})]}),t.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Water Owner Dashboard"}),t.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[t.jsx(Tu,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:"List Water"})]})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[N&&t.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl mb-6 flex items-center gap-2",children:[t.jsx(Pu,{className:"w-5 h-5 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:N})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Total Waters"}),t.jsx("p",{className:"text-4xl font-bold text-stone-900 mt-2",children:h.length})]}),t.jsx(Fl,{className:"w-10 h-10 text-brand-700 opacity-20"})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Live"}),t.jsx("p",{className:"text-4xl font-bold text-green-600 mt-2",children:F.length})]}),t.jsx($t,{className:"w-10 h-10 text-green-600 opacity-20"})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Pending"}),t.jsx("p",{className:"text-4xl font-bold text-amber-600 mt-2",children:ae.length})]}),t.jsx(tr,{className:"w-10 h-10 text-amber-600 opacity-20"})]})}),t.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-stone-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-stone-600 text-sm font-medium",children:"Inquiries"}),t.jsx("p",{className:"text-4xl font-bold text-brand-700 mt-2",children:m.length})]}),t.jsx(ds,{className:"w-10 h-10 text-brand-700 opacity-20"})]})})]}),t.jsx("div",{className:"flex gap-1 mb-6 bg-white rounded-xl p-1 border border-stone-200",children:W.map(z=>t.jsxs("button",{onClick:()=>u(z.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition flex-1 ${r===z.id?"bg-brand-700 text-white":"text-stone-600 hover:bg-stone-50"}`,children:[z.label,t.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${r===z.id?"bg-white/20":"bg-stone-100"}`,children:z.count})]},z.id))}),r==="waters"&&t.jsx("div",{className:"space-y-4",children:h.length===0?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(Fl,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No waters listed yet"}),t.jsx("p",{className:"text-stone-500 text-sm mb-4",children:"List your first water to start receiving bookings"}),t.jsxs("button",{onClick:s,className:"inline-flex items-center gap-2 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:[t.jsx(Tu,{className:"w-4 h-4"}),"List Your Water"]})]}):t.jsxs(t.Fragment,{children:[ae.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[t.jsx(tr,{className:"w-5 h-5 text-amber-600"}),"Pending Approval (",ae.length,")"]}),t.jsx("div",{className:"space-y-3",children:ae.map(z=>t.jsx(wu,{water:z,onView:()=>{},onEdit:te,onRequestRemoval:ne},z.id))})]}),F.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[t.jsx($t,{className:"w-5 h-5 text-green-600"}),"Live Waters (",F.length,")"]}),t.jsx("div",{className:"space-y-3",children:F.map(z=>t.jsx(wu,{water:z,onView:()=>{},onEdit:te,onRequestRemoval:ne},z.id))})]}),ce.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[t.jsx(Ar,{className:"w-5 h-5 text-orange-600"}),"Removal Requested (",ce.length,")"]}),t.jsx("div",{className:"space-y-3",children:ce.map(z=>t.jsx(wu,{water:z,onView:()=>{},onEdit:te,onRequestRemoval:ne},z.id))})]}),oe.length>0&&t.jsxs("div",{children:[t.jsxs("h3",{className:"font-semibold text-stone-700 mb-3 flex items-center gap-2",children:[t.jsx(hs,{className:"w-5 h-5 text-red-600"}),"Rejected (",oe.length,")"]}),t.jsx("div",{className:"space-y-3",children:oe.map(z=>t.jsx(wu,{water:z,onView:()=>{},onEdit:te,onRequestRemoval:ne},z.id))})]})]})}),r==="inquiries"&&t.jsx("div",{className:"space-y-4",children:m.length===0?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(ds,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No inquiries yet"}),t.jsx("p",{className:"text-stone-500 text-sm",children:"When anglers contact you, their inquiries will appear here"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(z=>t.jsx(xN,{inquiry:z},z.id))})}),r==="edit"&&D&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl border border-stone-200 p-4",children:[t.jsxs("h3",{className:"font-semibold text-stone-900",children:["Editing: ",D.name]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:Z,disabled:V,className:"flex items-center gap-1.5 px-4 py-2 bg-brand-700 text-white rounded-lg text-sm font-medium hover:bg-brand-800 disabled:opacity-50 transition",children:[t.jsx(Mu,{className:"w-4 h-4"}),V?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:()=>{T(null),u("waters")},className:"flex items-center gap-1.5 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg text-sm font-medium hover:bg-stone-200 transition",children:[t.jsx(nr,{className:"w-4 h-4"})," Cancel"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-4",children:"Basic Details"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Water Name"}),t.jsx("input",{type:"text",value:S.name,onChange:z=>C({...S,name:z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Type"}),t.jsxs("select",{value:S.type,onChange:z=>C({...S,type:z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",children:[t.jsx("option",{value:"",children:"Select type"}),t.jsx("option",{value:"River",children:"River"}),t.jsx("option",{value:"Lake",children:"Lake"}),t.jsx("option",{value:"Reservoir",children:"Reservoir"}),t.jsx("option",{value:"Loch",children:"Loch"}),t.jsx("option",{value:"Canal",children:"Canal"}),t.jsx("option",{value:"Pond",children:"Pond"}),t.jsx("option",{value:"Coastal",children:"Coastal"}),t.jsx("option",{value:"Chalk Stream",children:"Chalk Stream"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region"}),t.jsxs("select",{value:S.region,onChange:z=>C({...S,region:z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",children:[t.jsx("option",{value:"",children:"Select region"}),mN.map(z=>t.jsx("option",{value:z,children:z},z))]})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Description"}),t.jsx("textarea",{rows:4,value:S.description,onChange:z=>C({...S,description:z.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Describe your water..."})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Species"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:pN.map(z=>t.jsx("button",{type:"button",onClick:()=>K("species",z),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition ${S.species.includes(z)?"bg-brand-100 text-brand-700 border-brand-300":"bg-stone-50 text-stone-600 border-stone-200 hover:border-stone-300"}`,children:z},z))})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Amenities"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:fN.map(z=>t.jsx("button",{type:"button",onClick:()=>K("amenities",z),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition ${S.amenities.includes(z)?"bg-green-100 text-green-700 border-green-300":"bg-stone-50 text-stone-600 border-stone-200 hover:border-stone-300"}`,children:z},z))})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Rules"}),t.jsxs("div",{className:"space-y-2",children:[S.rules.map((z,Y)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-stone-400 text-sm w-6",children:[Y+1,"."]}),t.jsx("input",{type:"text",value:z,onChange:E=>{const X=[...S.rules];X[Y]=E.target.value,C({...S,rules:X})},className:"flex-1 px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500 text-sm"}),t.jsx("button",{onClick:()=>C({...S,rules:S.rules.filter((E,X)=>X!==Y)}),className:"p-1.5 text-stone-400 hover:text-red-500 transition",children:t.jsx(Ar,{className:"w-4 h-4"})})]},Y)),t.jsx("button",{onClick:()=>C({...S,rules:[...S.rules,""]}),className:"text-sm text-brand-700 hover:text-brand-800 font-medium",children:"+ Add Rule"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Booking Options"}),t.jsxs("div",{className:"space-y-4",children:[S.booking_options.map((z,Y)=>t.jsxs("div",{className:"border border-stone-200 rounded-lg p-4 bg-stone-50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("span",{className:"text-sm font-medium text-stone-700",children:["Option ",Y+1]}),t.jsx("button",{onClick:()=>xe(Y),className:"p-1 text-stone-400 hover:text-red-500 transition",children:t.jsx(Ar,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:z.name,onChange:E=>q(Y,"name",E.target.value),placeholder:"e.g. Full Day Ticket",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Price ()"}),t.jsx("input",{type:"number",value:z.price,onChange:E=>q(Y,"price",E.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Category"}),t.jsxs("select",{value:z.category,onChange:E=>q(Y,"category",E.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500",children:[t.jsx("option",{value:"day-tickets",children:"Day Tickets"}),t.jsx("option",{value:"guided",children:"Guided"}),t.jsx("option",{value:"accommodation",children:"Accommodation"}),t.jsx("option",{value:"extras",children:"Extras"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Booking Type"}),t.jsxs("select",{value:z.bookingType,onChange:E=>q(Y,"bookingType",E.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500",children:[t.jsx("option",{value:"instant",children:"Instant Book"}),t.jsx("option",{value:"enquiry",children:"Enquiry"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Price Type"}),t.jsxs("select",{value:z.priceType,onChange:E=>q(Y,"priceType",E.target.value),className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500",children:[t.jsx("option",{value:"day",children:"Per Day"}),t.jsx("option",{value:"session",children:"Per Session"}),t.jsx("option",{value:"rod",children:"Per Rod"}),t.jsx("option",{value:"night",children:"Per Night"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-stone-500 mb-1",children:"Description"}),t.jsx("input",{type:"text",value:z.description,onChange:E=>q(Y,"description",E.target.value),placeholder:"Brief description",className:"w-full px-3 py-2 border border-stone-300 rounded-lg text-sm focus:ring-2 focus:ring-brand-500"})]})]})]},Y)),t.jsx("button",{onClick:le,className:"w-full py-2.5 border-2 border-dashed border-stone-300 rounded-lg text-sm font-medium text-stone-600 hover:border-brand-400 hover:text-brand-700 transition",children:"+ Add Booking Option"})]})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h4",{className:"font-semibold text-stone-900 mb-3",children:"Photos"}),t.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[(S.images||[]).map((z,Y)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:z,alt:`Photo ${Y+1}`,className:"w-24 h-24 rounded-lg object-cover border border-stone-200"}),t.jsx("button",{onClick:()=>H(Y),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:t.jsx(nr,{className:"w-3 h-3"})})]},Y)),t.jsxs("label",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-stone-300 flex flex-col items-center justify-center cursor-pointer hover:border-brand-400 hover:bg-brand-50 transition",children:[t.jsx(Jg,{className:"w-5 h-5 text-stone-400 mb-1"}),t.jsx("span",{className:"text-xs text-stone-500",children:"Upload"}),t.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:U,className:"hidden"})]})]}),t.jsx("p",{className:"text-xs text-stone-500",children:"Upload photos of your water. JPG, PNG or WebP."})]}),t.jsxs("div",{className:"flex gap-2 justify-end",children:[t.jsx("button",{onClick:()=>{T(null),u("waters")},className:"px-6 py-2.5 bg-stone-100 text-stone-700 rounded-lg font-medium hover:bg-stone-200 transition",children:"Cancel"}),t.jsxs("button",{onClick:Z,disabled:V,className:"flex items-center gap-2 px-6 py-2.5 bg-brand-700 text-white rounded-lg font-medium hover:bg-brand-800 disabled:opacity-50 transition",children:[t.jsx(Mu,{className:"w-4 h-4"}),V?"Saving...":"Save Changes"]})]})]})]})]})},yN=["Fly Fishing","Salmon","Trout","Sea Fishing","Bass","Shore Fishing","Carp Fishing","Coarse","Beginners","Fly Tying","Women's Courses","Kids/Juniors","Pike","Barbel"],bN=({status:i})=>{const o={pending:"bg-amber-100 text-amber-700 border-amber-200",approved:"bg-green-100 text-green-700 border-green-200",rejected:"bg-red-100 text-red-700 border-red-200"},r={pending:tr,approved:$t,rejected:hs}[i]||tr;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium border ${o[i]||"bg-stone-100 text-stone-600"}`,children:[t.jsx(r,{className:"w-3.5 h-3.5"}),i==="pending"&&"Pending Approval",i==="approved"&&"Active",i==="rejected"&&"Rejected"]})},wN=({inquiry:i})=>t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-4",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"font-semibold text-stone-900",children:i.userName||"Guest"}),t.jsx("p",{className:"text-sm text-stone-500",children:new Date(i.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${i.status==="confirmed"?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:i.status})]}),t.jsxs("div",{className:"space-y-2 text-sm mb-3",children:[i.userEmail&&t.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[t.jsx(ds,{className:"w-4 h-4"}),t.jsx("a",{href:`mailto:${i.userEmail}`,className:"hover:text-brand-700",children:i.userEmail})]}),i.userPhone&&t.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[t.jsx(kp,{className:"w-4 h-4"}),t.jsx("a",{href:`tel:${i.userPhone}`,className:"hover:text-brand-700",children:i.userPhone})]}),i.date&&t.jsxs("div",{className:"flex items-center gap-2 text-stone-600",children:[t.jsx(Ri,{className:"w-4 h-4"}),"Requested date: ",new Date(i.date).toLocaleDateString("en-GB")]})]}),i.message&&t.jsx("div",{className:"bg-stone-50 rounded-lg p-3 text-sm text-stone-700",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Bl,{className:"w-4 h-4 text-stone-400 mt-0.5 flex-shrink-0"}),t.jsx("p",{children:i.message})]})})]}),_N=({user:i,onBack:o})=>{const[s,r]=P.useState("overview"),[u,h]=P.useState(null),[f,m]=P.useState([]),[v,w]=P.useState(!0),[_,N]=P.useState(""),[M,D]=P.useState(!1),[T,S]=P.useState({}),[C,V]=P.useState(!1);P.useEffect(()=>{O()},[]);const O=async()=>{w(!0),N("");try{const ne=Bt(),ue=await fetch("/api/instructor/profile",{headers:{Authorization:`Bearer ${ne}`}});if(ue.ok){const H=await ue.json();h(H.instructor)}const U=await fetch("/api/instructor/inquiries",{headers:{Authorization:`Bearer ${ne}`}});if(U.ok){const H=await U.json();m(H.inquiries||[])}}catch{N("Failed to load dashboard data")}w(!1)},B=()=>{S({name:u.name||"",bio:u.bio||"",price:u.price||"",phone:u.phone||"",region:u.region||u.location||"",specialties:u.specialties||[],certifications:(u.certifications||[]).join(", "),experience:u.experience||"",images:u.images||[]}),D(!0)},te=async ne=>new Promise((ue,U)=>{const H=new FileReader;H.onload=async()=>{try{const ae=Bt(),F=await fetch("/api/upload",{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify({imageData:H.result,fileName:ne.name,type:"instructors"})});if(!F.ok)throw new Error("Upload failed");const oe=await F.json();ue(oe.url)}catch(ae){U(ae)}},H.onerror=U,H.readAsDataURL(ne)}),Z=async ne=>{const ue=Array.from(ne.target.files);if(ue.length!==0){V(!0);try{const U=await Promise.all(ue.map(H=>te(H)));S(H=>({...H,images:[...H.images||[],...U]}))}catch{N("Failed to upload image(s)")}V(!1)}},K=ne=>{S(ue=>({...ue,images:ue.images.filter((U,H)=>H!==ne)}))},q=async()=>{V(!0),N("");try{const ne=Bt(),ue={...T,price:parseFloat(T.price)||0,certifications:T.certifications?T.certifications.split(",").map(ae=>ae.trim()).filter(Boolean):[],images:T.images||[]},U=await fetch("/api/instructor/profile",{method:"PUT",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!U.ok)throw new Error("Failed to save");const H=await U.json();h(H.instructor),D(!1)}catch(ne){N(ne.message)}V(!1)},le=ne=>{S(ue=>({...ue,specialties:ue.specialties.includes(ne)?ue.specialties.filter(U=>U!==ne):[...ue.specialties,ne]}))},xe=[{id:"overview",label:"Overview"},{id:"inquiries",label:"Inquiries",count:f.length}];return v?t.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Ii,{className:"w-8 h-8 text-brand-600 mx-auto mb-3 animate-spin"}),t.jsx("p",{className:"text-stone-500",children:"Loading dashboard..."})]})}):u?t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsx("div",{className:"bg-white border-b border-stone-200 sticky top-0 z-10",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-stone-600 hover:text-stone-900 transition",children:[t.jsx(us,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"Back"})]}),t.jsx("h1",{className:"text-2xl font-bold text-stone-900",children:"Instructor Dashboard"}),t.jsx("div",{className:"w-24"})]})})}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[_&&t.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl mb-6 flex items-center gap-2",children:[t.jsx(Pu,{className:"w-5 h-5 flex-shrink-0"}),t.jsx("span",{className:"text-sm",children:_})]}),t.jsx("div",{className:"bg-white rounded-xl border border-stone-200 p-6 mb-8",children:t.jsxs("div",{className:"flex items-start gap-6",children:[t.jsx("div",{className:"w-20 h-20 bg-brand-100 rounded-full flex items-center justify-center text-brand-700 font-medium flex-shrink-0 text-2xl",children:u.name[0].toUpperCase()}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:u.name}),t.jsx("p",{className:"text-stone-600 mt-1",children:(u.specialties||[]).join("  ")})]}),t.jsx(bN,{status:u.status})]}),u.status==="pending"&&t.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-4",children:t.jsxs("p",{className:"text-sm text-amber-800 flex items-center gap-2",children:[t.jsx(tr,{className:"w-4 h-4"}),"Your instructor profile is pending approval. You'll be notified once it's reviewed by our team."]})}),u.status==="rejected"&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mt-4",children:t.jsxs("p",{className:"text-sm text-red-800 flex items-center gap-2",children:[t.jsx(hs,{className:"w-4 h-4"}),"Your profile was not approved. Please contact support for more details."]})}),(u.status==="approved"||u.status==="pending")&&t.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[t.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-1",children:[t.jsx(yr,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Rating"})]}),t.jsxs("p",{className:"text-2xl font-bold text-stone-900",children:[u.rating||0," "]}),t.jsxs("p",{className:"text-xs text-stone-500",children:[u.reviewCount||0," reviews"]})]}),t.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-1",children:[t.jsx(jn,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Experience"})]}),t.jsx("p",{className:"text-2xl font-bold text-stone-900",children:u.experience||"N/A"})]}),t.jsxs("div",{className:"bg-stone-50 rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-stone-600 mb-1",children:[t.jsx(Bl,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Inquiries"})]}),t.jsx("p",{className:"text-2xl font-bold text-stone-900",children:f.length})]})]}),!M&&t.jsx("div",{className:"mt-4",children:t.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition",children:[t.jsx(Du,{className:"w-4 h-4"}),"Edit Profile"]})}),M&&t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsxs("button",{onClick:q,disabled:C,className:"flex items-center gap-2 px-4 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 disabled:opacity-50 transition",children:[t.jsx(Mu,{className:"w-4 h-4"}),C?"Saving...":"Save Changes"]}),t.jsxs("button",{onClick:()=>D(!1),className:"flex items-center gap-2 px-4 py-2 bg-stone-100 text-stone-700 rounded-lg hover:bg-stone-200 transition",children:[t.jsx(nr,{className:"w-4 h-4"}),"Cancel"]})]})]})]})}),t.jsx("div",{className:"flex gap-1 mb-6 bg-white rounded-xl p-1 border border-stone-200",children:xe.map(ne=>t.jsxs("button",{onClick:()=>r(ne.id),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition flex-1 ${s===ne.id?"bg-brand-700 text-white":"text-stone-600 hover:bg-stone-50"}`,children:[ne.label,ne.count!==void 0&&t.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs ${s===ne.id?"bg-white/20":"bg-stone-100"}`,children:ne.count})]},ne.id))}),s==="overview"&&!M&&t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Profile Information"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Email"}),t.jsx("p",{className:"font-medium text-stone-900",children:u.email||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Phone"}),t.jsx("p",{className:"font-medium text-stone-900",children:u.phone||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Location"}),t.jsx("p",{className:"font-medium text-stone-900",children:u.location||u.region||"Not provided"})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-stone-500 mb-1",children:"Price"}),t.jsxs("p",{className:"font-medium text-stone-900",children:["",u.price||0,"/day"]})]})]}),u.bio&&t.jsxs("div",{className:"mt-6",children:[t.jsx("p",{className:"text-sm text-stone-500 mb-2",children:"Bio"}),t.jsx("p",{className:"text-stone-700",children:u.bio})]}),u.certifications&&u.certifications.length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("p",{className:"text-sm text-stone-500 mb-2",children:"Certifications"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:u.certifications.map((ne,ue)=>t.jsx("span",{className:"px-3 py-1 bg-brand-100 text-brand-700 rounded-full text-sm font-medium",children:ne},ue))})]}),(u.images||[]).length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsx("p",{className:"text-sm text-stone-500 mb-2",children:"Photos"}),t.jsx("div",{className:"flex flex-wrap gap-3",children:u.images.map((ne,ue)=>t.jsx("img",{src:ne,alt:`Photo ${ue+1}`,className:"w-24 h-24 rounded-lg object-cover border border-stone-200"},ue))})]})]})}),s==="overview"&&M&&t.jsxs("div",{className:"bg-white rounded-xl border border-stone-200 p-6",children:[t.jsx("h3",{className:"font-semibold text-stone-900 mb-4",children:"Edit Profile"}),t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Name"}),t.jsx("input",{type:"text",value:T.name,onChange:ne=>S({...T,name:ne.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Phone"}),t.jsx("input",{type:"text",value:T.phone,onChange:ne=>S({...T,phone:ne.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Region"}),t.jsx("input",{type:"text",value:T.region,onChange:ne=>S({...T,region:ne.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Price (/day)"}),t.jsx("input",{type:"number",value:T.price,onChange:ne=>S({...T,price:ne.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Experience (years)"}),t.jsx("input",{type:"text",value:T.experience,onChange:ne=>S({...T,experience:ne.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Certifications"}),t.jsx("input",{type:"text",value:T.certifications,onChange:ne=>S({...T,certifications:ne.target.value}),placeholder:"AAPGAI, Level 2 Coach (comma separated)",className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Bio"}),t.jsx("textarea",{rows:4,value:T.bio,onChange:ne=>S({...T,bio:ne.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-brand-500 focus:border-brand-500",placeholder:"Tell potential students about yourself..."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Specialties"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:yN.map(ne=>t.jsx("button",{type:"button",onClick:()=>le(ne),className:`px-3 py-1.5 rounded-full text-sm font-medium border transition ${T.specialties.includes(ne)?"bg-brand-100 text-brand-700 border-brand-300":"bg-stone-50 text-stone-600 border-stone-200 hover:border-stone-300"}`,children:ne},ne))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Photos"}),t.jsxs("div",{className:"flex flex-wrap gap-3 mb-3",children:[(T.images||[]).map((ne,ue)=>t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:ne,alt:`Photo ${ue+1}`,className:"w-24 h-24 rounded-lg object-cover border border-stone-200"}),t.jsx("button",{onClick:()=>K(ue),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition",children:t.jsx(nr,{className:"w-3 h-3"})})]},ue)),t.jsxs("label",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-stone-300 flex flex-col items-center justify-center cursor-pointer hover:border-brand-400 hover:bg-brand-50 transition",children:[t.jsx(Jg,{className:"w-5 h-5 text-stone-400 mb-1"}),t.jsx("span",{className:"text-xs text-stone-500",children:"Upload"}),t.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Z,className:"hidden"})]})]}),t.jsx("p",{className:"text-xs text-stone-500",children:"Upload photos of yourself or your sessions. JPG, PNG or WebP."})]})]})]}),s==="inquiries"&&t.jsx("div",{className:"space-y-4",children:f.length===0?t.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-stone-200",children:[t.jsx(ds,{className:"w-12 h-12 text-stone-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-stone-700 mb-2",children:"No inquiries yet"}),t.jsx("p",{className:"text-stone-500 text-sm",children:"When students contact you, their inquiries will appear here"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(ne=>t.jsx(wN,{inquiry:ne},ne.id))})})]})]}):t.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pu,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-2",children:"No Instructor Profile Found"}),t.jsx("p",{className:"text-stone-500",children:"Your instructor profile is still being set up."}),t.jsx("button",{onClick:o,className:"mt-4 px-6 py-2 bg-brand-700 text-white rounded-lg hover:bg-brand-800 transition",children:"Go Back"})]})})},kN=()=>{const[i,o]=P.useState("home"),[s,r]=P.useState("waters"),[u,h]=P.useState(null),[f,m]=P.useState(null),[v,w]=P.useState(null),[_,N]=P.useState(!0),[M,D]=P.useState(!1),[T,S]=P.useState(!1),[C,V]=P.useState(!1),[O,B]=P.useState(()=>{try{const F=localStorage.getItem("tightlines_guest_fav_waters");return F?JSON.parse(F):[]}catch{return[]}}),[te,Z]=P.useState(()=>{try{const F=localStorage.getItem("tightlines_guest_fav_instructors");return F?JSON.parse(F):[]}catch{return[]}});P.useEffect(()=>{v||(localStorage.setItem("tightlines_guest_fav_waters",JSON.stringify(O)),localStorage.setItem("tightlines_guest_fav_instructors",JSON.stringify(te)))},[O,te,v]);const K=P.useCallback(async()=>{const F=Bt();if(!F){console.log("[Favorites] No token available, skipping sync");return}let oe=[],ce=[];try{const Y=localStorage.getItem("tightlines_guest_fav_waters");oe=Y?JSON.parse(Y):[]}catch(Y){console.error("[Favorites] Failed to read guest waters from localStorage:",Y)}try{const Y=localStorage.getItem("tightlines_guest_fav_instructors");ce=Y?JSON.parse(Y):[]}catch(Y){console.error("[Favorites] Failed to read guest instructors from localStorage:",Y)}console.log("[Favorites] Syncing guest favorites:",{waters:oe.length,instructors:ce.length});let W=0,z=0;for(const Y of oe)try{const E=await fetch("/api/favourites/waters",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({waterId:Y})});E.ok?(W++,console.log("[Favorites] Synced water:",Y)):console.error("[Favorites] Failed to sync water:",Y,await E.text())}catch(E){console.error("[Favorites] Error syncing water:",Y,E)}for(const Y of ce)try{const E=await fetch("/api/favourites/instructors",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify({instructorId:Y})});E.ok?(z++,console.log("[Favorites] Synced instructor:",Y)):console.error("[Favorites] Failed to sync instructor:",Y,await E.text())}catch(E){console.error("[Favorites] Error syncing instructor:",Y,E)}console.log("[Favorites] Sync complete:",{watersSynced:W,instructorsSynced:z,totalWaters:oe.length,totalInstructors:ce.length}),W===oe.length&&z===ce.length?(localStorage.removeItem("tightlines_guest_fav_waters"),localStorage.removeItem("tightlines_guest_fav_instructors"),console.log("[Favorites] Cleared guest favorites from localStorage")):console.warn("[Favorites] Not all favorites synced successfully, keeping localStorage data")},[]),q=P.useCallback(async()=>{if(v)try{const F=Bt();if(!F){console.log("[Favorites] No token available when fetching favorites");return}console.log("[Favorites] Fetching favorites for user:",v.id),await K();const oe=await fetch("/api/user/favourites",{headers:{Authorization:`Bearer ${F}`}});if(oe.ok){const ce=await oe.json();console.log("[Favorites] Loaded from database:",{waters:ce.waters?.length||0,instructors:ce.instructors?.length||0}),B(ce.waters||[]),Z(ce.instructors||[])}else console.error("[Favorites] Failed to fetch favorites:",await oe.text())}catch(F){console.error("[Favorites] Error fetching favorites:",F)}},[v,K]);P.useEffect(()=>{q()},[q]);const le=async F=>{const oe=O.includes(F);if(console.log(`[Favorites] Toggle water ${F}:`,oe?"REMOVING":"ADDING",`(User: ${v?"logged in":"guest"})`),B(oe?W=>W.filter(z=>z!==F):W=>[...W,F]),!v){console.log("[Favorites] Guest mode - will sync after login");return}const ce=Bt();if(!ce){console.error("[Favorites] No token available!");return}try{if(oe){const W=await fetch(`/api/favourites/waters/${F}`,{method:"DELETE",headers:{Authorization:`Bearer ${ce}`}});if(console.log("[Favorites] DELETE response:",W.status,W.ok),!W.ok){const z=await W.text();console.error("[Favorites] DELETE failed:",z)}}else{const W=await fetch("/api/favourites/waters",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ce}`},body:JSON.stringify({waterId:F})});if(console.log("[Favorites] POST response:",W.status,W.ok),!W.ok){const z=await W.text();console.error("[Favorites] POST failed:",z)}}}catch(W){console.error("[Favorites] API error:",W),B(oe?z=>[...z,F]:z=>z.filter(Y=>Y!==F))}},xe=async F=>{const oe=te.includes(F);if(console.log(`[Favorites] Toggle instructor ${F}:`,oe?"REMOVING":"ADDING",`(User: ${v?"logged in":"guest"})`),Z(oe?W=>W.filter(z=>z!==F):W=>[...W,F]),!v){console.log("[Favorites] Guest mode - will sync after login");return}const ce=Bt();if(!ce){console.error("[Favorites] No token available!");return}try{if(oe){const W=await fetch(`/api/favourites/instructors/${F}`,{method:"DELETE",headers:{Authorization:`Bearer ${ce}`}});if(console.log("[Favorites] DELETE response:",W.status,W.ok),!W.ok){const z=await W.text();console.error("[Favorites] DELETE failed:",z)}}else{const W=await fetch("/api/favourites/instructors",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ce}`},body:JSON.stringify({instructorId:F})});if(console.log("[Favorites] POST response:",W.status,W.ok),!W.ok){const z=await W.text();console.error("[Favorites] POST failed:",z)}}}catch(W){console.error("[Favorites] API error:",W),Z(oe?z=>[...z,F]:z=>z.filter(Y=>Y!==F))}};P.useEffect(()=>{const F=async()=>{if(Bt())try{const W=await To.me();w(W.user)}catch(W){console.error("[TightLines] Auth failed:",W.message),Qh()}finally{N(!1)}else N(!1)},oe=setTimeout(()=>{N(!1)},5e3);F().finally(()=>clearTimeout(oe))},[]);const ne=F=>{h(F),o("venue")},ue=F=>{F?(m(F),o("instructor-detail")):(o("instructors"),r("instructors"))},U=F=>{o("search")},H=F=>{w(F)},ae=()=>{Qh(),w(null),B([]),Z([]),o("home")};return P.useEffect(()=>{window.scrollTo(0,0),i==="search"||i==="venue"?r("waters"):i==="instructors"||i==="instructor-detail"?r("instructors"):i==="about"?r("about"):i==="contact"?r("contact"):i==="home"&&r("")},[i]),t.jsxs("div",{className:"min-h-screen bg-stone-50",children:[t.jsx(vv,{currentTab:s,setCurrentTab:r,setCurrentPage:o,user:v,setUser:ae,onSignIn:()=>D(!0),onListWater:()=>S(!0),onListInstructor:()=>V(!0),onProfile:()=>o("profile")}),i==="home"&&t.jsx(Ev,{onSearch:()=>o("search"),onSelectFishery:ne,onSelectInstructor:ue,onSelectRegion:U,onNavigate:F=>o(F),favouriteWaters:O,onToggleFavouriteWater:le,favouriteInstructors:te,onToggleFavouriteInstructor:xe}),i==="search"&&t.jsx(vy,{onSelectFishery:ne,onBack:()=>o("home"),favouriteWaters:O,onToggleFavouriteWater:le}),i==="venue"&&u&&t.jsx(t0,{fishery:u,onBack:()=>o("search"),user:v,onSignIn:()=>D(!0),isFavourite:O.includes(u.id),onToggleFavourite:le}),i==="instructors"&&t.jsx(tN,{onSelectInstructor:ue,onBack:()=>o("home"),favouriteInstructors:te,onToggleFavouriteInstructor:xe}),i==="instructor-detail"&&f&&t.jsx(lN,{instructor:f,onBack:()=>{o("instructors"),r("instructors")},user:v,onSignIn:()=>D(!0)}),i==="about"&&t.jsx(cN,{onSearch:()=>o("search"),onListWater:()=>S(!0)}),i==="contact"&&t.jsx(uN,{}),i==="admin"&&v?.role==="admin"&&t.jsx(dN,{user:v}),i==="profile"&&v&&t.jsx(hN,{user:v,setUser:w,onBack:()=>o("home"),onSignOut:ae,favouriteWaters:O,favouriteInstructors:te,onToggleFavouriteWater:le,onToggleFavouriteInstructor:xe,onNavigateToWater:()=>o("search"),onNavigateToInstructor:()=>{o("instructors"),r("instructors")}}),i==="water-dashboard"&&v&&(v.role==="water_owner"||v.role==="pending_water_owner"||v.hasWaters)&&t.jsx(vN,{user:v,onBack:()=>o("home"),onListWater:()=>S(!0)}),i==="instructor-dashboard"&&v&&(v.role==="instructor"||v.role==="pending_instructor"||v.hasInstructorProfile)&&t.jsx(_N,{user:v,onBack:()=>o("home")}),t.jsx(yv,{isOpen:M,onClose:()=>D(!1),onSignIn:H}),t.jsx(_v,{isOpen:T,onClose:()=>S(!1),onSuccess:async()=>{try{const F=await To.me();w(F.user)}catch{}}}),t.jsx(Sv,{isOpen:C,onClose:()=>V(!1),onSuccess:async()=>{try{const F=await To.me();w(F.user)}catch{}}})]})};q0.createRoot(document.getElementById("root")).render(t.jsx(re.StrictMode,{children:t.jsx(kN,{})}));
